(function(ne,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("@wangeditor/editor"),require("element-plus"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor","element-plus","@element-plus/icons-vue"],n):(ne=typeof globalThis<"u"?globalThis:ne||self,n(ne.SSMLEditor={},ne.Vue,ne.wangEditor,ne.ElementPlus,ne.ElementPlusIconsVue))})(this,function(ne,n,R,j,en){"use strict";var A1=Object.defineProperty;var O1=(ne,n,R)=>n in ne?A1(ne,n,{enumerable:!0,configurable:!0,writable:!0,value:R}):ne[n]=R;var Ne=(ne,n,R)=>(O1(ne,typeof n!="symbol"?n+"":n,R),R);const D1="",I1="";var As=!1;function yr(r,s,o){return Array.isArray(r)?(r.length=Math.max(r.length,s),r.splice(s,1,o),o):(r[s]=o,o)}function $o(r,s){if(Array.isArray(r)){r.splice(s,1);return}delete r[s]}function Xu(){return Os().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Os(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Ju=typeof Proxy=="function",Zu="devtools-plugin:setup",Qu="plugin:settings:set";let yn,To;function ju(){var r;return yn!==void 0||(typeof window<"u"&&window.performance?(yn=!0,To=window.performance):typeof global<"u"&&(!((r=global.perf_hooks)===null||r===void 0)&&r.performance)?(yn=!0,To=global.perf_hooks.performance):yn=!1),yn}function ef(){return ju()?To.now():Date.now()}class tf{constructor(s,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=o;const a={};if(s.settings)for(const p in s.settings){const g=s.settings[p];a[p]=g.defaultValue}const c=`__vue-devtools-plugin-settings__${s.id}`;let f=Object.assign({},a);try{const p=localStorage.getItem(c),g=JSON.parse(p);Object.assign(f,g)}catch{}this.fallbacks={getSettings(){return f},setSettings(p){try{localStorage.setItem(c,JSON.stringify(p))}catch{}f=p},now(){return ef()}},o&&o.on(Qu,(p,g)=>{p===this.plugin.id&&this.fallbacks.setSettings(g)}),this.proxiedOn=new Proxy({},{get:(p,g)=>this.target?this.target.on[g]:(..._)=>{this.onQueue.push({method:g,args:_})}}),this.proxiedTarget=new Proxy({},{get:(p,g)=>this.target?this.target[g]:g==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(g)?(..._)=>(this.targetQueue.push({method:g,args:_,resolve:()=>{}}),this.fallbacks[g](..._)):(..._)=>new Promise(m=>{this.targetQueue.push({method:g,args:_,resolve:m})})})}async setRealTarget(s){this.target=s;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function Ds(r,s){const o=r,a=Os(),c=Xu(),f=Ju&&o.enableEarlyProxy;if(c&&(a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!f))c.emit(Zu,r,s);else{const p=f?new tf(o,c):null;(a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:s,proxy:p}),p&&s(p.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Gn;const qn=r=>Gn=r,Is=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function tn(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Ct;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Ct||(Ct={}));const wr=typeof window<"u",Kn=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&wr,Bs=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function nf(r,{autoBom:s=!1}={}){return s&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}function Vo(r,s,o){const a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){Ms(a.response,s,o)},a.onerror=function(){console.error("could not download file")},a.send()}function Ls(r){const s=new XMLHttpRequest;s.open("HEAD",r,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function br(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}}const vr=typeof navigator=="object"?navigator:{userAgent:""},Ps=(()=>/Macintosh/.test(vr.userAgent)&&/AppleWebKit/.test(vr.userAgent)&&!/Safari/.test(vr.userAgent))(),Ms=wr?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Ps?rf:"msSaveOrOpenBlob"in vr?of:sf:()=>{};function rf(r,s="download",o){const a=document.createElement("a");a.download=s,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Ls(a.href)?Vo(r,s,o):(a.target="_blank",br(a)):br(a)):(a.href=URL.createObjectURL(r),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){br(a)},0))}function of(r,s="download",o){if(typeof r=="string")if(Ls(r))Vo(r,s,o);else{const a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){br(a)})}else navigator.msSaveOrOpenBlob(nf(r,o),s)}function sf(r,s,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return Vo(r,s,o);const c=r.type==="application/octet-stream",f=/constructor/i.test(String(Bs.HTMLElement))||"safari"in Bs,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||c&&f||Ps)&&typeof FileReader<"u"){const g=new FileReader;g.onloadend=function(){let _=g.result;if(typeof _!="string")throw a=null,new Error("Wrong reader.result type");_=p?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=_:location.assign(_),a=null},g.readAsDataURL(r)}else{const g=URL.createObjectURL(r);a?a.location.assign(g):location.href=g,a=null,setTimeout(function(){URL.revokeObjectURL(g)},4e4)}}function Ae(r,s){const o="🍍 "+r;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,s):s==="error"?console.error(o):s==="warn"?console.warn(o):console.log(o)}function Ao(r){return"_a"in r&&"install"in r}function Fs(){if(!("clipboard"in navigator))return Ae("Your browser doesn't support the Clipboard API","error"),!0}function Us(r){return r instanceof Error&&r.message.toLowerCase().includes("document is not focused")?(Ae('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function af(r){if(!Fs())try{await navigator.clipboard.writeText(JSON.stringify(r.state.value)),Ae("Global state copied to clipboard.")}catch(s){if(Us(s))return;Ae("Failed to serialize the state. Check the console for more details.","error"),console.error(s)}}async function lf(r){if(!Fs())try{Hs(r,JSON.parse(await navigator.clipboard.readText())),Ae("Global state pasted from clipboard.")}catch(s){if(Us(s))return;Ae("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(s)}}async function cf(r){try{Ms(new Blob([JSON.stringify(r.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(s){Ae("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}let Vt;function uf(){Vt||(Vt=document.createElement("input"),Vt.type="file",Vt.accept=".json");function r(){return new Promise((s,o)=>{Vt.onchange=async()=>{const a=Vt.files;if(!a)return s(null);const c=a.item(0);return s(c?{text:await c.text(),file:c}:null)},Vt.oncancel=()=>s(null),Vt.onerror=o,Vt.click()})}return r}async function ff(r){try{const o=await uf()();if(!o)return;const{text:a,file:c}=o;Hs(r,JSON.parse(a)),Ae(`Global state imported from "${c.name}".`)}catch(s){Ae("Failed to import the state from JSON. Check the console for more details.","error"),console.error(s)}}function Hs(r,s){for(const o in s){const a=r.state.value[o];a&&Object.assign(a,s[o])}}function yt(r){return{_custom:{display:r}}}const Ws="🍍 Pinia (root)",Oo="_root";function df(r){return Ao(r)?{id:Oo,label:Ws}:{id:r.$id,label:r.$id}}function pf(r){if(Ao(r)){const o=Array.from(r._s.keys()),a=r._s;return{state:o.map(f=>({editable:!0,key:f,value:r.state.value[f]})),getters:o.filter(f=>a.get(f)._getters).map(f=>{const p=a.get(f);return{editable:!1,key:f,value:p._getters.reduce((g,_)=>(g[_]=p[_],g),{})}})}}const s={state:Object.keys(r.$state).map(o=>({editable:!0,key:o,value:r.$state[o]}))};return r._getters&&r._getters.length&&(s.getters=r._getters.map(o=>({editable:!1,key:o,value:r[o]}))),r._customProperties.size&&(s.customProperties=Array.from(r._customProperties).map(o=>({editable:!0,key:o,value:r[o]}))),s}function hf(r){return r?Array.isArray(r)?r.reduce((s,o)=>(s.keys.push(o.key),s.operations.push(o.type),s.oldValue[o.key]=o.oldValue,s.newValue[o.key]=o.newValue,s),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:yt(r.type),key:yt(r.key),oldValue:r.oldValue,newValue:r.newValue}:{}}function mf(r){switch(r){case Ct.direct:return"mutation";case Ct.patchFunction:return"$patch";case Ct.patchObject:return"$patch";default:return"unknown"}}let wn=!0;const Er=[],nn="pinia:mutations",Fe="pinia",{assign:gf}=Object,xr=r=>"🍍 "+r;function _f(r,s){Ds({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Er,app:r},o=>{typeof o.now!="function"&&Ae("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:nn,label:"Pinia 🍍",color:15064968}),o.addInspector({id:Fe,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{af(s)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await lf(s),o.sendInspectorTree(Fe),o.sendInspectorState(Fe)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{cf(s)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await ff(s),o.sendInspectorTree(Fe),o.sendInspectorState(Fe)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:a=>{const c=s._s.get(a);c?typeof c.$reset!="function"?Ae(`Cannot reset "${a}" store because it doesn't have a "$reset" method implemented.`,"warn"):(c.$reset(),Ae(`Store "${a}" reset.`)):Ae(`Cannot reset "${a}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((a,c)=>{const f=a.componentInstance&&a.componentInstance.proxy;if(f&&f._pStores){const p=a.componentInstance.proxy._pStores;Object.values(p).forEach(g=>{a.instanceData.state.push({type:xr(g.$id),key:"state",editable:!0,value:g._isOptionsAPI?{_custom:{value:n.toRaw(g.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>g.$reset()}]}}:Object.keys(g.$state).reduce((_,m)=>(_[m]=g.$state[m],_),{})}),g._getters&&g._getters.length&&a.instanceData.state.push({type:xr(g.$id),key:"getters",editable:!1,value:g._getters.reduce((_,m)=>{try{_[m]=g[m]}catch(b){_[m]=b}return _},{})})})}}),o.on.getInspectorTree(a=>{if(a.app===r&&a.inspectorId===Fe){let c=[s];c=c.concat(Array.from(s._s.values())),a.rootNodes=(a.filter?c.filter(f=>"$id"in f?f.$id.toLowerCase().includes(a.filter.toLowerCase()):Ws.toLowerCase().includes(a.filter.toLowerCase())):c).map(df)}}),o.on.getInspectorState(a=>{if(a.app===r&&a.inspectorId===Fe){const c=a.nodeId===Oo?s:s._s.get(a.nodeId);if(!c)return;c&&(a.state=pf(c))}}),o.on.editInspectorState((a,c)=>{if(a.app===r&&a.inspectorId===Fe){const f=a.nodeId===Oo?s:s._s.get(a.nodeId);if(!f)return Ae(`store "${a.nodeId}" not found`,"error");const{path:p}=a;Ao(f)?p.unshift("state"):(p.length!==1||!f._customProperties.has(p[0])||p[0]in f.$state)&&p.unshift("$state"),wn=!1,a.set(f,p,a.state.value),wn=!0}}),o.on.editComponentState(a=>{if(a.type.startsWith("🍍")){const c=a.type.replace(/^🍍\s*/,""),f=s._s.get(c);if(!f)return Ae(`store "${c}" not found`,"error");const{path:p}=a;if(p[0]!=="state")return Ae(`Invalid path for store "${c}":
${p}
Only state can be modified.`);p[0]="$state",wn=!1,a.set(f,p,a.state.value),wn=!0}})})}function yf(r,s){Er.includes(xr(s.$id))||Er.push(xr(s.$id)),Ds({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Er,app:r,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const a=typeof o.now=="function"?o.now.bind(o):Date.now;s.$onAction(({after:p,onError:g,name:_,args:m})=>{const b=zs++;o.addTimelineEvent({layerId:nn,event:{time:a(),title:"🛫 "+_,subtitle:"start",data:{store:yt(s.$id),action:yt(_),args:m},groupId:b}}),p(k=>{Ht=void 0,o.addTimelineEvent({layerId:nn,event:{time:a(),title:"🛬 "+_,subtitle:"end",data:{store:yt(s.$id),action:yt(_),args:m,result:k},groupId:b}})}),g(k=>{Ht=void 0,o.addTimelineEvent({layerId:nn,event:{time:a(),logType:"error",title:"💥 "+_,subtitle:"end",data:{store:yt(s.$id),action:yt(_),args:m,error:k},groupId:b}})})},!0),s._customProperties.forEach(p=>{n.watch(()=>n.unref(s[p]),(g,_)=>{o.notifyComponentUpdate(),o.sendInspectorState(Fe),wn&&o.addTimelineEvent({layerId:nn,event:{time:a(),title:"Change",subtitle:p,data:{newValue:g,oldValue:_},groupId:Ht}})},{deep:!0})}),s.$subscribe(({events:p,type:g},_)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(Fe),!wn)return;const m={time:a(),title:mf(g),data:gf({store:yt(s.$id)},hf(p)),groupId:Ht};g===Ct.patchFunction?m.subtitle="⤵️":g===Ct.patchObject?m.subtitle="🧩":p&&!Array.isArray(p)&&(m.subtitle=p.type),p&&(m.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:p}}),o.addTimelineEvent({layerId:nn,event:m})},{detached:!0,flush:"sync"});const c=s._hotUpdate;s._hotUpdate=n.markRaw(p=>{c(p),o.addTimelineEvent({layerId:nn,event:{time:a(),title:"🔥 "+s.$id,subtitle:"HMR update",data:{store:yt(s.$id),info:yt("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(Fe),o.sendInspectorState(Fe)});const{$dispose:f}=s;s.$dispose=()=>{f(),o.notifyComponentUpdate(),o.sendInspectorTree(Fe),o.sendInspectorState(Fe),o.getSettings().logStoreChanges&&Ae(`Disposed "${s.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(Fe),o.sendInspectorState(Fe),o.getSettings().logStoreChanges&&Ae(`"${s.$id}" store installed 🆕`)})}let zs=0,Ht;function Gs(r,s,o){const a=s.reduce((c,f)=>(c[f]=n.toRaw(r)[f],c),{});for(const c in a)r[c]=function(){const f=zs,p=o?new Proxy(r,{get(..._){return Ht=f,Reflect.get(..._)},set(..._){return Ht=f,Reflect.set(..._)}}):r;Ht=f;const g=a[c].apply(p,arguments);return Ht=void 0,g}}function wf({app:r,store:s,options:o}){if(s.$id.startsWith("__hot:"))return;s._isOptionsAPI=!!o.state,Gs(s,Object.keys(o.actions),s._isOptionsAPI);const a=s._hotUpdate;n.toRaw(s)._hotUpdate=function(c){a.apply(this,arguments),Gs(s,Object.keys(c._hmrPayload.actions),!!s._isOptionsAPI)},yf(r,s)}function bf(){const r=n.effectScope(!0),s=r.run(()=>n.ref({}));let o=[],a=[];const c=n.markRaw({install(f){qn(c),c._a=f,f.provide(Is,c),f.config.globalProperties.$pinia=c,Kn&&_f(f,c),a.forEach(p=>o.push(p)),a=[]},use(f){return!this._a&&!As?a.push(f):o.push(f),this},_p:o,_a:null,_e:r,_s:new Map,state:s});return Kn&&typeof Proxy<"u"&&c.use(wf),c}function qs(r,s){for(const o in s){const a=s[o];if(!(o in r))continue;const c=r[o];tn(c)&&tn(a)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=qs(c,a):r[o]=a}return r}const Ks=()=>{};function Ys(r,s,o,a=Ks){r.push(s);const c=()=>{const f=r.indexOf(s);f>-1&&(r.splice(f,1),a())};return!o&&n.getCurrentScope()&&n.onScopeDispose(c),c}function bn(r,...s){r.slice().forEach(o=>{o(...s)})}const vf=r=>r();function Do(r,s){r instanceof Map&&s instanceof Map&&s.forEach((o,a)=>r.set(a,o)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const o in s){if(!s.hasOwnProperty(o))continue;const a=s[o],c=r[o];tn(c)&&tn(a)&&r.hasOwnProperty(o)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=Do(c,a):r[o]=a}return r}const Ef=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function xf(r){return!tn(r)||!r.hasOwnProperty(Ef)}const{assign:st}=Object;function Xs(r){return!!(n.isRef(r)&&r.effect)}function Js(r,s,o,a){const{state:c,actions:f,getters:p}=s,g=o.state.value[r];let _;function m(){!g&&(process.env.NODE_ENV==="production"||!a)&&(o.state.value[r]=c?c():{});const b=process.env.NODE_ENV!=="production"&&a?n.toRefs(n.ref(c?c():{}).value):n.toRefs(o.state.value[r]);return st(b,f,Object.keys(p||{}).reduce((k,C)=>(process.env.NODE_ENV!=="production"&&C in b&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${C}" in store "${r}".`),k[C]=n.markRaw(n.computed(()=>{qn(o);const $=o._s.get(r);return p[C].call($,$)})),k),{}))}return _=Io(r,m,s,o,a,!0),_}function Io(r,s,o={},a,c,f){let p;const g=st({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!a._e.active)throw new Error("Pinia destroyed");const _={deep:!0};process.env.NODE_ENV!=="production"&&!As&&(_.onTrigger=H=>{m?$=H:m==!1&&!D._hotUpdating&&(Array.isArray($)?$.push(H):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let m,b,k=[],C=[],$;const x=a.state.value[r];!f&&!x&&(process.env.NODE_ENV==="production"||!c)&&(a.state.value[r]={});const v=n.ref({});let I;function P(H){let W;m=b=!1,process.env.NODE_ENV!=="production"&&($=[]),typeof H=="function"?(H(a.state.value[r]),W={type:Ct.patchFunction,storeId:r,events:$}):(Do(a.state.value[r],H),W={type:Ct.patchObject,payload:H,storeId:r,events:$});const U=I=Symbol();n.nextTick().then(()=>{I===U&&(m=!0)}),b=!0,bn(k,W,a.state.value[r])}const M=f?function(){const{state:W}=o,U=W?W():{};this.$patch(K=>{st(K,U)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${r}" is built using the setup syntax and does not implement $reset().`)}:Ks;function V(){p.stop(),k=[],C=[],a._s.delete(r)}function F(H,W){return function(){qn(a);const U=Array.from(arguments),K=[],se=[];function Le(_e){K.push(_e)}function Nt(_e){se.push(_e)}bn(C,{args:U,name:H,store:D,after:Le,onError:Nt});let Oe;try{Oe=W.apply(this&&this.$id===r?this:D,U)}catch(_e){throw bn(se,_e),_e}return Oe instanceof Promise?Oe.then(_e=>(bn(K,_e),_e)).catch(_e=>(bn(se,_e),Promise.reject(_e))):(bn(K,Oe),Oe)}}const G=n.markRaw({actions:{},getters:{},state:[],hotState:v}),X={_p:a,$id:r,$onAction:Ys.bind(null,C),$patch:P,$reset:M,$subscribe(H,W={}){const U=Ys(k,H,W.detached,()=>K()),K=p.run(()=>n.watch(()=>a.state.value[r],se=>{(W.flush==="sync"?b:m)&&H({storeId:r,type:Ct.direct,events:$},se)},st({},_,W)));return U},$dispose:V},D=n.reactive(process.env.NODE_ENV!=="production"||Kn?st({_hmrPayload:G,_customProperties:n.markRaw(new Set)},X):X);a._s.set(r,D);const ue=a._a&&a._a.runWithContext||vf,Ee=a._e.run(()=>(p=n.effectScope(),ue(()=>p.run(s))));for(const H in Ee){const W=Ee[H];if(n.isRef(W)&&!Xs(W)||n.isReactive(W))process.env.NODE_ENV!=="production"&&c?yr(v.value,H,n.toRef(Ee,H)):f||(x&&xf(W)&&(n.isRef(W)?W.value=x[H]:Do(W,x[H])),a.state.value[r][H]=W),process.env.NODE_ENV!=="production"&&G.state.push(H);else if(typeof W=="function"){const U=process.env.NODE_ENV!=="production"&&c?W:F(H,W);Ee[H]=U,process.env.NODE_ENV!=="production"&&(G.actions[H]=W),g.actions[H]=W}else process.env.NODE_ENV!=="production"&&Xs(W)&&(G.getters[H]=f?o.getters[H]:W,wr&&(Ee._getters||(Ee._getters=n.markRaw([]))).push(H))}if(st(D,Ee),st(n.toRaw(D),Ee),Object.defineProperty(D,"$state",{get:()=>process.env.NODE_ENV!=="production"&&c?v.value:a.state.value[r],set:H=>{if(process.env.NODE_ENV!=="production"&&c)throw new Error("cannot set hotState");P(W=>{st(W,H)})}}),process.env.NODE_ENV!=="production"&&(D._hotUpdate=n.markRaw(H=>{D._hotUpdating=!0,H._hmrPayload.state.forEach(W=>{if(W in D.$state){const U=H.$state[W],K=D.$state[W];typeof U=="object"&&tn(U)&&tn(K)?qs(U,K):H.$state[W]=K}yr(D,W,n.toRef(H.$state,W))}),Object.keys(D.$state).forEach(W=>{W in H.$state||$o(D,W)}),m=!1,b=!1,a.state.value[r]=n.toRef(H._hmrPayload,"hotState"),b=!0,n.nextTick().then(()=>{m=!0});for(const W in H._hmrPayload.actions){const U=H[W];yr(D,W,F(W,U))}for(const W in H._hmrPayload.getters){const U=H._hmrPayload.getters[W],K=f?n.computed(()=>(qn(a),U.call(D,D))):U;yr(D,W,K)}Object.keys(D._hmrPayload.getters).forEach(W=>{W in H._hmrPayload.getters||$o(D,W)}),Object.keys(D._hmrPayload.actions).forEach(W=>{W in H._hmrPayload.actions||$o(D,W)}),D._hmrPayload=H._hmrPayload,D._getters=H._getters,D._hotUpdating=!1})),Kn){const H={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(W=>{Object.defineProperty(D,W,st({value:D[W]},H))})}return a._p.forEach(H=>{if(Kn){const W=p.run(()=>H({store:D,app:a._a,pinia:a,options:g}));Object.keys(W||{}).forEach(U=>D._customProperties.add(U)),st(D,W)}else st(D,p.run(()=>H({store:D,app:a._a,pinia:a,options:g})))}),process.env.NODE_ENV!=="production"&&D.$state&&typeof D.$state=="object"&&typeof D.$state.constructor=="function"&&!D.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${D.$id}".`),x&&f&&o.hydrate&&o.hydrate(D.$state,x),m=!0,b=!0,D}function Sr(r,s,o){let a,c;const f=typeof s=="function";if(typeof r=="string")a=r,c=f?o:s;else if(c=r,a=r.id,process.env.NODE_ENV!=="production"&&typeof a!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function p(g,_){const m=n.hasInjectionContext();if(g=(process.env.NODE_ENV==="test"&&Gn&&Gn._testing?null:g)||(m?n.inject(Is,null):null),g&&qn(g),process.env.NODE_ENV!=="production"&&!Gn)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);g=Gn,g._s.has(a)||(f?Io(a,s,c,g):Js(a,c,g),process.env.NODE_ENV!=="production"&&(p._pinia=g));const b=g._s.get(a);if(process.env.NODE_ENV!=="production"&&_){const k="__hot:"+a,C=f?Io(k,s,c,g,!0):Js(k,st({},c),g,!0);_._hotUpdate(C),delete g.state.value[k],g._s.delete(k)}if(process.env.NODE_ENV!=="production"&&wr){const k=n.getCurrentInstance();if(k&&k.proxy&&!_){const C=k.proxy,$="_pStores"in C?C._pStores:C._pStores={};$[a]=b}}return b}return p.$id=a,p}function Zs(r){{r=n.toRaw(r);const s={};for(const o in r){const a=r[o];(n.isRef(a)||n.isReactive(a))&&(s[o]=n.toRef(r,o))}return s}}function Bo(){return{id:"",src:""}}const Sf=()=>[{value:"0.5",label:"0.5x"},{value:"0.6",label:"0.6x"},{value:"0.7",label:"0.7x"},{value:"0.8",label:"0.8x"},{value:"0.9",label:"0.9x"},{value:"1.0",label:"1.0x"},{value:"1.1",label:"1.1x"},{value:"1.2",label:"1.2x"},{value:"1.4",label:"1.4x"},{value:"1.5",label:"1.5x"},{value:"1.75",label:"1.75x"},{value:"2.0",label:"2.0x"}],kf=()=>[{value:"-10",label:"-10"},{value:"-9",label:"-9"},{value:"-8",label:"-8"},{value:"-7",label:"-7"},{value:"-6",label:"-6"},{value:"-5",label:"-5"},{value:"-4",label:"-4"},{value:"-3",label:"-3"},{value:"-2",label:"-2"},{value:"-1",label:"-1"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"}];function Cf(r){return`${(.05*r*100).toFixed(0)}%`}function Nf(r){return`${((r-1)*100).toFixed(0)}%`}function Qs(){return{category:"",name:"",role:"",style:"",speed:"1.0",pitch:"0"}}function Rf(){return{...Qs(),id:"",label:""}}function at(){return()=>Promise.resolve([])}function Lo(r){const s=(r==null?void 0:r.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(r==null?void 0:r.handleError)||(()=>{}),a=(r==null?void 0:r.pinyin)||{fetchData:at()},c=(r==null?void 0:r.english)||{fetchData:at()},f=(r==null?void 0:r.special)||{fetchData:at(),fetchScene:at(),fetchStyle:at()},p=(r==null?void 0:r.bgm)||{fetchData:at(),fetchScene:at(),fetchStyle:at()},g=(r==null?void 0:r.tryPlay)||{play:()=>Promise.resolve(Bo()),fetchData:at(),featchTag:at(),fetchStar:()=>Promise.resolve(!0)},_=(r==null?void 0:r.conversion)||{timeoutMilliseconds:2e4,audioUpload:()=>Promise.resolve(Bo()),transfer:()=>Promise.resolve(Bo()),fetchSpeaker:at()},m=(r==null?void 0:r.management)||{recordRecentUsage:()=>Promise.resolve(Rf()),fetchRecentUsage:at(),deleteRecentUsage:()=>Promise.resolve()},b=f,k=p,C=g;return b.menus??(b.menus=[{label:"默认音效",value:""},{label:"自定义音效",value:"custom"},{label:"最近音效",value:"history"}]),k.menus??(k.menus=[{label:"默认配乐",value:""},{label:"自定义配乐",value:"custom"},{label:"最近配乐",value:"history"}]),C.gender??(C.gender=[{label:"全部",value:""},{label:"男声",value:"Male"},{label:"女声",value:"Female"}]),C.topFlag??(C.topFlag=[{label:"热榜",value:""},{label:"SVIP",value:"SVIP"},{label:"付费",value:"付费"}]),C.category??(C.category=[{label:"常用",value:"常用"},{label:"已购",value:"已购"},{label:"收藏",value:"收藏"},{label:"我的",value:"我的"}]),{editorConfig:s,handleError:o,pinyin:a,english:c,bgm:k,special:b,tryPlay:C,conversion:_,management:m}}const js=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),ea=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),vn=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png",ze=Sr("--editor-config",()=>{const r=n.shallowRef(),s=n.shallowRef(),o=n.computed(()=>r.value),a=n.computed(()=>{if(s.value)return s.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:a,setEditor:p=>{r.value=p},setGlobalEditConfig:p=>{s.value=p??Lo()}}}),$f=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-audio"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-audio"?!R.SlateNode.string(c):o(c),a};function Po(r,s,o,a,c){const f=s===void 0?void 0:s.key;return{sel:r,data:s,children:o,text:a,elm:c,key:f}}const ta=Array.isArray;function Mo(r){return typeof r=="string"||typeof r=="number"||r instanceof String||r instanceof Number}function na(r,s,o){if(r.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&s!==void 0)for(let a=0;a<s.length;++a){const c=s[a];if(typeof c=="string")continue;const f=c.data;f!==void 0&&na(f,c.children,c.sel)}}function ra(r,s,o){let a={},c,f,p;if(o!==void 0?(s!==null&&(a=s),ta(o)?c=o:Mo(o)?f=o.toString():o&&o.sel&&(c=[o])):s!=null&&(ta(s)?c=s:Mo(s)?f=s.toString():s&&s.sel?c=[s]:a=s),c!==void 0)for(p=0;p<c.length;++p)Mo(c[p])&&(c[p]=Po(void 0,void 0,void 0,c[p],void 0));return r[0]==="s"&&r[1]==="v"&&r[2]==="g"&&(r.length===3||r[3]==="."||r[3]==="#")&&na(a,c,r),Po(r,a,c,f,void 0)}function oa(r,s){for(const o of r)o!=null&&o!==!1&&o!==""&&(Array.isArray(o)?oa(o,s):typeof o=="string"||typeof o=="number"||typeof o=="boolean"?s.push(Po(void 0,void 0,void 0,String(o),void 0)):s.push(o));return s}function L(r,s,...o){const a=oa(o,[]);return typeof r=="function"?r(s,a):a.length===1&&!a[0].sel&&a[0].text?ra(r,s,a[0].text):ra(r,s,a)}L||(L={});var rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ia(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var kr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */kr.exports,function(r,s){(function(){var o,a="4.17.21",c=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",g="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",m=500,b="__lodash_placeholder__",k=1,C=2,$=4,x=1,v=2,I=1,P=2,M=4,V=8,F=16,G=32,X=64,D=128,ue=256,Ee=512,H=30,W="...",U=800,K=16,se=1,Le=2,Nt=3,Oe=1/0,_e=9007199254740991,Rn=17976931348623157e292,ye=0/0,ke=4294967295,Ir=ke-1,Br=ke>>>1,$n=[["ary",D],["bind",I],["bindKey",P],["curry",V],["curryRight",F],["flip",Ee],["partial",G],["partialRight",X],["rearg",ue]],zt="[object Arguments]",ln="[object Array]",_l="[object AsyncFunction]",Jn="[object Boolean]",Zn="[object Date]",Yg="[object DOMException]",Lr="[object Error]",Pr="[object Function]",yl="[object GeneratorFunction]",bt="[object Map]",Qn="[object Number]",Xg="[object Null]",At="[object Object]",wl="[object Promise]",Jg="[object Proxy]",jn="[object RegExp]",vt="[object Set]",er="[object String]",Mr="[object Symbol]",Zg="[object Undefined]",tr="[object WeakMap]",Qg="[object WeakSet]",nr="[object ArrayBuffer]",Tn="[object DataView]",fi="[object Float32Array]",di="[object Float64Array]",pi="[object Int8Array]",hi="[object Int16Array]",mi="[object Int32Array]",gi="[object Uint8Array]",_i="[object Uint8ClampedArray]",yi="[object Uint16Array]",wi="[object Uint32Array]",jg=/\b__p \+= '';/g,e_=/\b(__p \+=) '' \+/g,t_=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bl=/&(?:amp|lt|gt|quot|#39);/g,vl=/[&<>"']/g,n_=RegExp(bl.source),r_=RegExp(vl.source),o_=/<%-([\s\S]+?)%>/g,i_=/<%([\s\S]+?)%>/g,El=/<%=([\s\S]+?)%>/g,s_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a_=/^\w*$/,l_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bi=/[\\^$.*+?()[\]{}|]/g,c_=RegExp(bi.source),vi=/^\s+/,u_=/\s/,f_=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,d_=/\{\n\/\* \[wrapped with (.+)\] \*/,p_=/,? & /,h_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,m_=/[()=,{}\[\]\/\s]/,g_=/\\(\\)?/g,__=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xl=/\w*$/,y_=/^[-+]0x[0-9a-f]+$/i,w_=/^0b[01]+$/i,b_=/^\[object .+?Constructor\]$/,v_=/^0o[0-7]+$/i,E_=/^(?:0|[1-9]\d*)$/,x_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fr=/($^)/,S_=/['\n\r\u2028\u2029\\]/g,Ur="\\ud800-\\udfff",k_="\\u0300-\\u036f",C_="\\ufe20-\\ufe2f",N_="\\u20d0-\\u20ff",Sl=k_+C_+N_,kl="\\u2700-\\u27bf",Cl="a-z\\xdf-\\xf6\\xf8-\\xff",R_="\\xac\\xb1\\xd7\\xf7",$_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",T_="\\u2000-\\u206f",V_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Nl="A-Z\\xc0-\\xd6\\xd8-\\xde",Rl="\\ufe0e\\ufe0f",$l=R_+$_+T_+V_,Ei="['’]",A_="["+Ur+"]",Tl="["+$l+"]",Hr="["+Sl+"]",Vl="\\d+",O_="["+kl+"]",Al="["+Cl+"]",Ol="[^"+Ur+$l+Vl+kl+Cl+Nl+"]",xi="\\ud83c[\\udffb-\\udfff]",D_="(?:"+Hr+"|"+xi+")",Dl="[^"+Ur+"]",Si="(?:\\ud83c[\\udde6-\\uddff]){2}",ki="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+Nl+"]",Il="\\u200d",Bl="(?:"+Al+"|"+Ol+")",I_="(?:"+Vn+"|"+Ol+")",Ll="(?:"+Ei+"(?:d|ll|m|re|s|t|ve))?",Pl="(?:"+Ei+"(?:D|LL|M|RE|S|T|VE))?",Ml=D_+"?",Fl="["+Rl+"]?",B_="(?:"+Il+"(?:"+[Dl,Si,ki].join("|")+")"+Fl+Ml+")*",L_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",P_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ul=Fl+Ml+B_,M_="(?:"+[O_,Si,ki].join("|")+")"+Ul,F_="(?:"+[Dl+Hr+"?",Hr,Si,ki,A_].join("|")+")",U_=RegExp(Ei,"g"),H_=RegExp(Hr,"g"),Ci=RegExp(xi+"(?="+xi+")|"+F_+Ul,"g"),W_=RegExp([Vn+"?"+Al+"+"+Ll+"(?="+[Tl,Vn,"$"].join("|")+")",I_+"+"+Pl+"(?="+[Tl,Vn+Bl,"$"].join("|")+")",Vn+"?"+Bl+"+"+Ll,Vn+"+"+Pl,P_,L_,Vl,M_].join("|"),"g"),z_=RegExp("["+Il+Ur+Sl+Rl+"]"),G_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,q_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],K_=-1,be={};be[fi]=be[di]=be[pi]=be[hi]=be[mi]=be[gi]=be[_i]=be[yi]=be[wi]=!0,be[zt]=be[ln]=be[nr]=be[Jn]=be[Tn]=be[Zn]=be[Lr]=be[Pr]=be[bt]=be[Qn]=be[At]=be[jn]=be[vt]=be[er]=be[tr]=!1;var we={};we[zt]=we[ln]=we[nr]=we[Tn]=we[Jn]=we[Zn]=we[fi]=we[di]=we[pi]=we[hi]=we[mi]=we[bt]=we[Qn]=we[At]=we[jn]=we[vt]=we[er]=we[Mr]=we[gi]=we[_i]=we[yi]=we[wi]=!0,we[Lr]=we[Pr]=we[tr]=!1;var Y_={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},X_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},J_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Z_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Q_=parseFloat,j_=parseInt,Hl=typeof rn=="object"&&rn&&rn.Object===Object&&rn,ey=typeof self=="object"&&self&&self.Object===Object&&self,Pe=Hl||ey||Function("return this")(),Ni=s&&!s.nodeType&&s,cn=Ni&&!0&&r&&!r.nodeType&&r,Wl=cn&&cn.exports===Ni,Ri=Wl&&Hl.process,ut=function(){try{var E=cn&&cn.require&&cn.require("util").types;return E||Ri&&Ri.binding&&Ri.binding("util")}catch{}}(),zl=ut&&ut.isArrayBuffer,Gl=ut&&ut.isDate,ql=ut&&ut.isMap,Kl=ut&&ut.isRegExp,Yl=ut&&ut.isSet,Xl=ut&&ut.isTypedArray;function et(E,T,N){switch(N.length){case 0:return E.call(T);case 1:return E.call(T,N[0]);case 2:return E.call(T,N[0],N[1]);case 3:return E.call(T,N[0],N[1],N[2])}return E.apply(T,N)}function ty(E,T,N,q){for(var ee=-1,de=E==null?0:E.length;++ee<de;){var Te=E[ee];T(q,Te,N(Te),E)}return q}function ft(E,T){for(var N=-1,q=E==null?0:E.length;++N<q&&T(E[N],N,E)!==!1;);return E}function ny(E,T){for(var N=E==null?0:E.length;N--&&T(E[N],N,E)!==!1;);return E}function Jl(E,T){for(var N=-1,q=E==null?0:E.length;++N<q;)if(!T(E[N],N,E))return!1;return!0}function Gt(E,T){for(var N=-1,q=E==null?0:E.length,ee=0,de=[];++N<q;){var Te=E[N];T(Te,N,E)&&(de[ee++]=Te)}return de}function Wr(E,T){var N=E==null?0:E.length;return!!N&&An(E,T,0)>-1}function $i(E,T,N){for(var q=-1,ee=E==null?0:E.length;++q<ee;)if(N(T,E[q]))return!0;return!1}function xe(E,T){for(var N=-1,q=E==null?0:E.length,ee=Array(q);++N<q;)ee[N]=T(E[N],N,E);return ee}function qt(E,T){for(var N=-1,q=T.length,ee=E.length;++N<q;)E[ee+N]=T[N];return E}function Ti(E,T,N,q){var ee=-1,de=E==null?0:E.length;for(q&&de&&(N=E[++ee]);++ee<de;)N=T(N,E[ee],ee,E);return N}function ry(E,T,N,q){var ee=E==null?0:E.length;for(q&&ee&&(N=E[--ee]);ee--;)N=T(N,E[ee],ee,E);return N}function Vi(E,T){for(var N=-1,q=E==null?0:E.length;++N<q;)if(T(E[N],N,E))return!0;return!1}var oy=Ai("length");function iy(E){return E.split("")}function sy(E){return E.match(h_)||[]}function Zl(E,T,N){var q;return N(E,function(ee,de,Te){if(T(ee,de,Te))return q=de,!1}),q}function zr(E,T,N,q){for(var ee=E.length,de=N+(q?1:-1);q?de--:++de<ee;)if(T(E[de],de,E))return de;return-1}function An(E,T,N){return T===T?yy(E,T,N):zr(E,Ql,N)}function ay(E,T,N,q){for(var ee=N-1,de=E.length;++ee<de;)if(q(E[ee],T))return ee;return-1}function Ql(E){return E!==E}function jl(E,T){var N=E==null?0:E.length;return N?Di(E,T)/N:ye}function Ai(E){return function(T){return T==null?o:T[E]}}function Oi(E){return function(T){return E==null?o:E[T]}}function ec(E,T,N,q,ee){return ee(E,function(de,Te,ge){N=q?(q=!1,de):T(N,de,Te,ge)}),N}function ly(E,T){var N=E.length;for(E.sort(T);N--;)E[N]=E[N].value;return E}function Di(E,T){for(var N,q=-1,ee=E.length;++q<ee;){var de=T(E[q]);de!==o&&(N=N===o?de:N+de)}return N}function Ii(E,T){for(var N=-1,q=Array(E);++N<E;)q[N]=T(N);return q}function cy(E,T){return xe(T,function(N){return[N,E[N]]})}function tc(E){return E&&E.slice(0,ic(E)+1).replace(vi,"")}function tt(E){return function(T){return E(T)}}function Bi(E,T){return xe(T,function(N){return E[N]})}function rr(E,T){return E.has(T)}function nc(E,T){for(var N=-1,q=E.length;++N<q&&An(T,E[N],0)>-1;);return N}function rc(E,T){for(var N=E.length;N--&&An(T,E[N],0)>-1;);return N}function uy(E,T){for(var N=E.length,q=0;N--;)E[N]===T&&++q;return q}var fy=Oi(Y_),dy=Oi(X_);function py(E){return"\\"+Z_[E]}function hy(E,T){return E==null?o:E[T]}function On(E){return z_.test(E)}function my(E){return G_.test(E)}function gy(E){for(var T,N=[];!(T=E.next()).done;)N.push(T.value);return N}function Li(E){var T=-1,N=Array(E.size);return E.forEach(function(q,ee){N[++T]=[ee,q]}),N}function oc(E,T){return function(N){return E(T(N))}}function Kt(E,T){for(var N=-1,q=E.length,ee=0,de=[];++N<q;){var Te=E[N];(Te===T||Te===b)&&(E[N]=b,de[ee++]=N)}return de}function Gr(E){var T=-1,N=Array(E.size);return E.forEach(function(q){N[++T]=q}),N}function _y(E){var T=-1,N=Array(E.size);return E.forEach(function(q){N[++T]=[q,q]}),N}function yy(E,T,N){for(var q=N-1,ee=E.length;++q<ee;)if(E[q]===T)return q;return-1}function wy(E,T,N){for(var q=N+1;q--;)if(E[q]===T)return q;return q}function Dn(E){return On(E)?vy(E):oy(E)}function Et(E){return On(E)?Ey(E):iy(E)}function ic(E){for(var T=E.length;T--&&u_.test(E.charAt(T)););return T}var by=Oi(J_);function vy(E){for(var T=Ci.lastIndex=0;Ci.test(E);)++T;return T}function Ey(E){return E.match(Ci)||[]}function xy(E){return E.match(W_)||[]}var Sy=function E(T){T=T==null?Pe:In.defaults(Pe.Object(),T,In.pick(Pe,q_));var N=T.Array,q=T.Date,ee=T.Error,de=T.Function,Te=T.Math,ge=T.Object,Pi=T.RegExp,ky=T.String,dt=T.TypeError,qr=N.prototype,Cy=de.prototype,Bn=ge.prototype,Kr=T["__core-js_shared__"],Yr=Cy.toString,he=Bn.hasOwnProperty,Ny=0,sc=function(){var e=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xr=Bn.toString,Ry=Yr.call(ge),$y=Pe._,Ty=Pi("^"+Yr.call(he).replace(bi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jr=Wl?T.Buffer:o,Yt=T.Symbol,Zr=T.Uint8Array,ac=Jr?Jr.allocUnsafe:o,Qr=oc(ge.getPrototypeOf,ge),lc=ge.create,cc=Bn.propertyIsEnumerable,jr=qr.splice,uc=Yt?Yt.isConcatSpreadable:o,or=Yt?Yt.iterator:o,un=Yt?Yt.toStringTag:o,eo=function(){try{var e=mn(ge,"defineProperty");return e({},"",{}),e}catch{}}(),Vy=T.clearTimeout!==Pe.clearTimeout&&T.clearTimeout,Ay=q&&q.now!==Pe.Date.now&&q.now,Oy=T.setTimeout!==Pe.setTimeout&&T.setTimeout,to=Te.ceil,no=Te.floor,Mi=ge.getOwnPropertySymbols,Dy=Jr?Jr.isBuffer:o,fc=T.isFinite,Iy=qr.join,By=oc(ge.keys,ge),Ve=Te.max,He=Te.min,Ly=q.now,Py=T.parseInt,dc=Te.random,My=qr.reverse,Fi=mn(T,"DataView"),ir=mn(T,"Map"),Ui=mn(T,"Promise"),Ln=mn(T,"Set"),sr=mn(T,"WeakMap"),ar=mn(ge,"create"),ro=sr&&new sr,Pn={},Fy=gn(Fi),Uy=gn(ir),Hy=gn(Ui),Wy=gn(Ln),zy=gn(sr),oo=Yt?Yt.prototype:o,lr=oo?oo.valueOf:o,pc=oo?oo.toString:o;function d(e){if(Ce(e)&&!te(e)&&!(e instanceof le)){if(e instanceof pt)return e;if(he.call(e,"__wrapped__"))return hu(e)}return new pt(e)}var Mn=function(){function e(){}return function(t){if(!Se(t))return{};if(lc)return lc(t);e.prototype=t;var i=new e;return e.prototype=o,i}}();function io(){}function pt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}d.templateSettings={escape:o_,evaluate:i_,interpolate:El,variable:"",imports:{_:d}},d.prototype=io.prototype,d.prototype.constructor=d,pt.prototype=Mn(io.prototype),pt.prototype.constructor=pt;function le(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function Gy(){var e=new le(this.__wrapped__);return e.__actions__=Je(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Je(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Je(this.__views__),e}function qy(){if(this.__filtered__){var e=new le(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ky(){var e=this.__wrapped__.value(),t=this.__dir__,i=te(e),l=t<0,u=i?e.length:0,h=iw(0,u,this.__views__),y=h.start,w=h.end,S=w-y,A=l?w:y-1,O=this.__iteratees__,B=O.length,z=0,Y=He(S,this.__takeCount__);if(!i||!l&&u==S&&Y==S)return Lc(e,this.__actions__);var Z=[];e:for(;S--&&z<Y;){A+=t;for(var oe=-1,Q=e[A];++oe<B;){var ae=O[oe],ce=ae.iteratee,ot=ae.type,Ye=ce(Q);if(ot==Le)Q=Ye;else if(!Ye){if(ot==se)continue e;break e}}Z[z++]=Q}return Z}le.prototype=Mn(io.prototype),le.prototype.constructor=le;function fn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Yy(){this.__data__=ar?ar(null):{},this.size=0}function Xy(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Jy(e){var t=this.__data__;if(ar){var i=t[e];return i===_?o:i}return he.call(t,e)?t[e]:o}function Zy(e){var t=this.__data__;return ar?t[e]!==o:he.call(t,e)}function Qy(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ar&&t===o?_:t,this}fn.prototype.clear=Yy,fn.prototype.delete=Xy,fn.prototype.get=Jy,fn.prototype.has=Zy,fn.prototype.set=Qy;function Ot(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function jy(){this.__data__=[],this.size=0}function e0(e){var t=this.__data__,i=so(t,e);if(i<0)return!1;var l=t.length-1;return i==l?t.pop():jr.call(t,i,1),--this.size,!0}function t0(e){var t=this.__data__,i=so(t,e);return i<0?o:t[i][1]}function n0(e){return so(this.__data__,e)>-1}function r0(e,t){var i=this.__data__,l=so(i,e);return l<0?(++this.size,i.push([e,t])):i[l][1]=t,this}Ot.prototype.clear=jy,Ot.prototype.delete=e0,Ot.prototype.get=t0,Ot.prototype.has=n0,Ot.prototype.set=r0;function Dt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function o0(){this.size=0,this.__data__={hash:new fn,map:new(ir||Ot),string:new fn}}function i0(e){var t=wo(this,e).delete(e);return this.size-=t?1:0,t}function s0(e){return wo(this,e).get(e)}function a0(e){return wo(this,e).has(e)}function l0(e,t){var i=wo(this,e),l=i.size;return i.set(e,t),this.size+=i.size==l?0:1,this}Dt.prototype.clear=o0,Dt.prototype.delete=i0,Dt.prototype.get=s0,Dt.prototype.has=a0,Dt.prototype.set=l0;function dn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Dt;++t<i;)this.add(e[t])}function c0(e){return this.__data__.set(e,_),this}function u0(e){return this.__data__.has(e)}dn.prototype.add=dn.prototype.push=c0,dn.prototype.has=u0;function xt(e){var t=this.__data__=new Ot(e);this.size=t.size}function f0(){this.__data__=new Ot,this.size=0}function d0(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function p0(e){return this.__data__.get(e)}function h0(e){return this.__data__.has(e)}function m0(e,t){var i=this.__data__;if(i instanceof Ot){var l=i.__data__;if(!ir||l.length<c-1)return l.push([e,t]),this.size=++i.size,this;i=this.__data__=new Dt(l)}return i.set(e,t),this.size=i.size,this}xt.prototype.clear=f0,xt.prototype.delete=d0,xt.prototype.get=p0,xt.prototype.has=h0,xt.prototype.set=m0;function hc(e,t){var i=te(e),l=!i&&_n(e),u=!i&&!l&&jt(e),h=!i&&!l&&!u&&Wn(e),y=i||l||u||h,w=y?Ii(e.length,ky):[],S=w.length;for(var A in e)(t||he.call(e,A))&&!(y&&(A=="length"||u&&(A=="offset"||A=="parent")||h&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Pt(A,S)))&&w.push(A);return w}function mc(e){var t=e.length;return t?e[Qi(0,t-1)]:o}function g0(e,t){return bo(Je(e),pn(t,0,e.length))}function _0(e){return bo(Je(e))}function Hi(e,t,i){(i!==o&&!St(e[t],i)||i===o&&!(t in e))&&It(e,t,i)}function cr(e,t,i){var l=e[t];(!(he.call(e,t)&&St(l,i))||i===o&&!(t in e))&&It(e,t,i)}function so(e,t){for(var i=e.length;i--;)if(St(e[i][0],t))return i;return-1}function y0(e,t,i,l){return Xt(e,function(u,h,y){t(l,u,i(u),y)}),l}function gc(e,t){return e&&$t(t,De(t),e)}function w0(e,t){return e&&$t(t,Qe(t),e)}function It(e,t,i){t=="__proto__"&&eo?eo(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Wi(e,t){for(var i=-1,l=t.length,u=N(l),h=e==null;++i<l;)u[i]=h?o:xs(e,t[i]);return u}function pn(e,t,i){return e===e&&(i!==o&&(e=e<=i?e:i),t!==o&&(e=e>=t?e:t)),e}function ht(e,t,i,l,u,h){var y,w=t&k,S=t&C,A=t&$;if(i&&(y=u?i(e,l,u,h):i(e)),y!==o)return y;if(!Se(e))return e;var O=te(e);if(O){if(y=aw(e),!w)return Je(e,y)}else{var B=We(e),z=B==Pr||B==yl;if(jt(e))return Fc(e,w);if(B==At||B==zt||z&&!u){if(y=S||z?{}:iu(e),!w)return S?J0(e,w0(y,e)):X0(e,gc(y,e))}else{if(!we[B])return u?e:{};y=lw(e,B,w)}}h||(h=new xt);var Y=h.get(e);if(Y)return Y;h.set(e,y),Du(e)?e.forEach(function(Q){y.add(ht(Q,t,i,Q,e,h))}):Au(e)&&e.forEach(function(Q,ae){y.set(ae,ht(Q,t,i,ae,e,h))});var Z=A?S?cs:ls:S?Qe:De,oe=O?o:Z(e);return ft(oe||e,function(Q,ae){oe&&(ae=Q,Q=e[ae]),cr(y,ae,ht(Q,t,i,ae,e,h))}),y}function b0(e){var t=De(e);return function(i){return _c(i,e,t)}}function _c(e,t,i){var l=i.length;if(e==null)return!l;for(e=ge(e);l--;){var u=i[l],h=t[u],y=e[u];if(y===o&&!(u in e)||!h(y))return!1}return!0}function yc(e,t,i){if(typeof e!="function")throw new dt(p);return gr(function(){e.apply(o,i)},t)}function ur(e,t,i,l){var u=-1,h=Wr,y=!0,w=e.length,S=[],A=t.length;if(!w)return S;i&&(t=xe(t,tt(i))),l?(h=$i,y=!1):t.length>=c&&(h=rr,y=!1,t=new dn(t));e:for(;++u<w;){var O=e[u],B=i==null?O:i(O);if(O=l||O!==0?O:0,y&&B===B){for(var z=A;z--;)if(t[z]===B)continue e;S.push(O)}else h(t,B,l)||S.push(O)}return S}var Xt=Gc(Rt),wc=Gc(Gi,!0);function v0(e,t){var i=!0;return Xt(e,function(l,u,h){return i=!!t(l,u,h),i}),i}function ao(e,t,i){for(var l=-1,u=e.length;++l<u;){var h=e[l],y=t(h);if(y!=null&&(w===o?y===y&&!rt(y):i(y,w)))var w=y,S=h}return S}function E0(e,t,i,l){var u=e.length;for(i=re(i),i<0&&(i=-i>u?0:u+i),l=l===o||l>u?u:re(l),l<0&&(l+=u),l=i>l?0:Bu(l);i<l;)e[i++]=t;return e}function bc(e,t){var i=[];return Xt(e,function(l,u,h){t(l,u,h)&&i.push(l)}),i}function Me(e,t,i,l,u){var h=-1,y=e.length;for(i||(i=uw),u||(u=[]);++h<y;){var w=e[h];t>0&&i(w)?t>1?Me(w,t-1,i,l,u):qt(u,w):l||(u[u.length]=w)}return u}var zi=qc(),vc=qc(!0);function Rt(e,t){return e&&zi(e,t,De)}function Gi(e,t){return e&&vc(e,t,De)}function lo(e,t){return Gt(t,function(i){return Mt(e[i])})}function hn(e,t){t=Zt(t,e);for(var i=0,l=t.length;e!=null&&i<l;)e=e[Tt(t[i++])];return i&&i==l?e:o}function Ec(e,t,i){var l=t(e);return te(e)?l:qt(l,i(e))}function qe(e){return e==null?e===o?Zg:Xg:un&&un in ge(e)?ow(e):_w(e)}function qi(e,t){return e>t}function x0(e,t){return e!=null&&he.call(e,t)}function S0(e,t){return e!=null&&t in ge(e)}function k0(e,t,i){return e>=He(t,i)&&e<Ve(t,i)}function Ki(e,t,i){for(var l=i?$i:Wr,u=e[0].length,h=e.length,y=h,w=N(h),S=1/0,A=[];y--;){var O=e[y];y&&t&&(O=xe(O,tt(t))),S=He(O.length,S),w[y]=!i&&(t||u>=120&&O.length>=120)?new dn(y&&O):o}O=e[0];var B=-1,z=w[0];e:for(;++B<u&&A.length<S;){var Y=O[B],Z=t?t(Y):Y;if(Y=i||Y!==0?Y:0,!(z?rr(z,Z):l(A,Z,i))){for(y=h;--y;){var oe=w[y];if(!(oe?rr(oe,Z):l(e[y],Z,i)))continue e}z&&z.push(Z),A.push(Y)}}return A}function C0(e,t,i,l){return Rt(e,function(u,h,y){t(l,i(u),h,y)}),l}function fr(e,t,i){t=Zt(t,e),e=cu(e,t);var l=e==null?e:e[Tt(gt(t))];return l==null?o:et(l,e,i)}function xc(e){return Ce(e)&&qe(e)==zt}function N0(e){return Ce(e)&&qe(e)==nr}function R0(e){return Ce(e)&&qe(e)==Zn}function dr(e,t,i,l,u){return e===t?!0:e==null||t==null||!Ce(e)&&!Ce(t)?e!==e&&t!==t:$0(e,t,i,l,dr,u)}function $0(e,t,i,l,u,h){var y=te(e),w=te(t),S=y?ln:We(e),A=w?ln:We(t);S=S==zt?At:S,A=A==zt?At:A;var O=S==At,B=A==At,z=S==A;if(z&&jt(e)){if(!jt(t))return!1;y=!0,O=!1}if(z&&!O)return h||(h=new xt),y||Wn(e)?nu(e,t,i,l,u,h):nw(e,t,S,i,l,u,h);if(!(i&x)){var Y=O&&he.call(e,"__wrapped__"),Z=B&&he.call(t,"__wrapped__");if(Y||Z){var oe=Y?e.value():e,Q=Z?t.value():t;return h||(h=new xt),u(oe,Q,i,l,h)}}return z?(h||(h=new xt),rw(e,t,i,l,u,h)):!1}function T0(e){return Ce(e)&&We(e)==bt}function Yi(e,t,i,l){var u=i.length,h=u,y=!l;if(e==null)return!h;for(e=ge(e);u--;){var w=i[u];if(y&&w[2]?w[1]!==e[w[0]]:!(w[0]in e))return!1}for(;++u<h;){w=i[u];var S=w[0],A=e[S],O=w[1];if(y&&w[2]){if(A===o&&!(S in e))return!1}else{var B=new xt;if(l)var z=l(A,O,S,e,t,B);if(!(z===o?dr(O,A,x|v,l,B):z))return!1}}return!0}function Sc(e){if(!Se(e)||dw(e))return!1;var t=Mt(e)?Ty:b_;return t.test(gn(e))}function V0(e){return Ce(e)&&qe(e)==jn}function A0(e){return Ce(e)&&We(e)==vt}function O0(e){return Ce(e)&&Co(e.length)&&!!be[qe(e)]}function kc(e){return typeof e=="function"?e:e==null?je:typeof e=="object"?te(e)?Rc(e[0],e[1]):Nc(e):Ku(e)}function Xi(e){if(!mr(e))return By(e);var t=[];for(var i in ge(e))he.call(e,i)&&i!="constructor"&&t.push(i);return t}function D0(e){if(!Se(e))return gw(e);var t=mr(e),i=[];for(var l in e)l=="constructor"&&(t||!he.call(e,l))||i.push(l);return i}function Ji(e,t){return e<t}function Cc(e,t){var i=-1,l=Ze(e)?N(e.length):[];return Xt(e,function(u,h,y){l[++i]=t(u,h,y)}),l}function Nc(e){var t=fs(e);return t.length==1&&t[0][2]?au(t[0][0],t[0][1]):function(i){return i===e||Yi(i,e,t)}}function Rc(e,t){return ps(e)&&su(t)?au(Tt(e),t):function(i){var l=xs(i,e);return l===o&&l===t?Ss(i,e):dr(t,l,x|v)}}function co(e,t,i,l,u){e!==t&&zi(t,function(h,y){if(u||(u=new xt),Se(h))I0(e,t,y,i,co,l,u);else{var w=l?l(ms(e,y),h,y+"",e,t,u):o;w===o&&(w=h),Hi(e,y,w)}},Qe)}function I0(e,t,i,l,u,h,y){var w=ms(e,i),S=ms(t,i),A=y.get(S);if(A){Hi(e,i,A);return}var O=h?h(w,S,i+"",e,t,y):o,B=O===o;if(B){var z=te(S),Y=!z&&jt(S),Z=!z&&!Y&&Wn(S);O=S,z||Y||Z?te(w)?O=w:Re(w)?O=Je(w):Y?(B=!1,O=Fc(S,!0)):Z?(B=!1,O=Uc(S,!0)):O=[]:_r(S)||_n(S)?(O=w,_n(w)?O=Lu(w):(!Se(w)||Mt(w))&&(O=iu(S))):B=!1}B&&(y.set(S,O),u(O,S,l,h,y),y.delete(S)),Hi(e,i,O)}function $c(e,t){var i=e.length;if(i)return t+=t<0?i:0,Pt(t,i)?e[t]:o}function Tc(e,t,i){t.length?t=xe(t,function(h){return te(h)?function(y){return hn(y,h.length===1?h[0]:h)}:h}):t=[je];var l=-1;t=xe(t,tt(J()));var u=Cc(e,function(h,y,w){var S=xe(t,function(A){return A(h)});return{criteria:S,index:++l,value:h}});return ly(u,function(h,y){return Y0(h,y,i)})}function B0(e,t){return Vc(e,t,function(i,l){return Ss(e,l)})}function Vc(e,t,i){for(var l=-1,u=t.length,h={};++l<u;){var y=t[l],w=hn(e,y);i(w,y)&&pr(h,Zt(y,e),w)}return h}function L0(e){return function(t){return hn(t,e)}}function Zi(e,t,i,l){var u=l?ay:An,h=-1,y=t.length,w=e;for(e===t&&(t=Je(t)),i&&(w=xe(e,tt(i)));++h<y;)for(var S=0,A=t[h],O=i?i(A):A;(S=u(w,O,S,l))>-1;)w!==e&&jr.call(w,S,1),jr.call(e,S,1);return e}function Ac(e,t){for(var i=e?t.length:0,l=i-1;i--;){var u=t[i];if(i==l||u!==h){var h=u;Pt(u)?jr.call(e,u,1):ts(e,u)}}return e}function Qi(e,t){return e+no(dc()*(t-e+1))}function P0(e,t,i,l){for(var u=-1,h=Ve(to((t-e)/(i||1)),0),y=N(h);h--;)y[l?h:++u]=e,e+=i;return y}function ji(e,t){var i="";if(!e||t<1||t>_e)return i;do t%2&&(i+=e),t=no(t/2),t&&(e+=e);while(t);return i}function ie(e,t){return gs(lu(e,t,je),e+"")}function M0(e){return mc(zn(e))}function F0(e,t){var i=zn(e);return bo(i,pn(t,0,i.length))}function pr(e,t,i,l){if(!Se(e))return e;t=Zt(t,e);for(var u=-1,h=t.length,y=h-1,w=e;w!=null&&++u<h;){var S=Tt(t[u]),A=i;if(S==="__proto__"||S==="constructor"||S==="prototype")return e;if(u!=y){var O=w[S];A=l?l(O,S,w):o,A===o&&(A=Se(O)?O:Pt(t[u+1])?[]:{})}cr(w,S,A),w=w[S]}return e}var Oc=ro?function(e,t){return ro.set(e,t),e}:je,U0=eo?function(e,t){return eo(e,"toString",{configurable:!0,enumerable:!1,value:Cs(t),writable:!0})}:je;function H0(e){return bo(zn(e))}function mt(e,t,i){var l=-1,u=e.length;t<0&&(t=-t>u?0:u+t),i=i>u?u:i,i<0&&(i+=u),u=t>i?0:i-t>>>0,t>>>=0;for(var h=N(u);++l<u;)h[l]=e[l+t];return h}function W0(e,t){var i;return Xt(e,function(l,u,h){return i=t(l,u,h),!i}),!!i}function uo(e,t,i){var l=0,u=e==null?l:e.length;if(typeof t=="number"&&t===t&&u<=Br){for(;l<u;){var h=l+u>>>1,y=e[h];y!==null&&!rt(y)&&(i?y<=t:y<t)?l=h+1:u=h}return u}return es(e,t,je,i)}function es(e,t,i,l){var u=0,h=e==null?0:e.length;if(h===0)return 0;t=i(t);for(var y=t!==t,w=t===null,S=rt(t),A=t===o;u<h;){var O=no((u+h)/2),B=i(e[O]),z=B!==o,Y=B===null,Z=B===B,oe=rt(B);if(y)var Q=l||Z;else A?Q=Z&&(l||z):w?Q=Z&&z&&(l||!Y):S?Q=Z&&z&&!Y&&(l||!oe):Y||oe?Q=!1:Q=l?B<=t:B<t;Q?u=O+1:h=O}return He(h,Ir)}function Dc(e,t){for(var i=-1,l=e.length,u=0,h=[];++i<l;){var y=e[i],w=t?t(y):y;if(!i||!St(w,S)){var S=w;h[u++]=y===0?0:y}}return h}function Ic(e){return typeof e=="number"?e:rt(e)?ye:+e}function nt(e){if(typeof e=="string")return e;if(te(e))return xe(e,nt)+"";if(rt(e))return pc?pc.call(e):"";var t=e+"";return t=="0"&&1/e==-Oe?"-0":t}function Jt(e,t,i){var l=-1,u=Wr,h=e.length,y=!0,w=[],S=w;if(i)y=!1,u=$i;else if(h>=c){var A=t?null:ew(e);if(A)return Gr(A);y=!1,u=rr,S=new dn}else S=t?[]:w;e:for(;++l<h;){var O=e[l],B=t?t(O):O;if(O=i||O!==0?O:0,y&&B===B){for(var z=S.length;z--;)if(S[z]===B)continue e;t&&S.push(B),w.push(O)}else u(S,B,i)||(S!==w&&S.push(B),w.push(O))}return w}function ts(e,t){return t=Zt(t,e),e=cu(e,t),e==null||delete e[Tt(gt(t))]}function Bc(e,t,i,l){return pr(e,t,i(hn(e,t)),l)}function fo(e,t,i,l){for(var u=e.length,h=l?u:-1;(l?h--:++h<u)&&t(e[h],h,e););return i?mt(e,l?0:h,l?h+1:u):mt(e,l?h+1:0,l?u:h)}function Lc(e,t){var i=e;return i instanceof le&&(i=i.value()),Ti(t,function(l,u){return u.func.apply(u.thisArg,qt([l],u.args))},i)}function ns(e,t,i){var l=e.length;if(l<2)return l?Jt(e[0]):[];for(var u=-1,h=N(l);++u<l;)for(var y=e[u],w=-1;++w<l;)w!=u&&(h[u]=ur(h[u]||y,e[w],t,i));return Jt(Me(h,1),t,i)}function Pc(e,t,i){for(var l=-1,u=e.length,h=t.length,y={};++l<u;){var w=l<h?t[l]:o;i(y,e[l],w)}return y}function rs(e){return Re(e)?e:[]}function os(e){return typeof e=="function"?e:je}function Zt(e,t){return te(e)?e:ps(e,t)?[e]:pu(pe(e))}var z0=ie;function Qt(e,t,i){var l=e.length;return i=i===o?l:i,!t&&i>=l?e:mt(e,t,i)}var Mc=Vy||function(e){return Pe.clearTimeout(e)};function Fc(e,t){if(t)return e.slice();var i=e.length,l=ac?ac(i):new e.constructor(i);return e.copy(l),l}function is(e){var t=new e.constructor(e.byteLength);return new Zr(t).set(new Zr(e)),t}function G0(e,t){var i=t?is(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function q0(e){var t=new e.constructor(e.source,xl.exec(e));return t.lastIndex=e.lastIndex,t}function K0(e){return lr?ge(lr.call(e)):{}}function Uc(e,t){var i=t?is(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Hc(e,t){if(e!==t){var i=e!==o,l=e===null,u=e===e,h=rt(e),y=t!==o,w=t===null,S=t===t,A=rt(t);if(!w&&!A&&!h&&e>t||h&&y&&S&&!w&&!A||l&&y&&S||!i&&S||!u)return 1;if(!l&&!h&&!A&&e<t||A&&i&&u&&!l&&!h||w&&i&&u||!y&&u||!S)return-1}return 0}function Y0(e,t,i){for(var l=-1,u=e.criteria,h=t.criteria,y=u.length,w=i.length;++l<y;){var S=Hc(u[l],h[l]);if(S){if(l>=w)return S;var A=i[l];return S*(A=="desc"?-1:1)}}return e.index-t.index}function Wc(e,t,i,l){for(var u=-1,h=e.length,y=i.length,w=-1,S=t.length,A=Ve(h-y,0),O=N(S+A),B=!l;++w<S;)O[w]=t[w];for(;++u<y;)(B||u<h)&&(O[i[u]]=e[u]);for(;A--;)O[w++]=e[u++];return O}function zc(e,t,i,l){for(var u=-1,h=e.length,y=-1,w=i.length,S=-1,A=t.length,O=Ve(h-w,0),B=N(O+A),z=!l;++u<O;)B[u]=e[u];for(var Y=u;++S<A;)B[Y+S]=t[S];for(;++y<w;)(z||u<h)&&(B[Y+i[y]]=e[u++]);return B}function Je(e,t){var i=-1,l=e.length;for(t||(t=N(l));++i<l;)t[i]=e[i];return t}function $t(e,t,i,l){var u=!i;i||(i={});for(var h=-1,y=t.length;++h<y;){var w=t[h],S=l?l(i[w],e[w],w,i,e):o;S===o&&(S=e[w]),u?It(i,w,S):cr(i,w,S)}return i}function X0(e,t){return $t(e,ds(e),t)}function J0(e,t){return $t(e,ru(e),t)}function po(e,t){return function(i,l){var u=te(i)?ty:y0,h=t?t():{};return u(i,e,J(l,2),h)}}function Fn(e){return ie(function(t,i){var l=-1,u=i.length,h=u>1?i[u-1]:o,y=u>2?i[2]:o;for(h=e.length>3&&typeof h=="function"?(u--,h):o,y&&Ke(i[0],i[1],y)&&(h=u<3?o:h,u=1),t=ge(t);++l<u;){var w=i[l];w&&e(t,w,l,h)}return t})}function Gc(e,t){return function(i,l){if(i==null)return i;if(!Ze(i))return e(i,l);for(var u=i.length,h=t?u:-1,y=ge(i);(t?h--:++h<u)&&l(y[h],h,y)!==!1;);return i}}function qc(e){return function(t,i,l){for(var u=-1,h=ge(t),y=l(t),w=y.length;w--;){var S=y[e?w:++u];if(i(h[S],S,h)===!1)break}return t}}function Z0(e,t,i){var l=t&I,u=hr(e);function h(){var y=this&&this!==Pe&&this instanceof h?u:e;return y.apply(l?i:this,arguments)}return h}function Kc(e){return function(t){t=pe(t);var i=On(t)?Et(t):o,l=i?i[0]:t.charAt(0),u=i?Qt(i,1).join(""):t.slice(1);return l[e]()+u}}function Un(e){return function(t){return Ti(Gu(zu(t).replace(U_,"")),e,"")}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Mn(e.prototype),l=e.apply(i,t);return Se(l)?l:i}}function Q0(e,t,i){var l=hr(e);function u(){for(var h=arguments.length,y=N(h),w=h,S=Hn(u);w--;)y[w]=arguments[w];var A=h<3&&y[0]!==S&&y[h-1]!==S?[]:Kt(y,S);if(h-=A.length,h<i)return Qc(e,t,ho,u.placeholder,o,y,A,o,o,i-h);var O=this&&this!==Pe&&this instanceof u?l:e;return et(O,this,y)}return u}function Yc(e){return function(t,i,l){var u=ge(t);if(!Ze(t)){var h=J(i,3);t=De(t),i=function(w){return h(u[w],w,u)}}var y=e(t,i,l);return y>-1?u[h?t[y]:y]:o}}function Xc(e){return Lt(function(t){var i=t.length,l=i,u=pt.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new dt(p);if(u&&!y&&yo(h)=="wrapper")var y=new pt([],!0)}for(l=y?l:i;++l<i;){h=t[l];var w=yo(h),S=w=="wrapper"?us(h):o;S&&hs(S[0])&&S[1]==(D|V|G|ue)&&!S[4].length&&S[9]==1?y=y[yo(S[0])].apply(y,S[3]):y=h.length==1&&hs(h)?y[w]():y.thru(h)}return function(){var A=arguments,O=A[0];if(y&&A.length==1&&te(O))return y.plant(O).value();for(var B=0,z=i?t[B].apply(this,A):O;++B<i;)z=t[B].call(this,z);return z}})}function ho(e,t,i,l,u,h,y,w,S,A){var O=t&D,B=t&I,z=t&P,Y=t&(V|F),Z=t&Ee,oe=z?o:hr(e);function Q(){for(var ae=arguments.length,ce=N(ae),ot=ae;ot--;)ce[ot]=arguments[ot];if(Y)var Ye=Hn(Q),it=uy(ce,Ye);if(l&&(ce=Wc(ce,l,u,Y)),h&&(ce=zc(ce,h,y,Y)),ae-=it,Y&&ae<A){var $e=Kt(ce,Ye);return Qc(e,t,ho,Q.placeholder,i,ce,$e,w,S,A-ae)}var kt=B?i:this,Ut=z?kt[e]:e;return ae=ce.length,w?ce=yw(ce,w):Z&&ae>1&&ce.reverse(),O&&S<ae&&(ce.length=S),this&&this!==Pe&&this instanceof Q&&(Ut=oe||hr(Ut)),Ut.apply(kt,ce)}return Q}function Jc(e,t){return function(i,l){return C0(i,e,t(l),{})}}function mo(e,t){return function(i,l){var u;if(i===o&&l===o)return t;if(i!==o&&(u=i),l!==o){if(u===o)return l;typeof i=="string"||typeof l=="string"?(i=nt(i),l=nt(l)):(i=Ic(i),l=Ic(l)),u=e(i,l)}return u}}function ss(e){return Lt(function(t){return t=xe(t,tt(J())),ie(function(i){var l=this;return e(t,function(u){return et(u,l,i)})})})}function go(e,t){t=t===o?" ":nt(t);var i=t.length;if(i<2)return i?ji(t,e):t;var l=ji(t,to(e/Dn(t)));return On(t)?Qt(Et(l),0,e).join(""):l.slice(0,e)}function j0(e,t,i,l){var u=t&I,h=hr(e);function y(){for(var w=-1,S=arguments.length,A=-1,O=l.length,B=N(O+S),z=this&&this!==Pe&&this instanceof y?h:e;++A<O;)B[A]=l[A];for(;S--;)B[A++]=arguments[++w];return et(z,u?i:this,B)}return y}function Zc(e){return function(t,i,l){return l&&typeof l!="number"&&Ke(t,i,l)&&(i=l=o),t=Ft(t),i===o?(i=t,t=0):i=Ft(i),l=l===o?t<i?1:-1:Ft(l),P0(t,i,l,e)}}function _o(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=_t(t),i=_t(i)),e(t,i)}}function Qc(e,t,i,l,u,h,y,w,S,A){var O=t&V,B=O?y:o,z=O?o:y,Y=O?h:o,Z=O?o:h;t|=O?G:X,t&=~(O?X:G),t&M||(t&=~(I|P));var oe=[e,t,u,Y,B,Z,z,w,S,A],Q=i.apply(o,oe);return hs(e)&&uu(Q,oe),Q.placeholder=l,fu(Q,e,t)}function as(e){var t=Te[e];return function(i,l){if(i=_t(i),l=l==null?0:He(re(l),292),l&&fc(i)){var u=(pe(i)+"e").split("e"),h=t(u[0]+"e"+(+u[1]+l));return u=(pe(h)+"e").split("e"),+(u[0]+"e"+(+u[1]-l))}return t(i)}}var ew=Ln&&1/Gr(new Ln([,-0]))[1]==Oe?function(e){return new Ln(e)}:$s;function jc(e){return function(t){var i=We(t);return i==bt?Li(t):i==vt?_y(t):cy(t,e(t))}}function Bt(e,t,i,l,u,h,y,w){var S=t&P;if(!S&&typeof e!="function")throw new dt(p);var A=l?l.length:0;if(A||(t&=~(G|X),l=u=o),y=y===o?y:Ve(re(y),0),w=w===o?w:re(w),A-=u?u.length:0,t&X){var O=l,B=u;l=u=o}var z=S?o:us(e),Y=[e,t,i,l,u,O,B,h,y,w];if(z&&mw(Y,z),e=Y[0],t=Y[1],i=Y[2],l=Y[3],u=Y[4],w=Y[9]=Y[9]===o?S?0:e.length:Ve(Y[9]-A,0),!w&&t&(V|F)&&(t&=~(V|F)),!t||t==I)var Z=Z0(e,t,i);else t==V||t==F?Z=Q0(e,t,w):(t==G||t==(I|G))&&!u.length?Z=j0(e,t,i,l):Z=ho.apply(o,Y);var oe=z?Oc:uu;return fu(oe(Z,Y),e,t)}function eu(e,t,i,l){return e===o||St(e,Bn[i])&&!he.call(l,i)?t:e}function tu(e,t,i,l,u,h){return Se(e)&&Se(t)&&(h.set(t,e),co(e,t,o,tu,h),h.delete(t)),e}function tw(e){return _r(e)?o:e}function nu(e,t,i,l,u,h){var y=i&x,w=e.length,S=t.length;if(w!=S&&!(y&&S>w))return!1;var A=h.get(e),O=h.get(t);if(A&&O)return A==t&&O==e;var B=-1,z=!0,Y=i&v?new dn:o;for(h.set(e,t),h.set(t,e);++B<w;){var Z=e[B],oe=t[B];if(l)var Q=y?l(oe,Z,B,t,e,h):l(Z,oe,B,e,t,h);if(Q!==o){if(Q)continue;z=!1;break}if(Y){if(!Vi(t,function(ae,ce){if(!rr(Y,ce)&&(Z===ae||u(Z,ae,i,l,h)))return Y.push(ce)})){z=!1;break}}else if(!(Z===oe||u(Z,oe,i,l,h))){z=!1;break}}return h.delete(e),h.delete(t),z}function nw(e,t,i,l,u,h,y){switch(i){case Tn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nr:return!(e.byteLength!=t.byteLength||!h(new Zr(e),new Zr(t)));case Jn:case Zn:case Qn:return St(+e,+t);case Lr:return e.name==t.name&&e.message==t.message;case jn:case er:return e==t+"";case bt:var w=Li;case vt:var S=l&x;if(w||(w=Gr),e.size!=t.size&&!S)return!1;var A=y.get(e);if(A)return A==t;l|=v,y.set(e,t);var O=nu(w(e),w(t),l,u,h,y);return y.delete(e),O;case Mr:if(lr)return lr.call(e)==lr.call(t)}return!1}function rw(e,t,i,l,u,h){var y=i&x,w=ls(e),S=w.length,A=ls(t),O=A.length;if(S!=O&&!y)return!1;for(var B=S;B--;){var z=w[B];if(!(y?z in t:he.call(t,z)))return!1}var Y=h.get(e),Z=h.get(t);if(Y&&Z)return Y==t&&Z==e;var oe=!0;h.set(e,t),h.set(t,e);for(var Q=y;++B<S;){z=w[B];var ae=e[z],ce=t[z];if(l)var ot=y?l(ce,ae,z,t,e,h):l(ae,ce,z,e,t,h);if(!(ot===o?ae===ce||u(ae,ce,i,l,h):ot)){oe=!1;break}Q||(Q=z=="constructor")}if(oe&&!Q){var Ye=e.constructor,it=t.constructor;Ye!=it&&"constructor"in e&&"constructor"in t&&!(typeof Ye=="function"&&Ye instanceof Ye&&typeof it=="function"&&it instanceof it)&&(oe=!1)}return h.delete(e),h.delete(t),oe}function Lt(e){return gs(lu(e,o,_u),e+"")}function ls(e){return Ec(e,De,ds)}function cs(e){return Ec(e,Qe,ru)}var us=ro?function(e){return ro.get(e)}:$s;function yo(e){for(var t=e.name+"",i=Pn[t],l=he.call(Pn,t)?i.length:0;l--;){var u=i[l],h=u.func;if(h==null||h==e)return u.name}return t}function Hn(e){var t=he.call(d,"placeholder")?d:e;return t.placeholder}function J(){var e=d.iteratee||Ns;return e=e===Ns?kc:e,arguments.length?e(arguments[0],arguments[1]):e}function wo(e,t){var i=e.__data__;return fw(t)?i[typeof t=="string"?"string":"hash"]:i.map}function fs(e){for(var t=De(e),i=t.length;i--;){var l=t[i],u=e[l];t[i]=[l,u,su(u)]}return t}function mn(e,t){var i=hy(e,t);return Sc(i)?i:o}function ow(e){var t=he.call(e,un),i=e[un];try{e[un]=o;var l=!0}catch{}var u=Xr.call(e);return l&&(t?e[un]=i:delete e[un]),u}var ds=Mi?function(e){return e==null?[]:(e=ge(e),Gt(Mi(e),function(t){return cc.call(e,t)}))}:Ts,ru=Mi?function(e){for(var t=[];e;)qt(t,ds(e)),e=Qr(e);return t}:Ts,We=qe;(Fi&&We(new Fi(new ArrayBuffer(1)))!=Tn||ir&&We(new ir)!=bt||Ui&&We(Ui.resolve())!=wl||Ln&&We(new Ln)!=vt||sr&&We(new sr)!=tr)&&(We=function(e){var t=qe(e),i=t==At?e.constructor:o,l=i?gn(i):"";if(l)switch(l){case Fy:return Tn;case Uy:return bt;case Hy:return wl;case Wy:return vt;case zy:return tr}return t});function iw(e,t,i){for(var l=-1,u=i.length;++l<u;){var h=i[l],y=h.size;switch(h.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=He(t,e+y);break;case"takeRight":e=Ve(e,t-y);break}}return{start:e,end:t}}function sw(e){var t=e.match(d_);return t?t[1].split(p_):[]}function ou(e,t,i){t=Zt(t,e);for(var l=-1,u=t.length,h=!1;++l<u;){var y=Tt(t[l]);if(!(h=e!=null&&i(e,y)))break;e=e[y]}return h||++l!=u?h:(u=e==null?0:e.length,!!u&&Co(u)&&Pt(y,u)&&(te(e)||_n(e)))}function aw(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&he.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function iu(e){return typeof e.constructor=="function"&&!mr(e)?Mn(Qr(e)):{}}function lw(e,t,i){var l=e.constructor;switch(t){case nr:return is(e);case Jn:case Zn:return new l(+e);case Tn:return G0(e,i);case fi:case di:case pi:case hi:case mi:case gi:case _i:case yi:case wi:return Uc(e,i);case bt:return new l;case Qn:case er:return new l(e);case jn:return q0(e);case vt:return new l;case Mr:return K0(e)}}function cw(e,t){var i=t.length;if(!i)return e;var l=i-1;return t[l]=(i>1?"& ":"")+t[l],t=t.join(i>2?", ":" "),e.replace(f_,`{
/* [wrapped with `+t+`] */
`)}function uw(e){return te(e)||_n(e)||!!(uc&&e&&e[uc])}function Pt(e,t){var i=typeof e;return t=t??_e,!!t&&(i=="number"||i!="symbol"&&E_.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e,t,i){if(!Se(i))return!1;var l=typeof t;return(l=="number"?Ze(i)&&Pt(t,i.length):l=="string"&&t in i)?St(i[t],e):!1}function ps(e,t){if(te(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||rt(e)?!0:a_.test(e)||!s_.test(e)||t!=null&&e in ge(t)}function fw(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function hs(e){var t=yo(e),i=d[t];if(typeof i!="function"||!(t in le.prototype))return!1;if(e===i)return!0;var l=us(i);return!!l&&e===l[0]}function dw(e){return!!sc&&sc in e}var pw=Kr?Mt:Vs;function mr(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Bn;return e===i}function su(e){return e===e&&!Se(e)}function au(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==o||e in ge(i))}}function hw(e){var t=So(e,function(l){return i.size===m&&i.clear(),l}),i=t.cache;return t}function mw(e,t){var i=e[1],l=t[1],u=i|l,h=u<(I|P|D),y=l==D&&i==V||l==D&&i==ue&&e[7].length<=t[8]||l==(D|ue)&&t[7].length<=t[8]&&i==V;if(!(h||y))return e;l&I&&(e[2]=t[2],u|=i&I?0:M);var w=t[3];if(w){var S=e[3];e[3]=S?Wc(S,w,t[4]):w,e[4]=S?Kt(e[3],b):t[4]}return w=t[5],w&&(S=e[5],e[5]=S?zc(S,w,t[6]):w,e[6]=S?Kt(e[5],b):t[6]),w=t[7],w&&(e[7]=w),l&D&&(e[8]=e[8]==null?t[8]:He(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function gw(e){var t=[];if(e!=null)for(var i in ge(e))t.push(i);return t}function _w(e){return Xr.call(e)}function lu(e,t,i){return t=Ve(t===o?e.length-1:t,0),function(){for(var l=arguments,u=-1,h=Ve(l.length-t,0),y=N(h);++u<h;)y[u]=l[t+u];u=-1;for(var w=N(t+1);++u<t;)w[u]=l[u];return w[t]=i(y),et(e,this,w)}}function cu(e,t){return t.length<2?e:hn(e,mt(t,0,-1))}function yw(e,t){for(var i=e.length,l=He(t.length,i),u=Je(e);l--;){var h=t[l];e[l]=Pt(h,i)?u[h]:o}return e}function ms(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var uu=du(Oc),gr=Oy||function(e,t){return Pe.setTimeout(e,t)},gs=du(U0);function fu(e,t,i){var l=t+"";return gs(e,cw(l,ww(sw(l),i)))}function du(e){var t=0,i=0;return function(){var l=Ly(),u=K-(l-i);if(i=l,u>0){if(++t>=U)return arguments[0]}else t=0;return e.apply(o,arguments)}}function bo(e,t){var i=-1,l=e.length,u=l-1;for(t=t===o?l:t;++i<t;){var h=Qi(i,u),y=e[h];e[h]=e[i],e[i]=y}return e.length=t,e}var pu=hw(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l_,function(i,l,u,h){t.push(u?h.replace(g_,"$1"):l||i)}),t});function Tt(e){if(typeof e=="string"||rt(e))return e;var t=e+"";return t=="0"&&1/e==-Oe?"-0":t}function gn(e){if(e!=null){try{return Yr.call(e)}catch{}try{return e+""}catch{}}return""}function ww(e,t){return ft($n,function(i){var l="_."+i[0];t&i[1]&&!Wr(e,l)&&e.push(l)}),e.sort()}function hu(e){if(e instanceof le)return e.clone();var t=new pt(e.__wrapped__,e.__chain__);return t.__actions__=Je(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function bw(e,t,i){(i?Ke(e,t,i):t===o)?t=1:t=Ve(re(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var u=0,h=0,y=N(to(l/t));u<l;)y[h++]=mt(e,u,u+=t);return y}function vw(e){for(var t=-1,i=e==null?0:e.length,l=0,u=[];++t<i;){var h=e[t];h&&(u[l++]=h)}return u}function Ew(){var e=arguments.length;if(!e)return[];for(var t=N(e-1),i=arguments[0],l=e;l--;)t[l-1]=arguments[l];return qt(te(i)?Je(i):[i],Me(t,1))}var xw=ie(function(e,t){return Re(e)?ur(e,Me(t,1,Re,!0)):[]}),Sw=ie(function(e,t){var i=gt(t);return Re(i)&&(i=o),Re(e)?ur(e,Me(t,1,Re,!0),J(i,2)):[]}),kw=ie(function(e,t){var i=gt(t);return Re(i)&&(i=o),Re(e)?ur(e,Me(t,1,Re,!0),o,i):[]});function Cw(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:re(t),mt(e,t<0?0:t,l)):[]}function Nw(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:re(t),t=l-t,mt(e,0,t<0?0:t)):[]}function Rw(e,t){return e&&e.length?fo(e,J(t,3),!0,!0):[]}function $w(e,t){return e&&e.length?fo(e,J(t,3),!0):[]}function Tw(e,t,i,l){var u=e==null?0:e.length;return u?(i&&typeof i!="number"&&Ke(e,t,i)&&(i=0,l=u),E0(e,t,i,l)):[]}function mu(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=i==null?0:re(i);return u<0&&(u=Ve(l+u,0)),zr(e,J(t,3),u)}function gu(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=l-1;return i!==o&&(u=re(i),u=i<0?Ve(l+u,0):He(u,l-1)),zr(e,J(t,3),u,!0)}function _u(e){var t=e==null?0:e.length;return t?Me(e,1):[]}function Vw(e){var t=e==null?0:e.length;return t?Me(e,Oe):[]}function Aw(e,t){var i=e==null?0:e.length;return i?(t=t===o?1:re(t),Me(e,t)):[]}function Ow(e){for(var t=-1,i=e==null?0:e.length,l={};++t<i;){var u=e[t];l[u[0]]=u[1]}return l}function yu(e){return e&&e.length?e[0]:o}function Dw(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=i==null?0:re(i);return u<0&&(u=Ve(l+u,0)),An(e,t,u)}function Iw(e){var t=e==null?0:e.length;return t?mt(e,0,-1):[]}var Bw=ie(function(e){var t=xe(e,rs);return t.length&&t[0]===e[0]?Ki(t):[]}),Lw=ie(function(e){var t=gt(e),i=xe(e,rs);return t===gt(i)?t=o:i.pop(),i.length&&i[0]===e[0]?Ki(i,J(t,2)):[]}),Pw=ie(function(e){var t=gt(e),i=xe(e,rs);return t=typeof t=="function"?t:o,t&&i.pop(),i.length&&i[0]===e[0]?Ki(i,o,t):[]});function Mw(e,t){return e==null?"":Iy.call(e,t)}function gt(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Fw(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=l;return i!==o&&(u=re(i),u=u<0?Ve(l+u,0):He(u,l-1)),t===t?wy(e,t,u):zr(e,Ql,u,!0)}function Uw(e,t){return e&&e.length?$c(e,re(t)):o}var Hw=ie(wu);function wu(e,t){return e&&e.length&&t&&t.length?Zi(e,t):e}function Ww(e,t,i){return e&&e.length&&t&&t.length?Zi(e,t,J(i,2)):e}function zw(e,t,i){return e&&e.length&&t&&t.length?Zi(e,t,o,i):e}var Gw=Lt(function(e,t){var i=e==null?0:e.length,l=Wi(e,t);return Ac(e,xe(t,function(u){return Pt(u,i)?+u:u}).sort(Hc)),l});function qw(e,t){var i=[];if(!(e&&e.length))return i;var l=-1,u=[],h=e.length;for(t=J(t,3);++l<h;){var y=e[l];t(y,l,e)&&(i.push(y),u.push(l))}return Ac(e,u),i}function _s(e){return e==null?e:My.call(e)}function Kw(e,t,i){var l=e==null?0:e.length;return l?(i&&typeof i!="number"&&Ke(e,t,i)?(t=0,i=l):(t=t==null?0:re(t),i=i===o?l:re(i)),mt(e,t,i)):[]}function Yw(e,t){return uo(e,t)}function Xw(e,t,i){return es(e,t,J(i,2))}function Jw(e,t){var i=e==null?0:e.length;if(i){var l=uo(e,t);if(l<i&&St(e[l],t))return l}return-1}function Zw(e,t){return uo(e,t,!0)}function Qw(e,t,i){return es(e,t,J(i,2),!0)}function jw(e,t){var i=e==null?0:e.length;if(i){var l=uo(e,t,!0)-1;if(St(e[l],t))return l}return-1}function eb(e){return e&&e.length?Dc(e):[]}function tb(e,t){return e&&e.length?Dc(e,J(t,2)):[]}function nb(e){var t=e==null?0:e.length;return t?mt(e,1,t):[]}function rb(e,t,i){return e&&e.length?(t=i||t===o?1:re(t),mt(e,0,t<0?0:t)):[]}function ob(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:re(t),t=l-t,mt(e,t<0?0:t,l)):[]}function ib(e,t){return e&&e.length?fo(e,J(t,3),!1,!0):[]}function sb(e,t){return e&&e.length?fo(e,J(t,3)):[]}var ab=ie(function(e){return Jt(Me(e,1,Re,!0))}),lb=ie(function(e){var t=gt(e);return Re(t)&&(t=o),Jt(Me(e,1,Re,!0),J(t,2))}),cb=ie(function(e){var t=gt(e);return t=typeof t=="function"?t:o,Jt(Me(e,1,Re,!0),o,t)});function ub(e){return e&&e.length?Jt(e):[]}function fb(e,t){return e&&e.length?Jt(e,J(t,2)):[]}function db(e,t){return t=typeof t=="function"?t:o,e&&e.length?Jt(e,o,t):[]}function ys(e){if(!(e&&e.length))return[];var t=0;return e=Gt(e,function(i){if(Re(i))return t=Ve(i.length,t),!0}),Ii(t,function(i){return xe(e,Ai(i))})}function bu(e,t){if(!(e&&e.length))return[];var i=ys(e);return t==null?i:xe(i,function(l){return et(t,o,l)})}var pb=ie(function(e,t){return Re(e)?ur(e,t):[]}),hb=ie(function(e){return ns(Gt(e,Re))}),mb=ie(function(e){var t=gt(e);return Re(t)&&(t=o),ns(Gt(e,Re),J(t,2))}),gb=ie(function(e){var t=gt(e);return t=typeof t=="function"?t:o,ns(Gt(e,Re),o,t)}),_b=ie(ys);function yb(e,t){return Pc(e||[],t||[],cr)}function wb(e,t){return Pc(e||[],t||[],pr)}var bb=ie(function(e){var t=e.length,i=t>1?e[t-1]:o;return i=typeof i=="function"?(e.pop(),i):o,bu(e,i)});function vu(e){var t=d(e);return t.__chain__=!0,t}function vb(e,t){return t(e),e}function vo(e,t){return t(e)}var Eb=Lt(function(e){var t=e.length,i=t?e[0]:0,l=this.__wrapped__,u=function(h){return Wi(h,e)};return t>1||this.__actions__.length||!(l instanceof le)||!Pt(i)?this.thru(u):(l=l.slice(i,+i+(t?1:0)),l.__actions__.push({func:vo,args:[u],thisArg:o}),new pt(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(o),h}))});function xb(){return vu(this)}function Sb(){return new pt(this.value(),this.__chain__)}function kb(){this.__values__===o&&(this.__values__=Iu(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Cb(){return this}function Nb(e){for(var t,i=this;i instanceof io;){var l=hu(i);l.__index__=0,l.__values__=o,t?u.__wrapped__=l:t=l;var u=l;i=i.__wrapped__}return u.__wrapped__=e,t}function Rb(){var e=this.__wrapped__;if(e instanceof le){var t=e;return this.__actions__.length&&(t=new le(this)),t=t.reverse(),t.__actions__.push({func:vo,args:[_s],thisArg:o}),new pt(t,this.__chain__)}return this.thru(_s)}function $b(){return Lc(this.__wrapped__,this.__actions__)}var Tb=po(function(e,t,i){he.call(e,i)?++e[i]:It(e,i,1)});function Vb(e,t,i){var l=te(e)?Jl:v0;return i&&Ke(e,t,i)&&(t=o),l(e,J(t,3))}function Ab(e,t){var i=te(e)?Gt:bc;return i(e,J(t,3))}var Ob=Yc(mu),Db=Yc(gu);function Ib(e,t){return Me(Eo(e,t),1)}function Bb(e,t){return Me(Eo(e,t),Oe)}function Lb(e,t,i){return i=i===o?1:re(i),Me(Eo(e,t),i)}function Eu(e,t){var i=te(e)?ft:Xt;return i(e,J(t,3))}function xu(e,t){var i=te(e)?ny:wc;return i(e,J(t,3))}var Pb=po(function(e,t,i){he.call(e,i)?e[i].push(t):It(e,i,[t])});function Mb(e,t,i,l){e=Ze(e)?e:zn(e),i=i&&!l?re(i):0;var u=e.length;return i<0&&(i=Ve(u+i,0)),No(e)?i<=u&&e.indexOf(t,i)>-1:!!u&&An(e,t,i)>-1}var Fb=ie(function(e,t,i){var l=-1,u=typeof t=="function",h=Ze(e)?N(e.length):[];return Xt(e,function(y){h[++l]=u?et(t,y,i):fr(y,t,i)}),h}),Ub=po(function(e,t,i){It(e,i,t)});function Eo(e,t){var i=te(e)?xe:Cc;return i(e,J(t,3))}function Hb(e,t,i,l){return e==null?[]:(te(t)||(t=t==null?[]:[t]),i=l?o:i,te(i)||(i=i==null?[]:[i]),Tc(e,t,i))}var Wb=po(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function zb(e,t,i){var l=te(e)?Ti:ec,u=arguments.length<3;return l(e,J(t,4),i,u,Xt)}function Gb(e,t,i){var l=te(e)?ry:ec,u=arguments.length<3;return l(e,J(t,4),i,u,wc)}function qb(e,t){var i=te(e)?Gt:bc;return i(e,ko(J(t,3)))}function Kb(e){var t=te(e)?mc:M0;return t(e)}function Yb(e,t,i){(i?Ke(e,t,i):t===o)?t=1:t=re(t);var l=te(e)?g0:F0;return l(e,t)}function Xb(e){var t=te(e)?_0:H0;return t(e)}function Jb(e){if(e==null)return 0;if(Ze(e))return No(e)?Dn(e):e.length;var t=We(e);return t==bt||t==vt?e.size:Xi(e).length}function Zb(e,t,i){var l=te(e)?Vi:W0;return i&&Ke(e,t,i)&&(t=o),l(e,J(t,3))}var Qb=ie(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Ke(e,t[0],t[1])?t=[]:i>2&&Ke(t[0],t[1],t[2])&&(t=[t[0]]),Tc(e,Me(t,1),[])}),xo=Ay||function(){return Pe.Date.now()};function jb(e,t){if(typeof t!="function")throw new dt(p);return e=re(e),function(){if(--e<1)return t.apply(this,arguments)}}function Su(e,t,i){return t=i?o:t,t=e&&t==null?e.length:t,Bt(e,D,o,o,o,o,t)}function ku(e,t){var i;if(typeof t!="function")throw new dt(p);return e=re(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=o),i}}var ws=ie(function(e,t,i){var l=I;if(i.length){var u=Kt(i,Hn(ws));l|=G}return Bt(e,l,t,i,u)}),Cu=ie(function(e,t,i){var l=I|P;if(i.length){var u=Kt(i,Hn(Cu));l|=G}return Bt(t,l,e,i,u)});function Nu(e,t,i){t=i?o:t;var l=Bt(e,V,o,o,o,o,o,t);return l.placeholder=Nu.placeholder,l}function Ru(e,t,i){t=i?o:t;var l=Bt(e,F,o,o,o,o,o,t);return l.placeholder=Ru.placeholder,l}function $u(e,t,i){var l,u,h,y,w,S,A=0,O=!1,B=!1,z=!0;if(typeof e!="function")throw new dt(p);t=_t(t)||0,Se(i)&&(O=!!i.leading,B="maxWait"in i,h=B?Ve(_t(i.maxWait)||0,t):h,z="trailing"in i?!!i.trailing:z);function Y($e){var kt=l,Ut=u;return l=u=o,A=$e,y=e.apply(Ut,kt),y}function Z($e){return A=$e,w=gr(ae,t),O?Y($e):y}function oe($e){var kt=$e-S,Ut=$e-A,Yu=t-kt;return B?He(Yu,h-Ut):Yu}function Q($e){var kt=$e-S,Ut=$e-A;return S===o||kt>=t||kt<0||B&&Ut>=h}function ae(){var $e=xo();if(Q($e))return ce($e);w=gr(ae,oe($e))}function ce($e){return w=o,z&&l?Y($e):(l=u=o,y)}function ot(){w!==o&&Mc(w),A=0,l=S=u=w=o}function Ye(){return w===o?y:ce(xo())}function it(){var $e=xo(),kt=Q($e);if(l=arguments,u=this,S=$e,kt){if(w===o)return Z(S);if(B)return Mc(w),w=gr(ae,t),Y(S)}return w===o&&(w=gr(ae,t)),y}return it.cancel=ot,it.flush=Ye,it}var ev=ie(function(e,t){return yc(e,1,t)}),tv=ie(function(e,t,i){return yc(e,_t(t)||0,i)});function nv(e){return Bt(e,Ee)}function So(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new dt(p);var i=function(){var l=arguments,u=t?t.apply(this,l):l[0],h=i.cache;if(h.has(u))return h.get(u);var y=e.apply(this,l);return i.cache=h.set(u,y)||h,y};return i.cache=new(So.Cache||Dt),i}So.Cache=Dt;function ko(e){if(typeof e!="function")throw new dt(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function rv(e){return ku(2,e)}var ov=z0(function(e,t){t=t.length==1&&te(t[0])?xe(t[0],tt(J())):xe(Me(t,1),tt(J()));var i=t.length;return ie(function(l){for(var u=-1,h=He(l.length,i);++u<h;)l[u]=t[u].call(this,l[u]);return et(e,this,l)})}),bs=ie(function(e,t){var i=Kt(t,Hn(bs));return Bt(e,G,o,t,i)}),Tu=ie(function(e,t){var i=Kt(t,Hn(Tu));return Bt(e,X,o,t,i)}),iv=Lt(function(e,t){return Bt(e,ue,o,o,o,t)});function sv(e,t){if(typeof e!="function")throw new dt(p);return t=t===o?t:re(t),ie(e,t)}function av(e,t){if(typeof e!="function")throw new dt(p);return t=t==null?0:Ve(re(t),0),ie(function(i){var l=i[t],u=Qt(i,0,t);return l&&qt(u,l),et(e,this,u)})}function lv(e,t,i){var l=!0,u=!0;if(typeof e!="function")throw new dt(p);return Se(i)&&(l="leading"in i?!!i.leading:l,u="trailing"in i?!!i.trailing:u),$u(e,t,{leading:l,maxWait:t,trailing:u})}function cv(e){return Su(e,1)}function uv(e,t){return bs(os(t),e)}function fv(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function dv(e){return ht(e,$)}function pv(e,t){return t=typeof t=="function"?t:o,ht(e,$,t)}function hv(e){return ht(e,k|$)}function mv(e,t){return t=typeof t=="function"?t:o,ht(e,k|$,t)}function gv(e,t){return t==null||_c(e,t,De(t))}function St(e,t){return e===t||e!==e&&t!==t}var _v=_o(qi),yv=_o(function(e,t){return e>=t}),_n=xc(function(){return arguments}())?xc:function(e){return Ce(e)&&he.call(e,"callee")&&!cc.call(e,"callee")},te=N.isArray,wv=zl?tt(zl):N0;function Ze(e){return e!=null&&Co(e.length)&&!Mt(e)}function Re(e){return Ce(e)&&Ze(e)}function bv(e){return e===!0||e===!1||Ce(e)&&qe(e)==Jn}var jt=Dy||Vs,vv=Gl?tt(Gl):R0;function Ev(e){return Ce(e)&&e.nodeType===1&&!_r(e)}function xv(e){if(e==null)return!0;if(Ze(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||jt(e)||Wn(e)||_n(e)))return!e.length;var t=We(e);if(t==bt||t==vt)return!e.size;if(mr(e))return!Xi(e).length;for(var i in e)if(he.call(e,i))return!1;return!0}function Sv(e,t){return dr(e,t)}function kv(e,t,i){i=typeof i=="function"?i:o;var l=i?i(e,t):o;return l===o?dr(e,t,o,i):!!l}function vs(e){if(!Ce(e))return!1;var t=qe(e);return t==Lr||t==Yg||typeof e.message=="string"&&typeof e.name=="string"&&!_r(e)}function Cv(e){return typeof e=="number"&&fc(e)}function Mt(e){if(!Se(e))return!1;var t=qe(e);return t==Pr||t==yl||t==_l||t==Jg}function Vu(e){return typeof e=="number"&&e==re(e)}function Co(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_e}function Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ce(e){return e!=null&&typeof e=="object"}var Au=ql?tt(ql):T0;function Nv(e,t){return e===t||Yi(e,t,fs(t))}function Rv(e,t,i){return i=typeof i=="function"?i:o,Yi(e,t,fs(t),i)}function $v(e){return Ou(e)&&e!=+e}function Tv(e){if(pw(e))throw new ee(f);return Sc(e)}function Vv(e){return e===null}function Av(e){return e==null}function Ou(e){return typeof e=="number"||Ce(e)&&qe(e)==Qn}function _r(e){if(!Ce(e)||qe(e)!=At)return!1;var t=Qr(e);if(t===null)return!0;var i=he.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Yr.call(i)==Ry}var Es=Kl?tt(Kl):V0;function Ov(e){return Vu(e)&&e>=-_e&&e<=_e}var Du=Yl?tt(Yl):A0;function No(e){return typeof e=="string"||!te(e)&&Ce(e)&&qe(e)==er}function rt(e){return typeof e=="symbol"||Ce(e)&&qe(e)==Mr}var Wn=Xl?tt(Xl):O0;function Dv(e){return e===o}function Iv(e){return Ce(e)&&We(e)==tr}function Bv(e){return Ce(e)&&qe(e)==Qg}var Lv=_o(Ji),Pv=_o(function(e,t){return e<=t});function Iu(e){if(!e)return[];if(Ze(e))return No(e)?Et(e):Je(e);if(or&&e[or])return gy(e[or]());var t=We(e),i=t==bt?Li:t==vt?Gr:zn;return i(e)}function Ft(e){if(!e)return e===0?e:0;if(e=_t(e),e===Oe||e===-Oe){var t=e<0?-1:1;return t*Rn}return e===e?e:0}function re(e){var t=Ft(e),i=t%1;return t===t?i?t-i:t:0}function Bu(e){return e?pn(re(e),0,ke):0}function _t(e){if(typeof e=="number")return e;if(rt(e))return ye;if(Se(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Se(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tc(e);var i=w_.test(e);return i||v_.test(e)?j_(e.slice(2),i?2:8):y_.test(e)?ye:+e}function Lu(e){return $t(e,Qe(e))}function Mv(e){return e?pn(re(e),-_e,_e):e===0?e:0}function pe(e){return e==null?"":nt(e)}var Fv=Fn(function(e,t){if(mr(t)||Ze(t)){$t(t,De(t),e);return}for(var i in t)he.call(t,i)&&cr(e,i,t[i])}),Pu=Fn(function(e,t){$t(t,Qe(t),e)}),Ro=Fn(function(e,t,i,l){$t(t,Qe(t),e,l)}),Uv=Fn(function(e,t,i,l){$t(t,De(t),e,l)}),Hv=Lt(Wi);function Wv(e,t){var i=Mn(e);return t==null?i:gc(i,t)}var zv=ie(function(e,t){e=ge(e);var i=-1,l=t.length,u=l>2?t[2]:o;for(u&&Ke(t[0],t[1],u)&&(l=1);++i<l;)for(var h=t[i],y=Qe(h),w=-1,S=y.length;++w<S;){var A=y[w],O=e[A];(O===o||St(O,Bn[A])&&!he.call(e,A))&&(e[A]=h[A])}return e}),Gv=ie(function(e){return e.push(o,tu),et(Mu,o,e)});function qv(e,t){return Zl(e,J(t,3),Rt)}function Kv(e,t){return Zl(e,J(t,3),Gi)}function Yv(e,t){return e==null?e:zi(e,J(t,3),Qe)}function Xv(e,t){return e==null?e:vc(e,J(t,3),Qe)}function Jv(e,t){return e&&Rt(e,J(t,3))}function Zv(e,t){return e&&Gi(e,J(t,3))}function Qv(e){return e==null?[]:lo(e,De(e))}function jv(e){return e==null?[]:lo(e,Qe(e))}function xs(e,t,i){var l=e==null?o:hn(e,t);return l===o?i:l}function eE(e,t){return e!=null&&ou(e,t,x0)}function Ss(e,t){return e!=null&&ou(e,t,S0)}var tE=Jc(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Xr.call(t)),e[t]=i},Cs(je)),nE=Jc(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Xr.call(t)),he.call(e,t)?e[t].push(i):e[t]=[i]},J),rE=ie(fr);function De(e){return Ze(e)?hc(e):Xi(e)}function Qe(e){return Ze(e)?hc(e,!0):D0(e)}function oE(e,t){var i={};return t=J(t,3),Rt(e,function(l,u,h){It(i,t(l,u,h),l)}),i}function iE(e,t){var i={};return t=J(t,3),Rt(e,function(l,u,h){It(i,u,t(l,u,h))}),i}var sE=Fn(function(e,t,i){co(e,t,i)}),Mu=Fn(function(e,t,i,l){co(e,t,i,l)}),aE=Lt(function(e,t){var i={};if(e==null)return i;var l=!1;t=xe(t,function(h){return h=Zt(h,e),l||(l=h.length>1),h}),$t(e,cs(e),i),l&&(i=ht(i,k|C|$,tw));for(var u=t.length;u--;)ts(i,t[u]);return i});function lE(e,t){return Fu(e,ko(J(t)))}var cE=Lt(function(e,t){return e==null?{}:B0(e,t)});function Fu(e,t){if(e==null)return{};var i=xe(cs(e),function(l){return[l]});return t=J(t),Vc(e,i,function(l,u){return t(l,u[0])})}function uE(e,t,i){t=Zt(t,e);var l=-1,u=t.length;for(u||(u=1,e=o);++l<u;){var h=e==null?o:e[Tt(t[l])];h===o&&(l=u,h=i),e=Mt(h)?h.call(e):h}return e}function fE(e,t,i){return e==null?e:pr(e,t,i)}function dE(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:pr(e,t,i,l)}var Uu=jc(De),Hu=jc(Qe);function pE(e,t,i){var l=te(e),u=l||jt(e)||Wn(e);if(t=J(t,4),i==null){var h=e&&e.constructor;u?i=l?new h:[]:Se(e)?i=Mt(h)?Mn(Qr(e)):{}:i={}}return(u?ft:Rt)(e,function(y,w,S){return t(i,y,w,S)}),i}function hE(e,t){return e==null?!0:ts(e,t)}function mE(e,t,i){return e==null?e:Bc(e,t,os(i))}function gE(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:Bc(e,t,os(i),l)}function zn(e){return e==null?[]:Bi(e,De(e))}function _E(e){return e==null?[]:Bi(e,Qe(e))}function yE(e,t,i){return i===o&&(i=t,t=o),i!==o&&(i=_t(i),i=i===i?i:0),t!==o&&(t=_t(t),t=t===t?t:0),pn(_t(e),t,i)}function wE(e,t,i){return t=Ft(t),i===o?(i=t,t=0):i=Ft(i),e=_t(e),k0(e,t,i)}function bE(e,t,i){if(i&&typeof i!="boolean"&&Ke(e,t,i)&&(t=i=o),i===o&&(typeof t=="boolean"?(i=t,t=o):typeof e=="boolean"&&(i=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Ft(e),t===o?(t=e,e=0):t=Ft(t)),e>t){var l=e;e=t,t=l}if(i||e%1||t%1){var u=dc();return He(e+u*(t-e+Q_("1e-"+((u+"").length-1))),t)}return Qi(e,t)}var vE=Un(function(e,t,i){return t=t.toLowerCase(),e+(i?Wu(t):t)});function Wu(e){return ks(pe(e).toLowerCase())}function zu(e){return e=pe(e),e&&e.replace(x_,fy).replace(H_,"")}function EE(e,t,i){e=pe(e),t=nt(t);var l=e.length;i=i===o?l:pn(re(i),0,l);var u=i;return i-=t.length,i>=0&&e.slice(i,u)==t}function xE(e){return e=pe(e),e&&r_.test(e)?e.replace(vl,dy):e}function SE(e){return e=pe(e),e&&c_.test(e)?e.replace(bi,"\\$&"):e}var kE=Un(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),CE=Un(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),NE=Kc("toLowerCase");function RE(e,t,i){e=pe(e),t=re(t);var l=t?Dn(e):0;if(!t||l>=t)return e;var u=(t-l)/2;return go(no(u),i)+e+go(to(u),i)}function $E(e,t,i){e=pe(e),t=re(t);var l=t?Dn(e):0;return t&&l<t?e+go(t-l,i):e}function TE(e,t,i){e=pe(e),t=re(t);var l=t?Dn(e):0;return t&&l<t?go(t-l,i)+e:e}function VE(e,t,i){return i||t==null?t=0:t&&(t=+t),Py(pe(e).replace(vi,""),t||0)}function AE(e,t,i){return(i?Ke(e,t,i):t===o)?t=1:t=re(t),ji(pe(e),t)}function OE(){var e=arguments,t=pe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var DE=Un(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function IE(e,t,i){return i&&typeof i!="number"&&Ke(e,t,i)&&(t=i=o),i=i===o?ke:i>>>0,i?(e=pe(e),e&&(typeof t=="string"||t!=null&&!Es(t))&&(t=nt(t),!t&&On(e))?Qt(Et(e),0,i):e.split(t,i)):[]}var BE=Un(function(e,t,i){return e+(i?" ":"")+ks(t)});function LE(e,t,i){return e=pe(e),i=i==null?0:pn(re(i),0,e.length),t=nt(t),e.slice(i,i+t.length)==t}function PE(e,t,i){var l=d.templateSettings;i&&Ke(e,t,i)&&(t=o),e=pe(e),t=Ro({},t,l,eu);var u=Ro({},t.imports,l.imports,eu),h=De(u),y=Bi(u,h),w,S,A=0,O=t.interpolate||Fr,B="__p += '",z=Pi((t.escape||Fr).source+"|"+O.source+"|"+(O===El?__:Fr).source+"|"+(t.evaluate||Fr).source+"|$","g"),Y="//# sourceURL="+(he.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++K_+"]")+`
`;e.replace(z,function(Q,ae,ce,ot,Ye,it){return ce||(ce=ot),B+=e.slice(A,it).replace(S_,py),ae&&(w=!0,B+=`' +
__e(`+ae+`) +
'`),Ye&&(S=!0,B+=`';
`+Ye+`;
__p += '`),ce&&(B+=`' +
((__t = (`+ce+`)) == null ? '' : __t) +
'`),A=it+Q.length,Q}),B+=`';
`;var Z=he.call(t,"variable")&&t.variable;if(!Z)B=`with (obj) {
`+B+`
}
`;else if(m_.test(Z))throw new ee(g);B=(S?B.replace(jg,""):B).replace(e_,"$1").replace(t_,"$1;"),B="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var oe=qu(function(){return de(h,Y+"return "+B).apply(o,y)});if(oe.source=B,vs(oe))throw oe;return oe}function ME(e){return pe(e).toLowerCase()}function FE(e){return pe(e).toUpperCase()}function UE(e,t,i){if(e=pe(e),e&&(i||t===o))return tc(e);if(!e||!(t=nt(t)))return e;var l=Et(e),u=Et(t),h=nc(l,u),y=rc(l,u)+1;return Qt(l,h,y).join("")}function HE(e,t,i){if(e=pe(e),e&&(i||t===o))return e.slice(0,ic(e)+1);if(!e||!(t=nt(t)))return e;var l=Et(e),u=rc(l,Et(t))+1;return Qt(l,0,u).join("")}function WE(e,t,i){if(e=pe(e),e&&(i||t===o))return e.replace(vi,"");if(!e||!(t=nt(t)))return e;var l=Et(e),u=nc(l,Et(t));return Qt(l,u).join("")}function zE(e,t){var i=H,l=W;if(Se(t)){var u="separator"in t?t.separator:u;i="length"in t?re(t.length):i,l="omission"in t?nt(t.omission):l}e=pe(e);var h=e.length;if(On(e)){var y=Et(e);h=y.length}if(i>=h)return e;var w=i-Dn(l);if(w<1)return l;var S=y?Qt(y,0,w).join(""):e.slice(0,w);if(u===o)return S+l;if(y&&(w+=S.length-w),Es(u)){if(e.slice(w).search(u)){var A,O=S;for(u.global||(u=Pi(u.source,pe(xl.exec(u))+"g")),u.lastIndex=0;A=u.exec(O);)var B=A.index;S=S.slice(0,B===o?w:B)}}else if(e.indexOf(nt(u),w)!=w){var z=S.lastIndexOf(u);z>-1&&(S=S.slice(0,z))}return S+l}function GE(e){return e=pe(e),e&&n_.test(e)?e.replace(bl,by):e}var qE=Un(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),ks=Kc("toUpperCase");function Gu(e,t,i){return e=pe(e),t=i?o:t,t===o?my(e)?xy(e):sy(e):e.match(t)||[]}var qu=ie(function(e,t){try{return et(e,o,t)}catch(i){return vs(i)?i:new ee(i)}}),KE=Lt(function(e,t){return ft(t,function(i){i=Tt(i),It(e,i,ws(e[i],e))}),e});function YE(e){var t=e==null?0:e.length,i=J();return e=t?xe(e,function(l){if(typeof l[1]!="function")throw new dt(p);return[i(l[0]),l[1]]}):[],ie(function(l){for(var u=-1;++u<t;){var h=e[u];if(et(h[0],this,l))return et(h[1],this,l)}})}function XE(e){return b0(ht(e,k))}function Cs(e){return function(){return e}}function JE(e,t){return e==null||e!==e?t:e}var ZE=Xc(),QE=Xc(!0);function je(e){return e}function Ns(e){return kc(typeof e=="function"?e:ht(e,k))}function jE(e){return Nc(ht(e,k))}function e1(e,t){return Rc(e,ht(t,k))}var t1=ie(function(e,t){return function(i){return fr(i,e,t)}}),n1=ie(function(e,t){return function(i){return fr(e,i,t)}});function Rs(e,t,i){var l=De(t),u=lo(t,l);i==null&&!(Se(t)&&(u.length||!l.length))&&(i=t,t=e,e=this,u=lo(t,De(t)));var h=!(Se(i)&&"chain"in i)||!!i.chain,y=Mt(e);return ft(u,function(w){var S=t[w];e[w]=S,y&&(e.prototype[w]=function(){var A=this.__chain__;if(h||A){var O=e(this.__wrapped__),B=O.__actions__=Je(this.__actions__);return B.push({func:S,args:arguments,thisArg:e}),O.__chain__=A,O}return S.apply(e,qt([this.value()],arguments))})}),e}function r1(){return Pe._===this&&(Pe._=$y),this}function $s(){}function o1(e){return e=re(e),ie(function(t){return $c(t,e)})}var i1=ss(xe),s1=ss(Jl),a1=ss(Vi);function Ku(e){return ps(e)?Ai(Tt(e)):L0(e)}function l1(e){return function(t){return e==null?o:hn(e,t)}}var c1=Zc(),u1=Zc(!0);function Ts(){return[]}function Vs(){return!1}function f1(){return{}}function d1(){return""}function p1(){return!0}function h1(e,t){if(e=re(e),e<1||e>_e)return[];var i=ke,l=He(e,ke);t=J(t),e-=ke;for(var u=Ii(l,t);++i<e;)t(i);return u}function m1(e){return te(e)?xe(e,Tt):rt(e)?[e]:Je(pu(pe(e)))}function g1(e){var t=++Ny;return pe(e)+t}var _1=mo(function(e,t){return e+t},0),y1=as("ceil"),w1=mo(function(e,t){return e/t},1),b1=as("floor");function v1(e){return e&&e.length?ao(e,je,qi):o}function E1(e,t){return e&&e.length?ao(e,J(t,2),qi):o}function x1(e){return jl(e,je)}function S1(e,t){return jl(e,J(t,2))}function k1(e){return e&&e.length?ao(e,je,Ji):o}function C1(e,t){return e&&e.length?ao(e,J(t,2),Ji):o}var N1=mo(function(e,t){return e*t},1),R1=as("round"),$1=mo(function(e,t){return e-t},0);function T1(e){return e&&e.length?Di(e,je):0}function V1(e,t){return e&&e.length?Di(e,J(t,2)):0}return d.after=jb,d.ary=Su,d.assign=Fv,d.assignIn=Pu,d.assignInWith=Ro,d.assignWith=Uv,d.at=Hv,d.before=ku,d.bind=ws,d.bindAll=KE,d.bindKey=Cu,d.castArray=fv,d.chain=vu,d.chunk=bw,d.compact=vw,d.concat=Ew,d.cond=YE,d.conforms=XE,d.constant=Cs,d.countBy=Tb,d.create=Wv,d.curry=Nu,d.curryRight=Ru,d.debounce=$u,d.defaults=zv,d.defaultsDeep=Gv,d.defer=ev,d.delay=tv,d.difference=xw,d.differenceBy=Sw,d.differenceWith=kw,d.drop=Cw,d.dropRight=Nw,d.dropRightWhile=Rw,d.dropWhile=$w,d.fill=Tw,d.filter=Ab,d.flatMap=Ib,d.flatMapDeep=Bb,d.flatMapDepth=Lb,d.flatten=_u,d.flattenDeep=Vw,d.flattenDepth=Aw,d.flip=nv,d.flow=ZE,d.flowRight=QE,d.fromPairs=Ow,d.functions=Qv,d.functionsIn=jv,d.groupBy=Pb,d.initial=Iw,d.intersection=Bw,d.intersectionBy=Lw,d.intersectionWith=Pw,d.invert=tE,d.invertBy=nE,d.invokeMap=Fb,d.iteratee=Ns,d.keyBy=Ub,d.keys=De,d.keysIn=Qe,d.map=Eo,d.mapKeys=oE,d.mapValues=iE,d.matches=jE,d.matchesProperty=e1,d.memoize=So,d.merge=sE,d.mergeWith=Mu,d.method=t1,d.methodOf=n1,d.mixin=Rs,d.negate=ko,d.nthArg=o1,d.omit=aE,d.omitBy=lE,d.once=rv,d.orderBy=Hb,d.over=i1,d.overArgs=ov,d.overEvery=s1,d.overSome=a1,d.partial=bs,d.partialRight=Tu,d.partition=Wb,d.pick=cE,d.pickBy=Fu,d.property=Ku,d.propertyOf=l1,d.pull=Hw,d.pullAll=wu,d.pullAllBy=Ww,d.pullAllWith=zw,d.pullAt=Gw,d.range=c1,d.rangeRight=u1,d.rearg=iv,d.reject=qb,d.remove=qw,d.rest=sv,d.reverse=_s,d.sampleSize=Yb,d.set=fE,d.setWith=dE,d.shuffle=Xb,d.slice=Kw,d.sortBy=Qb,d.sortedUniq=eb,d.sortedUniqBy=tb,d.split=IE,d.spread=av,d.tail=nb,d.take=rb,d.takeRight=ob,d.takeRightWhile=ib,d.takeWhile=sb,d.tap=vb,d.throttle=lv,d.thru=vo,d.toArray=Iu,d.toPairs=Uu,d.toPairsIn=Hu,d.toPath=m1,d.toPlainObject=Lu,d.transform=pE,d.unary=cv,d.union=ab,d.unionBy=lb,d.unionWith=cb,d.uniq=ub,d.uniqBy=fb,d.uniqWith=db,d.unset=hE,d.unzip=ys,d.unzipWith=bu,d.update=mE,d.updateWith=gE,d.values=zn,d.valuesIn=_E,d.without=pb,d.words=Gu,d.wrap=uv,d.xor=hb,d.xorBy=mb,d.xorWith=gb,d.zip=_b,d.zipObject=yb,d.zipObjectDeep=wb,d.zipWith=bb,d.entries=Uu,d.entriesIn=Hu,d.extend=Pu,d.extendWith=Ro,Rs(d,d),d.add=_1,d.attempt=qu,d.camelCase=vE,d.capitalize=Wu,d.ceil=y1,d.clamp=yE,d.clone=dv,d.cloneDeep=hv,d.cloneDeepWith=mv,d.cloneWith=pv,d.conformsTo=gv,d.deburr=zu,d.defaultTo=JE,d.divide=w1,d.endsWith=EE,d.eq=St,d.escape=xE,d.escapeRegExp=SE,d.every=Vb,d.find=Ob,d.findIndex=mu,d.findKey=qv,d.findLast=Db,d.findLastIndex=gu,d.findLastKey=Kv,d.floor=b1,d.forEach=Eu,d.forEachRight=xu,d.forIn=Yv,d.forInRight=Xv,d.forOwn=Jv,d.forOwnRight=Zv,d.get=xs,d.gt=_v,d.gte=yv,d.has=eE,d.hasIn=Ss,d.head=yu,d.identity=je,d.includes=Mb,d.indexOf=Dw,d.inRange=wE,d.invoke=rE,d.isArguments=_n,d.isArray=te,d.isArrayBuffer=wv,d.isArrayLike=Ze,d.isArrayLikeObject=Re,d.isBoolean=bv,d.isBuffer=jt,d.isDate=vv,d.isElement=Ev,d.isEmpty=xv,d.isEqual=Sv,d.isEqualWith=kv,d.isError=vs,d.isFinite=Cv,d.isFunction=Mt,d.isInteger=Vu,d.isLength=Co,d.isMap=Au,d.isMatch=Nv,d.isMatchWith=Rv,d.isNaN=$v,d.isNative=Tv,d.isNil=Av,d.isNull=Vv,d.isNumber=Ou,d.isObject=Se,d.isObjectLike=Ce,d.isPlainObject=_r,d.isRegExp=Es,d.isSafeInteger=Ov,d.isSet=Du,d.isString=No,d.isSymbol=rt,d.isTypedArray=Wn,d.isUndefined=Dv,d.isWeakMap=Iv,d.isWeakSet=Bv,d.join=Mw,d.kebabCase=kE,d.last=gt,d.lastIndexOf=Fw,d.lowerCase=CE,d.lowerFirst=NE,d.lt=Lv,d.lte=Pv,d.max=v1,d.maxBy=E1,d.mean=x1,d.meanBy=S1,d.min=k1,d.minBy=C1,d.stubArray=Ts,d.stubFalse=Vs,d.stubObject=f1,d.stubString=d1,d.stubTrue=p1,d.multiply=N1,d.nth=Uw,d.noConflict=r1,d.noop=$s,d.now=xo,d.pad=RE,d.padEnd=$E,d.padStart=TE,d.parseInt=VE,d.random=bE,d.reduce=zb,d.reduceRight=Gb,d.repeat=AE,d.replace=OE,d.result=uE,d.round=R1,d.runInContext=E,d.sample=Kb,d.size=Jb,d.snakeCase=DE,d.some=Zb,d.sortedIndex=Yw,d.sortedIndexBy=Xw,d.sortedIndexOf=Jw,d.sortedLastIndex=Zw,d.sortedLastIndexBy=Qw,d.sortedLastIndexOf=jw,d.startCase=BE,d.startsWith=LE,d.subtract=$1,d.sum=T1,d.sumBy=V1,d.template=PE,d.times=h1,d.toFinite=Ft,d.toInteger=re,d.toLength=Bu,d.toLower=ME,d.toNumber=_t,d.toSafeInteger=Mv,d.toString=pe,d.toUpper=FE,d.trim=UE,d.trimEnd=HE,d.trimStart=WE,d.truncate=zE,d.unescape=GE,d.uniqueId=g1,d.upperCase=qE,d.upperFirst=ks,d.each=Eu,d.eachRight=xu,d.first=yu,Rs(d,function(){var e={};return Rt(d,function(t,i){he.call(d.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),d.VERSION=a,ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),ft(["drop","take"],function(e,t){le.prototype[e]=function(i){i=i===o?1:Ve(re(i),0);var l=this.__filtered__&&!t?new le(this):this.clone();return l.__filtered__?l.__takeCount__=He(i,l.__takeCount__):l.__views__.push({size:He(i,ke),type:e+(l.__dir__<0?"Right":"")}),l},le.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),ft(["filter","map","takeWhile"],function(e,t){var i=t+1,l=i==se||i==Nt;le.prototype[e]=function(u){var h=this.clone();return h.__iteratees__.push({iteratee:J(u,3),type:i}),h.__filtered__=h.__filtered__||l,h}}),ft(["head","last"],function(e,t){var i="take"+(t?"Right":"");le.prototype[e]=function(){return this[i](1).value()[0]}}),ft(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");le.prototype[e]=function(){return this.__filtered__?new le(this):this[i](1)}}),le.prototype.compact=function(){return this.filter(je)},le.prototype.find=function(e){return this.filter(e).head()},le.prototype.findLast=function(e){return this.reverse().find(e)},le.prototype.invokeMap=ie(function(e,t){return typeof e=="function"?new le(this):this.map(function(i){return fr(i,e,t)})}),le.prototype.reject=function(e){return this.filter(ko(J(e)))},le.prototype.slice=function(e,t){e=re(e);var i=this;return i.__filtered__&&(e>0||t<0)?new le(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==o&&(t=re(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},le.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},le.prototype.toArray=function(){return this.take(ke)},Rt(le.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),u=d[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);u&&(d.prototype[t]=function(){var y=this.__wrapped__,w=l?[1]:arguments,S=y instanceof le,A=w[0],O=S||te(y),B=function(ae){var ce=u.apply(d,qt([ae],w));return l&&z?ce[0]:ce};O&&i&&typeof A=="function"&&A.length!=1&&(S=O=!1);var z=this.__chain__,Y=!!this.__actions__.length,Z=h&&!z,oe=S&&!Y;if(!h&&O){y=oe?y:new le(this);var Q=e.apply(y,w);return Q.__actions__.push({func:vo,args:[B],thisArg:o}),new pt(Q,z)}return Z&&oe?e.apply(this,w):(Q=this.thru(B),Z?l?Q.value()[0]:Q.value():Q)})}),ft(["pop","push","shift","sort","splice","unshift"],function(e){var t=qr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var u=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(te(h)?h:[],u)}return this[i](function(y){return t.apply(te(y)?y:[],u)})}}),Rt(le.prototype,function(e,t){var i=d[t];if(i){var l=i.name+"";he.call(Pn,l)||(Pn[l]=[]),Pn[l].push({name:t,func:i})}}),Pn[ho(o,P).name]=[{name:"wrapper",func:o}],le.prototype.clone=Gy,le.prototype.reverse=qy,le.prototype.value=Ky,d.prototype.at=Eb,d.prototype.chain=xb,d.prototype.commit=Sb,d.prototype.next=kb,d.prototype.plant=Nb,d.prototype.reverse=Rb,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=$b,d.prototype.first=d.prototype.head,or&&(d.prototype[or]=Cb),d},In=Sy();cn?((cn.exports=In)._=In,Ni._=In):Pe._=In}).call(rn)}(kr,kr.exports);var Ie=kr.exports;function sa(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function Fo(r,s){r===void 0&&(r={}),s===void 0&&(s={}),Object.keys(s).forEach(function(o){typeof r[o]>"u"?r[o]=s[o]:sa(s[o])&&sa(r[o])&&Object.keys(s[o]).length>0&&Fo(r[o],s[o])})}var aa={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Uo(){var r=typeof document<"u"?document:{};return Fo(r,aa),r}var Tf={document:aa,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame:function(r){typeof setTimeout>"u"||clearTimeout(r)}};function la(){var r=typeof window<"u"?window:{};return Fo(r,Tf),r}function Vf(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s}function Ho(r){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Ho(r)}function Cr(r,s){return Cr=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a},Cr(r,s)}function Af(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nr(r,s,o){return Af()?Nr=Reflect.construct:Nr=function(c,f,p){var g=[null];g.push.apply(g,f);var _=Function.bind.apply(c,g),m=new _;return p&&Cr(m,p.prototype),m},Nr.apply(null,arguments)}function Of(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Wo(r){var s=typeof Map=="function"?new Map:void 0;return Wo=function(a){if(a===null||!Of(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(a))return s.get(a);s.set(a,c)}function c(){return Nr(a,arguments,Ho(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),Cr(c,a)},Wo(r)}function Df(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function If(r){var s=r.__proto__;Object.defineProperty(r,"__proto__",{get:function(){return s},set:function(a){s.__proto__=a}})}var on=function(r){Vf(s,r);function s(o){var a;return a=r.call.apply(r,[this].concat(o))||this,If(Df(a)),a}return s}(Wo(Array));function zo(r){r===void 0&&(r=[]);var s=[];return r.forEach(function(o){Array.isArray(o)?s.push.apply(s,zo(o)):s.push(o)}),s}function Bf(r){for(var s=[],o=0;o<r.length;o+=1)s.indexOf(r[o])===-1&&s.push(r[o]);return s}function Lf(r){return r.toLowerCase().replace(/-(.)/g,function(s,o){return o.toUpperCase()})}function Pf(r,s){if(typeof r!="string")return[r];for(var o=[],a=s.querySelectorAll(r),c=0;c<a.length;c+=1)o.push(a[c]);return o}function me(r,s){var o=la(),a=Uo(),c=[];if(!s&&r instanceof on)return r;if(!r)return new on(c);if(typeof r=="string"){var f=r.trim();if(f.indexOf("<")>=0&&f.indexOf(">")>=0){var p="div";f.indexOf("<li")===0&&(p="ul"),f.indexOf("<tr")===0&&(p="tbody"),(f.indexOf("<td")===0||f.indexOf("<th")===0)&&(p="tr"),f.indexOf("<tbody")===0&&(p="table"),f.indexOf("<option")===0&&(p="select");var g=a.createElement(p);g.innerHTML=f;for(var _=0;_<g.childNodes.length;_+=1)c.push(g.childNodes[_])}else c=Pf(r.trim(),s||a)}else if(r.nodeType||r===o||r===a)c.push(r);else if(Array.isArray(r)){if(r instanceof on)return r;c=r}return new on(Bf(c))}me.fn=on.prototype;function ca(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=zo(s.map(function(c){return c.split(" ")}));return this.forEach(function(c){var f;(f=c.classList).add.apply(f,a)}),this}function ua(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=zo(s.map(function(c){return c.split(" ")}));return this.forEach(function(c){var f;(f=c.classList).remove.apply(f,a)}),this}function fa(r,s){if(arguments.length===1&&typeof r=="string")return this[0]?this[0].getAttribute(r):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(r,s);else for(var a in r)this[o][a]=r[a],this[o].setAttribute(a,r[a]);return this}function da(){var r=this[0];if(r){var s={};if(r.dataset)for(var o in r.dataset)s[o]=r.dataset[o];else for(var a=0;a<r.attributes.length;a+=1){var c=r.attributes[a];c.name.indexOf("data-")>=0&&(s[Lf(c.name.split("data-")[1])]=c.value)}for(var f in s)s[f]==="false"?s[f]=!1:s[f]==="true"?s[f]=!0:parseFloat(s[f])===s[f]*1&&(s[f]*=1);return s}}function pa(r){if(typeof r>"u"){var s=this[0];if(!s)return;if(s.multiple&&s.nodeName.toLowerCase()==="select"){for(var o=[],a=0;a<s.selectedOptions.length;a+=1)o.push(s.selectedOptions[a].value);return o}return s.value}for(var c=0;c<this.length;c+=1){var f=this[c];if(Array.isArray(r)&&f.multiple&&f.nodeName.toLowerCase()==="select")for(var p=0;p<f.options.length;p+=1)f.options[p].selected=r.indexOf(f.options[p].value)>=0;else f.value=r}return this}function ha(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],c=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],c=void 0),p||(p=!1);function g(v){var I=v.target;if(I){var P=v.target.dom7EventData||[];if(P.indexOf(v)<0&&P.unshift(v),me(I).is(c))f.apply(I,P);else for(var M=me(I).parents(),V=0;V<M.length;V+=1)me(M[V]).is(c)&&f.apply(M[V],P)}}function _(v){var I=v&&v.target?v.target.dom7EventData||[]:[];I.indexOf(v)<0&&I.unshift(v),f.apply(this,I)}for(var m=a.split(" "),b,k=0;k<this.length;k+=1){var C=this[k];if(c)for(b=0;b<m.length;b+=1){var x=m[b];C.dom7LiveListeners||(C.dom7LiveListeners={}),C.dom7LiveListeners[x]||(C.dom7LiveListeners[x]=[]),C.dom7LiveListeners[x].push({listener:f,proxyListener:g}),C.addEventListener(x,g,p)}else for(b=0;b<m.length;b+=1){var $=m[b];C.dom7Listeners||(C.dom7Listeners={}),C.dom7Listeners[$]||(C.dom7Listeners[$]=[]),C.dom7Listeners[$].push({listener:f,proxyListener:_}),C.addEventListener($,_,p)}}return this}function ma(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],c=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],c=void 0),p||(p=!1);for(var g=a.split(" "),_=0;_<g.length;_+=1)for(var m=g[_],b=0;b<this.length;b+=1){var k=this[b],C=void 0;if(!c&&k.dom7Listeners?C=k.dom7Listeners[m]:c&&k.dom7LiveListeners&&(C=k.dom7LiveListeners[m]),C&&C.length)for(var $=C.length-1;$>=0;$-=1){var x=C[$];f&&x.listener===f||f&&x.listener&&x.listener.dom7proxy&&x.listener.dom7proxy===f?(k.removeEventListener(m,x.proxyListener,p),C.splice($,1)):f||(k.removeEventListener(m,x.proxyListener,p),C.splice($,1))}}return this}function ga(){for(var r=0;r<this.length;r+=1)this[r].style.display="none";return this}function _a(r){return r?(this.forEach(function(s,o){r.apply(s,[s,o])}),this):this}function ya(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(var s=0;s<this.length;s+=1)this[s].innerHTML=r;return this}function wa(r){var s=la(),o=Uo(),a=this[0],c,f;if(!a||typeof r>"u")return!1;if(typeof r=="string"){if(a.matches)return a.matches(r);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(r);if(a.msMatchesSelector)return a.msMatchesSelector(r);for(c=me(r),f=0;f<c.length;f+=1)if(c[f]===a)return!0;return!1}if(r===o)return a===o;if(r===s)return a===s;if(r.nodeType||r instanceof on){for(c=r.nodeType?[r]:r,f=0;f<c.length;f+=1)if(c[f]===a)return!0;return!1}return!1}function ba(){for(var r,s=Uo(),o=0;o<arguments.length;o+=1){r=o<0||arguments.length<=o?void 0:arguments[o];for(var a=0;a<this.length;a+=1)if(typeof r=="string"){var c=s.createElement("div");for(c.innerHTML=r;c.firstChild;)this[a].appendChild(c.firstChild)}else if(r instanceof on)for(var f=0;f<r.length;f+=1)this[a].appendChild(r[f]);else this[a].appendChild(r)}return this}function va(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].parentNode;a;)r?me(a).is(r)&&s.push(a):s.push(a),a=a.parentNode;return me(s)}function Ea(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].querySelectorAll(r),c=0;c<a.length;c+=1)s.push(a[c]);return me(s)}function xa(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].children,c=0;c<a.length;c+=1)(!r||me(a[c]).is(r))&&s.push(a[c]);return me(s)}var Mf="resize scroll".split(" ");function Sa(r){function s(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];if(typeof a[0]>"u"){for(var f=0;f<this.length;f+=1)Mf.indexOf(r)<0&&(r in this[f]?this[f][r]():me(this[f]).trigger(r));return this}return this.on.apply(this,[r].concat(a))}return s}var ka=Sa("click"),Ca=Sa("focus");ga&&(me.fn.hide=ga),ba&&(me.fn.append=ba),ka&&(me.fn.click=ka),ha&&(me.fn.on=ha),ma&&(me.fn.off=ma),Ca&&(me.fn.focus=Ca),fa&&(me.fn.attr=fa),pa&&(me.fn.val=pa),ya&&(me.fn.html=ya),da&&(me.fn.dataset=da),ca&&(me.fn.addClass=ca),ua&&(me.fn.removeClass=ua),xa&&(me.fn.children=xa),_a&&(me.fn.each=_a),Ea&&(me.fn.find=Ea),wa&&(me.fn.is=wa),va&&(me.fn.parents=va);const Ff=globalThis.Node,Uf=globalThis.Comment,Hf=globalThis.Element,Wf=globalThis.Text,zf=globalThis.Range,Gf=globalThis.Selection,qf=globalThis.StaticRange;let Kf=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((s,o)=>(o&=63,o<36?s+=o.toString(36):o<62?s+=(o-26).toString(36).toUpperCase():o>62?s+="-":s+="_",s),"");function Yf(r="r"){return`${r}-${Kf()}`}let Na=class{constructor(){Ne(this,"audio");Ne(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(s){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=s,this.src=s,document.body.appendChild(this.audio),this.audio.play()}stop(s){s&&s!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}};const sn=new Na;function Go(r){const s=Math.floor(r/60),o=r%60,a=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");return`${a}:${c}`}class Ra{constructor(s){Ne(this,"accept");Ne(this,"dom");Ne(this,"isdestroy",!1);Ne(this,"resolve");Ne(this,"reject");this.accept=s,this.dom=null,this.resolve=null,this.reject=null}createInputElement(){const s=document.createElement("input");return s.type="file",s.accept=this.accept,s.hidden=!0,s}change(s){var o,a;if(this.dom&&this.dom.files&&this.dom.files.length>0){const c=this.dom.files.item(0);if(c){(o=this.resolve)==null||o.call(this,c),this.dom.value="";return}this.dom.value=""}return(a=this.reject)==null?void 0:a.call(this,s)}cancel(s){var o;return this.dom&&(this.dom.value=""),(o=this.reject)==null?void 0:o.call(this,s)}open(){if(this.isdestroy)throw Error("对象已经销毁");this.dom||(this.dom=this.createInputElement(),this.dom.addEventListener("change",this.change.bind(this)),this.dom.addEventListener("cancel",this.cancel.bind(this)),document.body.appendChild(this.dom)),this.dom.click();const s=this;return new Promise((o,a)=>{s.resolve=o,s.reject=a})}destroy(){this.isdestroy||(this.dom&&document.body.removeChild(this.dom),this.dom=null,this.isdestroy=!0)}}class qo{constructor(s){Ne(this,"cancelled",!1);Ne(this,"timeoutId",null);this.timeoutMilliseconds=s}get token(){return{isCancellationRequested:()=>this.cancelled,throwIfRequested:()=>{if(this.cancelled)throw new Error("Operation canceled")}}}cancel(){this.cancelled=!0,this.clearTimeout()}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}startTimeout(){this.timeoutId=setTimeout(()=>{this.cancel()},this.timeoutMilliseconds)}}class $a{constructor(s=60){Ne(this,"isStop",!1);Ne(this,"count",n.ref(0));Ne(this,"timeoutId",null);this.timeoutSeconds=s}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get state(){return n.computed(()=>this.count.value)}start(s){s&&(this.timeoutSeconds=s),this.isStop=!1,this.count.value=0,this.clearTimeout(),this.timeoutId=setInterval(()=>{!this.isStop&&this.count.value<this.timeoutSeconds?this.count.value++:this.clearTimeout()},1e3)}stop(){this.isStop=!0,this.clearTimeout()}}function Xf(r){const{selection:s}=r;if(s){const[o,a]=R.SlateRange.edges(s),c=R.SlateEditor.range(r,o,a),f=R.SlateEditor.string(r,c),p=f.trimEnd();if(p!==f){const g=f.length-p.length,_={...a,offset:a.offset-g},m={...s,anchor:o,focus:_};R.SlateTransforms.select(r,m)}}}function Ta(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.start(r,s),a=R.SlateEditor.end(r,s);R.SlateTransforms.insertText(r," ",{at:o}),R.SlateTransforms.insertText(r," ",{at:{path:a.path,offset:a.offset+1}}),R.SlateTransforms.select(r,{anchor:{path:o.path,offset:o.offset+1},focus:{path:a.path,offset:a.offset+1}})})}function En(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.before(r,s),a=R.SlateEditor.after(r,s);if(!o||!a)return;const c={anchor:{path:o.path,offset:o.offset-1},focus:{path:o.path,offset:o.offset}},f={anchor:{path:a.path,offset:a.offset},focus:{path:a.path,offset:a.offset+1}};R.SlateEditor.string(r,c)===" "&&R.SlateTransforms.delete(r,{at:c}),R.SlateEditor.string(r,f)===" "&&R.SlateTransforms.delete(r,{at:f})})}const Jf={type:"ssml-audio",renderElem:(r,s,o)=>s?Zf(r,s,o):Qf(r,o)};function Zf(r,s,o){const{remark:a,src:c}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-audio)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(f=>{f.preventDefault(),sn.stop(c);const p=R.DomEditor.findPath(o,r);En(o,p),R.SlateTransforms.unwrapNodes(o,{at:p})})}}),L("span",{className:"iconfont icon-play",on:{click:Ie.throttle(f=>{f.preventDefault(),sn.play(c)})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-audio)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-audio)"}}))}function Qf(r,s){const{remark:o,src:a}=r;return L("span",{className:"ssml-wrapper",contentEditable:"false"},L("span",{className:"remark",style:{"background-color":"var(--ssml-audio)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault(),sn.stop(a);const f=R.DomEditor.findPath(s,r);R.SlateTransforms.delete(s,{at:f})})}}),L("span",{className:"iconfont icon-play",on:{click:Ie.throttle(c=>{c.preventDefault(),sn.play(a)})}}),L("span",{className:"data-content",attrs:{"data-content":o}})),L("span",{className:"iconfont icon-music",style:{color:"var(--ssml-audio)"}}))}const jf={editorPlugin:$f,renderElems:[Jf],elemsToHtml:[{type:"ssml-audio",elemToHtml:(r,s)=>{const{remark:o,src:a}=r;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${a}"
          data-ow-remark="${o}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-src")||"",a=r.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:a,children:s}}}]},ed={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-break"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-break"?!0:o(c),a},renderElems:[{type:"ssml-break",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper",contentEditable:"false"},L("span",{className:"remark",style:{"background-color":"var(--ssml-break)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.delete(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"iconfont icon-tingdun",style:{color:"var(--ssml-break)"}}))}}],elemsToHtml:[{type:"ssml-break",elemToHtml:r=>{const{remark:s,time:o,strength:a}=r;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${s}"
          data-ow-time="${o??""}"
          data-ow-strength="${a??"medium"}"
        ></span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:r=>{const s=r.getAttribute("data-ow-remark")||"",o=r.getAttribute("data-ow-time")||"",a=r.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:s,time:o,strength:a,children:[{text:""}]}}}]},td={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-emphasis"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-emphasis"?!1:o(c),a},renderElems:[{type:"ssml-emphasis",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-emphasis)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-emphasis)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-emphasis)"}}))}}],elemsToHtml:[{type:"ssml-emphasis",elemToHtml:(r,s)=>{const{remark:o,level:a}=r;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${a??"none"}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:a,children:s}}}]},nd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-mstts:express-as"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-mstts:express-as"?!1:o(c),a},renderElems:[{type:"ssml-mstts:express-as",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-mstts--express-as)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-mstts--express-as)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-mstts--express-as)"}}))}}],elemsToHtml:[{type:"ssml-mstts:express-as",elemToHtml:(r,s)=>{const{remark:o,style:a,role:c,styledegree:f}=r;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-styledegree="${f??""}"
          data-ow-role="${c??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-style")||"",c=r.getAttribute("data-ow-styledegree")||"",f=r.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:a,remark:o,styledegree:c,role:f,children:s}}}]},rd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-p"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-p"?!1:o(c),a},renderElems:[{type:"ssml-p",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-p)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-p)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-p)"}}))}}],elemsToHtml:[{type:"ssml-p",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(r,s)=>({type:"ssml-p",remark:r.getAttribute("data-ow-remark")||"",children:s})}]},od={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-phoneme"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-phoneme"?!1:o(c),a},renderElems:[{type:"ssml-phoneme",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-phoneme)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-phoneme)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-phoneme)"}}))}}],elemsToHtml:[{type:"ssml-phoneme",elemToHtml:(r,s)=>{const{remark:o,alphabet:a,ph:c}=r;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${a??""}"
          data-ow-ph="${c}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alphabet")||"",c=r.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:a,ph:c,children:s}}}]},id={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-prosody"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-prosody"?!1:o(c),a},renderElems:[{type:"ssml-prosody",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-prosody)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-prosody)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-prosody)"}}))}}],elemsToHtml:[{type:"ssml-prosody",elemToHtml:(r,s)=>{const{remark:o,contour:a,pitch:c,range:f,rate:p,volume:g}=r;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${a??""}"
          data-ow-pitch="${c??""}"
          data-ow-range="${f??""}"
          data-ow-rate="${p??""}"
          data-ow-volume="${g??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-contour")||"",c=r.getAttribute("data-ow-pitch ")||"",f=r.getAttribute("data-ow-range")||"",p=r.getAttribute("data-ow-rate")||void 0,g=r.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:a,pitch:c,range:f,rate:p,volume:g,children:s}}}]},sd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-s"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-s"?!1:o(c),a},renderElems:[{type:"ssml-s",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-s)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-s)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-s)"}}))}}],elemsToHtml:[{type:"ssml-s",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(r,s)=>({type:"ssml-s",remark:r.getAttribute("data-ow-remark")||"",children:s})}]},ad={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-say-as"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-say-as"?!1:o(c),a},renderElems:[{type:"ssml-say-as",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-say-as)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-say-as)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-say-as)"}}))}}],elemsToHtml:[{type:"ssml-say-as",elemToHtml:(r,s)=>{const{remark:o,interpretAs:a,detail:c,format:f}=r;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${a}"
          data-ow-detail="${c??""}"
          data-ow-format="${f??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-interpretAs")||"",c=r.getAttribute("data-ow-format")||"",f=r.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:a,detail:f,format:c,children:s}}}]},ld={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-sub"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-sub"?!1:o(c),a},renderElems:[{type:"ssml-sub",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-sub)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-sub)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-sub)"}}))}}],elemsToHtml:[{type:"ssml-sub",elemToHtml:(r,s)=>{const{remark:o,alias:a}=r;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${a}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:a,children:s}}}]},cd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-voice"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-voice"?!1:o(c),a},renderElems:[{type:"ssml-voice",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-voice)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-voice)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-voice)"}}))}}],elemsToHtml:[{type:"ssml-voice",elemToHtml:(r,s)=>{const{remark:o,name:a,effect:c}=r;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${a}"
          data-ow-effect="${c??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",c=r.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:a,effect:c,children:s}}}]},ud=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="custom-management"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="custom-management"?!1:o(c),a},ve={ERROR:"wangeditor-error",SSML_ELEMENT_CLICK:"ssml-element-click"},Be={ERROR:"emitter-error",VIEW_CLICK:"emitter-view-click",VIEW_KEYDOWN:"emitter-view-keydown",EDITOR_CREATED:"emitter-editor-created"},fd={editorPlugin:ud,renderElems:[{type:"custom-management",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--custom-management)"},on:{mousedown:c=>c.preventDefault(),click:Ie.throttle(c=>{c.preventDefault(),o.select(R.DomEditor.findPath(o,r)),o.emit(ve.SSML_ELEMENT_CLICK,o,r)})}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{{"},style:{color:"var(--custom-management)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}}"},style:{color:"var(--custom-management)"}}))}}],elemsToHtml:[{type:"custom-management",elemToHtml:(r,s)=>{const{remark:o,style:a,role:c,name:f,pitch:p,rate:g,custom:_}=r;return`<span
          data-w-e-type="custom-management"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-name="${f}"
          data-ow-role="${c}"
          data-ow-pitch="${p}"
          data-ow-rate="${g}"
          data-ow-custom="${JSON.stringify(_)}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="custom-management"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",c=r.getAttribute("data-ow-role")||"",f=r.getAttribute("data-ow-style")||"",p=r.getAttribute("data-ow-pitch")||"",g=r.getAttribute("data-ow-rate")||"",_=r.getAttribute("data-ow-custom")||"{}";return{type:"custom-management",remark:o,name:a,role:c,style:f,pitch:p,rate:g,custom:JSON.parse(_),children:s}}}]},dd=r=>{const{deleteBackward:s,deleteForward:o,insertBreak:a,apply:c,normalizeNode:f,insertText:p,insertData:g,setFragmentData:_,insertNode:m}=r,b=r;b.deleteBackward=C=>{s(C)},b.deleteForward=C=>{o(C)},b.insertBreak=()=>{a()},b.normalizeNode=C=>{f(C)},b.apply=C=>{c(C)},b.insertData=C=>{if(C.types.includes("application/x-slate-fragment"))return g(C);{const $=new DataTransfer;return $.setData("text/plain",C.getData("text/plain").trim()),g($)}},b.setFragmentData=C=>{_(C);const $=C.getData("text/plain").replaceAll(/[\s]/gi,"");C.setData("text/plain",$)},b.insertText=C=>{p(C)};const k=["ssml-prosody","ssml-sub","custom-management","ssml-phoneme","ssml-say-as"];return b.insertNode=C=>{const $=R.DomEditor.getNodeType(C);return k.includes($)||$==="ssml-audio"&&R.SlateNode.string(C)?(r.selection&&Ta(r,r.selection),R.SlateTransforms.insertNodes(r,C)):R.SlateEditor.isVoid(r,C)?(m(C),r.move(1)):m(C)},b},Ox="",pd={install(){R.Boot.registerModule(jf),R.Boot.registerModule(ed),R.Boot.registerModule(td),R.Boot.registerModule(nd),R.Boot.registerModule(rd),R.Boot.registerModule(od),R.Boot.registerModule(id),R.Boot.registerModule(sd),R.Boot.registerModule(ad),R.Boot.registerModule(ld),R.Boot.registerModule(cd),R.Boot.registerModule(fd),R.Boot.registerPlugin(dd)}},an=Sr("--editor-ssml",()=>{const r=n.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),s=n.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=n.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),a=n.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]}),c=n.shallowReactive({type:"ssml-prosody",remark:"",children:[]});return{rootSpeak:r,rootVoice:s,rootBackgroundaudio:o,rootExpressAs:a,rootProsody:c}});function hd(){return{label:"",value:""}}function Va(){return{id:"",category:"",avatar:"",isFree:!1,isStar:!1,isSupper24K:!1,roles:[],styles:[],name:"",displayName:""}}function Rr(){return{word:"",topFlag:"",category:"",gender:"",tag:""}}class Aa{constructor(){Ne(this,"audio");Ne(this,"isPlaying",n.ref(!1));Ne(this,"isLoading",n.ref(!1));Ne(this,"loadResolve");Ne(this,"loadReject");this.audio=new Audio,this.audio.addEventListener("canplaythrough",()=>{var s;this.isLoading.value=!1,(s=this.loadResolve)==null||s.call(this),this.loadResolve=void 0}),this.audio.addEventListener("play",()=>{this.isPlaying.value=!0}),this.audio.addEventListener("pause",()=>{this.isPlaying.value=!1}),this.audio.addEventListener("error",()=>{var s;this.isLoading.value=!1,this.isPlaying.value=!1,(s=this.loadReject)==null||s.call(this),this.loadReject=void 0})}load(s){return this.pause(),this.loadReject&&this.loadReject(),this.isPlaying.value=!1,this.isLoading.value=!0,this.audio.src=s,this.audio.load(),new Promise((o,a)=>{this.loadResolve=o,this.loadReject=a})}play(){this.audio.play()}pause(){this.audio.pause()}togglePlayPause(){this.isPlaying.value?this.pause():this.play()}get playState(){return n.computed(()=>this.isPlaying.value?"playing":"paused")}get loadState(){return n.computed(()=>this.isLoading.value?"loading":"complete")}}const $r=Sr("--editor-try-play",()=>{const r=an(),s=n.shallowRef(new Aa),o=n.ref(Va()),a=n.computed(()=>o.value),c=n.computed(()=>s.value);return{speaker:a,setSpeaker:p=>{o.value=p,r.rootVoice.name=p.name},audioPlayer:c}}),Oa=Sr("--editor-management-menu",()=>({contentData:n.reactive(Qs())})),md={class:"bar-button-icon"},gd={class:"fw-normal",style:{"font-size":"0.85rem"}},_d=n.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(r,{emit:s}){const o=r,a=()=>{if(!o.disabled){const{editor:c}=ze();c&&s("click",c)}};return(c,f)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["bar-button px-2 py-1",{disabled:c.disabled}]),onClick:a,onMousedown:f[0]||(f[0]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",md,[n.createElementVNode("span",{class:n.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${c.icon}`]])},null,2)]),n.createElementVNode("div",gd,n.toDisplayString(c.text),1)],34))}}),Dx="",Xe=(r,s)=>{const o=r.__vccOpts||r;for(const[a,c]of s)o[a]=c;return o},Ge=Xe(_d,[["__scopeId","data-v-2da9a7ca"]]),Ix="",Bx="",Lx="",Ko=n.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(r,{expose:s,emit:o}){const a=n.ref(""),c=n.ref();function f(){n.nextTick(()=>{c.value.input.focus()})}function p(){o("submit",a.value),a.value=""}return s({focus:f}),(g,_)=>(n.openBlock(),n.createBlock(n.unref(j.ElForm),{onSubmit:n.withModifiers(p,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{type:g.type,ref_key:"inputRef",ref:c,modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=m=>a.value=m)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}}),Px="",Mx="",yd=n.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(r){return(s,o)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{hideAfter:s.hideAfter,width:s.width,visible:s.visible,trigger:s.trigger,"onUpdate:visible":o[0]||(o[0]=a=>s.$emit("update:visible",a))},{reference:n.withCtx(()=>[n.renderSlot(s.$slots,"reference")]),default:n.withCtx(()=>[n.renderSlot(s.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}}),Fx="",Ux="",Hx="",Wx="",zx="",Gx="",qx="",Kx="",Yx="";function Tr(r){return n.getCurrentScope()?(n.onScopeDispose(r),!0):!1}function lt(r){return typeof r=="function"?r():n.unref(r)}const Da=typeof window<"u"&&typeof document<"u",wd=r=>r!=null,bd=Object.prototype.toString,vd=r=>bd.call(r)==="[object Object]",Vr=()=>{};function Ed(r,s={}){if(!n.isRef(r))return n.toRefs(r);const o=Array.isArray(r.value)?Array.from({length:r.value.length}):{};for(const a in r.value)o[a]=n.customRef(()=>({get(){return r.value[a]},set(c){var f;if((f=lt(s.replaceRef))!=null?f:!0)if(Array.isArray(r.value)){const g=[...r.value];g[a]=c,r.value=g}else{const g={...r.value,[a]:c};Object.setPrototypeOf(g,Object.getPrototypeOf(r.value)),r.value=g}else r.value[a]=c}}));return o}function Ia(r,s=!0){n.getCurrentInstance()?n.onMounted(r):s?r():n.nextTick(r)}function wt(r){var s;const o=lt(r);return(s=o==null?void 0:o.$el)!=null?s:o}const Wt=Da?window:void 0;function xn(...r){let s,o,a,c;if(typeof r[0]=="string"||Array.isArray(r[0])?([o,a,c]=r,s=Wt):[s,o,a,c]=r,!s)return Vr;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const f=[],p=()=>{f.forEach(b=>b()),f.length=0},g=(b,k,C,$)=>(b.addEventListener(k,C,$),()=>b.removeEventListener(k,C,$)),_=n.watch(()=>[wt(s),lt(c)],([b,k])=>{if(p(),!b)return;const C=vd(k)?{...k}:k;f.push(...o.flatMap($=>a.map(x=>g(b,$,x,C))))},{immediate:!0,flush:"post"}),m=()=>{_(),p()};return Tr(m),m}function xd(){const r=n.ref(!1);return n.getCurrentInstance()&&n.onMounted(()=>{r.value=!0}),r}function Yo(r){const s=xd();return n.computed(()=>(s.value,!!r()))}function Sd(r,s={}){const{window:o=Wt}=s,a=Yo(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let c;const f=n.ref(!1),p=m=>{f.value=m.matches},g=()=>{c&&("removeEventListener"in c?c.removeEventListener("change",p):c.removeListener(p))},_=n.watchEffect(()=>{a.value&&(g(),c=o.matchMedia(lt(r)),"addEventListener"in c?c.addEventListener("change",p):c.addListener(p),f.value=c.matches)});return Tr(()=>{_(),g(),c=void 0}),f}function Xo(r,s={}){var o,a;const{pointerTypes:c,preventDefault:f,stopPropagation:p,exact:g,onMove:_,onEnd:m,onStart:b,initialValue:k,axis:C="both",draggingElement:$=Wt,containerElement:x,handle:v=r}=s,I=n.ref((o=lt(k))!=null?o:{x:0,y:0}),P=n.ref(),M=D=>c?c.includes(D.pointerType):!0,V=D=>{lt(f)&&D.preventDefault(),lt(p)&&D.stopPropagation()},F=D=>{var ue;if(!M(D)||lt(g)&&D.target!==lt(r))return;const H=((ue=lt(x))!=null?ue:lt(r)).getBoundingClientRect(),W={x:D.clientX-H.left,y:D.clientY-H.top};(b==null?void 0:b(W,D))!==!1&&(P.value=W,V(D))},G=D=>{if(!M(D)||!P.value)return;let{x:ue,y:Ee}=I.value;(C==="x"||C==="both")&&(ue=D.clientX-P.value.x),(C==="y"||C==="both")&&(Ee=D.clientY-P.value.y),I.value={x:ue,y:Ee},_==null||_(I.value,D),V(D)},X=D=>{M(D)&&P.value&&(P.value=void 0,m==null||m(I.value,D),V(D))};if(Da){const D={capture:(a=s.capture)!=null?a:!0};xn(v,"pointerdown",F,D),xn($,"pointermove",G,D),xn($,"pointerup",X,D)}return{...Ed(I),position:I,isDragging:n.computed(()=>!!P.value),style:n.computed(()=>`left:${I.value.x}px;top:${I.value.y}px;`)}}function Ba(r,s,o={}){const{window:a=Wt,...c}=o;let f;const p=Yo(()=>a&&"ResizeObserver"in a),g=()=>{f&&(f.disconnect(),f=void 0)},_=n.computed(()=>Array.isArray(r)?r.map(k=>wt(k)):[wt(r)]),m=n.watch(_,k=>{if(g(),p.value&&a){f=new ResizeObserver(s);for(const C of k)C&&f.observe(C,c)}},{immediate:!0,flush:"post",deep:!0}),b=()=>{g(),m()};return Tr(b),{isSupported:p,stop:b}}function Yn(r,s={}){const{reset:o=!0,windowResize:a=!0,windowScroll:c=!0,immediate:f=!0}=s,p=n.ref(0),g=n.ref(0),_=n.ref(0),m=n.ref(0),b=n.ref(0),k=n.ref(0),C=n.ref(0),$=n.ref(0);function x(){const v=wt(r);if(!v){o&&(p.value=0,g.value=0,_.value=0,m.value=0,b.value=0,k.value=0,C.value=0,$.value=0);return}const I=v.getBoundingClientRect();p.value=I.height,g.value=I.bottom,_.value=I.left,m.value=I.right,b.value=I.top,k.value=I.width,C.value=I.x,$.value=I.y}return Ba(r,x),n.watch(()=>wt(r),v=>!v&&x()),c&&xn("scroll",x,{capture:!0,passive:!0}),a&&xn("resize",x,{passive:!0}),Ia(()=>{f&&x()}),{height:p,bottom:g,left:_,right:m,top:b,width:k,x:C,y:$,update:x}}function kd(r,s={width:0,height:0},o={}){const{window:a=Wt,box:c="content-box"}=o,f=n.computed(()=>{var _,m;return(m=(_=wt(r))==null?void 0:_.namespaceURI)==null?void 0:m.includes("svg")}),p=n.ref(s.width),g=n.ref(s.height);return Ba(r,([_])=>{const m=c==="border-box"?_.borderBoxSize:c==="content-box"?_.contentBoxSize:_.devicePixelContentBoxSize;if(a&&f.value){const b=wt(r);if(b){const k=a.getComputedStyle(b);p.value=Number.parseFloat(k.width),g.value=Number.parseFloat(k.height)}}else if(m){const b=Array.isArray(m)?m:[m];p.value=b.reduce((k,{inlineSize:C})=>k+C,0),g.value=b.reduce((k,{blockSize:C})=>k+C,0)}else p.value=_.contentRect.width,g.value=_.contentRect.height},o),n.watch(()=>wt(r),_=>{p.value=_?s.width:0,g.value=_?s.height:0}),{width:p,height:g}}function Cd(r,s,o={}){const{root:a,rootMargin:c="0px",threshold:f=.1,window:p=Wt,immediate:g=!0}=o,_=Yo(()=>p&&"IntersectionObserver"in p),m=n.computed(()=>{const x=lt(r);return(Array.isArray(x)?x:[x]).map(wt).filter(wd)});let b=Vr;const k=n.ref(g),C=_.value?n.watch(()=>[m.value,wt(a),k.value],([x,v])=>{if(b(),!k.value||!x.length)return;const I=new IntersectionObserver(s,{root:wt(v),rootMargin:c,threshold:f});x.forEach(P=>P&&I.observe(P)),b=()=>{I.disconnect(),b=Vr}},{immediate:g,flush:"post"}):Vr,$=()=>{b(),C(),k.value=!1};return Tr($),{isSupported:_,isActive:k,pause(){b(),k.value=!1},resume(){k.value=!0},stop:$}}function Ar(r,{window:s=Wt,scrollTarget:o}={}){const a=n.ref(!1);return Cd(r,([{isIntersecting:c}])=>{a.value=c},{root:o,window:s,threshold:0}),a}function Nd(r={}){const{window:s=Wt,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:c=!0,includeScrollbar:f=!0}=r,p=n.ref(o),g=n.ref(a),_=()=>{s&&(f?(p.value=s.innerWidth,g.value=s.innerHeight):(p.value=s.document.documentElement.clientWidth,g.value=s.document.documentElement.clientHeight))};if(_(),Ia(_),xn("resize",_,{passive:!0}),c){const m=Sd("(orientation: portrait)");n.watch(m,()=>_())}return{width:p,height:g}}const Rd={class:"search-content w-100"},$d={class:"ps-2 w-75"},Td={class:"menu ps-2"},Vd={class:"flex flex-row pt-1"},Ad={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},Od=["onClick"],Dd=n.createElementVNode("span",{class:"iconfont icon-play"},null,-1),Id={class:"ps-2"},Jo=n.defineComponent({__name:"bar-search",props:{menus:{},fetchScene:{type:Function},fetchStyle:{type:Function},fetchData:{type:Function},sceneList:{},styleList:{},dataList:{}},emits:["submit"],setup(r,{emit:s}){const o=r,a=n.ref(),c=n.ref(""),f=n.ref(""),p=n.ref(""),g=n.ref(""),_=n.ref(o.dataList||[]),m=n.ref(o.sceneList||[]),b=n.ref(o.styleList||[]),k=Ar(a);n.watch(k,v=>{v&&n.nextTick(()=>{var I,P;(P=(I=a.value)==null?void 0:I.input)==null||P.focus()})}),n.onMounted(async()=>{_.value.length||await C(),m.value.length||(m.value=await o.fetchScene()),b.value.length||(b.value=await o.fetchStyle())});async function C(){_.value=await o.fetchData({word:c.value,menu:g.value,scene:f.value,style:p.value})}function $(v){g.value=v,C()}function x(v){s("submit",v)}return(v,I)=>(n.openBlock(),n.createElementBlock("div",Rd,[n.createElementVNode("div",$d,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(C,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{ref_key:"searchInputRef",ref:a,placeholder:"搜索",modelValue:c.value,"onUpdate:modelValue":I[0]||(I[0]=P=>c.value=P),"suffix-icon":n.unref(en.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),n.createElementVNode("div",Td,[n.createVNode(n.unref(j.ElMenu),{mode:"horizontal","default-active":v.menus.length>0?v.menus[0].value:"",onSelect:I[1]||(I[1]=P=>$(P))},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(v.menus,(P,M)=>(n.openBlock(),n.createBlock(n.unref(j.ElMenuItem),{index:P.value,key:M},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(P.label),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),n.createElementVNode("div",Vd,[n.createVNode(n.unref(j.ElSelect),{modelValue:f.value,"onUpdate:modelValue":I[2]||(I[2]=P=>f.value=P),onChange:C,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(m.value,P=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:P.value,label:P.label,value:P.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n.createVNode(n.unref(j.ElSelect),{modelValue:p.value,"onUpdate:modelValue":I[3]||(I[3]=P=>p.value=P),onChange:C,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(b.value,P=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:P.value,label:P.label,value:P.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n.createElementVNode("ul",Ad,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(_.value,(P,M)=>(n.openBlock(),n.createElementBlock("li",{onClick:V=>x(n.toRaw(P)),class:"content-list-item clickable ps-2 py-2",key:M},[Dd,n.createElementVNode("span",Id,n.toDisplayString(P.label),1)],8,Od))),128))])]))}}),Xx="",Bd={},Ld={class:"content"};function Pd(r,s){return n.openBlock(),n.createElementBlock("div",Ld,[n.renderSlot(r.$slots,"default",{},void 0,!0)])}const La=Xe(Bd,[["render",Pd],["__scopeId","data-v-7beae5b9"]]),Md={},Fd={class:"bar-wrapper-item"};function Ud(r,s){return n.openBlock(),n.createElementBlock("div",Fd,[n.renderSlot(r.$slots,"default")])}const Hd=Xe(Md,[["render",Ud]]),Wd={class:"bar-wrapper-group"},zd={class:"group-items"},Gd=n.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",Wd,[n.createElementVNode("div",zd,[n.renderSlot(s.$slots,"default",{},void 0,!0)]),n.createElementVNode("div",{class:n.normalizeClass(["divider",[s.divider]])},null,2)]))}}),Jx="",Sn=Xe(Gd,[["__scopeId","data-v-be31f837"]]);function qd(r,s){return`left:${r}px;top:${s}px`}function Zo(r,s){const{width:o,height:a}=kd(r),{width:c,height:f}=Nd(),p=n.computed(()=>({x:c.value-o.value,y:f.value-a.value}));return{style:n.computed(()=>{const _=s.value.x,m=s.value.y,b=_<5?5:_>p.value.x?p.value.x-5:_,k=m<5?5:m>p.value.y?p.value.y-5:m;return qd(b,k)})}}var Qo={exports:{}},Pa={exports:{}},Kd=void 0,Ma=function(r){return r!==Kd&&r!==null},Yd=Ma,Xd={object:!0,function:!0,undefined:!0},Jd=function(r){return Yd(r)?hasOwnProperty.call(Xd,typeof r):!1},Zd=Jd,Qd=function(r){if(!Zd(r))return!1;try{return r.constructor?r.constructor.prototype===r:!1}catch{return!1}},jd=Qd,ep=function(r){if(typeof r!="function"||!hasOwnProperty.call(r,"length"))return!1;try{if(typeof r.length!="number"||typeof r.call!="function"||typeof r.apply!="function")return!1}catch{return!1}return!jd(r)},tp=ep,np=/^\s*class[\s{/}]/,rp=Function.prototype.toString,op=function(r){return!(!tp(r)||np.test(rp.call(r)))},ip=function(){var r=Object.assign,s;return typeof r!="function"?!1:(s={foo:"raz"},r(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")},jo,Fa;function sp(){return Fa||(Fa=1,jo=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),jo}var ap=function(){},lp=ap(),ei=function(r){return r!==lp&&r!==null},ti,Ua;function cp(){if(Ua)return ti;Ua=1;var r=ei,s=Object.keys;return ti=function(o){return s(r(o)?Object(o):o)},ti}var ni,Ha;function up(){return Ha||(Ha=1,ni=sp()()?Object.keys:cp()),ni}var ri,Wa;function fp(){if(Wa)return ri;Wa=1;var r=ei;return ri=function(s){if(!r(s))throw new TypeError("Cannot use null or undefined");return s},ri}var oi,za;function dp(){if(za)return oi;za=1;var r=up(),s=fp(),o=Math.max;return oi=function(a,c){var f,p,g=o(arguments.length,2),_;for(a=Object(s(a)),_=function(m){try{a[m]=c[m]}catch(b){f||(f=b)}},p=1;p<g;++p)c=arguments[p],r(c).forEach(_);if(f!==void 0)throw f;return a},oi}var pp=ip()?Object.assign:dp(),hp=ei,mp=Array.prototype.forEach,gp=Object.create,_p=function(r,s){var o;for(o in r)s[o]=r[o]},yp=function(r){var s=gp(null);return mp.call(arguments,function(o){hp(o)&&_p(Object(o),s)}),s},ii="razdwatrzy",wp=function(){return typeof ii.contains!="function"?!1:ii.contains("dwa")===!0&&ii.contains("foo")===!1},si,Ga;function bp(){if(Ga)return si;Ga=1;var r=String.prototype.indexOf;return si=function(s){return r.call(this,s,arguments[1])>-1},si}var vp=wp()?String.prototype.contains:bp(),Or=Ma,qa=op,Ka=pp,Ya=yp,Xn=vp,Ep=Pa.exports=function(r,s){var o,a,c,f,p;return arguments.length<2||typeof r!="string"?(f=s,s=r,r=null):f=arguments[2],Or(r)?(o=Xn.call(r,"c"),a=Xn.call(r,"e"),c=Xn.call(r,"w")):(o=c=!0,a=!1),p={value:s,configurable:o,enumerable:a,writable:c},f?Ka(Ya(f),p):p};Ep.gs=function(r,s,o){var a,c,f,p;return typeof r!="string"?(f=o,o=s,s=r,r=null):f=arguments[3],Or(s)?qa(s)?Or(o)?qa(o)||(f=o,o=void 0):o=void 0:(f=s,s=o=void 0):s=void 0,Or(r)?(a=Xn.call(r,"c"),c=Xn.call(r,"e")):(a=!0,c=!1),p={get:s,set:o,configurable:a,enumerable:c},f?Ka(Ya(f),p):p};var xp=Pa.exports,Sp=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r};(function(r,s){var o=xp,a=Sp,c=Function.prototype.apply,f=Function.prototype.call,p=Object.create,g=Object.defineProperty,_=Object.defineProperties,m=Object.prototype.hasOwnProperty,b={configurable:!0,enumerable:!1,writable:!0},k,C,$,x,v,I,P;k=function(M,V){var F;return a(V),m.call(this,"__ee__")?F=this.__ee__:(F=b.value=p(null),g(this,"__ee__",b),b.value=null),F[M]?typeof F[M]=="object"?F[M].push(V):F[M]=[F[M],V]:F[M]=V,this},C=function(M,V){var F,G;return a(V),G=this,k.call(this,M,F=function(){$.call(G,M,F),c.call(V,this,arguments)}),F.__eeOnceListener__=V,this},$=function(M,V){var F,G,X,D;if(a(V),!m.call(this,"__ee__"))return this;if(F=this.__ee__,!F[M])return this;if(G=F[M],typeof G=="object")for(D=0;X=G[D];++D)(X===V||X.__eeOnceListener__===V)&&(G.length===2?F[M]=G[D?0:1]:G.splice(D,1));else(G===V||G.__eeOnceListener__===V)&&delete F[M];return this},x=function(M){var V,F,G,X,D;if(m.call(this,"__ee__")&&(X=this.__ee__[M],!!X))if(typeof X=="object"){for(F=arguments.length,D=new Array(F-1),V=1;V<F;++V)D[V-1]=arguments[V];for(X=X.slice(),V=0;G=X[V];++V)c.call(G,this,D)}else switch(arguments.length){case 1:f.call(X,this);break;case 2:f.call(X,this,arguments[1]);break;case 3:f.call(X,this,arguments[1],arguments[2]);break;default:for(F=arguments.length,D=new Array(F-1),V=1;V<F;++V)D[V-1]=arguments[V];c.call(X,this,D)}},v={on:k,once:C,off:$,emit:x},I={on:o(k),once:o(C),off:o($),emit:o(x)},P=_({},I),r.exports=s=function(M){return M==null?p(P):_(Object(M),I)},s.methods=v})(Qo,Qo.exports);var kp=Qo.exports;const Ue=ia(kp)(),Cp={class:"w-100 d-flex flex-row align-items-center"},kn=n.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(r,{expose:s,emit:o}){const a=r,c=n.ref(),f=n.ref(),p=n.ref(),{position:g}=Xo(f,{initialValue:a.initialValue}),{style:_}=Zo(c,g);function m(x){g.value=x}s({setPosition:m}),n.onMounted(()=>{Ue.on(Be.VIEW_CLICK,b),document.addEventListener("keydown",$)}),n.onUnmounted(()=>{Ue.off(Be.VIEW_CLICK,b),document.removeEventListener("keydown",$)});function b(x){k(x)&&C()}function k(x){const v=x.target;return!(!c.value||!p.value||p.value.contains(v)||c.value.contains(v))}function C(){o("update:visible",!1),o("close")}function $(x){x.code==="Escape"&&C()}return(x,v)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",{ref_key:"referenceRef",ref:p,onMousedown:v[0]||(v[0]=n.withModifiers(()=>{},["prevent"]))},[n.renderSlot(x.$slots,"reference")],544),(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.withDirectives(n.createElementVNode("div",{ref_key:"boxRef",ref:c,class:"demotestname card shadow brag-box user-select-none z-2",style:n.normalizeStyle([{position:"fixed"},n.unref(_)]),onMousedown:v[1]||(v[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Cp,[n.createElementVNode("div",{ref_key:"dragRef",ref:f,class:"w-100",style:{height:"40px",cursor:"move"}},null,512),n.createElementVNode("span",{onClick:C,class:"btn iconfont icon-close fs-5"})]),n.renderSlot(x.$slots,"default")],36),[[n.vShow,x.visible]])]))],64))}}),Np={install(r){r.component("BarButton",Ge),r.component("BarInput",Ko),r.component("BarPopover",yd),r.component("BarSearch",Jo),r.component("BarWrapper",La),r.component("BarWrapperItem",Hd),r.component("BarWrapperGroup",Sn),r.component("DragBox",kn)}};function Rp(r){return r.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function $p(r,s){return s?`<audio src="${r.src}">${s}</audio>`:`<audio src="${r.src}"/>`}function Tp(r){return r.time?`<break time="${r.time}"/>`:r.strength?`<break strength="${r.strength}"/>`:"<break/>"}function Vp(r,s){return r.level?`<emphasis level="${r.level}">${s}</emphasis>`:`<emphasis>${s}</emphasis>`}function Ap(r,s){if(!r.style)return s;const o=r.role?` role="${r.role}"`:"",a=r.styledegree?` styledegree="${r.styledegree}"`:"";return`<mstts:express-as style="${r.style}"${o}${a}>${s}</mstts:express-as>`}function Op(r){if(!r.src)return"";const s=r.volume?` volume="${r.volume}"`:"",o=r.fadein?` fadein="${r.fadein}"`:"",a=r.fadeout?` fadeout="${r.fadeout}"`:"";return`<mstts:backgroundaudio src="${r.src}"${s}${o}${a}/>`}function Dp(r){return!r.attrType||!r.value?"":`<mstts:silence type="${r.attrType}" value="${r.value}"/>`}function Ip(r,s){return`<p>${s}</p>`}function Bp(r,s){const o=r.alphabet?`alphabet="${r.alphabet}"`:"";return`<phoneme ph="${r.ph}"${o}>${s}</phoneme>`}function Lp(r,s){if(!r.contour&&!r.pitch&&!r.range&&!r.rate&&!r.volume)return s;const o=r.contour?` contour="${r.contour}"`:"",a=r.pitch?` pitch="${r.pitch}"`:"",c=r.range?` range="${r.range}"`:"",f=r.volume?` volume="${r.volume}"`:"",p=r.rate?` rate="${r.rate}"`:"";return`<prosody${o}${a}${c}${f}${p}>${s}</prosody>`}function Pp(r,s){const o=r.interpretAs?` interpret-as="${r.interpretAs}"`:"",a=r.format?` format="${r.format}"`:"",c=r.detail?` detail="${r.detail}"`:"";return`<say-as${o}${a}${c}>${s}</say-as>`}function Mp(r,s){return`<s>${s}</s>`}function Fp(r,s){return`<sub alias="${r.alias}">${s}</sub>`}function Up(r,s){const o=r.effect?` effect="${r.effect}"`:"";return`<voice name="${r.name}${o}">${s}</voice>`}function Hp(r,s){return`<speak version="${r.version}" xml:lang="${r.xmlLang}" xmlns="${r.xmlns}" xmlns:mstts="${r["xmlns:mstts"]}" xmlns:emo="${r["xmlns:emo"]}">${s}</speak>`}function Xa(r){if(R.SlateText.isText(r))return Rp(r.text.trim());if(R.SlateElement.isElement(r)){const s=r.children.map(a=>Xa(a)).join("");switch(R.DomEditor.getNodeType(r)){case"paragraph":return`<p>${s}</p>`;case"ssml-speak":return Hp(r,s);case"ssml-mstts:backgroundaudio":return Op(r);case"ssml-audio":return $p(r,s);case"ssml-break":return Tp(r);case"ssml-emphasis":return Vp(r,s);case"ssml-mstts:express-as":return Ap(r,s);case"ssml-p":return Ip(r,s);case"ssml-phoneme":return Bp(r,s);case"ssml-prosody":return Lp(r,s);case"ssml-s":return Mp(r,s);case"ssml-say-as":return Pp(r,s);case"ssml-sub":return Fp(r,s);case"ssml-voice":return Up(r,s);case"ssml-mstts:silence":return Dp(r);default:return s}}return""}function Wp(r,s){const o={type:"ssml-voice",remark:"",name:s.name,children:[]},a=Ja(),c={type:"ssml-mstts:express-as",remark:"",style:s.style,role:s.role,children:[]},f=()=>({type:"ssml-prosody",remark:"",rate:s.rate,pitch:s.pitch,children:[]});o.children.push(...a),o.children.push(c);function p(){const _=f();c.children.push(_);function m(b){_.children.push(b)}return{prosody:_,pushNode:m}}let g;for(let _=0;_<s.children.length;_++){const m=s.children[_];if(!(R.SlateText.isText(m)&&!m.text.trim()))if(R.SlateText.isText(m)){g??(g=p()),g.pushNode(m);continue}else if(R.SlateEditor.isVoid(r,m)){g=void 0,c.children.push(m);continue}else{const b=R.DomEditor.findPath(r,m),[k]=R.SlateEditor.nodes(r,{at:b,mode:"lowest",voids:!1,match:C=>R.DomEditor.checkNodeType(C,"ssml-prosody")});if(k){g=void 0,c.children.push(m);continue}else g??(g=p()),g.pushNode(m)}}return o}function Ja(){return[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"200ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"200ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"200ms",remark:"顿号静音",children:[]}]}function zp(){const{rootVoice:r,rootExpressAs:s}=an(),o={...r,children:[]},a=Ja(),c={...s,children:[]};o.children.push(...a),o.children.push(c);function f(p){c.children.push(p)}return{voice:o,pushNode:f}}function Za(r){const{rootProsody:s}=an(),o={...s,children:[]};r(o);function a(c){o.children.push(c)}return{prosody:o,pushNode:a}}function Gp(){return{type:"ssml-break",time:"200ms",children:[{text:""}],remark:"paragraphBreak"}}function qp(r){const s=r.children.filter(o=>R.DomEditor.checkNodeType(o,"paragraph")).filter(o=>!!R.SlateNode.string(o).trim()).map((o,a,c)=>{const p=o.children;return a<c.length-1?p.concat([Gp()]):p});return[].concat(...s)}function Kp(r){const s=qp(r),o=[];let a,c;for(let f=0;f<s.length;f++){const p=s[f];if(!(R.SlateText.isText(p)&&!p.text.trim())){if(R.DomEditor.checkNodeType(p,"custom-management")){a&&(o.push(a.voice),a=void 0,c=void 0),o.push(Wp(r,p));continue}if(a??(a=zp()),R.SlateText.isText(p)){c??(c=Za(a.pushNode)),c.pushNode(p);continue}else if(R.SlateEditor.isVoid(r,p)){c=void 0,a.pushNode(p);continue}else{const g=R.DomEditor.findPath(r,p),[_]=R.SlateEditor.nodes(r,{at:g,mode:"lowest",voids:!1,match:m=>R.DomEditor.checkNodeType(m,"ssml-prosody")});if(_){c=void 0,a.pushNode(p);continue}else{c??(c=Za(a.pushNode)),c.pushNode(p);continue}}}}return a&&o.push(a.voice),o}function Dr(){const{editor:r}=ze();if(!r)throw Error("没有找到 editor 对象");const{rootSpeak:s,rootBackgroundaudio:o}=an(),a={...s,children:[]},c={...o};return a.children.push(c,...Kp(r)),Xa(a)}const Qx="",Yp=r=>(n.pushScopeId("data-v-f485fb08"),r=r(),n.popScopeId(),r),Xp={class:"play-menu-icon d-flex justify-content-center align-items-center"},Jp={key:0,class:"fs-3 iconfont-moyin moyin-icon_play"},Zp={key:2,class:"iconfont icon-pause"},Qp=Yp(()=>n.createElementVNode("div",{class:"fw-normal",style:{"font-size":"0.85rem"}},"24K高清音质",-1)),jp=n.defineComponent({__name:"play-menu",props:{disabled:{type:Boolean,default:!1}},setup(r){const s=$r(),{audioPlayer:o}=s,a=o.playState,c=o.loadState,f=ze(),{globalEditConfig:p}=f;async function g(){if(a.value==="playing"){o.pause();return}try{const _=Dr(),m=await p.tryPlay.play(_);await o.load(m.src),o.play()}catch{o.pause()}}return(_,m)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["play-menu px-2 py-1",{disabled:_.disabled}]),onClick:m[0]||(m[0]=b=>!_.disabled&&g()),onMousedown:m[1]||(m[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Xp,[n.unref(c)==="complete"&&n.unref(a)==="paused"?(n.openBlock(),n.createElementBlock("span",Jp)):n.unref(c)==="loading"?(n.openBlock(),n.createBlock(n.unref(j.ElIcon),{key:1,class:"is-loading"},{default:n.withCtx(()=>[n.createVNode(n.unref(en.Loading))]),_:1})):(n.openBlock(),n.createElementBlock("span",Zp))]),Qp],34))}}),jx="",Qa=Xe(jp,[["__scopeId","data-v-f485fb08"]]);class ct{constructor(s){Ne(this,"editor");this.editor=s}getValue(){const{selection:s}=this.editor;return s==null?"":R.SlateEditor.string(this.editor,s)}isDisabled(){const{selection:s}=this.editor;return s==null?(this.editor.emit(ve.ERROR,"未选中编辑器"),!0):!1}}class eh extends ct{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(ve.ERROR,"请框选一个中文字符"),!0;const o=this.getValue();return o.length!=1?(this.editor.emit(ve.ERROR,"请框选一个中文字符"),!0):/^[\u4E00-\u9FA5]$/gi.test(o)?!1:(this.editor.emit(ve.ERROR,"请框选一个中文字符"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"sapi",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const th={class:"d-flex flex-column overflow-x-hidden overflow-y-auto",style:{"max-height":"300px"}},nh=["onClick"],ja=n.defineComponent({__name:"pinyin-menu",setup(r){const{globalEditConfig:s}=ze(),o=n.shallowRef(),a=n.ref([]),c=n.ref(!1);function f(){c.value||(c.value=!0)}function p(){c.value&&(c.value=!1)}async function g(m){var k;if(o.value??(o.value=new eh(m)),(k=o.value)!=null&&k.isDisabled())return;const b=o.value.getValue();if(b?a.value=await s.pinyin.fetchData(b):a.value=[],a.value.length==0)return m.emit(ve.ERROR,"选中的字符没有不是多音字");f()}function _(m){o.value&&!o.value.isDisabled()&&o.value.exec({...m}),p()}return(m,b)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:c.value,"onUpdate:visible":b[1]||(b[1]=k=>c.value=k),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"多音字",icon:"speaker",onClick:g})]),default:n.withCtx(()=>[n.createElementVNode("div",th,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(a.value,(k,C)=>(n.openBlock(),n.createElementBlock("div",{key:C,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:$=>_(k),onMousedown:b[0]||(b[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(k.label),41,nh))),128))])]),_:1},8,["visible"]))}});class rh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isCollapsed(s)?(this.editor.emit(ve.ERROR,"请框选要连读的词或句子"),!0):R.SlateEditor.string(this.editor,s).length<2:!0}exec(){if(this.isDisabled())return;const s=this.getValue();if(s==null)return;const o={type:"ssml-prosody",rate:"medium",remark:"连读",children:[{text:s}]};this.editor.insertNode(o)}}const el=n.defineComponent({__name:"continuous-menu",setup(r){const s=n.shallowRef();function o(a){s.value??(s.value=new rh(a)),!s.value.isDisabled()&&s.value.exec()}return(a,c)=>(n.openBlock(),n.createBlock(n.unref(Ge),{text:"连读",icon:"continuous",onClick:o}))}}),oh=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],ih={z:{pitch:"x-high",rate:void 0},t:{pitch:void 0,rate:"medium"},"z+t":{pitch:"x-high",rate:"medium"}};class sh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return!s||s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(ve.ERROR,"请框选词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const{pitch:a,rate:c}=ih[s.value],f={type:"ssml-prosody",remark:s.label,pitch:a,rate:c,children:[{text:o}]};this.editor.insertNode(f)}}const ah=["onClick"],tl=n.defineComponent({__name:"read-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function c(){o.value&&(o.value=!1)}function f(g){s.value??(s.value=new sh(g)),!s.value.isDisabled()&&a()}function p(g){s.value&&!s.value.isDisabled()&&s.value.exec({...g}),c()}return(g,_)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":_[2]||(_[2]=m=>o.value=m),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"重音",icon:"read",onClick:f})]),default:n.withCtx(()=>[n.createElementVNode("div",{class:"d-flex flex-column",onMousedown:_[1]||(_[1]=n.withModifiers(()=>{},["stop","prevent"]))},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(oh),(m,b)=>(n.openBlock(),n.createElementBlock("div",{key:b,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:k=>p(m),onMousedown:_[0]||(_[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(m.label),41,ah))),128))],32)]),_:1},8,["visible"]))}});class lh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(ve.ERROR,"请框选纯数字"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(ve.ERROR,"请框选纯数字"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-say-as",interpretAs:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const ch=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],uh={class:"d-flex flex-column"},fh=["onClick"],nl=n.defineComponent({__name:"digital-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value=!o.value}function c(p){s.value??(s.value=new lh(p)),!s.value.isDisabled()&&a()}function f(p){s.value&&!s.value.isDisabled()&&s.value.exec({...p}),a()}return(p,g)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":g[1]||(g[1]=_=>o.value=_),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"数字符号",icon:"digital",onClick:c})]),default:n.withCtx(()=>[n.createElementVNode("div",uh,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(ch),(_,m)=>(n.openBlock(),n.createElementBlock("div",{key:m,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:b=>f(_),onMousedown:g[0]||(g[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(_.label),41,fh))),128))])]),_:1},8,["visible"]))}});class dh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(ve.ERROR,"请框选要设置别名的词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-sub",remark:s.value,alias:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const rl=n.defineComponent({__name:"alias-menu",setup(r){const s=n.shallowRef(),o=n.ref(),a=n.ref(!1);function c(){a.value||(a.value=!0)}function f(){a.value&&(a.value=!1)}async function p(_){var m;s.value??(s.value=new dh(_)),!s.value.isDisabled()&&(c(),(m=o.value)==null||m.focus())}function g(_){var m;f(),_&&((m=s.value)==null||m.exec({value:_,label:_}))}return(_,m)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:a.value,"onUpdate:visible":m[0]||(m[0]=b=>a.value=b),trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"别名",icon:"alias",onClick:p})]),default:n.withCtx(()=>[n.createVNode(n.unref(Ko),{ref_key:"inputRef",ref:o,onSubmit:g},null,512)]),_:1},8,["visible"]))}});class ph extends ct{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(ve.ERROR,"请框选英文单词"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(ve.ERROR,"请框选英文单词"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"ipa",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const hh={class:"d-flex flex-column"},mh=["onClick"],ol=n.defineComponent({__name:"english-menu",setup(r){const{globalEditConfig:s}=ze(),o=n.shallowRef(),a=n.ref([]),c=n.ref(!1);function f(){c.value||(c.value=!0)}function p(){c.value&&(c.value=!1)}async function g(m){if(o.value??(o.value=new ph(m)),Xf(m),o.value.isDisabled())return;const b=o.value.getValue();if(b){if(a.value=await s.english.fetchData(b),a.value.length<=0)return m.emit(ve.ERROR,"找不到单词的音标");f()}}function _(m){o.value&&!o.value.isDisabled()&&o.value.exec({...m}),p()}return(m,b)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:c.value,"onUpdate:visible":b[1]||(b[1]=k=>c.value=k),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"音标",icon:"english",onClick:g})]),default:n.withCtx(()=>[n.createElementVNode("div",hh,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(a.value,(k,C)=>(n.openBlock(),n.createElementBlock("div",{key:C,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:$=>_(k),onMousedown:b[0]||(b[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(k.label),41,mh))),128))])]),_:1},8,["visible"]))}});class gh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(ve.ERROR,"请框选要变速的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-prosody",remark:s.label,rate:s.value,children:[{text:o}]};this.editor.insertNode(a)}}function fe(r){return`${((r-1)*100).toFixed(0)}%`}const _h=[{value:fe(.5),label:"0.5x"},{value:fe(.55),label:"0.55x"},{value:fe(.6),label:"0.6x"},{value:fe(.65),label:"0.65x"},{value:fe(.7),label:"0.7x"},{value:fe(.75),label:"0.75x"},{value:fe(.8),label:"0.8x"},{value:fe(.85),label:"0.85x"},{value:fe(.9),label:"0.9x"},{value:fe(.95),label:"0.95x"},{value:fe(1),label:"1x"},{value:fe(1.05),label:"1.05x"},{value:fe(1.1),label:"1.1x"},{value:fe(1.15),label:"1.15x"},{value:fe(1.2),label:"1.2x"},{value:fe(1.25),label:"1.25x"},{value:fe(1.3),label:"1.3x"},{value:fe(1.35),label:"1.35x"},{value:fe(1.4),label:"1.4x"},{value:fe(1.45),label:"1.45x"},{value:fe(1.5),label:"1.5x"},{value:fe(1.55),label:"1.55x"},{value:fe(1.6),label:"1.6x"},{value:fe(1.65),label:"1.65x"},{value:fe(1.7),label:"1.7x"},{value:fe(1.75),label:"1.75x"},{value:fe(1.8),label:"1.8x"},{value:fe(1.85),label:"1.85x"},{value:fe(1.9),label:"1.9x"},{value:fe(1.95),label:"1.95x"},{value:fe(2),label:"2x"}],yh={class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:{height:"15rem"}},wh=["onClick"],il=n.defineComponent({__name:"changespeed-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function c(){o.value&&(o.value=!1)}async function f(g){s.value??(s.value=new gh(g)),!s.value.isDisabled()&&a()}function p(g){var _;(_=s.value)==null||_.exec({...g}),c()}return(g,_)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{style:{padding:"0px"},visible:o.value,"onUpdate:visible":_[1]||(_[1]=m=>o.value=m),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"局部变速",icon:"changespeed",onClick:f})]),default:n.withCtx(()=>[n.createElementVNode("div",yh,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(_h),(m,b)=>(n.openBlock(),n.createElementBlock("div",{key:b,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:k=>p(m),onMousedown:_[0]||(_[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(m.label),41,wh))),128))])]),_:1},8,["visible"]))}});class bh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(ve.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const vh=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],Eh={class:"d-flex flex-column"},xh=["onClick"],sl=n.defineComponent({__name:"rhythm-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function c(){o.value&&(o.value=!1)}function f(g){s.value??(s.value=new bh(g)),!s.value.isDisabled()&&a()}function p(g){s.value&&!s.value.isDisabled()&&s.value.exec({...g}),c()}return(g,_)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":_[1]||(_[1]=m=>o.value=m),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"停顿调节",icon:"rhythm",onClick:f})]),default:n.withCtx(()=>[n.createElementVNode("div",Eh,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(vh),(m,b)=>(n.openBlock(),n.createElementBlock("div",{key:b,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:k=>p(m),onMousedown:_[0]||(_[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(m.label),41,xh))),128))])]),_:1},8,["visible"]))}});class Sh extends ct{constructor(s){super(s)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(ve.ERROR,"不能框选文字"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const a={type:"ssml-audio",src:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(a)}}const al=n.defineComponent({__name:"special-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:c}=ze(),{special:f}=c,p=n.ref(!1),{x:g,y:_,height:m}=Yn(o),b=C=>{a.value??(a.value=new Sh(C)),!a.value.isDisabled()&&(s.value.setPosition({x:g.value-200,y:_.value+m.value}),p.value=!0)};function k(C){var $;($=a.value)==null||$.restoreSelection(),a.value&&!a.value.isDisabled()&&a.value.exec(C),p.value=!1}return(C,$)=>(n.openBlock(),n.createBlock(n.unref(kn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":$[0]||($[0]=x=>p.value=x)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:b},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Jo),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:k},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}});class kh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(ve.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const Ch=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],Nh={class:"d-flex flex-column"},Rh=["onClick"],ll=n.defineComponent({__name:"mute-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1),a=n.ref();function c(){o.value||(o.value=!0)}function f(){o.value&&(o.value=!1)}function p(_){var m;s.value??(s.value=new kh(_)),!s.value.isDisabled()&&(c(),(m=a.value)==null||m.focus())}function g(_){var m;f(),_&&((m=s.value)==null||m.exec({value:_,label:_}))}return(_,m)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":m[1]||(m[1]=b=>o.value=b),trigger:"contextmenu",hideAfter:0,width:200},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{text:"插入静音",icon:"mute",onClick:p})]),default:n.withCtx(()=>[n.createElementVNode("div",Nh,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(Ch),(b,k)=>(n.openBlock(),n.createElementBlock("div",{key:k,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:C=>g(b.value),onMousedown:m[0]||(m[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(b.label),41,Rh))),128)),n.createVNode(n.unref(Ko),{type:"text",ref_key:"inputRef",ref:a,onSubmit:g},null,512)])]),_:1},8,["visible"]))}}),cl=n.defineComponent({__name:"bgm-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:c}=ze(),{bgm:f}=c,p=n.ref(!1),{x:g,y:_,height:m}=Yn(o),b=async C=>{const $={x:g.value-300,y:_.value+m.value};a.value=C,s.value.setPosition($),p.value=!0};function k(C){const{rootBackgroundaudio:$}=an();$.src=C.value,$.remark=C.label,p.value=!1}return(C,$)=>(n.openBlock(),n.createBlock(n.unref(kn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":$[0]||($[0]=x=>p.value=x)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:b},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Jo),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:k},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}}),ul=n.defineComponent({__name:"sensitive-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),c=n.ref(!1),{x:f,y:p,height:g}=Yn(o),_=m=>{a.value=m,s.value.setPosition({x:f.value-200,y:p.value+g.value}),c.value=!0};return(m,b)=>(n.openBlock(),n.createBlock(n.unref(kn),{ref_key:"dragRef",ref:s,visible:c.value,"onUpdate:visible":b[0]||(b[0]=k=>c.value=k)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:_},null,512)]),default:n.withCtx(()=>[n.createVNode(ul)]),_:1},8,["visible"]))}}),eS="",$h={class:"select-list",style:{width:"120px"}},Th={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},Vh=["onClick"],Ah=n.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(r,{expose:s,emit:o}){const a=r,c=n.ref();function f(g){o("update:modelValue",g.value)}function p(){var g;if(c.value){for(let _=0;_<a.dataList.length;_++)if(a.dataList[_].value===a.modelValue){(g=c.value.children[_])==null||g.scrollIntoView({behavior:"smooth"});return}}}return s({scrollIntoViewTheItem:p}),(g,_)=>(n.openBlock(),n.createElementBlock("div",$h,[n.createElementVNode("div",Th,[n.renderSlot(g.$slots,"default",{},void 0,!0)]),n.createElementVNode("ul",{ref_key:"listRef",ref:c,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(g.dataList,(m,b)=>(n.openBlock(),n.createElementBlock("li",{class:n.normalizeClass(["clickable select-item py-1",{activate:m.value===g.modelValue}]),key:b,onClick:k=>f(m)},n.toDisplayString(m.label),11,Vh))),128))],512)]))}}),tS="",Cn=Xe(Ah,[["__scopeId","data-v-e0f0259e"]]),Oh={class:"position-relative"},Dh={class:"position-absolute top-0 end-0"},Ih=n.createElementVNode("li",null,[n.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),Bh=["onClick"],Lh=n.createElementVNode("span",{class:"my-3"},"类型",-1),Ph=n.createElementVNode("span",{class:"my-3"},"配音师",-1),Mh=n.createElementVNode("span",{class:"my-3"},"角色",-1),Fh=n.createElementVNode("span",{class:"my-3"},"风格",-1),Uh=n.createElementVNode("span",{class:"my-3"},"语速",-1),Hh=n.createElementVNode("span",{class:"my-3"},"语调",-1),Wh={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},zh=n.defineComponent({__name:"management-content",emits:["submit"],setup(r,{emit:s}){const{globalEditConfig:o}=ze(),{tryPlay:a,management:c}=o,f=n.ref(),p=n.ref(!1),g=n.ref(""),_=Oa(),{contentData:m}=Zs(_),b=n.shallowRef([]),k=n.ref([]),C=n.ref([{label:"全部类型",value:""},...a.category]),$=n.ref([]),x=n.ref([]),v=n.ref([]),I=n.ref(Sf()),P=n.ref(kf()),M=Ar(f);n.onMounted(async()=>{m.value.category=C.value[0].value,await F(),await D()}),n.watch(M,U=>{U||(g.value="",p.value=!1)});async function V(U){m.value.category=U,await F()}async function F(){const U=await a.fetchData({...Rr(),...m.value});b.value=U,$.value=U.map(K=>({label:K.displayName,value:K.name})),U.length>0&&(x.value=U[0].roles,v.value=U[0].styles,m.value.name=U[0].name),x.value.length>0&&(m.value.role=x.value[0].value),v.value.length>0&&(m.value.style=v.value[0].value)}function G(U){const K=b.value.find(se=>se.name===U);K&&(x.value=K.roles,v.value=K.styles,x.value.length>0&&(m.value.role=x.value[0].value),v.value.length>0&&(m.value.style=v.value[0].value))}async function X(){var Oe,_e,Rn,ye;const U=((Oe=$.value.find(ke=>ke.value===m.value.name))==null?void 0:Oe.label)||"",K=((_e=x.value.find(ke=>ke.value===m.value.role))==null?void 0:_e.label)||"",se=((Rn=v.value.find(ke=>ke.value===m.value.style))==null?void 0:Rn.label)||"",Le=((ye=I.value.find(ke=>ke.value===m.value.speed))==null?void 0:ye.label)||"",Nt={category:m.value.category,name:m.value.name,label:`${U}|${K}|${se}|${Le}`,value:m.value.name,role:m.value.role,style:m.value.style,speed:Nf(Number(m.value.speed)),pitch:Cf(Number(m.value.pitch))};s("submit",Nt),await ue(Nt)}async function D(){try{k.value=await c.fetchRecentUsage()}catch(U){Ue.emit(Be.ERROR,`${U}`,U)}}async function ue(U){try{const K={...m.value,label:U.label,id:""},se=await c.recordRecentUsage(K);k.value.splice(0,0,se),k.value=Ie.sortedUniqBy(k.value,Le=>`${Le.name}+${Le.role}+${Le.style}+${Le.pitch}+${Le.speed}`)}catch(K){Ue.emit(Be.ERROR,`${K}`,K)}}function Ee(U){m.value.category=U.category,m.value.name=U.name,m.value.pitch=U.pitch,m.value.role=U.role,m.value.speed=U.speed,m.value.style=U.style,X()}async function H(U){try{const K=k.value[U];await c.deleteRecentUsage(K.id),k.value.splice(U,1)}catch(K){Ue.emit(Be.ERROR,`${K}`,K)}}async function W(){try{await c.deleteRecentUsage(),k.value=[]}catch(U){Ue.emit(Be.ERROR,`${U}`,U)}}return(U,K)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(F,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{modelValue:g.value,"onUpdate:modelValue":K[0]||(K[0]=se=>g.value=se),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),n.createElementVNode("div",Oh,[n.createElementVNode("div",Dh,[n.createVNode(n.unref(j.ElButton),{size:"small",icon:n.unref(en.More),onClick:K[1]||(K[1]=()=>p.value=!p.value)},null,8,["icon"])]),n.createElementVNode("ul",{class:n.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":p.value}])},[Ih,(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(k.value,(se,Le)=>(n.openBlock(),n.createElementBlock("li",{class:"btn m-0 p-0",onClick:Nt=>Ee(se),key:Le},[n.createVNode(n.unref(j.ElTag),{type:"info",onClose:Nt=>H(Le),closable:""},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(se.label),1)]),_:2},1032,["onClose"])],8,Bh))),128))],2),n.withDirectives(n.createElementVNode("div",{class:n.normalizeClass({"d-flex flex-row":!p.value})},[n.createVNode(Cn,{"onUpdate:modelValue":[V,K[2]||(K[2]=se=>n.unref(m).category=se)],modelValue:n.unref(m).category,dataList:C.value},{default:n.withCtx(()=>[Lh]),_:1},8,["modelValue","dataList"]),n.createVNode(Cn,{"onUpdate:modelValue":[G,K[3]||(K[3]=se=>n.unref(m).name=se)],modelValue:n.unref(m).name,dataList:$.value},{default:n.withCtx(()=>[Ph]),_:1},8,["modelValue","dataList"]),n.createVNode(Cn,{modelValue:n.unref(m).role,"onUpdate:modelValue":K[4]||(K[4]=se=>n.unref(m).role=se),dataList:x.value},{default:n.withCtx(()=>[Mh]),_:1},8,["modelValue","dataList"]),n.createVNode(Cn,{modelValue:n.unref(m).style,"onUpdate:modelValue":K[5]||(K[5]=se=>n.unref(m).style=se),dataList:v.value},{default:n.withCtx(()=>[Fh]),_:1},8,["modelValue","dataList"]),n.createVNode(Cn,{modelValue:n.unref(m).speed,"onUpdate:modelValue":K[6]||(K[6]=se=>n.unref(m).speed=se),dataList:I.value},{default:n.withCtx(()=>[Uh]),_:1},8,["modelValue","dataList"]),n.createVNode(Cn,{modelValue:n.unref(m).pitch,"onUpdate:modelValue":K[7]||(K[7]=se=>n.unref(m).pitch=se),dataList:P.value},{default:n.withCtx(()=>[Hh]),_:1},8,["modelValue","dataList"])],2),[[n.vShow,!p.value]])]),n.createElementVNode("div",Wh,[n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:X,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("确定")]),_:1},512),[[n.vShow,!p.value]]),n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:W,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("全部清空")]),_:1},512),[[n.vShow,p.value]])])],512))}});class fl extends ct{constructor(o){super(o);Ne(this,"contentData")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(o==null)return!0;if(R.DomEditor.getSelectedNodeByType(this.editor,"custom-management"))return!1;if(R.SlateRange.isCollapsed(o))return this.editor.emit(ve.ERROR,"请框选句子"),!0;const[a]=R.SlateEditor.node(this.editor,o),c=this.editor.getParentNode(a);return!c||!R.DomEditor.checkNodeType(c,"paragraph")?(this.editor.emit(ve.ERROR,"多人配音需要在最外层使用"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const a=this.getValue();if(a==null)return;const c=R.DomEditor.getSelectedNodeByType(this.editor,"custom-management");if(c)R.SlateTransforms.setNodes(this.editor,{custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch},{at:R.DomEditor.findPath(this.editor,c)});else{const f={type:"custom-management",custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch,children:[{text:a}]};this.editor.insertNode(f)}}}const dl=n.defineComponent({__name:"management-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!1),c=n.shallowRef(),f=Oa(),{contentData:p}=Zs(f),{x:g,y:_,height:m}=Yn(o);n.onMounted(()=>{Ue.on(Be.EDITOR_CREATED,x=>{x.on(ve.SSML_ELEMENT_CLICK,(v,I)=>{var P;if(I.type==="custom-management"){c.value??(c.value=new fl(v));const V=((P=I.custom)==null?void 0:P.contentData)||{};V&&(p.value.category=V.category,p.value.name=V.name,p.value.pitch=V.pitch,p.value.role=V.role,p.value.speed=V.speed,p.value.style=V.style),setTimeout(()=>{b()},200)}})})});function b(){var v;const x={x:g.value-200,y:_.value+m.value};(v=s.value)==null||v.setPosition(x),a.value=!0}function k(){a.value=!1}function C(x){c.value??(c.value=new fl(x)),!c.value.isDisabled()&&b()}function $(x){var v;c.value&&!c.value.isDisabled()&&(c.value.contentData={...p.value},(v=c.value)==null||v.exec(x)),k()}return(x,v)=>(n.openBlock(),n.createBlock(n.unref(kn),{ref_key:"dragRef",ref:s,visible:a.value,"onUpdate:visible":v[0]||(v[0]=I=>a.value=I)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:C},null,512)]),default:n.withCtx(()=>[n.createVNode(zh,{onSubmit:$})]),_:1},8,["visible"]))}}),Gh={class:"speaker-head"},qh=["src"],Kh={class:"speaker-name"},Yh=n.defineComponent({__name:"speaker-item",props:{label:{},value:{},avatar:{},activated:{type:Boolean}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",{class:"speaker-item",onClick:o[0]||(o[0]=a=>s.$emit("click",s.value||""))},[n.createElementVNode("div",Gh,[n.createElementVNode("img",{src:s.avatar||n.unref(vn)(),class:n.normalizeClass([{"border border-warning":s.activated},"rounded-circle"]),style:{height:"40px"}},null,10,qh)]),n.createElementVNode("div",Kh,n.toDisplayString(s.label),1)]))}}),nS="",Xh=Xe(Yh,[["__scopeId","data-v-b043c1a6"]]);class Jh{constructor(){Ne(this,"mediaRecorder",null);Ne(this,"isRecording",n.ref(!1))}get recorderState(){return n.computed(()=>this.isRecording.value?"recording":"paused")}async start(s){if(navigator.mediaDevices.getUserMedia){const o=[];try{const a=await navigator.mediaDevices.getUserMedia({audio:!0}),c=new MediaRecorder(a);return this.mediaRecorder=c,new Promise((f,p)=>{c.ondataavailable=g=>{s.isCancellationRequested()?(c.stop(),this.isRecording.value=!1,s.throwIfRequested()):o.push(g.data)},c.onstart=()=>{this.isRecording.value=!0},c.onpause=()=>{this.isRecording.value=!1},c.onstop=()=>{this.isRecording.value=!1;const g=new Blob(o,{type:"audio/wav"});f(g)},c.onerror=g=>{this.isRecording.value=!1,p(g)},s.throwIfRequested(),c.start()})}catch(a){throw console.error(a),new Error("授权失败！",{cause:a})}}throw Error("浏览器不支持 getUserMedia")}stop(){this.mediaRecorder&&this.mediaRecorder.stop()}}const Zh={class:"d-flex flex-row justify-content-between border rounded-pill border-secondary my-3 py-1 px-2"},Qh={class:"text-secondary d-flex flex-row align-items-center",style:{"font-size":"0.5rem"}},jh={key:0,class:"iconfont icon-pause"},em={key:1,class:"iconfont icon-play"},tm=[n.createElementVNode("span",{class:"iconfont icon-delete"},null,-1)],nm={key:1,style:{"font-size":"0.5rem"}},rm=n.createElementVNode("p",null,"选择需要转换的配音师",-1),om={class:"speakers-container border rounded d-flex flex-row flex-wrap row-gap-1 column-gap-2 overflow-y-auto overflow-x-hidden",style:{height:"150px"}},im=["disabled"],sm=n.defineComponent({__name:"audio-upload",emits:["submit"],setup(r,{expose:s,emit:o}){const{globalEditConfig:a}=ze(),{audioUpload:c,transfer:f,fetchSpeaker:p,timeoutMilliseconds:g}=a.conversion,_=n.ref(),m=n.ref(),b=n.ref(),k=n.ref(!0),C=n.ref([]),$=n.ref(),x=n.shallowRef(),v=n.shallowRef(),I=new Aa,{playState:P}=I;let M;const V=new Jh,F=new Ra("audio/*"),G=new $a(60),{state:X}=G,{recorderState:D}=V,ue=Ar(_),Ee=n.inject("reopen");n.watch(ue,ye=>{ye||H()}),n.onMounted(async()=>{C.value=await p()}),n.watch(ue,ye=>{ye||(k.value=!0,M==null||M.cancel())}),s({openInputFile:Le});function H(){k.value=!0,W()}function W(){I.pause(),m.value=void 0,b.value=void 0,$.value=void 0,x.value=void 0,v.value=void 0,M==null||M.cancel()}function U(){V.stop(),G.stop()}async function K(){M=new qo(6e4),G.start();try{M.startTimeout(),x.value=await V.start(M.token)}catch(ye){Ue.emit(Be.ERROR,`${ye}`,ye)}finally{M.cancel(),G.stop()}}function se(){if(P.value==="playing")I.pause();else if(x.value){const ye=window.URL.createObjectURL(x.value);I.load(ye),I.play()}else if(v.value){const ye=window.URL.createObjectURL(v.value);I.load(ye),I.play()}}async function Le(){try{return v.value=await F.open(),k.value=!1,!0}catch{return!1}}async function Nt(){try{if(M=new qo(g),k.value&&x.value)M.startTimeout(),m.value=await c(x.value,M.token);else if(!k.value&&v.value)M.startTimeout(),m.value=await c(v.value,M.token);else throw new Error("请选则文件或实时录音")}catch(ye){Ue.emit(Be.ERROR,`${ye}`,ye)}}async function Oe(ye){try{m.value?($.value=ye,b.value=await f({audioId:m.value.id,speakerId:ye.id})):Ue.emit(Be.ERROR,"请先上传音频文件")}catch(ke){Ue.emit(Be.ERROR,`${ke}`,ke)}}function _e(){b.value&&$.value&&(o("submit",{label:$.value.displayName,value:b.value.src}),H())}function Rn(){M==null||M.cancel(),Ee==null||Ee()}return(ye,ke)=>{var Ir,Br;return n.openBlock(),n.createElementBlock("div",{class:"audio-upload",ref_key:"boxRef",ref:_},[n.createElementVNode("div",Zh,[n.createElementVNode("div",Qh,[x.value||v.value?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:se,class:"btn btn-sm rounded-pill"},[n.unref(P)==="playing"||n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("span",jh)):(n.openBlock(),n.createElementBlock("span",em))])):n.createCommentVNode("",!0),n.createElementVNode("span",null,n.toDisplayString(((Ir=v.value)==null?void 0:Ir.name)||((Br=x.value)==null?void 0:Br.name)),1)]),n.createElementVNode("div",null,[!m.value&&(x.value||v.value)?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:W,class:"btn btn-sm rounded-pill"},tm)):n.createCommentVNode("",!0),m.value?(n.openBlock(),n.createElementBlock("span",nm,"已上传")):n.createCommentVNode("",!0),k.value&&!x.value?(n.openBlock(),n.createElementBlock(n.Fragment,{key:2},[n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:U,class:"btn btn-primary btn-sm rounded-pill"}," 结束录音("+n.toDisplayString(n.unref(X))+")s ",1)):(n.openBlock(),n.createElementBlock("button",{key:1,onClick:K,class:"btn btn-primary btn-sm rounded-pill"}," 开始录音 "))],64)):n.createCommentVNode("",!0),!k.value&&!v.value?(n.openBlock(),n.createElementBlock("button",{key:3,onClick:Le,class:"btn btn-primary btn-sm rounded-pill"}," 选择文件 ")):n.createCommentVNode("",!0),m.value?(n.openBlock(),n.createElementBlock("button",{key:4,onClick:Rn,class:"btn btn-primary btn-sm rounded-pill"}," 重传音频 ")):n.createCommentVNode("",!0),!m.value&&(v.value||x.value)?(n.openBlock(),n.createElementBlock("button",{key:5,onClick:Nt,class:"btn btn-primary btn-sm rounded-pill"}," 上传音频 ")):n.createCommentVNode("",!0)])]),n.createElementVNode("div",null,[rm,n.createElementVNode("div",om,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(C.value,($n,zt)=>{var ln;return n.openBlock(),n.createBlock(Xh,{onClick:_l=>Oe($n),key:zt,label:$n.displayName,avatar:$n.avatar,activated:$n.name===((ln=$.value)==null?void 0:ln.name)},null,8,["onClick","label","avatar","activated"])}),128))])]),n.createElementVNode("button",{class:"btn btn-primary mt-1",onClick:_e,disabled:!b.value}," 完成录音并上传完成后，可选择配音师转换 ",8,im)],512)}}}),am={class:"fw-bold",style:{"font-size":"0.5rem"}},lm=n.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),cm={class:"border border-secondary rounded p-2 w-100",style:{height:"100px"}},um={class:"mt-2"},fm=n.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),dm=n.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!0),c=n.ref(!1),f=Ar(s);n.provide("reopen",()=>{a.value=!0,c.value=!1}),n.watch(f,_=>{_||(a.value=!0,c.value=!1)});function p(){a.value=!0,c.value=!0}async function g(){var _;await((_=o.value)==null?void 0:_.openInputFile())&&(a.value=!1,c.value=!0)}return(_,m)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:s,class:"px-2 py-1",style:{width:"410px"}},[n.withDirectives(n.createElementVNode("section",am,[lm,n.createElementVNode("div",cm,n.toDisplayString(_.text),1)],512),[[n.vShow,a.value]]),n.withDirectives(n.createElementVNode("section",um,[n.createElementVNode("div",{class:"w-100 d-flex flex-column row-gap-1"},[n.createElementVNode("button",{onClick:p,class:"btn btn-success"},"实时录音"),n.createElementVNode("button",{onClick:g,class:"btn btn-primary"},"上传录音")]),fm],512),[[n.vShow,!c.value]]),n.withDirectives(n.createElementVNode("section",null,[n.createVNode(sm,{ref_key:"audioUploadRef",ref:o,onSubmit:m[0]||(m[0]=b=>_.$emit("submit",b))},null,512)],512),[[n.vShow,c.value]])],512))}});class pm extends ct{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(ve.ERROR,"请框选要变音的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-audio",remark:s.label,src:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const pl=n.defineComponent({__name:"conversion-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),c=n.shallowRef(),f=n.ref(!1),p=n.ref(""),{x:g,y:_,height:m}=Yn(o),b=C=>{if(c.value??(c.value=new pm(C)),c.value.isDisabled())return;p.value=c.value.getValue();const $={x:g.value-200,y:_.value+m.value};a.value=C,s.value.setPosition($),f.value=!0};function k(C){var $;($=c.value)==null||$.exec(C),f.value=!1}return(C,$)=>(n.openBlock(),n.createBlock(n.unref(kn),{ref_key:"dragRef",ref:s,visible:f.value,"onUpdate:visible":$[0]||($[0]=x=>f.value=x)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:b},null,512)]),default:n.withCtx(()=>[n.createVNode(dm,{text:p.value,onSubmit:k},null,8,["text"])]),_:1},8,["visible"]))}}),hm={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},mm={class:"position-relative"},gm=["src"],_m={key:0,class:"iconfont icon-play1"},ym={key:1,class:"iconfont icon-pause1"},wm={class:"anchor-avatar-name text-white"},bm=n.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=n.ref(),a=n.ref(),c=n.ref(0),f=n.ref(0),p=$r(),{globalEditConfig:g}=ze(),{audioPlayer:_}=p,m=_.playState,{position:b}=Xo(o,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(M,V)=>v(V.clientX,V.clientY)?!1:void 0}),{style:k}=Zo(o,b);function C(M){(()=>{if(v(M.clientX,M.clientY))return I(M)?P():s("update:visible",!1)})(),$()}function $(){c.value=0,f.value=0}function x(M){c.value=M.clientX,f.value=M.clientY}function v(M,V){return M>c.value-10&&M<c.value+10&&V>f.value-10&&V<f.value+10}function I(M){var F;const V=M.target;return((F=a.value)==null?void 0:F.contains(V))||!1}async function P(){if(m.value==="playing")_.pause();else try{const M=Dr(),V=await g.tryPlay.play(M);_.load(V.src),_.play()}catch{_.pause()}}return(M,V)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:n.normalizeStyle([n.unref(k),{position:"fixed"}]),onMousedown:x,onMouseup:C},[n.createElementVNode("div",hm,[n.createElementVNode("div",mm,[n.createElementVNode("img",{src:n.unref(p).speaker.avatar||n.unref(vn)(),class:"rounded-circle"},null,8,gm),n.createElementVNode("button",{ref_key:"btnPlayRef",ref:a,class:"btn w-100 h-100 position-absolute top-50 start-50 translate-middle bg-black bg-opacity-50 text-white rounded-circle"},[n.unref(m)==="paused"?(n.openBlock(),n.createElementBlock("span",_m)):(n.openBlock(),n.createElementBlock("span",ym))],512)]),n.createElementVNode("div",wm,n.toDisplayString(n.unref(p).speaker.displayName),1)])],36)),[[n.vShow,M.visible]])}}),oS="",vm=Xe(bm,[["__scopeId","data-v-0f55dd94"]]),Em={key:0,class:"position-absolute top-0 start-100 translate-middle text-bg-danger text-nowrap rounded px-1",style:{"font-size":"0.5rem"}},xm=["src"],Sm={class:"anchor-avatar-name text-white"},km=n.defineComponent({__name:"anchor-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,c,f;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=p=>{var g;return s.$emit("click",(g=s.data)==null?void 0:g.value)})},[(a=s.data)!=null&&a.isFree?n.createCommentVNode("",!0):(n.openBlock(),n.createElementBlock("span",Em,"付费")),n.createElementVNode("img",{src:((c=s.data)==null?void 0:c.src)??n.unref(vn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"40px"}},null,10,xm),n.createElementVNode("div",Sm,n.toDisplayString((f=s.data)==null?void 0:f.label),1)])}}}),iS="",hl=Xe(km,[["__scopeId","data-v-845325c9"]]),Cm={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},Nm=n.defineComponent({__name:"anchor-list",props:{filter:{}},setup(r){const s=r,{globalEditConfig:o}=ze(),{fetchData:a}=o.tryPlay,c=$r(),f=n.ref([]),p=n.shallowRef([]);n.watch(()=>s.filter,async _=>{const m=await a(n.toRaw(_));p.value=m,f.value=m.map(b=>({label:b.displayName,value:b.name}))});function g(_){const m=p.value.find(b=>b.name===_);m&&c.setSpeaker(m)}return n.onMounted(async()=>{const _=await a(n.toRaw(s.filter));p.value=_,f.value=_.map(m=>({label:m.displayName,value:m.name})),f.value.length>0&&g(f.value[0].value)}),(_,m)=>(n.openBlock(),n.createElementBlock("div",Cm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(f.value,(b,k)=>(n.openBlock(),n.createElementBlock("div",{class:"m-3",key:k},[n.createVNode(hl,{data:b,activate:b.value===n.unref(c).speaker.name,onClick:C=>g(b.value)},null,8,["data","activate","onClick"])]))),128))]))}}),ai=n.defineComponent({__name:"tag-item",props:{activate:{type:Boolean},value:{}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("span",{class:n.normalizeClass(["tag-item d-inline-block text-white text-center text-nowrap text-truncate",{"border border-white rounded-pill":s.activate}]),onClick:o[0]||(o[0]=a=>s.$emit("click",s.value)),style:{height:"20px","min-width":"60px","max-width":"160px","font-size":"0.5rem",cursor:"pointer"}},[n.renderSlot(s.$slots,"default")],2))}}),Rm={class:"tag-list w-100"},$m={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},Tm={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},Vm={style:{height:"100px"},class:"w-100 pt-2 d-flex flex-row flex-wrap align-content-start row-gap-2 overflow-y-auto overflow-x-hidden scrollbar-none"},Am=n.defineComponent({__name:"tag-list",props:{filter:{}},emits:["update:filter"],setup(r,{emit:s}){const o=r,{globalEditConfig:a}=ze(),{topFlag:c,gender:f,featchTag:p}=a.tryPlay,g=n.ref([]);n.onMounted(async()=>{g.value=await p()});function _(k){s("update:filter",{...n.toRaw(o.filter),topFlag:k})}function m(k){s("update:filter",{...n.toRaw(o.filter),gender:k})}function b(k){s("update:filter",{...n.toRaw(o.filter),tag:k})}return(k,C)=>(n.openBlock(),n.createElementBlock("div",Rm,[n.createElementVNode("div",$m,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(c),($,x)=>(n.openBlock(),n.createBlock(ai,{onClick:_,key:x,value:$.value,activate:k.filter.topFlag===$.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString($.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",Tm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),($,x)=>(n.openBlock(),n.createBlock(ai,{onClick:m,key:x,value:$.value,activate:k.filter.gender===$.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString($.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",Vm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(g.value,($,x)=>(n.openBlock(),n.createBlock(ai,{onClick:b,key:x,value:$.value,activate:k.filter.tag===$.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString($.label),1)]),_:2},1032,["value","activate"]))),128))])]))}}),sS="",aS="",Om=["src"],Dm={class:"anchor-avatar-name text-white",style:{"font-size":"0.5rem"}},Im=n.defineComponent({__name:"style-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,c;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=f=>{var p;return s.$emit("click",(p=s.data)==null?void 0:p.value)})},[n.createElementVNode("img",{src:((a=s.data)==null?void 0:a.src)||n.unref(vn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"30px"}},null,10,Om),n.createElementVNode("div",Dm,n.toDisplayString((c=s.data)==null?void 0:c.label),1)])}}}),lS="",Bm=Xe(Im,[["__scopeId","data-v-71aedb65"]]);function Lm(r){return`${(.05*r*100).toFixed(0)}%`}function Pm(r){return`${((r-1)*100).toFixed(0)}%`}const li=r=>(n.pushScopeId("data-v-0210af00"),r=r(),n.popScopeId(),r),Mm={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},Fm={class:"mt-2 d-flex text-center justify-content-between align-items-center"},Um={class:"me-auto d-flex flex-row align-items-center"},Hm=["src"],Wm={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},zm={class:"d-flex dlex-row column-gap-2 align-items-end"},Gm={class:"fs-6"},qm={style:{"font-size":"0.5rem"}},Km={class:"d-flex flex-row column-gap-2 align-items-center"},Ym={key:0,class:"badge text-bg-primary px-2"},Xm={class:"d-flex flex-column align-items-end"},Jm=li(()=>n.createElementVNode("div",{class:"text-info"},"音频时长，请以生成后的为准",-1)),Zm={class:"mt-1"},Qm=li(()=>n.createElementVNode("span",null,"/",-1)),jm={class:"role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3"},eg=["onClick"],tg={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},ng=["onClick"],rg=li(()=>n.createElementVNode("div",{class:"my-3"},[n.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),og={class:"slider-box"},ig={class:"slider-box"},sg={class:"d-flex flex-row gap-3 my-3"},ag=["onClick"],lg={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3",style:{"min-height":"100px"}},cg=["onClick"],ug=n.defineComponent({__name:"slider-panle",setup(r){const{globalEditConfig:s}=ze(),{rootProsody:o,rootExpressAs:a}=an(),{fetchStar:c,category:f,fetchData:p}=s.tryPlay,g=$r(),_=n.ref(g.speaker.isStar),m=n.ref(10),b=n.ref(0),k=n.ref([0,2]),C=n.ref(1),$=n.ref([-10,10]),x=n.ref(0),v=n.computed(()=>Go(m.value)),I=n.computed(()=>Go(b.value)),P=n.reactive(js()),M=n.reactive(ea()),V=n.ref(""),F=n.ref([]);n.onMounted(async()=>{await ue(f[0].value)}),n.watch(()=>g.speaker,H=>{H.roles.length>0&&X(H.roles[0].value),H.styles.length>0&&D(H.styles[0].value)},{immediate:!0}),n.watch(x,H=>{o.pitch=Lm(H)},{immediate:!0}),n.watch(C,H=>{o.rate=Pm(H)},{immediate:!0});async function G(){_.value=await c(g.speaker.name,!_.value)}function X(H){a.role=H}function D(H){a.style=H}async function ue(H){V.value=H;try{F.value=await p({...Rr(),category:H})}catch(W){Ue.emit(Be.ERROR,`${W}`,W)}}function Ee(H){g.setSpeaker(n.toRaw(H))}return(H,W)=>(n.openBlock(),n.createElementBlock("div",Mm,[n.createElementVNode("div",Fm,[n.createElementVNode("div",Um,[n.createElementVNode("img",{src:n.unref(vn)(),class:"rounded-circle",style:{height:"50px"}},null,8,Hm),n.createElementVNode("div",Wm,[n.createElementVNode("div",zm,[n.createElementVNode("span",Gm,n.toDisplayString(n.unref(g).speaker.displayName),1),n.createElementVNode("span",qm,n.toDisplayString(C.value)+"x",1)]),n.createElementVNode("div",Km,[n.createVNode(n.unref(j.ElIcon),{onClick:G,class:"fs-6",style:n.normalizeStyle({color:_.value?"red":"white"})},{default:n.withCtx(()=>[_.value?(n.openBlock(),n.createBlock(n.unref(en.StarFilled),{key:0})):(n.openBlock(),n.createBlock(n.unref(en.Star),{key:1}))]),_:1},8,["style"]),n.unref(g).speaker.isSupper24K?(n.openBlock(),n.createElementBlock("span",Ym," 24K ")):n.createCommentVNode("",!0)])])]),n.createElementVNode("div",Xm,[Jm,n.createElementVNode("div",Zm,[n.createElementVNode("span",null,n.toDisplayString(I.value),1),Qm,n.createElementVNode("span",null,n.toDisplayString(v.value),1)]),n.createVNode(n.unref(j.ElSlider),{max:m.value,modelValue:b.value,"onUpdate:modelValue":W[0]||(W[0]=U=>b.value=U),size:"small"},null,8,["max","modelValue"])])]),n.createElementVNode("div",jm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(g).speaker.roles,(U,K)=>(n.openBlock(),n.createElementBlock("div",{onClick:se=>X(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===(n.unref(a).role||"")}])},n.toDisplayString(U.label),11,eg))),128))]),n.createElementVNode("ul",tg,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(g).speaker.styles,(U,K)=>(n.openBlock(),n.createElementBlock("li",{class:"mx-2",onClick:se=>D(U.value),key:K},[n.createVNode(Bm,{activate:U.value===(n.unref(a).style||""),data:U},null,8,["activate","data"])],8,ng))),128))]),rg,n.createElementVNode("div",og,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语速："+n.toDisplayString(C.value)+"x",1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:C.value,"onUpdate:modelValue":W[1]||(W[1]=U=>C.value=U),min:k.value[0],max:k.value[1],step:.05,marks:P},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",ig,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语调："+n.toDisplayString(x.value),1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:x.value,"onUpdate:modelValue":W[2]||(W[2]=U=>x.value=U),min:$.value[0],max:$.value[1],step:.2,marks:M},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",null,[n.createElementVNode("ul",sg,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:se=>ue(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===V.value}])},n.toDisplayString(U.label),11,ag))),128))]),n.createElementVNode("ul",lg,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(F.value,(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:se=>Ee(U),key:K},[n.createVNode(hl,{activate:U.name===n.unref(g).speaker.name,data:{...U,label:U.displayName,value:U.name}},null,8,["activate","data"])],8,cg))),128))])])]))}}),cS="",fg=Xe(ug,[["__scopeId","data-v-0210af00"]]),dg=r=>(n.pushScopeId("data-v-b9c1f88f"),r=r(),n.popScopeId(),r),pg={class:"box ms-2"},hg={class:"try-play-header text-center d-flex flex-row justify-content-between"},mg={class:"try-play-body d-flex flex-row"},gg={class:"try-play-left w-50 border-right border-secondary"},_g={class:"pe-1"},yg=dg(()=>n.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),wg={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},bg=n.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=r,a=n.ref(),c=n.ref(""),f=n.ref(),p=n.ref(),g=n.ref(Rr());n.onMounted(()=>{window.addEventListener("keydown",_)}),n.onUnmounted(()=>{window.addEventListener("keydown",_)}),n.watch(()=>o.visible,x=>{x&&C()});function _(x){x.code==="Escape"&&o.visible&&k()}const{position:m}=Xo(p,{initialValue:{x:40,y:40}}),{style:b}=Zo(f,m);n.onMounted(()=>{m.value.x=(window.innerWidth-890)/2,m.value.y=(window.innerHeight-390)/2});function k(){s("update:visible",!1)}function C(){n.nextTick(()=>{var x,v;(v=(x=a.value)==null?void 0:x.input)==null||v.focus()})}function $(){g.value={...g.value,word:c.value}}return(x,v)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:n.normalizeStyle([n.unref(b),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[n.createElementVNode("div",pg,[n.createElementVNode("div",hg,[n.createElementVNode("div",{ref_key:"handleRef",ref:p,class:"col-11 try-play-move"},null,512),n.createElementVNode("div",{onClick:k,class:"col-1 try-play-menu-close"},[n.createVNode(n.unref(j.ElIcon),{color:"white"},{default:n.withCtx(()=>[n.createVNode(n.unref(en.Minus))]),_:1})])]),n.createElementVNode("div",mg,[n.createElementVNode("div",gg,[n.createElementVNode("div",_g,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers($,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{"input-style":{color:"white"},ref_key:"searchInputRef",ref:a,modelValue:c.value,"onUpdate:modelValue":v[0]||(v[0]=I=>c.value=I),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),n.createVNode(Am,{filter:g.value,"onUpdate:filter":v[1]||(v[1]=I=>g.value=I)},null,8,["filter"]),yg,n.createVNode(Nm,{filter:g.value},null,8,["filter"])]),n.createElementVNode("div",wg,[n.createVNode(fg)])])])],4)),[[n.vShow,x.visible]])}}),uS="",vg=Xe(bg,[["__scopeId","data-v-b9c1f88f"]]),ml=n.defineComponent({__name:"try-play",setup(r){const s=n.ref(!0);function o(a){a||(s.value=!0)}return(a,c)=>(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.createVNode(vm,{visible:s.value,"onUpdate:visible":c[0]||(c[0]=f=>s.value=f)},null,8,["visible"]),n.createVNode(vg,{visible:!s.value,"onUpdate:visible":o},null,8,["visible"])]))}}),fS="",Eg={install:r=>{r.component("PlayMenu",Qa),r.component("PinyinMenu",ja),r.component("ContinuousMenu",el),r.component("ReadMenu",tl),r.component("DigitalMenu",nl),r.component("AliasMenu",rl),r.component("EnglishMenu",ol),r.component("ChangespeedMenu",il),r.component("RhythmMenu",sl),r.component("SpecialMenu",al),r.component("MuteMenu",ll),r.component("BgmMenu",cl),r.component("SensitiveMenu",ul),r.component("ManagementMenu",dl),r.component("ConversionMenu",pl),r.component("TryPlay",ml)}},dS="",pS="";var ci={exports:{}},ui={exports:{}};(function(r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ParsingError=void 0;class o extends Error{constructor(F,G){super(F),this.cause=G}}s.ParsingError=o;let a;function c(){return _(!1)||C()||k()||b()}function f(){return v(/\s*/),_(!0)||k()||m()||g(!1)}function p(){const V=g(!0),F=[];let G,X=f();for(;X;){if(X.node.type==="Element"){if(G)throw new Error("Found multiple root nodes");G=X.node}X.excluded||F.push(X.node),X=f()}if(!G)throw new o("Failed to parse XML","Root Element not found");if(a.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:V?V.node:null,root:G,children:F}}function g(V){const F=v(V?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!F)return;const G={name:F[1],type:"ProcessingInstruction",attributes:{}};for(;!(I()||P("?>"));){const X=$();if(X)G.attributes[X.name]=X.value;else return}return v(/\?>/),{excluded:V?!1:a.options.filter(G)===!1,node:G}}function _(V){const F=v(/^<([^?!</>\s]+)\s*/);if(!F)return;const G={type:"Element",name:F[1],attributes:{},children:[]},X=V?!1:a.options.filter(G)===!1;for(;!(I()||P(">")||P("?>")||P("/>"));){const ue=$();if(ue)G.attributes[ue.name]=ue.value;else return}if(v(/^\s*\/>/))return G.children=null,{excluded:X,node:G};v(/\??>/);let D=c();for(;D;)D.excluded||G.children.push(D.node),D=c();if(a.options.strictMode){const ue=`</${G.name}>`;if(a.xml.startsWith(ue))a.xml=a.xml.slice(ue.length);else throw new o("Failed to parse XML",`Closing tag not matching "${ue}"`)}else v(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:X,node:G}}function m(){const V=v(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||v(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||v(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||v(/^<!DOCTYPE\s+\S+\s*>/);if(V){const F={type:"DocumentType",content:V[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function b(){if(a.xml.startsWith("<![CDATA[")){const V=a.xml.indexOf("]]>");if(V>-1){const F=V+3,G={type:"CDATA",content:a.xml.substring(0,F)};return a.xml=a.xml.slice(F),{excluded:a.options.filter(G)===!1,node:G}}}}function k(){const V=v(/^<!--[\s\S]*?-->/);if(V){const F={type:"Comment",content:V[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function C(){const V=v(/^([^<]+)/);if(V){const F={type:"Text",content:V[1]};return{excluded:a.options.filter(F)===!1,node:F}}}function $(){const V=v(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(V)return{name:V[1].trim(),value:x(V[2].trim())}}function x(V){return V.replace(/^['"]|['"]$/g,"")}function v(V){const F=a.xml.match(V);if(F)return a.xml=a.xml.slice(F[0].length),F}function I(){return a.xml.length===0}function P(V){return a.xml.indexOf(V)===0}function M(V,F={}){V=V.trim();const G=F.filter||(()=>!0);return a={xml:V,options:Object.assign(Object.assign({},F),{filter:G,strictMode:F.strictMode===!0})},p()}r.exports=M,s.default=M})(ui,ui.exports);var xg=ui.exports;(function(r,s){var o=rn&&rn.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(s,"__esModule",{value:!0});const a=o(xg);function c(x){if(!x.options.indentation&&!x.options.lineSeparator)return;x.content+=x.options.lineSeparator;let v;for(v=0;v<x.level;v++)x.content+=x.options.indentation}function f(x){x.content=x.content.replace(/ +$/,"");let v;for(v=0;v<x.level;v++)x.content+=x.options.indentation}function p(x,v){x.content+=v}function g(x,v,I){if(typeof x.content=="string")_(x.content,v,I);else if(x.type==="Element")b(x,v,I);else if(x.type==="ProcessingInstruction")C(x,v);else throw new Error("Unknown node type: "+x.type)}function _(x,v,I){if(!I){const P=x.trim();(v.options.lineSeparator||P.length===0)&&(x=P)}x.length>0&&(!I&&v.content.length>0&&c(v),p(v,x))}function m(x,v){const I="/"+x.join("/"),P=x[x.length-1];return v.includes(P)||v.includes(I)}function b(x,v,I){if(v.path.push(x.name),!I&&v.content.length>0&&c(v),p(v,"<"+x.name),k(v,x.attributes),x.children===null||v.options.forceSelfClosingEmptyTag&&x.children.length===0){const P=v.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";p(v,P)}else if(x.children.length===0)p(v,"></"+x.name+">");else{const P=x.children;p(v,">"),v.level++;let M=x.attributes["xml:space"]==="preserve",V=!1;if(!M&&v.options.ignoredPaths&&(V=m(v.path,v.options.ignoredPaths),M=V),!M&&v.options.collapseContent){let F=!1,G=!1,X=!1;P.forEach(function(D,ue){D.type==="Text"?(D.content.includes(`
`)?(G=!0,D.content=D.content.trim()):(ue===0||ue===P.length-1)&&D.content.trim().length===0&&(D.content=""),D.content.trim().length>0&&(F=!0)):D.type==="CDATA"?F=!0:X=!0}),F&&(!X||!G)&&(M=!0)}P.forEach(function(F){g(F,v,I||M)}),v.level--,!I&&!M&&c(v),V&&f(v),p(v,"</"+x.name+">")}v.path.pop()}function k(x,v){Object.keys(v).forEach(function(I){const P=v[I].replace(/"/g,"&quot;");p(x," "+I+'="'+P+'"')})}function C(x,v){v.content.length>0&&c(v),p(v,"<?"+x.name),k(v,x.attributes),p(v,"?>")}function $(x,v={}){v.indentation="indentation"in v?v.indentation:"    ",v.collapseContent=v.collapseContent===!0,v.lineSeparator="lineSeparator"in v?v.lineSeparator:`\r
`,v.whiteSpaceAtEndOfSelfclosingTag=v.whiteSpaceAtEndOfSelfclosingTag===!0,v.throwOnFailure=v.throwOnFailure!==!1;try{const I=(0,a.default)(x,{filter:v.filter,strictMode:v.strictMode}),P={content:"",level:0,options:v,path:[]};return I.declaration&&C(I.declaration,P),I.children.forEach(function(M){g(M,P,!1)}),v.lineSeparator?P.content.replace(/\r\n/g,`
`).replace(/\n/g,v.lineSeparator):P.content}catch(I){if(v.throwOnFailure)throw I;return x}}$.minify=(x,v={})=>$(x,Object.assign(Object.assign({},v),{indentation:"",lineSeparator:""})),r.exports=$,s.default=$})(ci,ci.exports);var Sg=ci.exports;const kg=ia(Sg),Nn=r=>(n.pushScopeId("data-v-fb2870b0"),r=r(),n.popScopeId(),r),Cg={class:"editor-title d-flex flex-row align-item-center justify-content-between"},Ng={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},Rg=Nn(()=>n.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),$g={class:"author d-flex flex-row align-items-center justify-content-start"},Tg=Nn(()=>n.createElementVNode("div",null,"未保存",-1)),Vg=Nn(()=>n.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),Ag=Nn(()=>n.createElementVNode("div",{class:"d-inline-block"},null,-1)),Og={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},Dg=Nn(()=>n.createElementVNode("div",{class:"menu-divider"},null,-1)),Ig=Nn(()=>n.createElementVNode("div",{class:"px-1"},null,-1)),Bg={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},Lg={class:"dialog-footer"},Pg=n.defineComponent({__name:"editor-title",setup(r){const s=n.ref(!1),o=n.ref(""),{rootBackgroundaudio:a}=an(),c=n.computed(()=>kg(o.value,{indentation:"    ",filter:m=>m.type!=="Comment",collapseContent:!0,lineSeparator:`
`})),f=()=>{o.value=Dr(),s.value=!0},p=()=>{a.src&&sn.play(a.src)},g=()=>{sn.stop(a.src),a.src="",a.remark=""};async function _(m){await navigator.clipboard.writeText(m?c.value:o.value),s.value=!1}return(m,b)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",Cg,[n.createElementVNode("div",Ng,[Rg,n.createElementVNode("div",$g,[Tg,n.unref(a).src?(n.openBlock(),n.createBlock(n.unref(j.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:p,onClose:g},{default:n.withCtx(()=>[Vg,Ag,n.createElementVNode("span",null,n.toDisplayString(n.unref(a).remark),1)]),_:1})):n.createCommentVNode("",!0)])]),n.createElementVNode("div",Og,[n.createVNode(n.unref(j.ElButton),{type:"primary",icon:n.unref(en.Share),disabled:""},{default:n.withCtx(()=>[n.createTextVNode("分享")]),_:1},8,["icon"]),Dg,n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:f},{default:n.withCtx(()=>[n.createTextVNode("查看SSML")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载音频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载视频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载字幕")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("声音转换")]),_:1}),Ig])]),n.createVNode(n.unref(j.ElDialog),{modelValue:s.value,"onUpdate:modelValue":b[4]||(b[4]=k=>s.value=k),title:"查看SSML",width:"80%"},{header:n.withCtx(()=>[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:b[0]||(b[0]=k=>_(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:b[1]||(b[1]=k=>_(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})]),footer:n.withCtx(()=>[n.createElementVNode("span",Lg,[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:b[2]||(b[2]=k=>_(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:b[3]||(b[3]=k=>_(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})])]),default:n.withCtx(()=>[n.createElementVNode("pre",Bg,n.toDisplayString(c.value),1)]),_:1},8,["modelValue"])],64))}}),hS="",Mg=Xe(Pg,[["__scopeId","data-v-fb2870b0"]]),Fg=n.defineComponent({__name:"editor-core",emits:["created","change"],setup(r,{emit:s}){const{editor:o,setEditor:a,globalEditConfig:c}=ze(),f=n.ref(null);n.onMounted(()=>{p()}),n.onUnmounted(()=>{o==null||o.destroy()});function p(){if(!f.value)return;const g=R.createEditor({selector:f.value,mode:"simple",config:{...n.toRaw(c.editorConfig),onCreated(_){s("created",_),Ue.emit(Be.EDITOR_CREATED,_)},onChange(_){s("change",_)}}});a(g),g.on(ve.ERROR,c.handleError)}return(g,_)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),Ug={class:"bar-view border-bottom border-1"},Hg=n.defineComponent({__name:"bar-view",setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",Ug,[n.createVNode(n.unref(La),null,{default:n.withCtx(()=>[n.createVNode(n.unref(Sn),{divider:"green"},{default:n.withCtx(()=>[n.createVNode(n.unref(Qa))]),_:1}),n.createVNode(n.unref(Sn),{divider:"cyan"},{default:n.withCtx(()=>[n.createVNode(n.unref(ja)),n.createVNode(n.unref(tl)),n.createVNode(n.unref(nl)),n.createVNode(n.unref(el)),n.createVNode(n.unref(rl)),n.createVNode(n.unref(ol))]),_:1}),n.createVNode(n.unref(Sn),{divider:"orange"},{default:n.withCtx(()=>[n.createVNode(n.unref(il)),n.createVNode(n.unref(dl)),n.createVNode(n.unref(pl))]),_:1}),n.createVNode(n.unref(Sn),{divider:"purple"},{default:n.withCtx(()=>[n.createVNode(n.unref(sl)),n.createVNode(n.unref(ll))]),_:1}),n.createVNode(n.unref(Sn),{divider:"yellow"},{default:n.withCtx(()=>[n.createVNode(n.unref(al)),n.createVNode(n.unref(cl))]),_:1})]),_:1})]),n.createVNode(n.unref(ml))],64))}}),Wg={class:"editor-box"},zg={class:"editor-core-container shadow pt-1"},Gg=n.defineComponent({__name:"editor-view",emits:["created","change"],setup(r,{emit:s}){const o=p=>{s("created",p)},a=p=>{s("change",p)};function c(p){Ue.emit(Be.VIEW_CLICK,p)}function f(p){Ue.emit(Be.VIEW_KEYDOWN,p)}return(p,g)=>(n.openBlock(),n.createElementBlock("div",{class:"editor-view",onClick:c,onKeydown:f},[n.renderSlot(p.$slots,"default",{},()=>[n.createVNode(Mg)],!0),n.createElementVNode("div",Wg,[n.createVNode(Hg),n.createElementVNode("div",zg,[n.createVNode(Fg,{onChange:a,onCreated:o})])])],32))}}),mS="",gl=Xe(Gg,[["__scopeId","data-v-b5e6df8c"]]),qg={install(r){r.component("EditorView",gl)}},Kg={install(r,s){r.use(bf()),r.use(()=>{const{setGlobalEditConfig:o}=ze(),a=Lo(s);o(a),Ue.on(Be.ERROR,a.handleError)}),r.use(pd),r.use(Np),r.use(Eg),r.use(qg)}};ne.AudioPlayer=Na,ne.CancellationTokenSource=qo,ne.DOMComment=Uf,ne.DOMElement=Hf,ne.DOMNode=Ff,ne.DOMRange=zf,ne.DOMSelection=Gf,ne.DOMStaticRange=qf,ne.DOMText=Wf,ne.EMITTER_EVENT=Be,ne.EditorView=gl,ne.FileSelector=Ra,ne.Timer=$a,ne.WANGEDITOR_EVENT=ve,ne.audioPlayer=sn,ne.createGlobalEditorConfig=Lo,ne.default=Kg,ne.defaultFilterSpeaker=Rr,ne.defaultLabelValue=hd,ne.defaultSpeaker=Va,ne.demoAvatar=vn,ne.formatTime=Go,ne.genRandomStr=Yf,ne.pitch=ea,ne.serializeToSSML=Dr,ne.speed=js,Object.defineProperties(ne,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
