(function(O,_){typeof exports=="object"&&typeof module<"u"?_(exports,require("@wangeditor/editor"),require("vue"),require("element-plus"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","@wangeditor/editor","vue","element-plus","@element-plus/icons-vue"],_):(O=typeof globalThis<"u"?globalThis:O||self,_(O.SSMLEditor={},O.wangEditor,O.Vue,O.ElementPlus,O.ElementPlusIconsVue))})(this,function(O,_,e,C,ee){"use strict";var ki=Object.defineProperty;var vi=(O,_,e)=>_ in O?ki(O,_,{enumerable:!0,configurable:!0,writable:!0,value:e}):O[_]=e;var L=(O,_,e)=>(vi(O,typeof _!="symbol"?_+"":_,e),e);const j={EDITOR:"ssml-editor",EDITORCONFIG:"ssml-editor-config"},I={ERROR:"emitter-ediror-error"},U={UPDATE_BGM:"wangeditor-update-bgm",REMOVE_BGM:"wangeditor-remove-bgm",UPDATE_SPEAK:"wangeditor-update-speak"},dn={class:"bar-button-icon"},fn={class:"fw-normal",style:{"font-size":"0.85rem"}},un=e.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:o}){const n=t,r=e.inject(j.EDITOR),l=()=>{n.disabled||o("click",r.value)};return(i,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bar-button px-2 py-1",{disabled:i.disabled}]),onClick:l,onMousedown:a[0]||(a[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",dn,[e.createElementVNode("span",{class:e.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${i.icon}`]])},null,2)]),e.createElementVNode("div",fn,e.toDisplayString(i.text),1)],34))}}),Li="",M=(t,o)=>{const n=t.__vccOpts||t;for(const[r,l]of o)n[r]=l;return n},D=M(un,[["__scopeId","data-v-7741060a"]]),Pi="",Ai="",ji="",Ne=e.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(t,{expose:o,emit:n}){const r=e.ref(""),l=e.ref();function i(){l.value.focus()}function a(){n("submit",r.value),r.value=""}return o({focus:i}),(s,d)=>(e.openBlock(),e.createBlock(e.unref(C.ElForm),{class:"flex flex-row",onSubmit:e.withModifiers(a,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{type:s.type,ref_key:"inputRef",ref:l,modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=u=>r.value=u)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}}),Fi="",Hi="",pn=e.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(t){return(o,n)=>(e.openBlock(),e.createBlock(e.unref(C.ElPopover),{hideAfter:o.hideAfter,width:o.width,visible:o.visible,trigger:o.trigger,"onUpdate:visible":n[0]||(n[0]=r=>o.$emit("update:visible",r))},{reference:e.withCtx(()=>[e.renderSlot(o.$slots,"reference")]),default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}}),Ui="",zi="",Wi="",Gi="",qi="",Yi="",Ki="",Xi="",Qi="";function ae(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function P(t){return typeof t=="function"?t():e.unref(t)}const se=typeof window<"u",mn=t=>t!=null,ce=()=>{};var hn=Object.defineProperty,gn=Object.defineProperties,_n=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,yn=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable,qe=(t,o,n)=>o in t?hn(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,bn=(t,o)=>{for(var n in o||(o={}))yn.call(o,n)&&qe(t,n,o[n]);if(Ge)for(var n of Ge(o))xn.call(o,n)&&qe(t,n,o[n]);return t},wn=(t,o)=>gn(t,_n(o));function Vn(t,o={}){if(!e.isRef(t))return e.toRefs(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=e.customRef(()=>({get(){return t.value[r]},set(l){var i;if((i=P(o.replaceRef))!=null?i:!0)if(Array.isArray(t.value)){const s=[...t.value];s[r]=l,t.value=s}else{const s=wn(bn({},t.value),{[r]:l});Object.setPrototypeOf(s,Object.getPrototypeOf(t.value)),t.value=s}else t.value[r]=l}}));return n}function Ye(t,o=!0){e.getCurrentInstance()?e.onMounted(t):o?t():e.nextTick(t)}function A(t){var o;const n=P(t);return(o=n==null?void 0:n.$el)!=null?o:n}const z=se?window:void 0;function Y(...t){let o,n,r,l;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,l]=t,o=z):[o,n,r,l]=t,!o)return ce;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=()=>{i.forEach(m=>m()),i.length=0},s=(m,p,h,g)=>(m.addEventListener(p,h,g),()=>m.removeEventListener(p,h,g)),d=e.watch(()=>[A(o),P(l)],([m,p])=>{a(),m&&i.push(...n.flatMap(h=>r.map(g=>s(m,h,g,p))))},{immediate:!0,flush:"post"}),u=()=>{d(),a()};return ae(u),u}function En(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function Ce(t){const o=En();return e.computed(()=>(o.value,!!t()))}function Nn(t,o={}){const{window:n=z}=o,r=Ce(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let l;const i=e.ref(!1),a=u=>{i.value=u.matches},s=()=>{l&&("removeEventListener"in l?l.removeEventListener("change",a):l.removeListener(a))},d=e.watchEffect(()=>{r.value&&(s(),l=n.matchMedia(P(t)),"addEventListener"in l?l.addEventListener("change",a):l.addListener(a),i.value=l.matches)});return ae(()=>{d(),s(),l=void 0}),i}var Cn=Object.defineProperty,Tn=Object.defineProperties,Sn=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,$n=Object.prototype.hasOwnProperty,kn=Object.prototype.propertyIsEnumerable,Xe=(t,o,n)=>o in t?Cn(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,vn=(t,o)=>{for(var n in o||(o={}))$n.call(o,n)&&Xe(t,n,o[n]);if(Ke)for(var n of Ke(o))kn.call(o,n)&&Xe(t,n,o[n]);return t},On=(t,o)=>Tn(t,Sn(o));function de(t,o={}){var n,r;const{pointerTypes:l,preventDefault:i,stopPropagation:a,exact:s,onMove:d,onEnd:u,onStart:m,initialValue:p,axis:h="both",draggingElement:g=z,handle:f=t}=o,c=e.ref((n=P(p))!=null?n:{x:0,y:0}),y=e.ref(),w=b=>l?l.includes(b.pointerType):!0,E=b=>{P(i)&&b.preventDefault(),P(a)&&b.stopPropagation()},x=b=>{if(!w(b)||P(s)&&b.target!==P(t))return;const S=P(t).getBoundingClientRect(),v={x:b.clientX-S.left,y:b.clientY-S.top};(m==null?void 0:m(v,b))!==!1&&(y.value=v,E(b))},V=b=>{if(!w(b)||!y.value)return;let{x:S,y:v}=c.value;(h==="x"||h==="both")&&(S=b.clientX-y.value.x),(h==="y"||h==="both")&&(v=b.clientY-y.value.y),c.value={x:S,y:v},d==null||d(c.value,b),E(b)},T=b=>{w(b)&&y.value&&(y.value=void 0,u==null||u(c.value,b),E(b))};if(se){const b={capture:(r=o.capture)!=null?r:!0};Y(f,"pointerdown",x,b),Y(g,"pointermove",V,b),Y(g,"pointerup",T,b)}return On(vn({},Vn(c)),{position:c,isDragging:e.computed(()=>!!y.value),style:e.computed(()=>`left:${c.value.x}px;top:${c.value.y}px;`)})}var Qe=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Dn=(t,o)=>{var n={};for(var r in t)In.call(t,r)&&o.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Qe)for(var r of Qe(t))o.indexOf(r)<0&&Rn.call(t,r)&&(n[r]=t[r]);return n};function Je(t,o,n={}){const r=n,{window:l=z}=r,i=Dn(r,["window"]);let a;const s=Ce(()=>l&&"ResizeObserver"in l),d=()=>{a&&(a.disconnect(),a=void 0)},u=e.computed(()=>Array.isArray(t)?t.map(h=>A(h)):[A(t)]),m=e.watch(u,h=>{if(d(),s.value&&l){a=new ResizeObserver(o);for(const g of h)g&&a.observe(g,i)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{d(),m()};return ae(p),{isSupported:s,stop:p}}function te(t,o={}){const{reset:n=!0,windowResize:r=!0,windowScroll:l=!0,immediate:i=!0}=o,a=e.ref(0),s=e.ref(0),d=e.ref(0),u=e.ref(0),m=e.ref(0),p=e.ref(0),h=e.ref(0),g=e.ref(0);function f(){const c=A(t);if(!c){n&&(a.value=0,s.value=0,d.value=0,u.value=0,m.value=0,p.value=0,h.value=0,g.value=0);return}const y=c.getBoundingClientRect();a.value=y.height,s.value=y.bottom,d.value=y.left,u.value=y.right,m.value=y.top,p.value=y.width,h.value=y.x,g.value=y.y}return Je(t,f),e.watch(()=>A(t),c=>!c&&f()),l&&Y("scroll",f,{capture:!0,passive:!0}),r&&Y("resize",f,{passive:!0}),Ye(()=>{i&&f()}),{height:a,bottom:s,left:d,right:u,top:m,width:p,x:h,y:g,update:f}}function Ze(t,o={width:0,height:0},n={}){const{window:r=z,box:l="content-box"}=n,i=e.computed(()=>{var d,u;return(u=(d=A(t))==null?void 0:d.namespaceURI)==null?void 0:u.includes("svg")}),a=e.ref(o.width),s=e.ref(o.height);return Je(t,([d])=>{const u=l==="border-box"?d.borderBoxSize:l==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(r&&i.value){const m=A(t);if(m){const p=r.getComputedStyle(m);a.value=Number.parseFloat(p.width),s.value=Number.parseFloat(p.height)}}else if(u){const m=Array.isArray(u)?u:[u];a.value=m.reduce((p,{inlineSize:h})=>p+h,0),s.value=m.reduce((p,{blockSize:h})=>p+h,0)}else a.value=d.contentRect.width,s.value=d.contentRect.height},n),e.watch(()=>A(t),d=>{a.value=d?o.width:0,s.value=d?o.height:0}),{width:a,height:s}}function Bn(t,o,n={}){const{root:r,rootMargin:l="0px",threshold:i=.1,window:a=z,immediate:s=!0}=n,d=Ce(()=>a&&"IntersectionObserver"in a),u=e.computed(()=>{const f=P(t);return(Array.isArray(f)?f:[f]).map(A).filter(mn)});let m=ce;const p=e.ref(s),h=d.value?e.watch(()=>[u.value,A(r),p.value],([f,c])=>{if(m(),!p.value||!f.length)return;const y=new IntersectionObserver(o,{root:A(c),rootMargin:l,threshold:i});f.forEach(w=>w&&y.observe(w)),m=()=>{y.disconnect(),m=ce}},{immediate:s,flush:"post"}):ce,g=()=>{m(),h(),p.value=!1};return ae(g),{isSupported:d,isActive:p,pause(){m(),p.value=!1},resume(){p.value=!0},stop:g}}function Mn(t,{window:o=z,scrollTarget:n}={}){const r=e.ref(!1);return Bn(t,([{isIntersecting:l}])=>{r.value=l},{root:n,window:o}),r}function et(t={}){const{window:o=z,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:l=!0,includeScrollbar:i=!0}=t,a=e.ref(n),s=e.ref(r),d=()=>{o&&(i?(a.value=o.innerWidth,s.value=o.innerHeight):(a.value=o.document.documentElement.clientWidth,s.value=o.document.documentElement.clientHeight))};if(d(),Ye(d),Y("resize",d,{passive:!0}),l){const u=Nn("(orientation: portrait)");e.watch(u,()=>d())}return{width:a,height:s}}const Ln=t=>(e.pushScopeId("data-v-fd90240d"),t=t(),e.popScopeId(),t),Pn={class:"search-content vh-50"},An={class:"ps-2 w-75"},jn={class:"menu"},Fn={class:"flex flex-row pt-1"},Hn={class:"content-list pt-1 w-90"},Un=["onClick"],zn=Ln(()=>e.createElementVNode("span",{class:"iconfont icon-play"},null,-1)),Wn=e.defineComponent({__name:"bar-search",props:{menuItemLabel:{},scenes:{},styles:{},dataList:{},fetch:{type:Function}},emits:["submit"],setup(t,{emit:o}){const n=t,r=e.ref(),l=e.ref(""),i=e.ref(""),a=e.ref(""),s=e.ref(n.dataList||[]),d=e.ref("first"),u=Mn(r);e.watch(u,g=>{g&&setTimeout(()=>{var f;(f=r.value)==null||f.focus()},100)}),e.onMounted(async()=>{await m()});async function m(){s.value=await n.fetch({search:l.value,menuKey:d.value,scene:i.value,style:a.value})}function p(g){d.value=g,m()}function h(g){o("submit",g)}return(g,f)=>(e.openBlock(),e.createElementBlock("div",Pn,[e.createElementVNode("div",An,[e.createVNode(e.unref(C.ElForm),{onSubmit:e.withModifiers(m,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{ref_key:"searchInputRef",ref:r,placeholder:"搜索",modelValue:l.value,"onUpdate:modelValue":f[0]||(f[0]=c=>l.value=c),"suffix-icon":e.unref(ee.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),e.createElementVNode("div",jn,[e.createVNode(e.unref(C.ElMenu),{mode:"horizontal","default-active":"first",onSelect:f[1]||(f[1]=c=>p(c))},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElMenuItem),{index:"first"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.menuItemLabel.first),1)]),_:1}),e.createVNode(e.unref(C.ElMenuItem),{index:"second"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.menuItemLabel.second),1)]),_:1}),e.createVNode(e.unref(C.ElMenuItem),{index:"last"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.menuItemLabel.last),1)]),_:1})]),_:1})]),e.createElementVNode("div",Fn,[e.createVNode(e.unref(C.ElSelect),{modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=c=>i.value=c),onChange:m,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.scenes,c=>(e.openBlock(),e.createBlock(e.unref(C.ElOption),{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(e.unref(C.ElSelect),{modelValue:a.value,"onUpdate:modelValue":f[3]||(f[3]=c=>a.value=c),onChange:m,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.styles,c=>(e.openBlock(),e.createBlock(e.unref(C.ElOption),{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.createElementVNode("div",Hn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(c,y)=>(e.openBlock(),e.createElementBlock("div",{onClick:w=>h(c),class:"content-list-item clickable ps-3",key:y},[zn,e.createElementVNode("span",null,e.toDisplayString(c.label),1)],8,Un))),128))])]))}}),Ji="",fe=M(Wn,[["__scopeId","data-v-fd90240d"]]),Gn=e.defineComponent({__name:"fixed-panel",emits:["dragging"],setup(t,{emit:o}){const n=e.ref(),r=se?window.innerWidth:200,l=se?window.innerHeight:200,{x:i,y:a}=de(n,{initialValue:{x:r-100,y:l/2},preventDefault:!0,onStart:()=>{o("dragging",!0)},onEnd:()=>{o("dragging",!1)}}),{width:s,height:d}=Ze(n),{width:u,height:m}=et(),p=e.computed(()=>({x:u.value-s.value,y:m.value-d.value})),h=e.computed(()=>{if(!p.value)return g(i.value,a.value);const f=i.value<5?5:i.value>p.value.x?p.value.x-5:i.value,c=a.value<5?5:a.value>p.value.y?p.value.y-5:a.value;return g(f,c)});function g(f,c){return`left:${f}px;top:${c}px`}return(f,c)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{ref_key:"boxRef",ref:n,class:"fixed-panel z-3 user-select-none",style:e.normalizeStyle([{position:"fixed"},h.value])},[e.renderSlot(f.$slots,"default")],4)]))}});function tt(t,o){return`left:${t}px;top:${o}px`}function Te(t,o){const{width:n,height:r}=Ze(t),{width:l,height:i}=et(),a=e.computed(()=>({x:l.value-n.value,y:i.value-r.value}));return{style:e.computed(()=>{const d=o.value.x,u=o.value.y;if(!a.value)return tt(d,u);const m=d<5?5:d>a.value.x?a.value.x-5:d,p=u<5?5:u>a.value.y?a.value.y-5:u;return tt(m,p)})}}const Zi="",qn={},Yn={class:"content"};function Kn(t,o){return e.openBlock(),e.createElementBlock("div",Yn,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const nt=M(qn,[["render",Kn],["__scopeId","data-v-7beae5b9"]]),Xn={},Qn={class:"bar-wrapper-item"};function Jn(t,o){return e.openBlock(),e.createElementBlock("div",Qn,[e.renderSlot(t.$slots,"default")])}const Zn=M(Xn,[["render",Jn]]),eo={class:"bar-wrapper-group"},to={class:"group-items"},no=e.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",eo,[e.createElementVNode("div",to,[e.renderSlot(o.$slots,"default",{},void 0,!0)]),e.createElementVNode("div",{class:e.normalizeClass(["divider",[o.divider]])},null,2)]))}}),ea="",W=M(no,[["__scopeId","data-v-3a7abad9"]]),oo=e.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(t,{expose:o,emit:n}){const r=t,l=e.ref(),i=e.ref(),{position:a}=de(l,{initialValue:r.initialValue}),{style:s}=Te(l,a);function d(g){a.value=g}o({setPosition:d}),e.onMounted(()=>{window.addEventListener("click",u),window.addEventListener("keydown",h)}),e.onUnmounted(()=>{window.addEventListener("click",u),window.addEventListener("keydown",h)});function u(g){m(g)&&p()}function m(g){const f=g.target;return!(!l.value||!i.value||i.value.contains(f)||l.value.contains(f))}function p(){n("update:visible",!1),n("close")}function h(g){g.code==="Escape"&&p()}return(g,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"referenceRef",ref:i},[e.renderSlot(g.$slots,"reference",{},void 0,!0)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{ref_key:"boxRef",ref:l,class:"demotestname card shadow brag-box user-select-none",style:e.normalizeStyle([{position:"fixed"},e.unref(s)])},[e.createElementVNode("div",{class:"w-100 text-end me-2"},[e.createElementVNode("span",{onClick:p,class:"btn iconfont icon-close fs-5"})]),e.renderSlot(g.$slots,"default",{},void 0,!0)],4),[[e.vShow,g.visible]])]))],64))}}),ta="",K=M(oo,[["__scopeId","data-v-015e58d3"]]),ro={install(t){t.component("BarButton",D),t.component("BarInput",Ne),t.component("BarPopover",pn),t.component("BarSearch",fe),t.component("FixedPanel",Gn),t.component("BarWrapper",nt),t.component("BarWrapperItem",Zn),t.component("BarWrapperGroup",W),t.component("DragBox",K)}};var X=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Se(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $e={exports:{}},ot={exports:{}},lo=void 0,rt=function(t){return t!==lo&&t!==null},io=rt,ao={object:!0,function:!0,undefined:!0},so=function(t){return io(t)?hasOwnProperty.call(ao,typeof t):!1},co=so,fo=function(t){if(!co(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},uo=fo,po=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!uo(t)},mo=po,ho=/^\s*class[\s{/}]/,go=Function.prototype.toString,_o=function(t){return!(!mo(t)||ho.test(go.call(t)))},yo=function(){var t=Object.assign,o;return typeof t!="function"?!1:(o={foo:"raz"},t(o,{bar:"dwa"},{trzy:"trzy"}),o.foo+o.bar+o.trzy==="razdwatrzy")},ke,lt;function xo(){return lt||(lt=1,ke=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),ke}var bo=function(){},wo=bo(),ve=function(t){return t!==wo&&t!==null},Oe,it;function Vo(){if(it)return Oe;it=1;var t=ve,o=Object.keys;return Oe=function(n){return o(t(n)?Object(n):n)},Oe}var Ie,at;function Eo(){return at||(at=1,Ie=xo()()?Object.keys:Vo()),Ie}var Re,st;function No(){if(st)return Re;st=1;var t=ve;return Re=function(o){if(!t(o))throw new TypeError("Cannot use null or undefined");return o},Re}var De,ct;function Co(){if(ct)return De;ct=1;var t=Eo(),o=No(),n=Math.max;return De=function(r,l){var i,a,s=n(arguments.length,2),d;for(r=Object(o(r)),d=function(u){try{r[u]=l[u]}catch(m){i||(i=m)}},a=1;a<s;++a)l=arguments[a],t(l).forEach(d);if(i!==void 0)throw i;return r},De}var To=yo()?Object.assign:Co(),So=ve,$o=Array.prototype.forEach,ko=Object.create,vo=function(t,o){var n;for(n in t)o[n]=t[n]},Oo=function(t){var o=ko(null);return $o.call(arguments,function(n){So(n)&&vo(Object(n),o)}),o},Be="razdwatrzy",Io=function(){return typeof Be.contains!="function"?!1:Be.contains("dwa")===!0&&Be.contains("foo")===!1},Me,dt;function Ro(){if(dt)return Me;dt=1;var t=String.prototype.indexOf;return Me=function(o){return t.call(this,o,arguments[1])>-1},Me}var Do=Io()?String.prototype.contains:Ro(),ue=rt,ft=_o,ut=To,pt=Oo,ne=Do,Bo=ot.exports=function(t,o){var n,r,l,i,a;return arguments.length<2||typeof t!="string"?(i=o,o=t,t=null):i=arguments[2],ue(t)?(n=ne.call(t,"c"),r=ne.call(t,"e"),l=ne.call(t,"w")):(n=l=!0,r=!1),a={value:o,configurable:n,enumerable:r,writable:l},i?ut(pt(i),a):a};Bo.gs=function(t,o,n){var r,l,i,a;return typeof t!="string"?(i=n,n=o,o=t,t=null):i=arguments[3],ue(o)?ft(o)?ue(n)?ft(n)||(i=n,n=void 0):n=void 0:(i=o,o=n=void 0):o=void 0,ue(t)?(r=ne.call(t,"c"),l=ne.call(t,"e")):(r=!0,l=!1),a={get:o,set:n,configurable:r,enumerable:l},i?ut(pt(i),a):a};var Mo=ot.exports,Lo=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,o){var n=Mo,r=Lo,l=Function.prototype.apply,i=Function.prototype.call,a=Object.create,s=Object.defineProperty,d=Object.defineProperties,u=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0},p,h,g,f,c,y,w;p=function(E,x){var V;return r(x),u.call(this,"__ee__")?V=this.__ee__:(V=m.value=a(null),s(this,"__ee__",m),m.value=null),V[E]?typeof V[E]=="object"?V[E].push(x):V[E]=[V[E],x]:V[E]=x,this},h=function(E,x){var V,T;return r(x),T=this,p.call(this,E,V=function(){g.call(T,E,V),l.call(x,this,arguments)}),V.__eeOnceListener__=x,this},g=function(E,x){var V,T,b,S;if(r(x),!u.call(this,"__ee__"))return this;if(V=this.__ee__,!V[E])return this;if(T=V[E],typeof T=="object")for(S=0;b=T[S];++S)(b===x||b.__eeOnceListener__===x)&&(T.length===2?V[E]=T[S?0:1]:T.splice(S,1));else(T===x||T.__eeOnceListener__===x)&&delete V[E];return this},f=function(E){var x,V,T,b,S;if(u.call(this,"__ee__")&&(b=this.__ee__[E],!!b))if(typeof b=="object"){for(V=arguments.length,S=new Array(V-1),x=1;x<V;++x)S[x-1]=arguments[x];for(b=b.slice(),x=0;T=b[x];++x)l.call(T,this,S)}else switch(arguments.length){case 1:i.call(b,this);break;case 2:i.call(b,this,arguments[1]);break;case 3:i.call(b,this,arguments[1],arguments[2]);break;default:for(V=arguments.length,S=new Array(V-1),x=1;x<V;++x)S[x-1]=arguments[x];l.call(b,this,S)}},c={on:p,once:h,off:g,emit:f},y={on:n(p),once:n(h),off:n(g),emit:n(f)},w=d({},y),t.exports=o=function(E){return E==null?a(w):d(Object(E),y)},o.methods=c})($e,$e.exports);var Po=$e.exports;const B=Se(Po)();function F(t,o,n){const[r]=_.SlateEditor.nodes(t,{at:[],match:l=>!_.SlateElement.isElement(l)||!_.DomEditor.checkNodeType(l,o)?!1:l.domId===n});return r}function Q(t,o,n){const r=_.SlateEditor.previous(t,{at:o[1],match:l=>_.SlateText.isText(l)});r!=null&&(_.SlateTransforms.insertText(t,n(o[0]),{at:_.SlateEditor.end(t,r[1])}),_.SlateTransforms.delete(t,{at:_.SlatePath.next(r[1])}))}function mt(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Le(t,o){t===void 0&&(t={}),o===void 0&&(o={}),Object.keys(o).forEach(function(n){typeof t[n]>"u"?t[n]=o[n]:mt(o[n])&&mt(t[n])&&Object.keys(o[n]).length>0&&Le(t[n],o[n])})}var ht={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Pe(){var t=typeof document<"u"?document:{};return Le(t,ht),t}var Ao={document:ht,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){typeof setTimeout>"u"||clearTimeout(t)}};function gt(){var t=typeof window<"u"?window:{};return Le(t,Ao),t}function jo(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}function Ae(t){return Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ae(t)}function pe(t,o){return pe=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},pe(t,o)}function Fo(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function me(t,o,n){return Fo()?me=Reflect.construct:me=function(l,i,a){var s=[null];s.push.apply(s,i);var d=Function.bind.apply(l,s),u=new d;return a&&pe(u,a.prototype),u},me.apply(null,arguments)}function Ho(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function je(t){var o=typeof Map=="function"?new Map:void 0;return je=function(r){if(r===null||!Ho(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(r))return o.get(r);o.set(r,l)}function l(){return me(r,arguments,Ae(this).constructor)}return l.prototype=Object.create(r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),pe(l,r)},je(t)}function Uo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t){var o=t.__proto__;Object.defineProperty(t,"__proto__",{get:function(){return o},set:function(r){o.__proto__=r}})}var G=function(t){jo(o,t);function o(n){var r;return r=t.call.apply(t,[this].concat(n))||this,zo(Uo(r)),r}return o}(je(Array));function Fe(t){t===void 0&&(t=[]);var o=[];return t.forEach(function(n){Array.isArray(n)?o.push.apply(o,Fe(n)):o.push(n)}),o}function Wo(t){for(var o=[],n=0;n<t.length;n+=1)o.indexOf(t[n])===-1&&o.push(t[n]);return o}function Go(t){return t.toLowerCase().replace(/-(.)/g,function(o,n){return n.toUpperCase()})}function qo(t,o){if(typeof t!="string")return[t];for(var n=[],r=o.querySelectorAll(t),l=0;l<r.length;l+=1)n.push(r[l]);return n}function $(t,o){var n=gt(),r=Pe(),l=[];if(!o&&t instanceof G)return t;if(!t)return new G(l);if(typeof t=="string"){var i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){var a="div";i.indexOf("<li")===0&&(a="ul"),i.indexOf("<tr")===0&&(a="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(a="tr"),i.indexOf("<tbody")===0&&(a="table"),i.indexOf("<option")===0&&(a="select");var s=r.createElement(a);s.innerHTML=i;for(var d=0;d<s.childNodes.length;d+=1)l.push(s.childNodes[d])}else l=qo(t.trim(),o||r)}else if(t.nodeType||t===n||t===r)l.push(t);else if(Array.isArray(t)){if(t instanceof G)return t;l=t}return new G(Wo(l))}$.fn=G.prototype;function _t(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=Fe(o.map(function(l){return l.split(" ")}));return this.forEach(function(l){var i;(i=l.classList).add.apply(i,r)}),this}function yt(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=Fe(o.map(function(l){return l.split(" ")}));return this.forEach(function(l){var i;(i=l.classList).remove.apply(i,r)}),this}function xt(t,o){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,o);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function bt(){var t=this[0];if(t){var o={};if(t.dataset)for(var n in t.dataset)o[n]=t.dataset[n];else for(var r=0;r<t.attributes.length;r+=1){var l=t.attributes[r];l.name.indexOf("data-")>=0&&(o[Go(l.name.split("data-")[1])]=l.value)}for(var i in o)o[i]==="false"?o[i]=!1:o[i]==="true"?o[i]=!0:parseFloat(o[i])===o[i]*1&&(o[i]*=1);return o}}function wt(t){if(typeof t>"u"){var o=this[0];if(!o)return;if(o.multiple&&o.nodeName.toLowerCase()==="select"){for(var n=[],r=0;r<o.selectedOptions.length;r+=1)n.push(o.selectedOptions[r].value);return n}return o.value}for(var l=0;l<this.length;l+=1){var i=this[l];if(Array.isArray(t)&&i.multiple&&i.nodeName.toLowerCase()==="select")for(var a=0;a<i.options.length;a+=1)i.options[a].selected=t.indexOf(i.options[a].value)>=0;else i.value=t}return this}function Vt(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=o[0],l=o[1],i=o[2],a=o[3];typeof o[1]=="function"&&(r=o[0],i=o[1],a=o[2],l=void 0),a||(a=!1);function s(c){var y=c.target;if(y){var w=c.target.dom7EventData||[];if(w.indexOf(c)<0&&w.unshift(c),$(y).is(l))i.apply(y,w);else for(var E=$(y).parents(),x=0;x<E.length;x+=1)$(E[x]).is(l)&&i.apply(E[x],w)}}function d(c){var y=c&&c.target?c.target.dom7EventData||[]:[];y.indexOf(c)<0&&y.unshift(c),i.apply(this,y)}for(var u=r.split(" "),m,p=0;p<this.length;p+=1){var h=this[p];if(l)for(m=0;m<u.length;m+=1){var f=u[m];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[f]||(h.dom7LiveListeners[f]=[]),h.dom7LiveListeners[f].push({listener:i,proxyListener:s}),h.addEventListener(f,s,a)}else for(m=0;m<u.length;m+=1){var g=u[m];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[g]||(h.dom7Listeners[g]=[]),h.dom7Listeners[g].push({listener:i,proxyListener:d}),h.addEventListener(g,d,a)}}return this}function Et(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=o[0],l=o[1],i=o[2],a=o[3];typeof o[1]=="function"&&(r=o[0],i=o[1],a=o[2],l=void 0),a||(a=!1);for(var s=r.split(" "),d=0;d<s.length;d+=1)for(var u=s[d],m=0;m<this.length;m+=1){var p=this[m],h=void 0;if(!l&&p.dom7Listeners?h=p.dom7Listeners[u]:l&&p.dom7LiveListeners&&(h=p.dom7LiveListeners[u]),h&&h.length)for(var g=h.length-1;g>=0;g-=1){var f=h[g];i&&f.listener===i||i&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===i?(p.removeEventListener(u,f.proxyListener,a),h.splice(g,1)):i||(p.removeEventListener(u,f.proxyListener,a),h.splice(g,1))}}return this}function Nt(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this}function Ct(t){return t?(this.forEach(function(o,n){t.apply(o,[o,n])}),this):this}function Tt(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(var o=0;o<this.length;o+=1)this[o].innerHTML=t;return this}function St(t){var o=gt(),n=Pe(),r=this[0],l,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(l=$(t),i=0;i<l.length;i+=1)if(l[i]===r)return!0;return!1}if(t===n)return r===n;if(t===o)return r===o;if(t.nodeType||t instanceof G){for(l=t.nodeType?[t]:t,i=0;i<l.length;i+=1)if(l[i]===r)return!0;return!1}return!1}function $t(){for(var t,o=Pe(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if(typeof t=="string"){var l=o.createElement("div");for(l.innerHTML=t;l.firstChild;)this[r].appendChild(l.firstChild)}else if(t instanceof G)for(var i=0;i<t.length;i+=1)this[r].appendChild(t[i]);else this[r].appendChild(t)}return this}function kt(t){for(var o=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?$(r).is(t)&&o.push(r):o.push(r),r=r.parentNode;return $(o)}function vt(t){for(var o=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),l=0;l<r.length;l+=1)o.push(r[l]);return $(o)}function Ot(t){for(var o=[],n=0;n<this.length;n+=1)for(var r=this[n].children,l=0;l<r.length;l+=1)(!t||$(r[l]).is(t))&&o.push(r[l]);return $(o)}var Yo="resize scroll".split(" ");function It(t){function o(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];if(typeof r[0]>"u"){for(var i=0;i<this.length;i+=1)Yo.indexOf(t)<0&&(t in this[i]?this[i][t]():$(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(r))}return o}var Rt=It("click"),Dt=It("focus");Nt&&($.fn.hide=Nt),$t&&($.fn.append=$t),Rt&&($.fn.click=Rt),Vt&&($.fn.on=Vt),Et&&($.fn.off=Et),Dt&&($.fn.focus=Dt),xt&&($.fn.attr=xt),wt&&($.fn.val=wt),Tt&&($.fn.html=Tt),bt&&($.fn.dataset=bt),_t&&($.fn.addClass=_t),yt&&($.fn.removeClass=yt),Ot&&($.fn.children=Ot),Ct&&($.fn.each=Ct),vt&&($.fn.find=vt),St&&($.fn.is=St),kt&&($.fn.parents=kt);let Ko=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((o,n)=>(n&=63,n<36?o+=n.toString(36):n<62?o+=(n-26).toString(36).toUpperCase():n>62?o+="-":o+="_",o),"");function Xo(t="r"){return`${t}-${Ko()}`}function Bt(t){if(window.navigator.userAgent.toLowerCase().indexOf("ie")>=0){const n=`<embed name="embedPlay" src="${t}"></embed>`;$("body").find("embed").length<=0&&$("body").append(n);const r=document.embedPlay;r.volume=50}else{const n=`<audio id='audioPlay' src='${t}' hidden='true'>`;$("body").find("audio").length<=0&&$("body").append(n),document.getElementById("audioPlay").play()}}function Mt(t){const o=Math.floor(t/60),n=t%60,r=String(o).padStart(2,"0"),l=String(n).padStart(2,"0");return`${r}:${l}`}const Lt="--editor-vdata";function Qo(t){const o=JSON.stringify(t);window.localStorage.setItem(Lt,o)}function Jo(){const t=window.localStorage.getItem(Lt);if(t){const o=JSON.parse(t);if(o instanceof Array)return o}}const he=e.ref();function Zo(t){t.selection&&(console.log(t.selection),he.value=t.selection)}function er(){he.value=null}function tr(){return he.value?he.value:null}class H{constructor(o){L(this,"editor");this.editor=o}genDomID(){return Xo(`w-e-dom-${this.key}`)}selection(){const{selection:o}=this.editor;return o??tr()}getValue(){const o=this.selection();return o==null?"":_.SlateEditor.string(this.editor,o)}record(){Zo(this.editor)}unrecord(){er()}reselect(){const o=this.selection();o&&this.editor.select(o)}isDisabled(){return this.selection()==null?(B.emit(I.ERROR,"未选中编辑器"),!0):!1}}class ge extends H{constructor(n){super(n);L(this,"key","speaker");n.on("ssml-speaker-close",ge.handleClose)}static handleClose(n,r){const l=F(n,"ssml-speaker",r.domId);l&&Q(n,l,i=>i.word)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();if(_.SlateRange.isCollapsed(n))return B.emit(I.ERROR,"请选中文本"),!0;const r=this.getValue();return r.length!=1?!0:/^[\u4E00-\u9FA5]+$/gi.test(r)?!1:(B.emit(I.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0)}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-speaker",domId:this.genDomID(),word:r,phoneme:n.value,remark:n.label,bgColor:"speaker",children:[{text:""}]};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Pt=e.defineComponent({setup(){const t=e.inject(j.EDITORCONFIG),o=e.shallowRef(),n=e.ref([]),r=e.ref(!1);function l(){r.value||(r.value=!0)}function i(){r.value&&(r.value=!1)}async function a(s){var u;if(o.value??(o.value=new ge(s)),(u=o.value)!=null&&u.isDisabled())return;o.value.record();const d=o.value.getValue();if(d?n.value=await t.fetchSpeaker(d):n.value=[],n.value.length==0)return o.value.unrecord(),B.emit(I.ERROR,"选中的字符没有不是多音字");l()}return()=>e.createVNode(C.ElPopover,{visible:r.value,"onUpdate:visible":s=>r.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"多音字",icon:"speaker",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[n.value.map(({label:s,value:d})=>e.createVNode("div",{key:d,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{o.value&&!o.value.isDisabled()&&(o.value.reselect(),o.value.exec({label:s,value:d}),o.value.unrecord()),i()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class _e extends H{constructor(n){super(n);L(this,"key","continuous");n.on("ssml-continuous-close",_e.handleClose)}static handleClose(n,r){const l=F(n,"ssml-continuous",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return _.SlateRange.isCollapsed(n)?(B.emit(I.ERROR,"请选择多个中文字符或者多个多个英文单词"),!0):_.SlateEditor.string(this.editor,n).length<2}exec(){if(this.isDisabled())return;const n=this.getValue();if(n==null)return;const r={type:"ssml-continuous",domId:this.genDomID(),children:[{text:""}],remark:"连读",value:n,bgColor:"continuous"};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,r),this.editor.move(1)}}const At=e.defineComponent({setup(){const t=e.shallowRef();function o(n){t.value??(t.value=new _e(n)),!t.value.isDisabled()&&(t.value.exec(),t.value.unrecord())}return()=>e.createVNode(D,{text:"连读",icon:"continuous",onClick:o},null)}});class jt extends H{constructor(n){super(n);L(this,"key","read")}static handleClose(n,r){const l=F(n,"ssml-read",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return n==null?!0:_.SlateRange.isCollapsed(n)?(B.emit(I.ERROR,"请先选择文本"),!0):!1}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-read",domId:this.genDomID(),phoneme:n.value,remark:n.label,value:r,bgColor:"read",children:[{text:""}]};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const nr=[{label:"重音",value:"重"},{label:"拖音",value:"拖"},{label:"重音+拖音",value:"重+拖"}],Ft=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value||(o.value=!0)}function r(){o.value&&(o.value=!1)}function l(i){t.value??(t.value=new jt(i)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(C.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"重音",icon:"read",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column",onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[nr.map(({label:i,value:a})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:i,value:a}),t.value.unrecord()),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class ye extends H{constructor(n){super(n);L(this,"key","digital");n.on("ssml-digital-close",ye.handleClose)}static handleClose(n,r){const l=F(n,"ssml-digital",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();if(_.SlateRange.isCollapsed(n))return B.emit(I.ERROR,"请选择纯数字文本"),!0;const r=_.SlateEditor.string(this.editor,n);return!!(r.length<=0||Number.isNaN(Number(r)))}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-digital",domId:this.genDomID(),interpretAs:n.value,remark:n.label,value:r,bgColor:"digital",children:[{text:""}]};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const or=[{value:"value",label:"读数值"},{value:"digits",label:"读数字"},{value:"telephone",label:"读手机号"}],Ht=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value=!o.value}function r(l){t.value??(t.value=new ye(l)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(C.ElPopover,{visible:o.value,"onUpdate:visible":l=>o.value=l,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"数字符号",icon:"digital",onClick:r},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[or.map(({label:l,value:i})=>e.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:l,value:i}),t.value.unrecord()),n()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[l]))])})}});class Ut extends H{constructor(n){super(n);L(this,"key","alias")}static handleClose(n,r){const l=F(n,"ssml-alias",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return _.SlateRange.isCollapsed(n)?(B.emit(I.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0):_.SlateEditor.string(this.editor,n).length<=0}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-alias",domId:this.genDomID(),remark:`(${n.value})`,alias:n.value,value:r,bgColor:"alias",children:[{text:""}]};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const zt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(),n=e.ref(!1);function r(){n.value||(n.value=!0)}function l(){n.value&&(n.value=!1)}async function i(s){t.value??(t.value=new Ut(s)),!t.value.isDisabled()&&(t.value.record(),r(),o.value.focus())}function a(s){var d,u,m;l(),s&&((d=t.value)==null||d.reselect(),(u=t.value)==null||u.exec({value:s,label:s}),(m=t.value)==null||m.unrecord())}return()=>e.createVNode(C.ElPopover,{visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>e.createVNode(D,{text:"别名",icon:"alias",onClick:i},null),default:()=>e.createVNode(Ne,{ref:o,onSubmit:a},null)})}});function rr(t){const{selection:o}=t;if(o){const[n,r]=_.SlateRange.edges(o),l=_.SlateEditor.range(t,n,r),i=_.SlateEditor.string(t,l),a=i.trimEnd();if(a!==i){const s=i.length-a.length,d={...r,offset:r.offset-s},u={...o,anchor:n,focus:d};_.SlateTransforms.select(t,u)}}}class xe extends H{constructor(n){super(n);L(this,"key","english");n.on("ssml-english-close",xe.handleClose)}static handleClose(n,r){const l=F(n,"ssml-english",r.domId);l&&Q(n,l,i=>i.word)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();if(_.SlateRange.isCollapsed(n))return B.emit(I.ERROR,"请选择英文单词"),!0;const r=_.SlateEditor.string(this.editor,n);return r.length<=0?!0:/^[A-Za-z]+$/gi.test(r)?!1:(B.emit(I.ERROR,"请选择英文单词"),!0)}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-english",domId:this.genDomID(),word:r,phoneme:n.value,remark:n.label,bgColor:"english",children:[{text:""}]};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Wt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.inject(j.EDITORCONFIG),n=e.ref([]),r=e.ref(!1);function l(){r.value||(r.value=!0)}function i(){r.value&&(r.value=!1)}async function a(s){if(t.value??(t.value=new xe(s)),rr(s),t.value.isDisabled())return;t.value.record();const d=t.value.getValue();if(d){if(n.value=await o.fetchEnglish(d),n.value.length<=0)return B.emit(I.ERROR,"找不到单词的音标");l()}else t.value.unrecord()}return()=>e.createVNode(C.ElPopover,{visible:r.value,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"音标",icon:"english",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[n.value.map(({label:s,value:d})=>e.createVNode("div",{key:d,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:s,value:d}),t.value.unrecord()),i()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class be extends H{constructor(n){super(n);L(this,"key","changespeed");n.on("ssml-changespeed-close",be.handleClose)}static handleClose(n,r){const l=F(n,"ssml-changespeed",r.domId);l&&_.SlateTransforms.unwrapNodes(n,{at:l[1]})}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return n==null?!0:_.SlateRange.isCollapsed(n)?(B.emit(I.ERROR,"请框选要变速的句子"),!0):!1}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-changespeed",domId:this.genDomID(),remark:n.label,rate:n.value,bgColor:"changespeed",children:[{text:r}]};_.SlateTransforms.delete(this.editor),_.SlateTransforms.insertNodes(this.editor,l)}}const lr=[{value:"0.1x",label:"0.1x"},{value:"0.15x",label:"0.15x"},{value:"0.2x",label:"0.2x"},{value:"0.25x",label:"0.25x"},{value:"0.3x",label:"0.3x"},{value:"0.35x",label:"0.35x"},{value:"0.4x",label:"0.4x"}],Gt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value||(o.value=!0)}function r(){o.value&&(o.value=!1)}async function l(i){t.value??(t.value=new be(i)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(C.ElPopover,{style:{padding:"0px"},visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"局部变速",icon:"changespeed",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[lr.map(({label:i,value:a})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var s,d,u;(s=t.value)==null||s.reselect(),(d=t.value)==null||d.exec({label:i,value:a}),(u=t.value)==null||u.unrecord(),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class we extends H{constructor(n){super(n);L(this,"key","rhythm");n.on("ssml-rhythm-close",we.handleClose)}static handleClose(n,r){const l=F(n,"ssml-rhythm",r.domId);l&&_.SlateTransforms.delete(n,{at:l[1]})}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return _.SlateRange.isExpanded(n)?(B.emit(I.ERROR,"不能选中文本"),!0):!1}exec(n){if(this.isDisabled())return;const r={type:"ssml-rhythm",domId:this.genDomID(),time:n.value,remark:n.label,bgColor:"rhythm",children:[{text:""}]};_.SlateTransforms.insertNodes(this.editor,r),this.editor.move(1)}}const ir=[{value:"200ms",label:"短"},{value:"300ms",label:"中"},{value:"500ms",label:"长"}],qt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value||(o.value=!0)}function r(){o.value&&(o.value=!1)}function l(i){t.value??(t.value=new we(i)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(C.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"停顿调节",icon:"rhythm",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[ir.map(({label:i,value:a})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:i,value:a}),t.value.unrecord()),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class oe extends H{constructor(n){super(n);L(this,"key","special");n.on("ssml-special-close",oe.handleClose),n.on("ssml-special-play",oe.handlePlay)}static handleClose(n,r){const l=F(n,"ssml-special",r.domId);l&&_.SlateTransforms.delete(n,{at:l[1]})}static handlePlay(n,r){Bt(r.src)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return _.SlateRange.isExpanded(n)?(B.emit(I.ERROR,"不能框选文字"),!0):!1}exec(n){if(this.isDisabled()||this.getValue()==null)return;const l={type:"ssml-special",domId:this.genDomID(),src:n.value,remark:n.label,bgColor:"special",children:[{text:""}]};_.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Yt=e.defineComponent({__name:"special-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),i=e.inject(j.EDITORCONFIG),a={first:"默认音效",second:"自定义音效",last:"最近音效"},s=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],d=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],u=e.ref(),{x:m,y:p,height:h}=te(n),g=c=>{if(r.value??(r.value=new oe(c)),r.value.isDisabled())return!1;r.value.record(),o.value.setPosition({x:m.value-200,y:p.value+h.value}),l.value=!0};function f(c){r.value&&!r.value.isDisabled()&&(r.value.reselect(),r.value.exec(c),r.value.unrecord()),l.value=!1}return(c,y)=>(e.openBlock(),e.createBlock(e.unref(K),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":y[0]||(y[0]=w=>l.value=w)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"音效",icon:"special",onClick:g},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(fe),{menuItemLabel:a,scenes:s,styles:d,dataList:u.value,fetch:e.unref(i).fetchSpecial,onSubmit:f},null,8,["dataList","fetch"])]),_:1},8,["visible"]))}});class Ve extends H{constructor(n){super(n);L(this,"key","mute");n.on("ssml-mute-close",Ve.handleClose)}static handleClose(n,r){const l=F(n,"ssml-mute",r.domId);l&&_.SlateTransforms.delete(n,{at:l[1]})}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return _.SlateRange.isExpanded(n)?(B.emit(I.ERROR,"不能选中文本"),!0):!1}exec(n){if(this.isDisabled())return;const r={type:"ssml-mute",domId:this.genDomID(),time:n.value,remark:n.label,bgColor:"mute",children:[{text:""}]};_.SlateTransforms.insertNodes(this.editor,r),this.editor.move(1)}}const ar=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],Kt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1),n=e.ref();function r(){o.value||(o.value=!0)}function l(){o.value&&(o.value=!1)}function i(s){t.value??(t.value=new Ve(s)),!t.value.isDisabled()&&(t.value.record(),r(),n.value.focus())}function a(s){var d,u,m;l(),s&&((d=t.value)==null||d.reselect(),(u=t.value)==null||u.exec({value:s,label:s}),(m=t.value)==null||m.unrecord())}return()=>e.createVNode(C.ElPopover,{visible:o.value,"onUpdate:visible":s=>o.value=s,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>e.createVNode(D,{text:"插入静音",icon:"mute",onClick:i},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[ar.map(({value:s,label:d})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>a(s),onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[d])),e.createVNode(Ne,{type:"number",ref:n,onSubmit:a},null)])})}}),Xt=e.defineComponent({__name:"bgm-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),i=e.inject(j.EDITORCONFIG),a={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},s=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],d=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],u=e.ref(),{x:m,y:p,height:h}=te(n),g=async c=>{const y={x:m.value-300,y:p.value+h.value};r.value=c,o.value.setPosition(y),l.value=!0,u.value??(u.value=await i.fetchBgm({search:"",menuKey:"first",scene:"",style:""}))};function f(c){var y;(y=r.value)==null||y.emit(U.UPDATE_BGM,c),l.value=!1}return(c,y)=>(e.openBlock(),e.createBlock(e.unref(K),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":y[0]||(y[0]=w=>l.value=w)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"配乐",icon:"bgm",onClick:g},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(fe),{menuItemLabel:a,scenes:s,styles:d,dataList:u.value,fetch:e.unref(i).fetchBgm,onSubmit:f},null,8,["dataList","fetch"])]),_:1},8,["visible"]))}}),Qt=e.defineComponent({__name:"sensitive-menu",setup(t){const o=e.inject(j.EDITORCONFIG),n=e.ref(),r=e.ref(),l=e.shallowRef(),i=e.ref(!1),a={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},s=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],d=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],u=e.ref(),{x:m,y:p,height:h}=te(r),g=c=>{const y={x:m.value-200,y:p.value+h.value};l.value=c,n.value.setPosition(y)};function f(c){console.log(c)}return(c,y)=>(e.openBlock(),e.createBlock(e.unref(K),{ref_key:"dragRef",ref:n,visible:i.value,"onUpdate:visible":y[0]||(y[0]=w=>i.value=w)},{refenence:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:r,text:"敏感词",icon:"sensitive",onClick:g},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(fe),{menuItemLabel:a,scenes:s,styles:d,dataList:u.value,fetch:e.unref(o).fetchBgm,onSubmit:f},null,8,["dataList","fetch"])]),_:1},8,["visible"]))}}),oa="",sr={class:"select-list",style:{width:"120px"}},cr={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},dr={class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},fr=["onClick"],ur=e.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",sr,[e.createElementVNode("div",cr,[e.renderSlot(o.$slots,"default",{},void 0,!0)]),e.createElementVNode("ul",dr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.dataList,(r,l)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["clickable select-item py-1",{activate:r.value===o.modelValue}]),key:l,onClick:i=>o.$emit("update:modelValue",r.value)},e.toDisplayString(r.label),11,fr))),128))])]))}}),ra="",re=M(ur,[["__scopeId","data-v-8c60f94f"]]),pr={style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},mr={class:"position-relative"},hr={class:"position-absolute top-0 end-0"},gr=e.createElementVNode("li",null,[e.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),_r=e.createElementVNode("span",{class:"my-3"},"角色",-1),yr=e.createElementVNode("span",{class:"my-3"},"风格",-1),xr=e.createElementVNode("span",{class:"my-3"},"语速",-1),br=e.createElementVNode("span",{class:"my-3"},"语调",-1),wr={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},Vr=e.defineComponent({__name:"management-content",setup(t){const o=e.ref(!1),n=e.ref(""),r=e.ref(""),l=e.ref(""),i=e.ref(""),a=e.ref(""),s=e.ref(""),d=e.ref(""),u=e.ref([]),m=e.ref([]),p=e.ref([]),h=e.ref([]),g=e.ref([]),f=e.ref([]);u.value=[{label:"全部类型",value:""},{label:"常规",value:"2"},{label:"已购",value:"3"},{label:"收藏",value:"4"},{label:"我的",value:"5"},{label:"SVIP",value:"6"},{label:"付费",value:"7"}],m.value=u.value,p.value=u.value,h.value=u.value,g.value=u.value,f.value=u.value;function c(){}return(y,w)=>(e.openBlock(),e.createElementBlock("div",pr,[e.createVNode(e.unref(C.ElForm),{onSubmit:e.withModifiers(c,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{modelValue:n.value,"onUpdate:modelValue":w[0]||(w[0]=E=>n.value=E),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),e.createElementVNode("div",mr,[e.createElementVNode("div",hr,[e.createVNode(e.unref(C.ElButton),{size:"small",icon:e.unref(ee.More),onClick:w[1]||(w[1]=()=>o.value=!o.value)},null,8,["icon"])]),e.createElementVNode("ul",{class:e.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":o.value}])},[gr,e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})])],2),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"d-flex flex-row":!o.value})},[e.createVNode(re,{modelValue:l.value,"onUpdate:modelValue":w[3]||(w[3]=E=>l.value=E),dataList:m.value},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElSelect),{modelValue:r.value,"onUpdate:modelValue":w[2]||(w[2]=E=>r.value=E)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,(E,x)=>(e.openBlock(),e.createBlock(e.unref(C.ElOption),{value:E.value,label:E.label,key:x},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","dataList"]),e.createVNode(re,{modelValue:i.value,"onUpdate:modelValue":w[4]||(w[4]=E=>i.value=E),dataList:p.value},{default:e.withCtx(()=>[_r]),_:1},8,["modelValue","dataList"]),e.createVNode(re,{modelValue:a.value,"onUpdate:modelValue":w[5]||(w[5]=E=>a.value=E),dataList:h.value},{default:e.withCtx(()=>[yr]),_:1},8,["modelValue","dataList"]),e.createVNode(re,{modelValue:s.value,"onUpdate:modelValue":w[6]||(w[6]=E=>s.value=E),dataList:g.value},{default:e.withCtx(()=>[xr]),_:1},8,["modelValue","dataList"]),e.createVNode(re,{modelValue:d.value,"onUpdate:modelValue":w[7]||(w[7]=E=>d.value=E),dataList:f.value},{default:e.withCtx(()=>[br]),_:1},8,["modelValue","dataList"])],2),[[e.vShow,!o.value]])]),e.createElementVNode("div",wr,[e.withDirectives(e.createVNode(e.unref(C.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1},512),[[e.vShow,!o.value]]),e.withDirectives(e.createVNode(e.unref(C.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("全部清空")]),_:1},512),[[e.vShow,o.value]])])]))}}),Jt=e.defineComponent({__name:"management-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),{x:i,y:a,height:s}=te(n),d=m=>{const p={x:i.value-200,y:a.value+s.value};r.value=m,o.value.setPosition(p),l.value=!0};function u(m){console.log(m)}return(m,p)=>(e.openBlock(),e.createBlock(e.unref(K),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":p[0]||(p[0]=h=>l.value=h)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"多人配音",icon:"management",onClick:d},null,512)]),default:e.withCtx(()=>[e.createVNode(Vr,{onSubmit:u})]),_:1},8,["visible"]))}}),Er=e.defineComponent({__name:"conversion-content",emits:["submit"],setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("button",{onClick:n[0]||(n[0]=r=>o.$emit("submit",{value:"局部变音",label:"局部变音"}))},"局部变音")]))}}),Zt=e.defineComponent({__name:"conversion-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),{x:i,y:a,height:s}=te(n),d=m=>{const p={x:i.value-200,y:a.value+s.value};r.value=m,o.value.setPosition(p),l.value=!0};function u(m){console.log(m)}return(m,p)=>(e.openBlock(),e.createBlock(e.unref(K),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":p[0]||(p[0]=h=>l.value=h)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"局部变音",icon:"conversion",onClick:d},null,512)]),default:e.withCtx(()=>[e.createVNode(Er,{onSubmit:u})]),_:1},8,["visible"]))}}),Nr=t=>(e.pushScopeId("data-v-631743dd"),t=t(),e.popScopeId(),t),Cr={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},Tr=["src"],Sr=Nr(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),$r=e.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:o}){const n=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),r=e.ref(),l=e.ref(0),i=e.ref(0),{position:a}=de(r,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(p,h)=>m(h.clientX,h.clientY)?!1:void 0}),{style:s}=Te(r,a);function d(p){m(p.clientX,p.clientY)&&o("update:visible",!1)}function u(p){l.value=p.clientX,i.value=p.clientY}function m(p,h){return p>l.value-10&&p<l.value+10&&h>i.value-10&&h<i.value+10}return(p,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:e.normalizeStyle([e.unref(s),{position:"fixed"}]),onMousedown:u,onMouseup:d},[e.createElementVNode("div",Cr,[e.createElementVNode("img",{src:n.value,class:"rounded-circle"},null,8,Tr),Sr])],36)),[[e.vShow,p.visible]])}}),la="",kr=M($r,[["__scopeId","data-v-631743dd"]]),vr=t=>(e.pushScopeId("data-v-e8c67559"),t=t(),e.popScopeId(),t),Or={class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center"},Ir=["src"],Rr=vr(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),Dr=e.defineComponent({__name:"anchor-avatar",setup(t){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png");return(n,r)=>(e.openBlock(),e.createElementBlock("div",Or,[e.createElementVNode("img",{src:o.value,class:"rounded-circle",style:{height:"40px"}},null,8,Ir),Rr]))}}),ia="",R=M(Dr,[["__scopeId","data-v-e8c67559"]]),Br={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},Mr=e.defineComponent({__name:"anchor-list",setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",Br,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(100,(r,l)=>e.createElementVNode("div",{class:"m-2",key:l},[e.createVNode(R)])),64))]))}}),Lr=e.defineComponent({__name:"tag-item",props:{isActivate:{type:Boolean}},setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag-item p-2 text-white text-center",[o.isActivate?"activate":null]])},[e.renderSlot(o.$slots,"default",{},void 0,!0)],2))}}),aa="",N=M(Lr,[["__scopeId","data-v-80dc8a64"]]),Pr={class:"tag-list w-100"},Ar={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},jr={style:{height:"100px"},class:"w-100 d-flex flex-row flex-wrap align-items-start overflow-y-auto overflow-x-hidden scrollbar-none"},Fr=e.defineComponent({__name:"tag-list",setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",Pr,[e.createElementVNode("div",Ar,[e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("男声")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("女声")]),_:1})]),e.createElementVNode("div",jr,[e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1})])]))}}),sa="",ca="",da="",le=t=>(e.pushScopeId("data-v-00254d87"),t=t(),e.popScopeId(),t),Hr={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},Ur={class:"mt-2 row text-center justify-content-between align-items-center"},zr={class:"col-auto me-auto d-flex flex-row align-items-center"},Wr=["src"],Gr={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},qr=le(()=>e.createElementVNode("div",{class:"d-flex dlex-row column-gap-2 align-items-end"},[e.createElementVNode("span",{class:"fs-6"},"魔云猫"),e.createElementVNode("span",{style:{"font-size":"0.5rem"}},"0.55x")],-1)),Yr={class:"d-flex flex-row column-gap-2 align-items-center"},Kr=le(()=>e.createElementVNode("span",{class:"badge text-bg-primary px-2"},"24K",-1)),Xr={class:"col-7 d-flex flex-column align-items-end"},Qr=le(()=>e.createElementVNode("div",null,"音频时长，请以生成后的为准",-1)),Jr={class:"mt-1"},Zr=le(()=>e.createElementVNode("span",null,"/",-1)),el=e.createStaticVNode('<div class="role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3" data-v-00254d87><div class="rounded-pill px-1 border" data-v-00254d87>女青年(默认)</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div></div>',1),tl={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},nl=le(()=>e.createElementVNode("div",{class:"my-3"},[e.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),ol={class:"slider-box"},rl={class:"slider-box"},ll=e.createStaticVNode('<ul class="d-flex flex-row gap-3 my-3" data-v-00254d87><li class="rounded-pill px-1 border" data-v-00254d87>常用</li><li class="rounded-pill px-1" data-v-00254d87>已购</li><li class="rounded-pill px-1" data-v-00254d87>收藏</li><li class="rounded-pill px-1" data-v-00254d87>我的</li></ul>',1),il={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3"},al=e.defineComponent({__name:"slider-panle",setup(t){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),n=e.ref(10),r=e.ref(0),l=e.ref([0,2]),i=e.ref(0),a=e.ref([-10,10]),s=e.ref(0),d=e.computed(()=>Mt(n.value)),u=e.computed(()=>Mt(r.value)),m=e.reactive({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),p=e.reactive({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"});return(h,g)=>(e.openBlock(),e.createElementBlock("div",Hr,[e.createElementVNode("div",Ur,[e.createElementVNode("div",zr,[e.createElementVNode("img",{src:o.value,class:"rounded-circle",style:{height:"50px"}},null,8,Wr),e.createElementVNode("div",Gr,[qr,e.createElementVNode("div",Yr,[e.createVNode(e.unref(C.ElIcon),{class:"fs-6"},{default:e.withCtx(()=>[e.createVNode(e.unref(ee.Star))]),_:1}),Kr])])]),e.createElementVNode("div",Xr,[Qr,e.createElementVNode("div",Jr,[e.createElementVNode("span",null,e.toDisplayString(u.value),1),Zr,e.createElementVNode("span",null,e.toDisplayString(d.value),1)]),e.createVNode(e.unref(C.ElSlider),{max:n.value,modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=f=>r.value=f),size:"small"},null,8,["max","modelValue"])])]),el,e.createElementVNode("ul",tl,[e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)])]),nl,e.createElementVNode("div",ol,[e.createElementVNode("div",null,[e.createElementVNode("span",null," 语速："+e.toDisplayString(i.value)+"x ",1)]),e.createVNode(e.unref(C.ElSlider),{modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=f=>i.value=f),min:l.value[0],max:l.value[1],step:.05,marks:m},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",rl,[e.createElementVNode("div",null,[e.createElementVNode("span",null," 语调："+e.toDisplayString(s.value),1)]),e.createVNode(e.unref(C.ElSlider),{modelValue:s.value,"onUpdate:modelValue":g[2]||(g[2]=f=>s.value=f),min:a.value[0],max:a.value[1],step:.2,marks:p},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",null,[ll,e.createElementVNode("ul",il,[e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)]),e.createElementVNode("li",null,[e.createVNode(R)])])])]))}}),fa="",sl=M(al,[["__scopeId","data-v-00254d87"]]),cl=t=>(e.pushScopeId("data-v-2d1e47a4"),t=t(),e.popScopeId(),t),dl={class:"box ms-2"},fl={class:"try-play-header text-center d-flex flex-row justify-content-between"},ul={class:"try-play-body d-flex flex-row"},pl={class:"try-play-left w-50 border-right border-secondary"},ml={class:"pe-1"},hl={class:"type-list d-flex flex-row border-bottom border-secondary"},gl=cl(()=>e.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),_l={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},yl=e.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:o}){const n=t,r=e.ref(),l=e.ref(""),i=e.ref(),a=e.ref();e.onMounted(()=>{window.addEventListener("keydown",s)}),e.onUnmounted(()=>{window.addEventListener("keydown",s)}),e.watch(()=>n.visible,h=>{h&&setTimeout(()=>{p()},200)});function s(h){h.code==="Escape"&&n.visible&&m()}const{position:d}=de(a,{initialValue:{x:100,y:100}}),{style:u}=Te(i,d);function m(){o("update:visible",!1)}function p(){var h;(h=r.value)==null||h.focus()}return(h,g)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:i,style:e.normalizeStyle([e.unref(u),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[e.createElementVNode("div",dl,[e.createElementVNode("div",fl,[e.createElementVNode("div",{ref_key:"handleRef",ref:a,class:"col-11 try-play-move"},null,512),e.createElementVNode("div",{onClick:m,class:"col-1 try-play-menu-close"},[e.createVNode(e.unref(C.ElIcon),{color:"white"},{default:e.withCtx(()=>[e.createVNode(e.unref(ee.Minus))]),_:1})])]),e.createElementVNode("div",ul,[e.createElementVNode("div",pl,[e.createElementVNode("div",ml,[e.createVNode(e.unref(C.ElForm),{onSubmit:g[1]||(g[1]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{"input-style":{},ref_key:"searchInputRef",ref:r,modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=f=>l.value=f),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1})]),e.createElementVNode("div",hl,[e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("热榜")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("SVIP")]),_:1}),e.createVNode(N,null,{default:e.withCtx(()=>[e.createTextVNode("付费")]),_:1})]),e.createVNode(Fr),gl,e.createVNode(Mr)]),e.createElementVNode("div",_l,[e.createVNode(sl)])])])],4)),[[e.vShow,h.visible]])}}),ua="",xl=M(yl,[["__scopeId","data-v-2d1e47a4"]]),en=e.defineComponent({__name:"try-play",setup(t){const o=e.ref(!0);function n(r){r||(o.value=!0)}return(r,l)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(kr,{visible:o.value,"onUpdate:visible":l[0]||(l[0]=i=>o.value=i)},null,8,["visible"]),e.createVNode(xl,{visible:!o.value,"onUpdate:visible":n},null,8,["visible"])]))}}),pa="",bl={install:t=>{t.component("SpeakerMenu",Pt),t.component("ContinuousMenu",At),t.component("ReadMenu",Ft),t.component("DigitalMenu",Ht),t.component("AliasMenu",zt),t.component("EnglishMenu",Wt),t.component("ChangespeedMenu",Gt),t.component("RhythmMenu",qt),t.component("SpecialMenu",Yt),t.component("MuteMenu",Kt),t.component("BgmMenu",Xt),t.component("SensitiveMenu",Qt),t.component("ManagementMenu",Jt),t.component("ConversionMenu",Zt),t.component("TryPlay",en)}},ma="",ha="";var He={exports:{}},Ue={exports:{}};(function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ParsingError=void 0;class n extends Error{constructor(V,T){super(V),this.cause=T}}o.ParsingError=n;let r;function l(){return d(!1)||h()||p()||m()}function i(){return c(/\s*/),d(!0)||p()||u()||s(!1)}function a(){const x=s(!0),V=[];let T,b=i();for(;b;){if(b.node.type==="Element"){if(T)throw new Error("Found multiple root nodes");T=b.node}b.excluded||V.push(b.node),b=i()}if(!T)throw new n("Failed to parse XML","Root Element not found");if(r.xml.length!==0)throw new n("Failed to parse XML","Not Well-Formed XML");return{declaration:x?x.node:null,root:T,children:V}}function s(x){const V=c(x?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!V)return;const T={name:V[1],type:"ProcessingInstruction",attributes:{}};for(;!(y()||w("?>"));){const b=g();if(b)T.attributes[b.name]=b.value;else return}return c(/\?>/),{excluded:x?!1:r.options.filter(T)===!1,node:T}}function d(x){const V=c(/^<([^?!</>\s]+)\s*/);if(!V)return;const T={type:"Element",name:V[1],attributes:{},children:[]},b=x?!1:r.options.filter(T)===!1;for(;!(y()||w(">")||w("?>")||w("/>"));){const v=g();if(v)T.attributes[v.name]=v.value;else return}if(c(/^\s*\/>/))return T.children=null,{excluded:b,node:T};c(/\??>/);let S=l();for(;S;)S.excluded||T.children.push(S.node),S=l();if(r.options.strictMode){const v=`</${T.name}>`;if(r.xml.startsWith(v))r.xml=r.xml.slice(v.length);else throw new n("Failed to parse XML",`Closing tag not matching "${v}"`)}else c(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:b,node:T}}function u(){const x=c(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||c(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||c(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||c(/^<!DOCTYPE\s+\S+\s*>/);if(x){const V={type:"DocumentType",content:x[0]};return{excluded:r.options.filter(V)===!1,node:V}}}function m(){if(r.xml.startsWith("<![CDATA[")){const x=r.xml.indexOf("]]>");if(x>-1){const V=x+3,T={type:"CDATA",content:r.xml.substring(0,V)};return r.xml=r.xml.slice(V),{excluded:r.options.filter(T)===!1,node:T}}}}function p(){const x=c(/^<!--[\s\S]*?-->/);if(x){const V={type:"Comment",content:x[0]};return{excluded:r.options.filter(V)===!1,node:V}}}function h(){const x=c(/^([^<]+)/);if(x){const V={type:"Text",content:x[1]};return{excluded:r.options.filter(V)===!1,node:V}}}function g(){const x=c(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(x)return{name:x[1].trim(),value:f(x[2].trim())}}function f(x){return x.replace(/^['"]|['"]$/g,"")}function c(x){const V=r.xml.match(x);if(V)return r.xml=r.xml.slice(V[0].length),V}function y(){return r.xml.length===0}function w(x){return r.xml.indexOf(x)===0}function E(x,V={}){x=x.trim();const T=V.filter||(()=>!0);return r={xml:x,options:Object.assign(Object.assign({},V),{filter:T,strictMode:V.strictMode===!0})},a()}t.exports=E,o.default=E})(Ue,Ue.exports);var wl=Ue.exports;(function(t,o){var n=X&&X.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(o,"__esModule",{value:!0});const r=n(wl);function l(f){if(!f.options.indentation&&!f.options.lineSeparator)return;f.content+=f.options.lineSeparator;let c;for(c=0;c<f.level;c++)f.content+=f.options.indentation}function i(f){f.content=f.content.replace(/ +$/,"");let c;for(c=0;c<f.level;c++)f.content+=f.options.indentation}function a(f,c){f.content+=c}function s(f,c,y){if(typeof f.content=="string")d(f.content,c,y);else if(f.type==="Element")m(f,c,y);else if(f.type==="ProcessingInstruction")h(f,c);else throw new Error("Unknown node type: "+f.type)}function d(f,c,y){if(!y){const w=f.trim();(c.options.lineSeparator||w.length===0)&&(f=w)}f.length>0&&(!y&&c.content.length>0&&l(c),a(c,f))}function u(f,c){const y="/"+f.join("/"),w=f[f.length-1];return c.includes(w)||c.includes(y)}function m(f,c,y){if(c.path.push(f.name),!y&&c.content.length>0&&l(c),a(c,"<"+f.name),p(c,f.attributes),f.children===null||c.options.forceSelfClosingEmptyTag&&f.children.length===0){const w=c.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";a(c,w)}else if(f.children.length===0)a(c,"></"+f.name+">");else{const w=f.children;a(c,">"),c.level++;let E=f.attributes["xml:space"]==="preserve",x=!1;if(!E&&c.options.ignoredPaths&&(x=u(c.path,c.options.ignoredPaths),E=x),!E&&c.options.collapseContent){let V=!1,T=!1,b=!1;w.forEach(function(S,v){S.type==="Text"?(S.content.includes(`
`)?(T=!0,S.content=S.content.trim()):(v===0||v===w.length-1)&&S.content.trim().length===0&&(S.content=""),S.content.trim().length>0&&(V=!0)):S.type==="CDATA"?V=!0:b=!0}),V&&(!b||!T)&&(E=!0)}w.forEach(function(V){s(V,c,y||E)}),c.level--,!y&&!E&&l(c),x&&i(c),a(c,"</"+f.name+">")}c.path.pop()}function p(f,c){Object.keys(c).forEach(function(y){const w=c[y].replace(/"/g,"&quot;");a(f," "+y+'="'+w+'"')})}function h(f,c){c.content.length>0&&l(c),a(c,"<?"+f.name),p(c,f.attributes),a(c,"?>")}function g(f,c={}){c.indentation="indentation"in c?c.indentation:"    ",c.collapseContent=c.collapseContent===!0,c.lineSeparator="lineSeparator"in c?c.lineSeparator:`\r
`,c.whiteSpaceAtEndOfSelfclosingTag=c.whiteSpaceAtEndOfSelfclosingTag===!0,c.throwOnFailure=c.throwOnFailure!==!1;try{const y=(0,r.default)(f,{filter:c.filter,strictMode:c.strictMode}),w={content:"",level:0,options:c,path:[]};return y.declaration&&h(y.declaration,w),y.children.forEach(function(E){s(E,w,!1)}),c.lineSeparator?w.content.replace(/\r\n/g,`
`).replace(/\n/g,c.lineSeparator):w.content}catch(y){if(c.throwOnFailure)throw y;return f}}g.minify=(f,c={})=>g(f,Object.assign(Object.assign({},c),{indentation:"",lineSeparator:""})),t.exports=g,o.default=g})(He,He.exports);var Vl=He.exports;const El=Se(Vl),q=t=>(e.pushScopeId("data-v-71fe7760"),t=t(),e.popScopeId(),t),Nl={class:"editor-title d-flex flex-row align-item-center justify-content-between"},Cl={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},Tl=q(()=>e.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),Sl={class:"author d-flex flex-row align-items-center justify-content-start"},$l=q(()=>e.createElementVNode("div",null,"已保存",-1)),kl=q(()=>e.createElementVNode("div",null,"|",-1)),vl=q(()=>e.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),Ol=q(()=>e.createElementVNode("div",{class:"d-inline-block"},null,-1)),Il={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},Rl=q(()=>e.createElementVNode("div",{class:"menu-divider"},null,-1)),Dl=q(()=>e.createElementVNode("div",{class:"px-1"},null,-1)),Bl={class:"ssml-code"},Ml={class:"dialog-footer"},Ll=e.defineComponent({__name:"editor-title",props:{characterTotal:{},characterMax:{},bgm:{}},setup(t){const o=e.inject(j.EDITOR),n=e.ref(!1),r=e.ref(""),l=e.computed(()=>El(r.value,{indentation:"    ",filter:s=>s.type!=="Comment",collapseContent:!1,lineSeparator:`
`})),i=()=>{o&&(r.value=o.value.getHtml(),n.value=!0)},a=()=>{o==null||o.value.emit(U.REMOVE_BGM)};return(s,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Nl,[e.createElementVNode("div",Cl,[Tl,e.createElementVNode("div",Sl,[$l,kl,e.createElementVNode("div",null,e.toDisplayString(s.characterTotal)+"/"+e.toDisplayString(s.characterMax)+"字",1),s.bgm?(e.openBlock(),e.createBlock(e.unref(C.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:d[0]||(d[0]=()=>s.bgm&&s.bgm.value&&e.unref(Bt)(s.bgm.value)),onClose:a},{default:e.withCtx(()=>[vl,Ol,e.createElementVNode("span",null,e.toDisplayString(s.bgm.label),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Il,[e.createVNode(e.unref(C.ElButton),{type:"primary",icon:e.unref(ee.Share),disabled:""},{default:e.withCtx(()=>[e.createTextVNode("分享")]),_:1},8,["icon"]),Rl,e.createVNode(e.unref(C.ElButton),{type:"primary",onClick:i},{default:e.withCtx(()=>[e.createTextVNode("查看SSML")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载音频")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载视频")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载字幕")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("声音转换")]),_:1}),Dl])]),e.createVNode(e.unref(C.ElDialog),{modelValue:n.value,"onUpdate:modelValue":d[2]||(d[2]=u=>n.value=u),title:"查看SSML",width:"50%"},{footer:e.withCtx(()=>[e.createElementVNode("span",Ml,[e.createVNode(e.unref(C.ElButton),{type:"primary",onClick:d[1]||(d[1]=u=>n.value=!1)},{default:e.withCtx(()=>[e.createTextVNode(" 确定 ")]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("pre",Bl,e.toDisplayString(l.value),1)]),_:1},8,["modelValue"])],64))}}),ga="",Pl=M(Ll,[["__scopeId","data-v-71fe7760"]]),Al=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-alias"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-alias"?!0:n(l),r};function tn(t,o,n,r,l){const i=o===void 0?void 0:o.key;return{sel:t,data:o,children:n,text:r,elm:l,key:i}}const nn=Array.isArray;function ze(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function on(t,o,n){if(t.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&o!==void 0)for(let r=0;r<o.length;++r){const l=o[r];if(typeof l=="string")continue;const i=l.data;i!==void 0&&on(i,l.children,l.sel)}}function k(t,o,n){let r={},l,i,a;if(n!==void 0?(o!==null&&(r=o),nn(n)?l=n:ze(n)?i=n.toString():n&&n.sel&&(l=[n])):o!=null&&(nn(o)?l=o:ze(o)?i=o.toString():o&&o.sel?l=[o]:r=o),l!==void 0)for(a=0;a<l.length;++a)ze(l[a])&&(l[a]=tn(void 0,void 0,void 0,l[a],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&on(r,l,t),tn(t,r,l,i,void 0)}var rn="Expected a function",ln=0/0,jl="[object Symbol]",Fl=/^\s+|\s+$/g,Hl=/^[-+]0x[0-9a-f]+$/i,Ul=/^0b[01]+$/i,zl=/^0o[0-7]+$/i,Wl=parseInt,Gl=typeof X=="object"&&X&&X.Object===Object&&X,ql=typeof self=="object"&&self&&self.Object===Object&&self,Yl=Gl||ql||Function("return this")(),Kl=Object.prototype,Xl=Kl.toString,Ql=Math.max,Jl=Math.min,We=function(){return Yl.Date.now()};function Zl(t,o,n){var r,l,i,a,s,d,u=0,m=!1,p=!1,h=!0;if(typeof t!="function")throw new TypeError(rn);o=an(o)||0,Ee(n)&&(m=!!n.leading,p="maxWait"in n,i=p?Ql(an(n.maxWait)||0,o):i,h="trailing"in n?!!n.trailing:h);function g(b){var S=r,v=l;return r=l=void 0,u=b,a=t.apply(v,S),a}function f(b){return u=b,s=setTimeout(w,o),m?g(b):a}function c(b){var S=b-d,v=b-u,cn=o-S;return p?Jl(cn,i-v):cn}function y(b){var S=b-d,v=b-u;return d===void 0||S>=o||S<0||p&&v>=i}function w(){var b=We();if(y(b))return E(b);s=setTimeout(w,c(b))}function E(b){return s=void 0,h&&r?g(b):(r=l=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=d=l=s=void 0}function V(){return s===void 0?a:E(We())}function T(){var b=We(),S=y(b);if(r=arguments,l=this,d=b,S){if(s===void 0)return f(d);if(p)return s=setTimeout(w,o),g(d)}return s===void 0&&(s=setTimeout(w,o)),a}return T.cancel=x,T.flush=V,T}function ei(t,o,n){var r=!0,l=!0;if(typeof t!="function")throw new TypeError(rn);return Ee(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),Zl(t,o,{leading:r,maxWait:o,trailing:l})}function Ee(t){var o=typeof t;return!!t&&(o=="object"||o=="function")}function ti(t){return!!t&&typeof t=="object"}function ni(t){return typeof t=="symbol"||ti(t)&&Xl.call(t)==jl}function an(t){if(typeof t=="number")return t;if(ni(t))return ln;if(Ee(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=Ee(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=t.replace(Fl,"");var n=Ul.test(t);return n||zl.test(t)?Wl(t.slice(2),n?2:8):Hl.test(t)?ln:+t}var oi=ei;const ie=Se(oi),J={style:{userSelect:"none"},contentEditable:!1};function Z(t,o){return k("span.ssml-wrap",{...J},[k(`span.tag.bg-color.${t.bgColor}`,[k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-close",{on:{click:ie(n=>{n.preventDefault(),o()})}},k("span.iconfont.icon-roundclosefill"))]),k(`span.boundary.start.ft-color.${t.bgColor}`),k("span",t.plain),k(`span.boundary.end.ft-color.${t.bgColor}`)])}function ri(t,o,n){return k("span.ssml-wrap",[k(`span.tag.bg-color.${t.bgColor}`,{...J},[k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-close",{on:{click:ie(r=>{r.preventDefault(),n()})}},k("span.iconfont.icon-roundclosefill",null))]),k(`span.boundary.start.ft-color.${t.bgColor}`,{...J}),k("span",o),k(`span.boundary.end.ft-color.${t.bgColor}`,{...J})])}function sn(t,o){return k("span.ssml-wrap",{...J},[k(`span.tag.bg-color.${t.bgColor}`,[k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-close",{on:{click:ie(n=>{n.preventDefault(),o()})}},k("span.iconfont.icon-roundclosefill",null))])])}function li(t,o){return k("span.ssml-wrap",{...J},[k(`span.tag.bg-color.${t.bgColor}`,[k("span.btn-text",{on:{click:ie(n=>{n.preventDefault(),o==null||o.play()})}},k("span.iconfont.icon-play",null)),k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-text",{on:{click:ie(n=>{n.preventDefault(),o==null||o.close()})}},k("span.iconfont.icon-roundclosefill",null))])])}const ii={editorPlugin:Al,renderElems:[{type:"ssml-alias",renderElem:(t,o,n)=>{const r=t;return Z({...r,plain:r.value},()=>n.emit("ssml-alias-close",n,r))}}],elemsToHtml:[{type:"ssml-alias",elemToHtml:t=>{const{alias:o,value:n}=t;return`<sub alias="${o}">${n}</sub>`}}]},ai={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-changespeed"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-changespeed"?!1:n(l),r},renderElems:[{type:"ssml-changespeed",renderElem:(t,o,n)=>{const r=t;return ri(r,o,()=>n.emit("ssml-changespeed-close",n,r))}}],elemsToHtml:[{type:"ssml-changespeed",elemToHtml:(t,o)=>{const{rate:n}=t;return`<prosody rate="${n}">${o}</prosody>`}}]},si={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-continuous"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-continuous"?!0:n(l),r},renderElems:[{type:"ssml-continuous",renderElem:(t,o,n)=>{const r=t;return Z({...r,plain:r.value},()=>n.emit("ssml-continuous-close",n,r))}}],elemsToHtml:[{type:"ssml-continuous",elemToHtml:t=>`<w>${t.value}</w>`}]},ci={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-digital"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-digital"?!0:n(l),r},renderElems:[{type:"ssml-digital",renderElem:(t,o,n)=>{const r=t;return Z({...r,plain:r.value},()=>n.emit("ssml-digital-close",n,r))}}],elemsToHtml:[{type:"ssml-digital",elemToHtml:t=>{const{interpretAs:o,value:n}=t;return`<say-as interpret-as="${o}">${n}</say-as>`}}]},di={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-english"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-english"?!0:n(l),r},renderElems:[{type:"ssml-english",renderElem:(t,o,n)=>{const r=t;return Z({...r,plain:r.word},()=>n.emit("ssml-english-close",n,r))}}],elemsToHtml:[{type:"ssml-english",elemToHtml:t=>{const{phoneme:o,word:n}=t;return`<p ph="${o}">${n}</p>`}}]},fi={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-mute"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-mute"?!0:n(l),r},renderElems:[{type:"ssml-mute",renderElem:(t,o,n)=>{const r=t;return sn(r,()=>n.emit("ssml-mute-close",n,r))}}],elemsToHtml:[{type:"ssml-mute",elemToHtml:t=>{const{time:o}=t;return`<break time="${o}" />`}}]},ui={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-read"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-read"?!0:n(l),r},renderElems:[{type:"ssml-read",renderElem:(t,o,n)=>{const r=t;return Z({...r,plain:r.value},()=>{n.emit("ssml-read-close",n,r)})}}],elemsToHtml:[{type:"ssml-read",elemToHtml:t=>{const{phoneme:o,value:n}=t;return`<w phoneme="${o}">${n}</w>`}}]},pi={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-rhythm"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-rhythm"?!0:n(l),r},renderElems:[{type:"ssml-rhythm",renderElem:(t,o,n)=>{const r=t;return sn(r,()=>n.emit("ssml-rhythm-close",n,r))}}],elemsToHtml:[{type:"ssml-rhythm",elemToHtml:t=>{const{time:o}=t;return`<break time="${o}" />`}}]},mi={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-speaker"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-speaker"?!0:n(l),r},renderElems:[{type:"ssml-speaker",renderElem:(t,o,n)=>{const r=t;return Z({...r,plain:r.word},()=>n.emit("ssml-speaker-close",n,r))}}],elemsToHtml:[{type:"ssml-speaker",elemToHtml:t=>{const{phoneme:o,word:n}=t;return`<p ph="${o}">${n}</p>`}}]},hi={editorPlugin:t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>_.DomEditor.getNodeType(l)==="ssml-special"?!0:o(l),r.isVoid=l=>_.DomEditor.getNodeType(l)==="ssml-special"?!0:n(l),r},renderElems:[{type:"ssml-special",renderElem:(t,o,n)=>{const r=t;return li(r,{close:()=>n.emit("ssml-special-close",n,r),play:()=>n.emit("ssml-special-play",n,r)})}}],elemsToHtml:[{type:"ssml-special",elemToHtml:t=>{const{src:o}=t;return`<audio src="${o}" />`}}]},gi={editorPlugin:t=>{const{getHtml:o}=t,n=t,r={volume:"",pitch:"",rate:"",voice:"",bgm:"",bgmRemark:"",backgroundMusicVolume:""};return t.on(U.UPDATE_SPEAK,l=>{Object.assign(r,l)}),t.on(U.UPDATE_BGM,l=>{r.bgm=l.value,r.bgmRemark=l.label}),t.on(U.REMOVE_BGM,()=>{r.bgm=void 0,r.bgmRemark=void 0}),n.getHtml=()=>{const l=["bgmRemark"],i=[];for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)){const s=r[a];s&&!l.includes(a)&&i.push(`${a}=${s}`)}return`<speak ${i.join(" ")}>${o()}</speak>`},n}},_i={editorPlugin:t=>{const{deleteBackward:o,deleteForward:n,insertBreak:r,apply:l,normalizeNode:i}=t,a=t;return a.deleteBackward=s=>{o(s)},a.deleteForward=s=>{n(s)},a.insertBreak=()=>{r()},a.normalizeNode=s=>{i(s)},a.apply=s=>{l(s)},a}};function yi(t){t.on("ssml-alias-close",Ut.handleClose),t.on("ssml-changespeed-close",be.handleClose),t.on("ssml-continuous-close",_e.handleClose),t.on("ssml-digital-close",ye.handleClose),t.on("ssml-english-close",xe.handleClose),t.on("ssml-mute-close",Ve.handleClose),t.on("ssml-read-close",jt.handleClose),t.on("ssml-rhythm-close",we.handleClose),t.on("ssml-speaker-close",ge.handleClose),t.on("ssml-special-close",oe.handleClose)}const Ya="",xi=e.defineComponent({__name:"editor-core",props:{editorConfig:{}},emits:["created","change"],setup(t,{emit:o}){const n=t,r=e.ref(null);e.onMounted(()=>{l()});const l=()=>{if(!r.value)return;const i=Jo();_.createEditor({selector:r.value,mode:"simple",content:i??[],config:{...e.toRaw(n.editorConfig),onCreated(a){yi(a),o("created",a),a.focus(!0);const s=a.getConfig();s.hoverbarKeys=void 0},onChange(a){o("change",a),Qo(a.children)}}})};return(i,a)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),bi={class:"bar-view border-bottom border-1"},wi=e.defineComponent({__name:"bar-view",setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",bi,[e.createVNode(e.unref(nt),null,{default:e.withCtx(()=>[e.createVNode(e.unref(W),{divider:"green"},{default:e.withCtx(()=>[e.createVNode(e.unref(D),{text:"24K高清音质",icon:"play",disabled:""})]),_:1}),e.createVNode(e.unref(W),{divider:"cyan"},{default:e.withCtx(()=>[e.createVNode(e.unref(Pt)),e.createVNode(e.unref(Ft)),e.createVNode(e.unref(Ht)),e.createVNode(e.unref(At)),e.createVNode(e.unref(zt)),e.createVNode(e.unref(Wt))]),_:1}),e.createVNode(e.unref(W),{divider:"orange"},{default:e.withCtx(()=>[e.createVNode(e.unref(Gt)),e.createVNode(e.unref(Jt)),e.createVNode(e.unref(Zt))]),_:1}),e.createVNode(e.unref(W),{divider:"purple"},{default:e.withCtx(()=>[e.createVNode(e.unref(qt)),e.createVNode(e.unref(Kt))]),_:1}),e.createVNode(e.unref(W),{divider:"yellow"},{default:e.withCtx(()=>[e.createVNode(e.unref(Yt)),e.createVNode(e.unref(Xt))]),_:1}),e.createVNode(e.unref(W),null,{default:e.withCtx(()=>[e.createVNode(e.unref(Qt))]),_:1})]),_:1})]),e.createVNode(e.unref(en))],64))}}),Vi={class:"editor-view"},Ei={class:"editor-box"},Ni={class:"editor-core-container shadow pt-1"},Ci=e.defineComponent({__name:"editor-view",emits:["onCreated","onChange"],setup(t,{emit:o}){const n=e.ref(0),r=e.shallowRef(),l=e.ref(null);e.provide(j.EDITOR,r);const i={maxLength:5e3,placeholder:"请输入内容..."};e.onUnmounted(()=>{var d;(d=r.value)==null||d.destroy()});const a=d=>{r.value=d,o("onCreated",d),d.on(U.UPDATE_BGM,u=>{l.value=u}),d.on(U.REMOVE_BGM,()=>{l.value=null})},s=d=>{n.value=d.getText().length,o("onChange",d)};return(d,u)=>(e.openBlock(),e.createElementBlock("div",Vi,[e.createVNode(Pl,{bgm:l.value,"character-total":n.value,"character-max":i.maxLength||0},null,8,["bgm","character-total","character-max"]),e.createElementVNode("div",Ei,[e.createVNode(wi),e.createElementVNode("div",Ni,[e.createVNode(xi,{"editor-config":i,onChange:s,onCreated:a})])])]))}}),Ka="",Ti=M(Ci,[["__scopeId","data-v-bc09f735"]]),Si={install(t){t.component("EditorView",Ti)}},Xa="",$i={install(t,o){const n=o??{};t.provide(j.EDITORCONFIG,n),B.on(I.ERROR,n.handleError),_.Boot.registerModule(ii),_.Boot.registerModule(ai),_.Boot.registerModule(si),_.Boot.registerModule(ci),_.Boot.registerModule(di),_.Boot.registerModule(fi),_.Boot.registerModule(ui),_.Boot.registerModule(pi),_.Boot.registerModule(mi),_.Boot.registerModule(hi),_.Boot.registerModule(gi),_.Boot.registerModule(_i),t.use(ro),t.use(bl),t.use(Si)}};O.EMITTER_EVENT=I,O.PROVIDER_KEY=j,O.WANGEDITOR_EVENT=U,O.default=$i,Object.defineProperties(O,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
