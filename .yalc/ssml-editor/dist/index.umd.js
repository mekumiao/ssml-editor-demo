(function(B,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@wangeditor/editor"),require("element-plus"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor","element-plus","@element-plus/icons-vue"],e):(B=typeof globalThis<"u"?globalThis:B||self,e(B.SSMLEditor={},B.Vue,B.wangEditor,B.ElementPlus,B.ElementPlusIconsVue))})(this,function(B,e,g,C,he){"use strict";var Rl=Object.defineProperty;var Dl=(B,e,g)=>e in B?Rl(B,e,{enumerable:!0,configurable:!0,writable:!0,value:g}):B[e]=g;var z=(B,e,g)=>(Dl(B,typeof e!="symbol"?e+"":e,g),g);const Il="";var at=!1;function Ve(t,n,o){return Array.isArray(t)?(t.length=Math.max(t.length,n),t.splice(n,1,o),o):(t[n]=o,o)}function Be(t,n){if(Array.isArray(t)){t.splice(n,1);return}delete t[n]}function kn(){return lt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function lt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const $n=typeof Proxy=="function",Tn="devtools-plugin:setup",On="plugin:settings:set";let le,Le;function vn(){var t;return le!==void 0||(typeof window<"u"&&window.performance?(le=!0,Le=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(le=!0,Le=global.perf_hooks.performance):le=!1),le}function Rn(){return vn()?Le.now():Date.now()}class Dn{constructor(n,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=o;const r={};if(n.settings)for(const l in n.settings){const i=n.settings[l];r[l]=i.defaultValue}const s=`__vue-devtools-plugin-settings__${n.id}`;let a=Object.assign({},r);try{const l=localStorage.getItem(s),i=JSON.parse(l);Object.assign(a,i)}catch{}this.fallbacks={getSettings(){return a},setSettings(l){try{localStorage.setItem(s,JSON.stringify(l))}catch{}a=l},now(){return Rn()}},o&&o.on(On,(l,i)=>{l===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(l,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(l,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:i,args:c,resolve:u})})})}async setRealTarget(n){this.target=n;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function it(t,n){const o=t,r=lt(),s=kn(),a=$n&&o.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))s.emit(Tn,t,n);else{const l=a?new Dn(o,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:n,proxy:l}),l&&n(l.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let _e;const ge=t=>_e=t,ct=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function re(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var K;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(K||(K={}));const Ne=typeof window<"u",ye=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&Ne,dt=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function In(t,{autoBom:n=!1}={}){return n&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function Me(t,n,o){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){pt(r.response,n,o)},r.onerror=function(){console.error("could not download file")},r.send()}function ft(t){const n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Ce(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}const Se=typeof navigator=="object"?navigator:{userAgent:""},ut=(()=>/Macintosh/.test(Se.userAgent)&&/AppleWebKit/.test(Se.userAgent)&&!/Safari/.test(Se.userAgent))(),pt=Ne?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!ut?An:"msSaveOrOpenBlob"in Se?Bn:Ln:()=>{};function An(t,n="download",o){const r=document.createElement("a");r.download=n,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?ft(r.href)?Me(t,n,o):(r.target="_blank",Ce(r)):Ce(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ce(r)},0))}function Bn(t,n="download",o){if(typeof t=="string")if(ft(t))Me(t,n,o);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ce(r)})}else navigator.msSaveOrOpenBlob(In(t,o),n)}function Ln(t,n,o,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Me(t,n,o);const s=t.type==="application/octet-stream",a=/constructor/i.test(String(dt.HTMLElement))||"safari"in dt,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a||ut)&&typeof FileReader<"u"){const i=new FileReader;i.onloadend=function(){let c=i.result;if(typeof c!="string")throw r=null,new Error("Wrong reader.result type");c=l?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location.assign(c),r=null},i.readAsDataURL(t)}else{const i=URL.createObjectURL(t);r?r.location.assign(i):location.href=i,r=null,setTimeout(function(){URL.revokeObjectURL(i)},4e4)}}function L(t,n){const o="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,n):n==="error"?console.error(o):n==="warn"?console.warn(o):console.log(o)}function Pe(t){return"_a"in t&&"install"in t}function mt(){if(!("clipboard"in navigator))return L("Your browser doesn't support the Clipboard API","error"),!0}function ht(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(L('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Mn(t){if(!mt())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),L("Global state copied to clipboard.")}catch(n){if(ht(n))return;L("Failed to serialize the state. Check the console for more details.","error"),console.error(n)}}async function Pn(t){if(!mt())try{_t(t,JSON.parse(await navigator.clipboard.readText())),L("Global state pasted from clipboard.")}catch(n){if(ht(n))return;L("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(n)}}async function Hn(t){try{pt(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(n){L("Failed to export the state as JSON. Check the console for more details.","error"),console.error(n)}}let ee;function jn(){ee||(ee=document.createElement("input"),ee.type="file",ee.accept=".json");function t(){return new Promise((n,o)=>{ee.onchange=async()=>{const r=ee.files;if(!r)return n(null);const s=r.item(0);return n(s?{text:await s.text(),file:s}:null)},ee.oncancel=()=>n(null),ee.onerror=o,ee.click()})}return t}async function Fn(t){try{const o=await jn()();if(!o)return;const{text:r,file:s}=o;_t(t,JSON.parse(r)),L(`Global state imported from "${s.name}".`)}catch(n){L("Failed to import the state from JSON. Check the console for more details.","error"),console.error(n)}}function _t(t,n){for(const o in n){const r=t.state.value[o];r&&Object.assign(r,n[o])}}function q(t){return{_custom:{display:t}}}const gt="🍍 Pinia (root)",He="_root";function Un(t){return Pe(t)?{id:He,label:gt}:{id:t.$id,label:t.$id}}function zn(t){if(Pe(t)){const o=Array.from(t._s.keys()),r=t._s;return{state:o.map(a=>({editable:!0,key:a,value:t.state.value[a]})),getters:o.filter(a=>r.get(a)._getters).map(a=>{const l=r.get(a);return{editable:!1,key:a,value:l._getters.reduce((i,c)=>(i[c]=l[c],i),{})}})}}const n={state:Object.keys(t.$state).map(o=>({editable:!0,key:o,value:t.$state[o]}))};return t._getters&&t._getters.length&&(n.getters=t._getters.map(o=>({editable:!1,key:o,value:t[o]}))),t._customProperties.size&&(n.customProperties=Array.from(t._customProperties).map(o=>({editable:!0,key:o,value:t[o]}))),n}function Wn(t){return t?Array.isArray(t)?t.reduce((n,o)=>(n.keys.push(o.key),n.operations.push(o.type),n.oldValue[o.key]=o.oldValue,n.newValue[o.key]=o.newValue,n),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:q(t.type),key:q(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function Gn(t){switch(t){case K.direct:return"mutation";case K.patchFunction:return"$patch";case K.patchObject:return"$patch";default:return"unknown"}}let ie=!0;const ke=[],se="pinia:mutations",j="pinia",{assign:Yn}=Object,$e=t=>"🍍 "+t;function Xn(t,n){it({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ke,app:t},o=>{typeof o.now!="function"&&L("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:se,label:"Pinia 🍍",color:15064968}),o.addInspector({id:j,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Mn(n)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Pn(n),o.sendInspectorTree(j),o.sendInspectorState(j)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Hn(n)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Fn(n),o.sendInspectorTree(j),o.sendInspectorState(j)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const s=n._s.get(r);s?typeof s.$reset!="function"?L(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),L(`Store "${r}" reset.`)):L(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((r,s)=>{const a=r.componentInstance&&r.componentInstance.proxy;if(a&&a._pStores){const l=r.componentInstance.proxy._pStores;Object.values(l).forEach(i=>{r.instanceData.state.push({type:$e(i.$id),key:"state",editable:!0,value:i._isOptionsAPI?{_custom:{value:e.toRaw(i.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>i.$reset()}]}}:Object.keys(i.$state).reduce((c,u)=>(c[u]=i.$state[u],c),{})}),i._getters&&i._getters.length&&r.instanceData.state.push({type:$e(i.$id),key:"getters",editable:!1,value:i._getters.reduce((c,u)=>{try{c[u]=i[u]}catch(m){c[u]=m}return c},{})})})}}),o.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===j){let s=[n];s=s.concat(Array.from(n._s.values())),r.rootNodes=(r.filter?s.filter(a=>"$id"in a?a.$id.toLowerCase().includes(r.filter.toLowerCase()):gt.toLowerCase().includes(r.filter.toLowerCase())):s).map(Un)}}),o.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===j){const s=r.nodeId===He?n:n._s.get(r.nodeId);if(!s)return;s&&(r.state=zn(s))}}),o.on.editInspectorState((r,s)=>{if(r.app===t&&r.inspectorId===j){const a=r.nodeId===He?n:n._s.get(r.nodeId);if(!a)return L(`store "${r.nodeId}" not found`,"error");const{path:l}=r;Pe(a)?l.unshift("state"):(l.length!==1||!a._customProperties.has(l[0])||l[0]in a.$state)&&l.unshift("$state"),ie=!1,r.set(a,l,r.state.value),ie=!0}}),o.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const s=r.type.replace(/^🍍\s*/,""),a=n._s.get(s);if(!a)return L(`store "${s}" not found`,"error");const{path:l}=r;if(l[0]!=="state")return L(`Invalid path for store "${s}":
${l}
Only state can be modified.`);l[0]="$state",ie=!1,r.set(a,l,r.state.value),ie=!0}})})}function qn(t,n){ke.includes($e(n.$id))||ke.push($e(n.$id)),it({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ke,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const r=typeof o.now=="function"?o.now.bind(o):Date.now;n.$onAction(({after:l,onError:i,name:c,args:u})=>{const m=yt++;o.addTimelineEvent({layerId:se,event:{time:r(),title:"🛫 "+c,subtitle:"start",data:{store:q(n.$id),action:q(c),args:u},groupId:m}}),l(p=>{ne=void 0,o.addTimelineEvent({layerId:se,event:{time:r(),title:"🛬 "+c,subtitle:"end",data:{store:q(n.$id),action:q(c),args:u,result:p},groupId:m}})}),i(p=>{ne=void 0,o.addTimelineEvent({layerId:se,event:{time:r(),logType:"error",title:"💥 "+c,subtitle:"end",data:{store:q(n.$id),action:q(c),args:u,error:p},groupId:m}})})},!0),n._customProperties.forEach(l=>{e.watch(()=>e.unref(n[l]),(i,c)=>{o.notifyComponentUpdate(),o.sendInspectorState(j),ie&&o.addTimelineEvent({layerId:se,event:{time:r(),title:"Change",subtitle:l,data:{newValue:i,oldValue:c},groupId:ne}})},{deep:!0})}),n.$subscribe(({events:l,type:i},c)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(j),!ie)return;const u={time:r(),title:Gn(i),data:Yn({store:q(n.$id)},Wn(l)),groupId:ne};i===K.patchFunction?u.subtitle="⤵️":i===K.patchObject?u.subtitle="🧩":l&&!Array.isArray(l)&&(u.subtitle=l.type),l&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:l}}),o.addTimelineEvent({layerId:se,event:u})},{detached:!0,flush:"sync"});const s=n._hotUpdate;n._hotUpdate=e.markRaw(l=>{s(l),o.addTimelineEvent({layerId:se,event:{time:r(),title:"🔥 "+n.$id,subtitle:"HMR update",data:{store:q(n.$id),info:q("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j)});const{$dispose:a}=n;n.$dispose=()=>{a(),o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j),o.getSettings().logStoreChanges&&L(`Disposed "${n.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j),o.getSettings().logStoreChanges&&L(`"${n.$id}" store installed 🆕`)})}let yt=0,ne;function bt(t,n,o){const r=n.reduce((s,a)=>(s[a]=e.toRaw(t)[a],s),{});for(const s in r)t[s]=function(){const a=yt,l=o?new Proxy(t,{get(...c){return ne=a,Reflect.get(...c)},set(...c){return ne=a,Reflect.set(...c)}}):t;ne=a;const i=r[s].apply(l,arguments);return ne=void 0,i}}function Jn({app:t,store:n,options:o}){if(n.$id.startsWith("__hot:"))return;n._isOptionsAPI=!!o.state,bt(n,Object.keys(o.actions),n._isOptionsAPI);const r=n._hotUpdate;e.toRaw(n)._hotUpdate=function(s){r.apply(this,arguments),bt(n,Object.keys(s._hmrPayload.actions),!!n._isOptionsAPI)},qn(t,n)}function Qn(){const t=e.effectScope(!0),n=t.run(()=>e.ref({}));let o=[],r=[];const s=e.markRaw({install(a){ge(s),s._a=a,a.provide(ct,s),a.config.globalProperties.$pinia=s,ye&&Xn(a,s),r.forEach(l=>o.push(l)),r=[]},use(a){return!this._a&&!at?r.push(a):o.push(a),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return ye&&typeof Proxy<"u"&&s.use(Jn),s}function wt(t,n){for(const o in n){const r=n[o];if(!(o in t))continue;const s=t[o];re(s)&&re(r)&&!e.isRef(r)&&!e.isReactive(r)?t[o]=wt(s,r):t[o]=r}return t}const xt=()=>{};function Et(t,n,o,r=xt){t.push(n);const s=()=>{const a=t.indexOf(n);a>-1&&(t.splice(a,1),r())};return!o&&e.getCurrentScope()&&e.onScopeDispose(s),s}function ce(t,...n){t.slice().forEach(o=>{o(...n)})}const Kn=t=>t();function je(t,n){t instanceof Map&&n instanceof Map&&n.forEach((o,r)=>t.set(r,o)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const r=n[o],s=t[o];re(s)&&re(r)&&t.hasOwnProperty(o)&&!e.isRef(r)&&!e.isReactive(r)?t[o]=je(s,r):t[o]=r}return t}const Zn=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function eo(t){return!re(t)||!t.hasOwnProperty(Zn)}const{assign:G}=Object;function Vt(t){return!!(e.isRef(t)&&t.effect)}function Nt(t,n,o,r){const{state:s,actions:a,getters:l}=n,i=o.state.value[t];let c;function u(){!i&&(process.env.NODE_ENV==="production"||!r)&&(o.state.value[t]=s?s():{});const m=process.env.NODE_ENV!=="production"&&r?e.toRefs(e.ref(s?s():{}).value):e.toRefs(o.state.value[t]);return G(m,a,Object.keys(l||{}).reduce((p,h)=>(process.env.NODE_ENV!=="production"&&h in m&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),p[h]=e.markRaw(e.computed(()=>{ge(o);const _=o._s.get(t);return l[h].call(_,_)})),p),{}))}return c=Fe(t,u,n,o,r,!0),c}function Fe(t,n,o={},r,s,a){let l;const i=G({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const c={deep:!0};process.env.NODE_ENV!=="production"&&!at&&(c.onTrigger=N=>{u?_=N:u==!1&&!b._hotUpdating&&(Array.isArray(_)?_.push(N):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,m,p=[],h=[],_;const f=r.state.value[t];!a&&!f&&(process.env.NODE_ENV==="production"||!s)&&(r.state.value[t]={});const d=e.ref({});let w;function k(N){let E;u=m=!1,process.env.NODE_ENV!=="production"&&(_=[]),typeof N=="function"?(N(r.state.value[t]),E={type:K.patchFunction,storeId:t,events:_}):(je(r.state.value[t],N),E={type:K.patchObject,payload:N,storeId:t,events:_});const I=w=Symbol();e.nextTick().then(()=>{w===I&&(u=!0)}),m=!0,ce(p,E,r.state.value[t])}const R=a?function(){const{state:E}=o,I=E?E():{};this.$patch(O=>{G(O,I)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:xt;function S(){l.stop(),p=[],h=[],r._s.delete(t)}function $(N,E){return function(){ge(r);const I=Array.from(arguments),O=[],A=[];function st(X){O.push(X)}function vl(X){A.push(X)}ce(h,{args:I,name:N,store:b,after:st,onError:vl});let Ee;try{Ee=E.apply(this&&this.$id===t?this:b,I)}catch(X){throw ce(A,X),X}return Ee instanceof Promise?Ee.then(X=>(ce(O,X),X)).catch(X=>(ce(A,X),Promise.reject(X))):(ce(O,Ee),Ee)}}const T=e.markRaw({actions:{},getters:{},state:[],hotState:d}),x={_p:r,$id:t,$onAction:Et.bind(null,h),$patch:k,$reset:R,$subscribe(N,E={}){const I=Et(p,N,E.detached,()=>O()),O=l.run(()=>e.watch(()=>r.state.value[t],A=>{(E.flush==="sync"?m:u)&&N({storeId:t,type:K.direct,events:_},A)},G({},c,E)));return I},$dispose:S},b=e.reactive(process.env.NODE_ENV!=="production"||ye?G({_hmrPayload:T,_customProperties:e.markRaw(new Set)},x):x);r._s.set(t,b);const D=r._a&&r._a.runWithContext||Kn,W=r._e.run(()=>(l=e.effectScope(),D(()=>l.run(n))));for(const N in W){const E=W[N];if(e.isRef(E)&&!Vt(E)||e.isReactive(E))process.env.NODE_ENV!=="production"&&s?Ve(d.value,N,e.toRef(W,N)):a||(f&&eo(E)&&(e.isRef(E)?E.value=f[N]:je(E,f[N])),r.state.value[t][N]=E),process.env.NODE_ENV!=="production"&&T.state.push(N);else if(typeof E=="function"){const I=process.env.NODE_ENV!=="production"&&s?E:$(N,E);W[N]=I,process.env.NODE_ENV!=="production"&&(T.actions[N]=E),i.actions[N]=E}else process.env.NODE_ENV!=="production"&&Vt(E)&&(T.getters[N]=a?o.getters[N]:E,Ne&&(W._getters||(W._getters=e.markRaw([]))).push(N))}if(G(b,W),G(e.toRaw(b),W),Object.defineProperty(b,"$state",{get:()=>process.env.NODE_ENV!=="production"&&s?d.value:r.state.value[t],set:N=>{if(process.env.NODE_ENV!=="production"&&s)throw new Error("cannot set hotState");k(E=>{G(E,N)})}}),process.env.NODE_ENV!=="production"&&(b._hotUpdate=e.markRaw(N=>{b._hotUpdating=!0,N._hmrPayload.state.forEach(E=>{if(E in b.$state){const I=N.$state[E],O=b.$state[E];typeof I=="object"&&re(I)&&re(O)?wt(I,O):N.$state[E]=O}Ve(b,E,e.toRef(N.$state,E))}),Object.keys(b.$state).forEach(E=>{E in N.$state||Be(b,E)}),u=!1,m=!1,r.state.value[t]=e.toRef(N._hmrPayload,"hotState"),m=!0,e.nextTick().then(()=>{u=!0});for(const E in N._hmrPayload.actions){const I=N[E];Ve(b,E,$(E,I))}for(const E in N._hmrPayload.getters){const I=N._hmrPayload.getters[E],O=a?e.computed(()=>(ge(r),I.call(b,b))):I;Ve(b,E,O)}Object.keys(b._hmrPayload.getters).forEach(E=>{E in N._hmrPayload.getters||Be(b,E)}),Object.keys(b._hmrPayload.actions).forEach(E=>{E in N._hmrPayload.actions||Be(b,E)}),b._hmrPayload=N._hmrPayload,b._getters=N._getters,b._hotUpdating=!1})),ye){const N={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(E=>{Object.defineProperty(b,E,G({value:b[E]},N))})}return r._p.forEach(N=>{if(ye){const E=l.run(()=>N({store:b,app:r._a,pinia:r,options:i}));Object.keys(E||{}).forEach(I=>b._customProperties.add(I)),G(b,E)}else G(b,l.run(()=>N({store:b,app:r._a,pinia:r,options:i})))}),process.env.NODE_ENV!=="production"&&b.$state&&typeof b.$state=="object"&&typeof b.$state.constructor=="function"&&!b.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${b.$id}".`),f&&a&&o.hydrate&&o.hydrate(b.$state,f),u=!0,m=!0,b}function Ct(t,n,o){let r,s;const a=typeof n=="function";if(typeof t=="string")r=t,s=a?o:n;else if(s=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function l(i,c){const u=e.hasInjectionContext();if(i=(process.env.NODE_ENV==="test"&&_e&&_e._testing?null:i)||(u?e.inject(ct,null):null),i&&ge(i),process.env.NODE_ENV!=="production"&&!_e)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);i=_e,i._s.has(r)||(a?Fe(r,n,s,i):Nt(r,s,i),process.env.NODE_ENV!=="production"&&(l._pinia=i));const m=i._s.get(r);if(process.env.NODE_ENV!=="production"&&c){const p="__hot:"+r,h=a?Fe(p,n,s,i,!0):Nt(p,G({},s),i,!0);c._hotUpdate(h),delete i.state.value[p],i._s.delete(p)}if(process.env.NODE_ENV!=="production"&&Ne){const p=e.getCurrentInstance();if(p&&p.proxy&&!c){const h=p.proxy,_="_pStores"in h?h._pStores:h._pStores={};_[r]=m}}return m}return l.$id=r,l}const to=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),no=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),oo=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png";function Te(){return()=>Promise.resolve([])}function Ue(t){const n=(t==null?void 0:t.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(t==null?void 0:t.handleError)||(()=>{}),r=(t==null?void 0:t.fetchSpeaker)||Te(),s=(t==null?void 0:t.fetchSpeaker)||Te(),a=(t==null?void 0:t.fetchBgm)||Te(),l=(t==null?void 0:t.fetchSpecial)||Te();return{editorConfig:n,handleError:o,fetchSpeaker:r,fetchEnglish:s,fetchBgm:a,fetchSpecial:l,speed:to,pitch:no,demoAvatar:oo}}const te=Ct("--editor-config",()=>{const t=e.shallowRef(),n=e.shallowRef(),o=e.computed(()=>t.value),r=e.computed(()=>{if(n.value)return n.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:r,setEditor:l=>{t.value=l},setGlobalEditConfig:l=>{n.value=l??Ue()}}}),ro=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-audio"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-audio"?!0:o(s),r};function St(t,n,o,r,s){const a=n===void 0?void 0:n.key;return{sel:t,data:n,children:o,text:r,elm:s,key:a}}const kt=Array.isArray;function ze(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function $t(t,n,o){if(t.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&n!==void 0)for(let r=0;r<n.length;++r){const s=n[r];if(typeof s=="string")continue;const a=s.data;a!==void 0&&$t(a,s.children,s.sel)}}function y(t,n,o){let r={},s,a,l;if(o!==void 0?(n!==null&&(r=n),kt(o)?s=o:ze(o)?a=o.toString():o&&o.sel&&(s=[o])):n!=null&&(kt(n)?s=n:ze(n)?a=n.toString():n&&n.sel?s=[n]:r=n),s!==void 0)for(l=0;l<s.length;++l)ze(s[l])&&(s[l]=St(void 0,void 0,void 0,s[l],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&$t(r,s,t),St(t,r,s,a,void 0)}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ot="Expected a function",vt=0/0,so="[object Symbol]",ao=/^\s+|\s+$/g,lo=/^[-+]0x[0-9a-f]+$/i,io=/^0b[01]+$/i,co=/^0o[0-7]+$/i,fo=parseInt,uo=typeof de=="object"&&de&&de.Object===Object&&de,po=typeof self=="object"&&self&&self.Object===Object&&self,mo=uo||po||Function("return this")(),ho=Object.prototype,_o=ho.toString,go=Math.max,yo=Math.min,We=function(){return mo.Date.now()};function bo(t,n,o){var r,s,a,l,i,c,u=0,m=!1,p=!1,h=!0;if(typeof t!="function")throw new TypeError(Ot);n=Rt(n)||0,Oe(o)&&(m=!!o.leading,p="maxWait"in o,a=p?go(Rt(o.maxWait)||0,n):a,h="trailing"in o?!!o.trailing:h);function _(x){var b=r,D=s;return r=s=void 0,u=x,l=t.apply(D,b),l}function f(x){return u=x,i=setTimeout(k,n),m?_(x):l}function d(x){var b=x-c,D=x-u,W=n-b;return p?yo(W,a-D):W}function w(x){var b=x-c,D=x-u;return c===void 0||b>=n||b<0||p&&D>=a}function k(){var x=We();if(w(x))return R(x);i=setTimeout(k,d(x))}function R(x){return i=void 0,h&&r?_(x):(r=s=void 0,l)}function S(){i!==void 0&&clearTimeout(i),u=0,r=c=s=i=void 0}function $(){return i===void 0?l:R(We())}function T(){var x=We(),b=w(x);if(r=arguments,s=this,c=x,b){if(i===void 0)return f(c);if(p)return i=setTimeout(k,n),_(c)}return i===void 0&&(i=setTimeout(k,n)),l}return T.cancel=S,T.flush=$,T}function wo(t,n,o){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(Ot);return Oe(o)&&(r="leading"in o?!!o.leading:r,s="trailing"in o?!!o.trailing:s),bo(t,n,{leading:r,maxWait:n,trailing:s})}function Oe(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function xo(t){return!!t&&typeof t=="object"}function Eo(t){return typeof t=="symbol"||xo(t)&&_o.call(t)==so}function Rt(t){if(typeof t=="number")return t;if(Eo(t))return vt;if(Oe(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Oe(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(ao,"");var o=io.test(t);return o||co.test(t)?fo(t.slice(2),o?2:8):lo.test(t)?vt:+t}var Vo=wo;const Y=Tt(Vo);function Dt(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ge(t,n){t===void 0&&(t={}),n===void 0&&(n={}),Object.keys(n).forEach(function(o){typeof t[o]>"u"?t[o]=n[o]:Dt(n[o])&&Dt(t[o])&&Object.keys(n[o]).length>0&&Ge(t[o],n[o])})}var It={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ye(){var t=typeof document<"u"?document:{};return Ge(t,It),t}var No={document:It,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){typeof setTimeout>"u"||clearTimeout(t)}};function At(){var t=typeof window<"u"?window:{};return Ge(t,No),t}function Co(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Xe(t)}function ve(t,n){return ve=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},ve(t,n)}function So(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Re(t,n,o){return So()?Re=Reflect.construct:Re=function(s,a,l){var i=[null];i.push.apply(i,a);var c=Function.bind.apply(s,i),u=new c;return l&&ve(u,l.prototype),u},Re.apply(null,arguments)}function ko(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function qe(t){var n=typeof Map=="function"?new Map:void 0;return qe=function(r){if(r===null||!ko(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(r))return n.get(r);n.set(r,s)}function s(){return Re(r,arguments,Xe(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),ve(s,r)},qe(t)}function $o(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t){var n=t.__proto__;Object.defineProperty(t,"__proto__",{get:function(){return n},set:function(r){n.__proto__=r}})}var ae=function(t){Co(n,t);function n(o){var r;return r=t.call.apply(t,[this].concat(o))||this,To($o(r)),r}return n}(qe(Array));function Je(t){t===void 0&&(t=[]);var n=[];return t.forEach(function(o){Array.isArray(o)?n.push.apply(n,Je(o)):n.push(o)}),n}function Oo(t){for(var n=[],o=0;o<t.length;o+=1)n.indexOf(t[o])===-1&&n.push(t[o]);return n}function vo(t){return t.toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()})}function Ro(t,n){if(typeof t!="string")return[t];for(var o=[],r=n.querySelectorAll(t),s=0;s<r.length;s+=1)o.push(r[s]);return o}function v(t,n){var o=At(),r=Ye(),s=[];if(!n&&t instanceof ae)return t;if(!t)return new ae(s);if(typeof t=="string"){var a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");var i=r.createElement(l);i.innerHTML=a;for(var c=0;c<i.childNodes.length;c+=1)s.push(i.childNodes[c])}else s=Ro(t.trim(),n||r)}else if(t.nodeType||t===o||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof ae)return t;s=t}return new ae(Oo(s))}v.fn=ae.prototype;function Bt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Je(n.map(function(s){return s.split(" ")}));return this.forEach(function(s){var a;(a=s.classList).add.apply(a,r)}),this}function Lt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Je(n.map(function(s){return s.split(" ")}));return this.forEach(function(s){var a;(a=s.classList).remove.apply(a,r)}),this}function Mt(t,n){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(t,n);else for(var r in t)this[o][r]=t[r],this[o].setAttribute(r,t[r]);return this}function Pt(){var t=this[0];if(t){var n={};if(t.dataset)for(var o in t.dataset)n[o]=t.dataset[o];else for(var r=0;r<t.attributes.length;r+=1){var s=t.attributes[r];s.name.indexOf("data-")>=0&&(n[vo(s.name.split("data-")[1])]=s.value)}for(var a in n)n[a]==="false"?n[a]=!1:n[a]==="true"?n[a]=!0:parseFloat(n[a])===n[a]*1&&(n[a]*=1);return n}}function Ht(t){if(typeof t>"u"){var n=this[0];if(!n)return;if(n.multiple&&n.nodeName.toLowerCase()==="select"){for(var o=[],r=0;r<n.selectedOptions.length;r+=1)o.push(n.selectedOptions[r].value);return o}return n.value}for(var s=0;s<this.length;s+=1){var a=this[s];if(Array.isArray(t)&&a.multiple&&a.nodeName.toLowerCase()==="select")for(var l=0;l<a.options.length;l+=1)a.options[l].selected=t.indexOf(a.options[l].value)>=0;else a.value=t}return this}function jt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],s=n[1],a=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],a=n[1],l=n[2],s=void 0),l||(l=!1);function i(d){var w=d.target;if(w){var k=d.target.dom7EventData||[];if(k.indexOf(d)<0&&k.unshift(d),v(w).is(s))a.apply(w,k);else for(var R=v(w).parents(),S=0;S<R.length;S+=1)v(R[S]).is(s)&&a.apply(R[S],k)}}function c(d){var w=d&&d.target?d.target.dom7EventData||[]:[];w.indexOf(d)<0&&w.unshift(d),a.apply(this,w)}for(var u=r.split(" "),m,p=0;p<this.length;p+=1){var h=this[p];if(s)for(m=0;m<u.length;m+=1){var f=u[m];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[f]||(h.dom7LiveListeners[f]=[]),h.dom7LiveListeners[f].push({listener:a,proxyListener:i}),h.addEventListener(f,i,l)}else for(m=0;m<u.length;m+=1){var _=u[m];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[_]||(h.dom7Listeners[_]=[]),h.dom7Listeners[_].push({listener:a,proxyListener:c}),h.addEventListener(_,c,l)}}return this}function Ft(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],s=n[1],a=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],a=n[1],l=n[2],s=void 0),l||(l=!1);for(var i=r.split(" "),c=0;c<i.length;c+=1)for(var u=i[c],m=0;m<this.length;m+=1){var p=this[m],h=void 0;if(!s&&p.dom7Listeners?h=p.dom7Listeners[u]:s&&p.dom7LiveListeners&&(h=p.dom7LiveListeners[u]),h&&h.length)for(var _=h.length-1;_>=0;_-=1){var f=h[_];a&&f.listener===a||a&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===a?(p.removeEventListener(u,f.proxyListener,l),h.splice(_,1)):a||(p.removeEventListener(u,f.proxyListener,l),h.splice(_,1))}}return this}function Ut(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this}function zt(t){return t?(this.forEach(function(n,o){t.apply(n,[n,o])}),this):this}function Wt(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(var n=0;n<this.length;n+=1)this[n].innerHTML=t;return this}function Gt(t){var n=At(),o=Ye(),r=this[0],s,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=v(t),a=0;a<s.length;a+=1)if(s[a]===r)return!0;return!1}if(t===o)return r===o;if(t===n)return r===n;if(t.nodeType||t instanceof ae){for(s=t.nodeType?[t]:t,a=0;a<s.length;a+=1)if(s[a]===r)return!0;return!1}return!1}function Yt(){for(var t,n=Ye(),o=0;o<arguments.length;o+=1){t=o<0||arguments.length<=o?void 0:arguments[o];for(var r=0;r<this.length;r+=1)if(typeof t=="string"){var s=n.createElement("div");for(s.innerHTML=t;s.firstChild;)this[r].appendChild(s.firstChild)}else if(t instanceof ae)for(var a=0;a<t.length;a+=1)this[r].appendChild(t[a]);else this[r].appendChild(t)}return this}function Xt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].parentNode;r;)t?v(r).is(t)&&n.push(r):n.push(r),r=r.parentNode;return v(n)}function qt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].querySelectorAll(t),s=0;s<r.length;s+=1)n.push(r[s]);return v(n)}function Jt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].children,s=0;s<r.length;s+=1)(!t||v(r[s]).is(t))&&n.push(r[s]);return v(n)}var Do="resize scroll".split(" ");function Qt(t){function n(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];if(typeof r[0]>"u"){for(var a=0;a<this.length;a+=1)Do.indexOf(t)<0&&(t in this[a]?this[a][t]():v(this[a]).trigger(t));return this}return this.on.apply(this,[t].concat(r))}return n}var Kt=Qt("click"),Zt=Qt("focus");Ut&&(v.fn.hide=Ut),Yt&&(v.fn.append=Yt),Kt&&(v.fn.click=Kt),jt&&(v.fn.on=jt),Ft&&(v.fn.off=Ft),Zt&&(v.fn.focus=Zt),Mt&&(v.fn.attr=Mt),Ht&&(v.fn.val=Ht),Wt&&(v.fn.html=Wt),Pt&&(v.fn.dataset=Pt),Bt&&(v.fn.addClass=Bt),Lt&&(v.fn.removeClass=Lt),Jt&&(v.fn.children=Jt),zt&&(v.fn.each=zt),qt&&(v.fn.find=qt),Gt&&(v.fn.is=Gt),Xt&&(v.fn.parents=Xt);class Io{constructor(){z(this,"audio");z(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(n){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=50,this.audio.src=n,document.body.appendChild(this.audio),this.audio.play()}stop(n){n&&n!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}}const De=new Io;function en(t){const n=Math.floor(t/60),o=t%60,r=String(n).padStart(2,"0"),s=String(o).padStart(2,"0");return`${r}:${s}`}const Ao={editorPlugin:ro,renderElems:[{type:"ssml-audio",renderElem:(t,n,o)=>{const{remark:r,src:s}=t;return y("span.ssml-wrapper.no-line-height",[y("span.remark.left",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(a=>{a.preventDefault(),De.stop(s);const l=g.DomEditor.findPath(o,t);g.SlateTransforms.delete(o,{at:l})})}}),y("span.iconfont.icon-play",{on:{click:Y(a=>{a.preventDefault(),De.play(s)})}}),y("span.data-content",{attrs:{"data-content":r}})])])}}],elemsToHtml:[{type:"ssml-audio",elemToHtml:(t,n)=>{const{remark:o,src:r}=t;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${r}"
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-src")||"",r=t.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:r,children:n}}}]},Bo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-break"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-break"?!0:o(s),r},renderElems:[{type:"ssml-break",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",{props:{contentEditable:!1}},[y("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.delete(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"|"},style:{color:"var(--ssml-break)"}})])}}],elemsToHtml:[{type:"ssml-break",elemToHtml:t=>{const{remark:n,time:o,strength:r}=t;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${n}"
          data-ow-time="${o}"
          data-ow-strength="${r}"
        ></span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:t=>{const n=t.getAttribute("data-ow-remark")||"",o=t.getAttribute("data-ow-time")||"",r=t.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:n,time:o,strength:r,children:[{text:""}]}}}]},Lo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-emphasis"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-emphasis"?!1:o(s),r},renderElems:[{type:"ssml-emphasis",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-emphasis)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-emphasis)"}})])}}],elemsToHtml:[{type:"ssml-emphasis",elemToHtml:(t,n)=>{const{remark:o,level:r}=t;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${r}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:r,children:n}}}]},Mo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-mstts:express-as"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-mstts:express-as"?!1:o(s),r},renderElems:[{type:"ssml-mstts:express-as",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-mstts--express-as)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-mstts--express-as)"}})])}}],elemsToHtml:[{type:"ssml-mstts:express-as",elemToHtml:(t,n)=>{const{remark:o,style:r,role:s,styledegree:a}=t;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${r}"
          data-ow-styledegree="${a}"
          data-ow-role="${s}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-style")||"",s=t.getAttribute("data-ow-styledegree")||"",a=t.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:r,remark:o,styledegree:s,role:a,children:n}}}]},Po={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-p"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-p"?!1:o(s),r},renderElems:[{type:"ssml-p",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-p)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-p)"}})])}}],elemsToHtml:[{type:"ssml-p",elemToHtml:(t,n)=>{const{remark:o}=t;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(t,n)=>({type:"ssml-p",remark:t.getAttribute("data-ow-remark")||"",children:n})}]},Ho={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-phoneme"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-phoneme"?!1:o(s),r},renderElems:[{type:"ssml-phoneme",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-phoneme)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-phoneme)"}})])}}],elemsToHtml:[{type:"ssml-phoneme",elemToHtml:(t,n)=>{const{remark:o,alphabet:r,ph:s}=t;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${r}"
          data-ow-ph="${s}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-alphabet")||"",s=t.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:r,ph:s,children:n}}}]},jo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-prosody"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-prosody"?!1:o(s),r},renderElems:[{type:"ssml-prosody",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-prosody)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-prosody)"}})])}}],elemsToHtml:[{type:"ssml-prosody",elemToHtml:(t,n)=>{const{remark:o,contour:r,pitch:s,range:a,rate:l,volume:i}=t;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${r}"
          data-ow-pitch="${s}"
          data-ow-range="${a}"
          data-ow-rate="${l}"
          data-ow-volume="${i}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-contour")||"",s=t.getAttribute("data-ow-pitch ")||"",a=t.getAttribute("data-ow-range")||"",l=t.getAttribute("data-ow-rate")||void 0,i=t.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:r,pitch:s,range:a,rate:l,volume:i,children:n}}}]},Fo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-s"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-s"?!1:o(s),r},renderElems:[{type:"ssml-s",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-s)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-s)"}})])}}],elemsToHtml:[{type:"ssml-s",elemToHtml:(t,n)=>{const{remark:o}=t;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(t,n)=>({type:"ssml-s",remark:t.getAttribute("data-ow-remark")||"",children:n})}]},Uo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-say-as"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-say-as"?!1:o(s),r},renderElems:[{type:"ssml-say-as",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-say-as)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-say-as)"}})])}}],elemsToHtml:[{type:"ssml-say-as",elemToHtml:(t,n)=>{const{remark:o,interpretAs:r,detail:s,format:a}=t;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${r}"
          data-ow-detail="${s}"
          data-ow-format="${a}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-interpretAs")||"",s=t.getAttribute("data-ow-format")||"",a=t.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:r,detail:a,format:s,children:n}}}]},zo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-sub"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-sub"?!1:o(s),r},renderElems:[{type:"ssml-sub",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-sub)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-sub)"}})])}}],elemsToHtml:[{type:"ssml-sub",elemToHtml:(t,n)=>{const{remark:o,alias:r}=t;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${r}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:r,children:n}}}]},Wo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>g.DomEditor.getNodeType(s)==="ssml-voice"?!0:n(s),r.isVoid=s=>g.DomEditor.getNodeType(s)==="ssml-voice"?!1:o(s),r},renderElems:[{type:"ssml-voice",renderElem:(t,n,o)=>{const{remark:r}=t;return y("span.ssml-wrapper",[y("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[y("span.iconfont.icon-roundclosefill",{on:{click:Y(s=>{s.preventDefault();const a=g.DomEditor.findPath(o,t);g.SlateTransforms.unwrapNodes(o,{at:a})})}}),y("span.data-content",{attrs:{"data-content":r}})]),y("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-voice)"}}),y("span",n),y("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-voice)"}})])}}],elemsToHtml:[{type:"ssml-voice",elemToHtml:(t,n)=>{const{remark:o,name:r,effect:s}=t;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${r}"
          data-ow-effect="${s}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-name")||"",s=t.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:r,effect:s,children:n}}}]},Go=t=>{const{deleteBackward:n,deleteForward:o,insertBreak:r,apply:s,normalizeNode:a,insertText:l}=t,i=t;return i.deleteBackward=c=>{n(c)},i.deleteForward=c=>{o(c)},i.insertBreak=()=>{r()},i.normalizeNode=c=>{a(c)},i.apply=c=>{console.log("apply",JSON.stringify(c)),s(c)},i.insertText=c=>{l(c)},i};function Yo(t){return t.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function Xo(t,n){return n?`<audio src="${t.src}">${n}</audio>`:`<audio src="${t.src}"/>`}function qo(t){return t.time?`<break time="${t.time}"/>`:t.strength?`<break strength="${t.strength}"/>`:"<break/>"}function Jo(t,n){return t.level?`<emphasis level="${t.level}">${n}</emphasis>`:`<emphasis>${n}</emphasis>`}function Qo(t,n){const o=t.role?` role="${t.role}"`:"",r=t.styledegree?` styledegree="${t.styledegree}"`:"";return`<mstts:express-as style="${t.style}"${o}${r}>${n}</mstts:express-as>`}function Ko(t){if(!t.src)return"";const n=t.volume?` volume="${t.volume}"`:"",o=t.fadein?` fadein="${t.fadein}"`:"",r=t.fadeout?` fadeout="${t.fadeout}"`:"";return`<mstts:backgroundaudio src="${t.src}"${n}${o}${r}/>`}function Zo(t,n){return`<p>${n}</p>`}function er(t,n){const o=t.alphabet?`alphabet="${t.alphabet}"`:"";return`<phoneme ph="${t.ph}"${o}>${n}</phoneme>`}function tr(t,n){const o=t.contour?` contour="${t.contour}"`:"",r=t.pitch?` pitch="${t.pitch}"`:"",s=t.range?` range="${t.range}"`:"",a=t.volume?` volume="${t.volume}"`:"",l=t.rate?` rate="${t.rate}"`:"";return`<prosody${o}${r}${s}${a}${l}>${n}</prosody>`}function nr(t,n){const o=t.interpretAs?` interpretAs="${t.interpretAs}"`:"",r=t.format?` format="${t.format}"`:"",s=t.detail?` detail="${t.detail}"`:"";return`<say-as${o}${r}${s}>${n}</say-as>`}function or(t,n){return`<s>${n}</s>`}function rr(t,n){return`<sub alias=${t.alias}>${n}</sub>`}function sr(t,n){const o=t.effect?` effect="${t.effect}"`:"";return`<voice name="${t.name}${o}">${n}</voice>`}function ar(t,n){return`<speak
  version="${t.version}"
  xml:lang="${t.xmlLang}"
  xmlns="${t.xmlns}"
  xmlns:mstts="${t["xmlns:mstts"]}"
  xmlns:emo="${t["xmlns:emo"]}"
  >${n}</speak>`}function tn(t){if(g.SlateText.isText(t))return Yo(t.text);if(g.SlateElement.isElement(t)){const n=t.children.map(r=>tn(r)).join("");switch(g.DomEditor.getNodeType(t)){case"paragraph":return`<p>${n}</p>`;case"ssml-speak":return ar(t,n);case"ssml-mstts:backgroundaudio":return Ko(t);case"ssml-audio":return Xo(t,n);case"ssml-break":return qo(t);case"ssml-emphasis":return Jo(t,n);case"ssml-mstts:express-as":return Qo(t,n);case"ssml-p":return Zo(t,n);case"ssml-phoneme":return er(t,n);case"ssml-prosody":return tr(t,n);case"ssml-s":return or(t,n);case"ssml-say-as":return nr(t,n);case"ssml-sub":return rr(t,n);case"ssml-voice":return sr(t,n);default:return n}}return""}function lr(){const{editor:t}=te();if(!t)throw Error("没有找到 editor 对象");const{rootSpeak:n,rootVoice:o,rootExpressAs:r,rootBackgroundaudio:s}=Qe(),a={...n,children:[]},l={...s},i={...o,children:[]},c={...r,children:[]};return a.children.push(l),a.children.push(i),i.children.push(c),c.children=t.children,tn(a)}const Ni="",ir={install(){g.Boot.registerModule(Ao),g.Boot.registerModule(Bo),g.Boot.registerModule(Lo),g.Boot.registerModule(Mo),g.Boot.registerModule(Po),g.Boot.registerModule(Ho),g.Boot.registerModule(jo),g.Boot.registerModule(Fo),g.Boot.registerModule(Uo),g.Boot.registerModule(zo),g.Boot.registerModule(Wo),g.Boot.registerPlugin(Go)}},Qe=Ct("--editor-ssml",()=>{const t=e.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),n=e.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"",effect:"",children:[]}),o=e.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),r=e.shallowReactive({type:"ssml-mstts:express-as",style:"Default",role:"Default",remark:"",children:[]});return{rootSpeak:t,rootVoice:n,rootBackgroundaudio:o,rootExpressAs:r}}),cr={class:"bar-button-icon"},dr={class:"fw-normal",style:{"font-size":"0.85rem"}},fr=e.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:n}){const o=t,r=()=>{if(!o.disabled){const{editor:s}=te();s&&n("click",s)}};return(s,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bar-button px-2 py-1",{disabled:s.disabled}]),onClick:r,onMousedown:a[0]||(a[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",cr,[e.createElementVNode("span",{class:e.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${s.icon}`]])},null,2)]),e.createElementVNode("div",dr,e.toDisplayString(s.text),1)],34))}}),Ci="",U=(t,n)=>{const o=t.__vccOpts||t;for(const[r,s]of n)o[r]=s;return o},F=U(fr,[["__scopeId","data-v-7f1d5309"]]),Si="",ki="",$i="",Ke=e.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(t,{expose:n,emit:o}){const r=e.ref(""),s=e.ref();function a(){s.value.focus()}function l(){o("submit",r.value),r.value=""}return n({focus:a}),(i,c)=>(e.openBlock(),e.createBlock(e.unref(C.ElForm),{class:"flex flex-row",onSubmit:e.withModifiers(l,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{type:i.type,ref_key:"inputRef",ref:s,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}}),Ti="",Oi="",ur=e.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(t){return(n,o)=>(e.openBlock(),e.createBlock(e.unref(C.ElPopover),{hideAfter:n.hideAfter,width:n.width,visible:n.visible,trigger:n.trigger,"onUpdate:visible":o[0]||(o[0]=r=>n.$emit("update:visible",r))},{reference:e.withCtx(()=>[e.renderSlot(n.$slots,"reference")]),default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}}),vi="",Ri="",Di="",Ii="",Ai="",Bi="",Li="",Mi="",Pi="";function Ie(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function J(t){return typeof t=="function"?t():e.unref(t)}const nn=typeof window<"u",pr=t=>t!=null,Ae=()=>{};var mr=Object.defineProperty,hr=Object.defineProperties,_r=Object.getOwnPropertyDescriptors,on=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable,rn=(t,n,o)=>n in t?mr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,br=(t,n)=>{for(var o in n||(n={}))gr.call(n,o)&&rn(t,o,n[o]);if(on)for(var o of on(n))yr.call(n,o)&&rn(t,o,n[o]);return t},wr=(t,n)=>hr(t,_r(n));function xr(t,n={}){if(!e.isRef(t))return e.toRefs(t);const o=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)o[r]=e.customRef(()=>({get(){return t.value[r]},set(s){var a;if((a=J(n.replaceRef))!=null?a:!0)if(Array.isArray(t.value)){const i=[...t.value];i[r]=s,t.value=i}else{const i=wr(br({},t.value),{[r]:s});Object.setPrototypeOf(i,Object.getPrototypeOf(t.value)),t.value=i}else t.value[r]=s}}));return o}function sn(t,n=!0){e.getCurrentInstance()?e.onMounted(t):n?t():e.nextTick(t)}function Q(t){var n;const o=J(t);return(n=o==null?void 0:o.$el)!=null?n:o}const oe=nn?window:void 0;function fe(...t){let n,o,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,r,s]=t,n=oe):[n,o,r,s]=t,!n)return Ae;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const a=[],l=()=>{a.forEach(m=>m()),a.length=0},i=(m,p,h,_)=>(m.addEventListener(p,h,_),()=>m.removeEventListener(p,h,_)),c=e.watch(()=>[Q(n),J(s)],([m,p])=>{l(),m&&a.push(...o.flatMap(h=>r.map(_=>i(m,h,_,p))))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return Ie(u),u}function Er(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function Ze(t){const n=Er();return e.computed(()=>(n.value,!!t()))}function Vr(t,n={}){const{window:o=oe}=n,r=Ze(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let s;const a=e.ref(!1),l=u=>{a.value=u.matches},i=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",l):s.removeListener(l))},c=e.watchEffect(()=>{r.value&&(i(),s=o.matchMedia(J(t)),"addEventListener"in s?s.addEventListener("change",l):s.addListener(l),a.value=s.matches)});return Ie(()=>{c(),i(),s=void 0}),a}var Nr=Object.defineProperty,Cr=Object.defineProperties,Sr=Object.getOwnPropertyDescriptors,an=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable,ln=(t,n,o)=>n in t?Nr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,Tr=(t,n)=>{for(var o in n||(n={}))kr.call(n,o)&&ln(t,o,n[o]);if(an)for(var o of an(n))$r.call(n,o)&&ln(t,o,n[o]);return t},Or=(t,n)=>Cr(t,Sr(n));function et(t,n={}){var o,r;const{pointerTypes:s,preventDefault:a,stopPropagation:l,exact:i,onMove:c,onEnd:u,onStart:m,initialValue:p,axis:h="both",draggingElement:_=oe,handle:f=t}=n,d=e.ref((o=J(p))!=null?o:{x:0,y:0}),w=e.ref(),k=x=>s?s.includes(x.pointerType):!0,R=x=>{J(a)&&x.preventDefault(),J(l)&&x.stopPropagation()},S=x=>{if(!k(x)||J(i)&&x.target!==J(t))return;const b=J(t).getBoundingClientRect(),D={x:x.clientX-b.left,y:x.clientY-b.top};(m==null?void 0:m(D,x))!==!1&&(w.value=D,R(x))},$=x=>{if(!k(x)||!w.value)return;let{x:b,y:D}=d.value;(h==="x"||h==="both")&&(b=x.clientX-w.value.x),(h==="y"||h==="both")&&(D=x.clientY-w.value.y),d.value={x:b,y:D},c==null||c(d.value,x),R(x)},T=x=>{k(x)&&w.value&&(w.value=void 0,u==null||u(d.value,x),R(x))};if(nn){const x={capture:(r=n.capture)!=null?r:!0};fe(f,"pointerdown",S,x),fe(_,"pointermove",$,x),fe(_,"pointerup",T,x)}return Or(Tr({},xr(d)),{position:d,isDragging:e.computed(()=>!!w.value),style:e.computed(()=>`left:${d.value.x}px;top:${d.value.y}px;`)})}var cn=Object.getOwnPropertySymbols,vr=Object.prototype.hasOwnProperty,Rr=Object.prototype.propertyIsEnumerable,Dr=(t,n)=>{var o={};for(var r in t)vr.call(t,r)&&n.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&cn)for(var r of cn(t))n.indexOf(r)<0&&Rr.call(t,r)&&(o[r]=t[r]);return o};function dn(t,n,o={}){const r=o,{window:s=oe}=r,a=Dr(r,["window"]);let l;const i=Ze(()=>s&&"ResizeObserver"in s),c=()=>{l&&(l.disconnect(),l=void 0)},u=e.computed(()=>Array.isArray(t)?t.map(h=>Q(h)):[Q(t)]),m=e.watch(u,h=>{if(c(),i.value&&s){l=new ResizeObserver(n);for(const _ of h)_&&l.observe(_,a)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{c(),m()};return Ie(p),{isSupported:i,stop:p}}function be(t,n={}){const{reset:o=!0,windowResize:r=!0,windowScroll:s=!0,immediate:a=!0}=n,l=e.ref(0),i=e.ref(0),c=e.ref(0),u=e.ref(0),m=e.ref(0),p=e.ref(0),h=e.ref(0),_=e.ref(0);function f(){const d=Q(t);if(!d){o&&(l.value=0,i.value=0,c.value=0,u.value=0,m.value=0,p.value=0,h.value=0,_.value=0);return}const w=d.getBoundingClientRect();l.value=w.height,i.value=w.bottom,c.value=w.left,u.value=w.right,m.value=w.top,p.value=w.width,h.value=w.x,_.value=w.y}return dn(t,f),e.watch(()=>Q(t),d=>!d&&f()),s&&fe("scroll",f,{capture:!0,passive:!0}),r&&fe("resize",f,{passive:!0}),sn(()=>{a&&f()}),{height:l,bottom:i,left:c,right:u,top:m,width:p,x:h,y:_,update:f}}function Ir(t,n={width:0,height:0},o={}){const{window:r=oe,box:s="content-box"}=o,a=e.computed(()=>{var c,u;return(u=(c=Q(t))==null?void 0:c.namespaceURI)==null?void 0:u.includes("svg")}),l=e.ref(n.width),i=e.ref(n.height);return dn(t,([c])=>{const u=s==="border-box"?c.borderBoxSize:s==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(r&&a.value){const m=Q(t);if(m){const p=r.getComputedStyle(m);l.value=Number.parseFloat(p.width),i.value=Number.parseFloat(p.height)}}else if(u){const m=Array.isArray(u)?u:[u];l.value=m.reduce((p,{inlineSize:h})=>p+h,0),i.value=m.reduce((p,{blockSize:h})=>p+h,0)}else l.value=c.contentRect.width,i.value=c.contentRect.height},o),e.watch(()=>Q(t),c=>{l.value=c?n.width:0,i.value=c?n.height:0}),{width:l,height:i}}function Ar(t,n,o={}){const{root:r,rootMargin:s="0px",threshold:a=.1,window:l=oe,immediate:i=!0}=o,c=Ze(()=>l&&"IntersectionObserver"in l),u=e.computed(()=>{const f=J(t);return(Array.isArray(f)?f:[f]).map(Q).filter(pr)});let m=Ae;const p=e.ref(i),h=c.value?e.watch(()=>[u.value,Q(r),p.value],([f,d])=>{if(m(),!p.value||!f.length)return;const w=new IntersectionObserver(n,{root:Q(d),rootMargin:s,threshold:a});f.forEach(k=>k&&w.observe(k)),m=()=>{w.disconnect(),m=Ae}},{immediate:i,flush:"post"}):Ae,_=()=>{m(),h(),p.value=!1};return Ie(_),{isSupported:c,isActive:p,pause(){m(),p.value=!1},resume(){p.value=!0},stop:_}}function Br(t,{window:n=oe,scrollTarget:o}={}){const r=e.ref(!1);return Ar(t,([{isIntersecting:s}])=>{r.value=s},{root:o,window:n}),r}function Lr(t={}){const{window:n=oe,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:a=!0}=t,l=e.ref(o),i=e.ref(r),c=()=>{n&&(a?(l.value=n.innerWidth,i.value=n.innerHeight):(l.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(c(),sn(c),fe("resize",c,{passive:!0}),s){const u=Vr("(orientation: portrait)");e.watch(u,()=>c())}return{width:l,height:i}}const Mr=t=>(e.pushScopeId("data-v-e61eb377"),t=t(),e.popScopeId(),t),Pr={class:"search-content vh-50"},Hr={class:"ps-2 w-75"},jr={class:"menu"},Fr={class:"flex flex-row pt-1"},Ur={class:"content-list pt-1 w-90"},zr=["onClick"],Wr=Mr(()=>e.createElementVNode("span",{class:"iconfont icon-play"},null,-1)),Gr=e.defineComponent({__name:"bar-search",props:{menuItemLabel:{},scenes:{},styles:{},dataList:{},fetch:{type:Function}},emits:["submit"],setup(t,{emit:n}){const o=t,r=e.ref(),s=e.ref(""),a=e.ref(""),l=e.ref(""),i=e.ref(o.dataList||[]),c=e.ref("first"),u=Br(r);e.watch(u,_=>{_&&setTimeout(()=>{var f;(f=r.value)==null||f.focus()},100)}),e.onMounted(async()=>{i.value.length||await m()});async function m(){i.value=await o.fetch({search:s.value,menuKey:c.value,scene:a.value,style:l.value})}function p(_){c.value=_,m()}function h(_){n("submit",_)}return(_,f)=>(e.openBlock(),e.createElementBlock("div",Pr,[e.createElementVNode("div",Hr,[e.createVNode(e.unref(C.ElForm),{onSubmit:e.withModifiers(m,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{ref_key:"searchInputRef",ref:r,placeholder:"搜索",modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=d=>s.value=d),"suffix-icon":e.unref(he.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),e.createElementVNode("div",jr,[e.createVNode(e.unref(C.ElMenu),{mode:"horizontal","default-active":"first",onSelect:f[1]||(f[1]=d=>p(d))},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElMenuItem),{index:"first"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_.menuItemLabel.first),1)]),_:1}),e.createVNode(e.unref(C.ElMenuItem),{index:"second"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_.menuItemLabel.second),1)]),_:1}),e.createVNode(e.unref(C.ElMenuItem),{index:"last"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(_.menuItemLabel.last),1)]),_:1})]),_:1})]),e.createElementVNode("div",Fr,[e.createVNode(e.unref(C.ElSelect),{modelValue:a.value,"onUpdate:modelValue":f[2]||(f[2]=d=>a.value=d),onChange:m,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.scenes,d=>(e.openBlock(),e.createBlock(e.unref(C.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(e.unref(C.ElSelect),{modelValue:l.value,"onUpdate:modelValue":f[3]||(f[3]=d=>l.value=d),onChange:m,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.styles,d=>(e.openBlock(),e.createBlock(e.unref(C.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.createElementVNode("div",Ur,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(d,w)=>(e.openBlock(),e.createElementBlock("div",{onClick:k=>h(e.toRaw(d)),class:"content-list-item clickable ps-3",key:w},[Wr,e.createElementVNode("span",null,e.toDisplayString(d.label),1)],8,zr))),128))])]))}}),Hi="",tt=U(Gr,[["__scopeId","data-v-e61eb377"]]),ji="",Yr={},Xr={class:"content"};function qr(t,n){return e.openBlock(),e.createElementBlock("div",Xr,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const fn=U(Yr,[["render",qr],["__scopeId","data-v-7beae5b9"]]),Jr={},Qr={class:"bar-wrapper-item"};function Kr(t,n){return e.openBlock(),e.createElementBlock("div",Qr,[e.renderSlot(t.$slots,"default")])}const Zr=U(Jr,[["render",Kr]]),es={class:"bar-wrapper-group"},ts={class:"group-items"},ns=e.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",es,[e.createElementVNode("div",ts,[e.renderSlot(n.$slots,"default",{},void 0,!0)]),e.createElementVNode("div",{class:e.normalizeClass(["divider",[n.divider]])},null,2)]))}}),Fi="",ue=U(ns,[["__scopeId","data-v-3a7abad9"]]);function os(t,n){return`left:${t}px;top:${n}px`}function nt(t,n){const{width:o,height:r}=Ir(t),{width:s,height:a}=Lr(),l=e.computed(()=>({x:s.value-o.value,y:a.value-r.value}));return{style:e.computed(()=>{const c=n.value.x,u=n.value.y,m=c<5?5:c>l.value.x?l.value.x-5:c,p=u<5?5:u>l.value.y?l.value.y-5:u;return os(m,p)})}}const rs=e.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(t,{expose:n,emit:o}){const r=t,s=e.ref(),a=e.ref(),{position:l}=et(s,{initialValue:r.initialValue}),{style:i}=nt(s,l);function c(_){l.value=_}n({setPosition:c}),e.onMounted(()=>{window.addEventListener("click",u),window.addEventListener("keydown",h)}),e.onUnmounted(()=>{window.addEventListener("click",u),window.addEventListener("keydown",h)});function u(_){m(_)&&p()}function m(_){const f=_.target;return!(!s.value||!a.value||a.value.contains(f)||s.value.contains(f))}function p(){o("update:visible",!1),o("close")}function h(_){_.code==="Escape"&&p()}return(_,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"referenceRef",ref:a},[e.renderSlot(_.$slots,"reference",{},void 0,!0)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{ref_key:"boxRef",ref:s,class:"demotestname card shadow brag-box user-select-none",style:e.normalizeStyle([{position:"fixed"},e.unref(i)])},[e.createElementVNode("div",{class:"w-100 text-end me-2"},[e.createElementVNode("span",{onClick:p,class:"btn iconfont icon-close fs-5"})]),e.renderSlot(_.$slots,"default",{},void 0,!0)],4),[[e.vShow,_.visible]])]))],64))}}),Ui="",pe=U(rs,[["__scopeId","data-v-7fa7270a"]]),ss={install(t){t.component("BarButton",F),t.component("BarInput",Ke),t.component("BarPopover",ur),t.component("BarSearch",tt),t.component("BarWrapper",fn),t.component("BarWrapperItem",Zr),t.component("BarWrapperGroup",ue),t.component("DragBox",pe)}},M={ERROR:"wangeditor-error"};class Z{constructor(n){z(this,"editor");this.editor=n}getValue(){const{selection:n}=this.editor;return n==null?"":g.SlateEditor.string(this.editor,n)}isDisabled(){const{selection:n}=this.editor;return n==null?(this.editor.emit(M.ERROR,"未选中编辑器"),!0):!1}}class as extends Z{constructor(o){super(o);z(this,"key","speaker")}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(!o)return!0;if(g.SlateRange.isCollapsed(o))return this.editor.emit(M.ERROR,"请选中文本"),!0;const r=this.getValue();return r.length!=1?!0:/^[\u4E00-\u9FA5]+$/gi.test(r)?!1:(this.editor.emit(M.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0)}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const s={type:"ssml-phoneme",ph:o.value,remark:o.label,children:[{text:r}]};g.SlateTransforms.insertNodes(this.editor,s)}}const un=e.defineComponent({setup(){const{globalEditConfig:t}=te(),n=e.shallowRef(),o=e.ref([]),r=e.ref(!1);function s(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){var u;if(n.value??(n.value=new as(i)),(u=n.value)!=null&&u.isDisabled())return;const c=n.value.getValue();if(c?o.value=await t.fetchSpeaker(c):o.value=[],o.value.length==0)return i.emit(M.ERROR,"选中的字符没有不是多音字");s()}return()=>e.createVNode(C.ElPopover,{visible:r.value,"onUpdate:visible":i=>r.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"多音字",icon:"speaker",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),a()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class ls extends Z{constructor(o){super(o);z(this,"key","continuous")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return o?g.SlateRange.isCollapsed(o)?(this.editor.emit(M.ERROR,"请选择多个中文字符或者多个多个英文单词"),!0):g.SlateEditor.string(this.editor,o).length<2:!0}exec(){if(this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-prosody",rate:"fast",remark:"连读",children:[{text:o}]};g.SlateTransforms.insertNodes(this.editor,r)}}const pn=e.defineComponent({setup(){const t=e.shallowRef();function n(o){t.value??(t.value=new ls(o)),!t.value.isDisabled()&&t.value.exec()}return()=>e.createVNode(F,{text:"连读",icon:"continuous",onClick:n},null)}});class is extends Z{constructor(o){super(o);z(this,"key","read")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return!o||o==null?!0:g.SlateRange.isCollapsed(o)?(this.editor.emit(M.ERROR,"请先选择文本"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const s={type:"ssml-prosody",remark:o.label,children:[{text:r}]};switch(o.value){case"z":s.rate="fast";break;case"t":s.pitch="+10%";break;case"z+t":s.rate="fast",s.pitch="+10%";break}g.SlateTransforms.insertNodes(this.editor,s)}}const cs=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],mn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function s(a){t.value??(t.value=new is(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(C.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"重音",icon:"read",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column",onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[cs.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class ds extends Z{constructor(o){super(o);z(this,"key","digital")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(!o)return!0;if(g.SlateRange.isCollapsed(o))return this.editor.emit(M.ERROR,"请选择纯数字"),!0;const r=g.SlateEditor.string(this.editor,o);return r.length<=0?!0:Number.isNaN(Number(r))?(this.editor.emit(M.ERROR,"请选择纯数字"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const s={type:"ssml-say-as",interpretAs:o.value,remark:o.label,children:[{text:r}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,s)}}const fs=[{value:"value",label:"读数值"},{value:"digits",label:"读数字"},{value:"telephone",label:"读手机号"}],hn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value=!n.value}function r(s){t.value??(t.value=new ds(s)),!t.value.isDisabled()&&o()}return()=>e.createVNode(C.ElPopover,{visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"数字符号",icon:"digital",onClick:r},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[fs.map(({label:s,value:a})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:s,value:a}),o()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class us extends Z{constructor(o){super(o);z(this,"key","alias")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return o==null?!0:g.SlateRange.isCollapsed(o)?(this.editor.emit(M.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0):this.getValue().length<=0}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const s={type:"ssml-sub",remark:o.value,alias:o.value,children:[{text:r}]};g.SlateTransforms.insertNodes(this.editor,s)}}const _n=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(),o=e.ref(!1);function r(){o.value||(o.value=!0)}function s(){o.value&&(o.value=!1)}async function a(i){t.value??(t.value=new us(i)),!t.value.isDisabled()&&(r(),n.value.focus())}function l(i){var c;s(),i&&((c=t.value)==null||c.exec({value:i,label:i}))}return()=>e.createVNode(C.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>e.createVNode(F,{text:"别名",icon:"alias",onClick:a},null),default:()=>e.createVNode(Ke,{ref:n,onSubmit:l},null)})}});function ps(t){const{selection:n}=t;if(n){const[o,r]=g.SlateRange.edges(n),s=g.SlateEditor.range(t,o,r),a=g.SlateEditor.string(t,s),l=a.trimEnd();if(l!==a){const i=a.length-l.length,c={...r,offset:r.offset-i},u={...n,anchor:o,focus:c};g.SlateTransforms.select(t,u)}}}class ms extends Z{constructor(o){super(o);z(this,"key","english")}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(!o)return!0;if(g.SlateRange.isCollapsed(o))return this.editor.emit(M.ERROR,"请选择英文单词"),!0;const r=g.SlateEditor.string(this.editor,o);return r.length<=0?!0:/^[A-Za-z]+$/gi.test(r)?!1:(this.editor.emit(M.ERROR,"请选择英文单词"),!0)}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const s={type:"ssml-phoneme",ph:o.value,remark:o.label,children:[{text:r}]};g.SlateTransforms.insertNodes(this.editor,s)}}const gn=e.defineComponent({setup(){const{globalEditConfig:t}=te(),n=e.shallowRef(),o=e.ref([]),r=e.ref(!1);function s(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){if(n.value??(n.value=new ms(i)),ps(i),n.value.isDisabled())return;const c=n.value.getValue();if(c){if(o.value=await t.fetchEnglish(c),o.value.length<=0)return i.emit(M.ERROR,"找不到单词的音标");s()}}return()=>e.createVNode(C.ElPopover,{visible:r.value,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"音标",icon:"english",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),a()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class hs extends Z{constructor(o){super(o);z(this,"key","changespeed")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return o==null?!0:g.SlateRange.isCollapsed(o)?(this.editor.emit(M.ERROR,"请框选要变速的句子"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const s={type:"ssml-prosody",remark:o.label,rate:o.value,children:[{text:r}]};g.SlateTransforms.insertNodes(this.editor,s)}}const _s=[{value:"0.1x",label:"0.1x"},{value:"0.15x",label:"0.15x"},{value:"0.2x",label:"0.2x"},{value:"0.25x",label:"0.25x"},{value:"0.3x",label:"0.3x"},{value:"0.35x",label:"0.35x"},{value:"0.4x",label:"0.4x"}],yn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}async function s(a){t.value??(t.value=new hs(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(C.ElPopover,{style:{padding:"0px"},visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"局部变速",icon:"changespeed",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[_s.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var i;(i=t.value)==null||i.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class gs extends Z{constructor(o){super(o);z(this,"key","rhythm")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return o?g.SlateRange.isExpanded(o)?(this.editor.emit(M.ERROR,"不能选中文本"),!0):!1:!0}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r={type:"ssml-break",strength:o.value,remark:o.label,children:[{text:""}]};g.SlateTransforms.insertNodes(this.editor,r)}}const ys=[{value:"200ms",label:"短"},{value:"300ms",label:"中"},{value:"500ms",label:"长"}],bn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function s(a){t.value??(t.value=new gs(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(C.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"停顿调节",icon:"rhythm",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[ys.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class bs extends Z{constructor(o){super(o);z(this,"key","special")}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return o?g.SlateRange.isExpanded(o)?(this.editor.emit(M.ERROR,"不能框选文字"),!0):!1:!0}exec(o){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const s={type:"ssml-audio",src:o.value,remark:o.label,children:[{text:""}]};g.SlateTransforms.insertNodes(this.editor,s)}}const wn=e.defineComponent({__name:"special-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),{globalEditConfig:s}=te(),a=e.ref(!1),l={first:"默认音效",second:"自定义音效",last:"最近音效"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:u,y:m,height:p}=be(o),h=f=>{r.value??(r.value=new bs(f)),!r.value.isDisabled()&&(n.value.setPosition({x:u.value-200,y:m.value+p.value}),a.value=!0)};function _(f){var d;(d=r.value)==null||d.restoreSelection(),r.value&&!r.value.isDisabled()&&r.value.exec(f),a.value=!1}return(f,d)=>(e.openBlock(),e.createBlock(e.unref(pe),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":d[0]||(d[0]=w=>a.value=w)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(tt),{menuItemLabel:l,scenes:i,styles:c,fetch:e.unref(s).fetchSpecial,onSubmit:_},null,8,["fetch"])]),_:1},8,["visible"]))}});class ws extends Z{constructor(o){super(o);z(this,"key","mute")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;return o?g.SlateRange.isExpanded(o)?(this.editor.emit(M.ERROR,"不能选中文本"),!0):!1:!0}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r={type:"ssml-break",time:o.value,remark:o.label,children:[{text:""}]};g.SlateTransforms.insertNodes(this.editor,r)}}const xs=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],xn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1),o=e.ref();function r(){n.value||(n.value=!0)}function s(){n.value&&(n.value=!1)}function a(i){t.value??(t.value=new ws(i)),!t.value.isDisabled()&&(r(),o.value.focus())}function l(i){var c;s(),i&&((c=t.value)==null||c.exec({value:i,label:i}))}return()=>e.createVNode(C.ElPopover,{visible:n.value,"onUpdate:visible":i=>n.value=i,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>e.createVNode(F,{text:"插入静音",icon:"mute",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[xs.map(({value:i,label:c})=>e.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>l(i),onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[c])),e.createVNode(Ke,{type:"number",ref:o,onSubmit:l},null)])})}}),En=e.defineComponent({__name:"bgm-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{globalEditConfig:a}=te(),l={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:u,y:m,height:p}=be(o),h=async f=>{const d={x:u.value-300,y:m.value+p.value};r.value=f,n.value.setPosition(d),s.value=!0};function _(f){const{rootBackgroundaudio:d}=Qe();d.src=f.value,d.remark=f.label,s.value=!1}return(f,d)=>(e.openBlock(),e.createBlock(e.unref(pe),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":d[0]||(d[0]=w=>s.value=w)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(tt),{menuItemLabel:l,scenes:i,styles:c,fetch:e.unref(a).fetchBgm,onSubmit:_},null,8,["fetch"])]),_:1},8,["visible"]))}}),Vn=e.defineComponent({__name:"sensitive-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{x:a,y:l,height:i}=be(o),c=u=>{r.value=u,n.value.setPosition({x:a.value-200,y:l.value+i.value}),s.value=!0};return(u,m)=>(e.openBlock(),e.createBlock(e.unref(pe),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":m[0]||(m[0]=p=>s.value=p)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(Vn)]),_:1},8,["visible"]))}}),Wi="",Es={class:"select-list",style:{width:"120px"}},Vs={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},Ns=["onClick"],Cs=e.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(t,{expose:n,emit:o}){const r=t,s=e.ref();function a(i){o("update:modelValue",i.value)}function l(){var i;if(s.value){for(let c=0;c<r.dataList.length;c++)if(r.dataList[c].value===r.modelValue){(i=s.value.children[c])==null||i.scrollIntoView({behavior:"smooth"});return}}}return n({scrollIntoViewTheItem:l}),(i,c)=>(e.openBlock(),e.createElementBlock("div",Es,[e.createElementVNode("div",Vs,[e.renderSlot(i.$slots,"default",{},void 0,!0)]),e.createElementVNode("ul",{ref_key:"listRef",ref:s,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.dataList,(u,m)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["clickable select-item py-1",{activate:u.value===i.modelValue}]),key:m,onClick:p=>a(e.toRaw(u))},e.toDisplayString(u.label),11,Ns))),128))],512)]))}}),Gi="",we=U(Cs,[["__scopeId","data-v-efb1399e"]]),Ss=()=>{const t=[];for(let n=2;n<=40;n++){const o=(n*.05).toFixed(2);t.push({value:o,label:`${o}x`})}return t},ks=()=>{const t=[];for(let n=-10;n<=10;n++)t.push({value:n.toString(),label:n.toString()});return t},$s={style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},Ts={class:"position-relative"},Os={class:"position-absolute top-0 end-0"},vs=e.createElementVNode("li",null,[e.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),Rs=e.createElementVNode("span",{class:"my-3"},"角色",-1),Ds=e.createElementVNode("span",{class:"my-3"},"风格",-1),Is=e.createElementVNode("span",{class:"my-3"},"语速",-1),As=e.createElementVNode("span",{class:"my-3"},"语调",-1),Bs={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},Ls=e.defineComponent({__name:"management-content",setup(t){const n=e.ref(!1),o=e.ref(""),r=e.ref(),s=e.ref(),a=e.ref(),l=e.ref(),i=e.ref(),c=e.ref(""),u=e.ref(""),m=e.ref(""),p=e.ref(""),h=e.ref(""),_=e.ref(""),f=e.ref([]),d=e.ref([]),w=e.ref([]),k=e.ref([]),R=e.ref(Ss()),S=e.ref(ks());f.value=[{label:"全部类型",value:""},{label:"常规",value:"2"},{label:"已购",value:"3"},{label:"收藏",value:"4"},{label:"我的",value:"5"},{label:"SVIP",value:"6"},{label:"付费",value:"7"}],d.value=f.value,w.value=f.value,k.value=f.value;function $(){}function T(){}function x(){m.value="",E(r)}function b(){p.value="",E(s)}function D(){h.value="1.00",_.value="0",E(a)}function W(){}function N(){}async function E(I){console.log(I)}return(I,O)=>(e.openBlock(),e.createElementBlock("div",$s,[e.createVNode(e.unref(C.ElForm),{onSubmit:e.withModifiers($,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{modelValue:o.value,"onUpdate:modelValue":O[0]||(O[0]=A=>o.value=A),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),e.createElementVNode("div",Ts,[e.createElementVNode("div",Os,[e.createVNode(e.unref(C.ElButton),{size:"small",icon:e.unref(he.More),onClick:O[1]||(O[1]=()=>n.value=!n.value)},null,8,["icon"])]),e.createElementVNode("ul",{class:e.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":n.value}])},[vs,e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(C.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})])],2),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"d-flex flex-row":!n.value})},[e.createVNode(we,{"onUpdate:modelValue":[x,O[3]||(O[3]=A=>u.value=A)],ref_key:"selSpeakerRef",ref:r,modelValue:u.value,dataList:d.value},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElSelect),{onChange:T,modelValue:c.value,"onUpdate:modelValue":O[2]||(O[2]=A=>c.value=A)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(A,st)=>(e.openBlock(),e.createBlock(e.unref(C.ElOption),{value:A.value,label:A.label,key:st},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","dataList"]),e.createVNode(we,{"onUpdate:modelValue":[b,O[4]||(O[4]=A=>m.value=A)],ref_key:"selRoleRef",ref:s,modelValue:m.value,dataList:w.value},{default:e.withCtx(()=>[Rs]),_:1},8,["modelValue","dataList"]),e.createVNode(we,{"onUpdate:modelValue":[D,O[5]||(O[5]=A=>p.value=A)],ref_key:"selStyleRef",ref:a,modelValue:p.value,dataList:k.value},{default:e.withCtx(()=>[Ds]),_:1},8,["modelValue","dataList"]),e.createVNode(we,{"onUpdate:modelValue":[W,O[6]||(O[6]=A=>h.value=A)],ref_key:"selSpeedRef",ref:l,modelValue:h.value,dataList:R.value},{default:e.withCtx(()=>[Is]),_:1},8,["modelValue","dataList"]),e.createVNode(we,{"onUpdate:modelValue":[N,O[7]||(O[7]=A=>_.value=A)],ref_key:"selPitchRef",ref:i,modelValue:_.value,dataList:S.value},{default:e.withCtx(()=>[As]),_:1},8,["modelValue","dataList"])],2),[[e.vShow,!n.value]])]),e.createElementVNode("div",Bs,[e.withDirectives(e.createVNode(e.unref(C.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1},512),[[e.vShow,!n.value]]),e.withDirectives(e.createVNode(e.unref(C.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("全部清空")]),_:1},512),[[e.vShow,n.value]])])]))}}),Nn=e.defineComponent({__name:"management-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{x:a,y:l,height:i}=be(o),c=m=>{const p={x:a.value-200,y:l.value+i.value};r.value=m,n.value.setPosition(p),s.value=!0};function u(m){console.log(m)}return(m,p)=>(e.openBlock(),e.createBlock(e.unref(pe),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":p[0]||(p[0]=h=>s.value=h)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(Ls,{onSubmit:u})]),_:1},8,["visible"]))}}),Ms={class:"speaker-item"},Ps={class:"speaker-head"},Hs=["src"],js={class:"speaker-name"},Fs=e.defineComponent({__name:"speaker-item",props:{name:{},img:{default:"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",Ms,[e.createElementVNode("div",Ps,[e.createElementVNode("img",{src:n.img,class:"rounded-circle",style:{height:"40px"}},null,8,Hs)]),e.createElementVNode("div",js,e.toDisplayString(n.name),1)]))}}),Yi="",P=U(Fs,[["__scopeId","data-v-c961717f"]]),Us={class:"px-2 py-1",style:{width:"410px"}},zs=e.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),Ws={class:"border border-secondary rounded w-100",style:{height:"100px"}},Gs={class:"mt-2"},Ys={class:"w-100 d-flex flex-column row-gap-1"},Xs=e.createElementVNode("button",{class:"btn btn-success"},"实时录音",-1),qs=e.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),Js={class:"audio-upload"},Qs={class:"border rounded-pill border-secondary d-flex flex-row justify-content-between"},Ks={class:"d-flex flex-row align-items-center"},Zs=e.createElementVNode("div",null,"图标",-1),ea=e.createElementVNode("div",null,[e.createElementVNode("div",null,"删除"),e.createElementVNode("button",null,"上传音频")],-1),ta=e.createElementVNode("template",null,[e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击选择文件"),e.createElementVNode("button",{class:"btn btn-primary"})],-1),na=e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击开始录音",-1),oa=e.createElementVNode("p",null,"选择需要转换的配音师",-1),ra={class:"speakers-container d-flex flex-row flex-wrap row-gap-1 column-gap-2"},sa=e.createElementVNode("button",{class:"btn btn-primary",disabled:""},"完成录音并上传完成后，可选择配音师转换",-1),aa=e.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(t){const n=e.ref(),o=e.ref(),r=e.ref(!1),s=e.ref(!1),a=e.shallowRef();function l(m){if(!m.target)return;const p=m.target.files[0];p&&(a.value=p,console.log("已选择文件:",p.name))}function i(){var m;(m=n.value)==null||m.click()}function c(){}function u(){}return(m,p)=>{var h;return e.openBlock(),e.createElementBlock("div",Us,[e.createElementVNode("section",null,[zs,e.createElementVNode("div",Ws,e.toDisplayString(m.text),1)]),e.withDirectives(e.createElementVNode("section",Gs,[e.createElementVNode("div",Ys,[e.createElementVNode("input",{accept:"audio/*",ref_key:"inputFileRef",ref:n,onChange:l,type:"file",hidden:""},null,544),Xs,e.createElementVNode("button",{onClick:i,class:"btn btn-primary"},"上传录音")]),qs],512),[[e.vShow,!r.value]]),e.withDirectives(e.createElementVNode("section",null,[e.createElementVNode("div",Js,[e.createElementVNode("div",Qs,[s.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Ks,[Zs,e.createElementVNode("div",null,e.toDisplayString((h=o.value)==null?void 0:h.name),1)]),ea],64)):e.createCommentVNode("",!0),ta,e.createElementVNode("template",null,[na,e.createElementVNode("button",{onClick:c,class:"btn btn-primary"},"开始录音"),e.createElementVNode("button",{onClick:u,class:"btn btn-primary"},"结束录音")])]),e.createElementVNode("div",null,[oa,e.createElementVNode("div",ra,[e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"}),e.createVNode(P,{name:"莫厚渊"})])]),sa])],512),[[e.vShow,r.value]])])}}}),Cn=e.defineComponent({__name:"conversion-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),a=e.ref("ttttt"),{x:l,y:i,height:c}=be(o),u=p=>{const h={x:l.value-200,y:i.value+c.value};r.value=p,n.value.setPosition(h),s.value=!0};function m(p){console.log(p)}return(p,h)=>(e.openBlock(),e.createBlock(e.unref(pe),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":h[0]||(h[0]=_=>s.value=_)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:u},null,512)]),default:e.withCtx(()=>[e.createVNode(aa,{text:a.value,onSubmit:m},null,8,["text"])]),_:1},8,["visible"]))}}),la=t=>(e.pushScopeId("data-v-d94c0954"),t=t(),e.popScopeId(),t),ia={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},ca=["src"],da=la(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),fa=e.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),r=e.ref(),s=e.ref(0),a=e.ref(0),{position:l}=et(r,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(p,h)=>m(h.clientX,h.clientY)?!1:void 0}),{style:i}=nt(r,l);function c(p){m(p.clientX,p.clientY)&&n("update:visible",!1)}function u(p){s.value=p.clientX,a.value=p.clientY}function m(p,h){return p>s.value-10&&p<s.value+10&&h>a.value-10&&h<a.value+10}return(p,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:e.normalizeStyle([e.unref(i),{position:"fixed"}]),onMousedown:u,onMouseup:c},[e.createElementVNode("div",ia,[e.createElementVNode("img",{src:o.value,class:"rounded-circle"},null,8,ca),da])],36)),[[e.vShow,p.visible]])}}),Xi="",ua=U(fa,[["__scopeId","data-v-d94c0954"]]),pa=t=>(e.pushScopeId("data-v-e8c67559"),t=t(),e.popScopeId(),t),ma={class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center"},ha=["src"],_a=pa(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),ga=e.defineComponent({__name:"anchor-avatar",setup(t){const n=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png");return(o,r)=>(e.openBlock(),e.createElementBlock("div",ma,[e.createElementVNode("img",{src:n.value,class:"rounded-circle",style:{height:"40px"}},null,8,ha),_a]))}}),qi="",H=U(ga,[["__scopeId","data-v-e8c67559"]]),ya={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},ba=e.defineComponent({__name:"anchor-list",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",ya,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(100,(r,s)=>e.createElementVNode("div",{class:"m-2",key:s},[e.createVNode(H)])),64))]))}}),wa=e.defineComponent({__name:"tag-item",props:{isActivate:{type:Boolean}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag-item p-2 text-white text-center",[n.isActivate?"activate":null]])},[e.renderSlot(n.$slots,"default",{},void 0,!0)],2))}}),Ji="",V=U(wa,[["__scopeId","data-v-80dc8a64"]]),xa={class:"tag-list w-100"},Ea={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},Va={style:{height:"100px"},class:"w-100 d-flex flex-row flex-wrap align-items-start overflow-y-auto overflow-x-hidden scrollbar-none"},Na=e.defineComponent({__name:"tag-list",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",xa,[e.createElementVNode("div",Ea,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("男声")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("女声")]),_:1})]),e.createElementVNode("div",Va,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1})])]))}}),Qi="",Ki="",Zi="",xe=t=>(e.pushScopeId("data-v-1b5a3a37"),t=t(),e.popScopeId(),t),Ca={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},Sa={class:"mt-2 row text-center justify-content-between align-items-center"},ka={class:"col-auto me-auto d-flex flex-row align-items-center"},$a=["src"],Ta={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},Oa=xe(()=>e.createElementVNode("div",{class:"d-flex dlex-row column-gap-2 align-items-end"},[e.createElementVNode("span",{class:"fs-6"},"魔云猫"),e.createElementVNode("span",{style:{"font-size":"0.5rem"}},"0.55x")],-1)),va={class:"d-flex flex-row column-gap-2 align-items-center"},Ra=xe(()=>e.createElementVNode("span",{class:"badge text-bg-primary px-2"},"24K",-1)),Da={class:"col-7 d-flex flex-column align-items-end"},Ia=xe(()=>e.createElementVNode("div",null,"音频时长，请以生成后的为准",-1)),Aa={class:"mt-1"},Ba=xe(()=>e.createElementVNode("span",null,"/",-1)),La=e.createStaticVNode('<div class="role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3" data-v-1b5a3a37><div class="rounded-pill px-1 border" data-v-1b5a3a37>女青年(默认)</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div></div>',1),Ma={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},Pa=xe(()=>e.createElementVNode("div",{class:"my-3"},[e.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),Ha={class:"slider-box"},ja={class:"slider-box"},Fa=e.createStaticVNode('<ul class="d-flex flex-row gap-3 my-3" data-v-1b5a3a37><li class="rounded-pill px-1 border" data-v-1b5a3a37>常用</li><li class="rounded-pill px-1" data-v-1b5a3a37>已购</li><li class="rounded-pill px-1" data-v-1b5a3a37>收藏</li><li class="rounded-pill px-1" data-v-1b5a3a37>我的</li></ul>',1),Ua={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3"},za=e.defineComponent({__name:"slider-panle",setup(t){const{globalEditConfig:n}=te(),o=e.ref(10),r=e.ref(0),s=e.ref([0,2]),a=e.ref(0),l=e.ref([-10,10]),i=e.ref(0),c=e.computed(()=>en(o.value)),u=e.computed(()=>en(r.value)),m=e.reactive(n.speed()),p=e.reactive(n.pitch());return(h,_)=>(e.openBlock(),e.createElementBlock("div",Ca,[e.createElementVNode("div",Sa,[e.createElementVNode("div",ka,[e.createElementVNode("img",{src:e.unref(n).demoAvatar(),class:"rounded-circle",style:{height:"50px"}},null,8,$a),e.createElementVNode("div",Ta,[Oa,e.createElementVNode("div",va,[e.createVNode(e.unref(C.ElIcon),{class:"fs-6"},{default:e.withCtx(()=>[e.createVNode(e.unref(he.Star))]),_:1}),Ra])])]),e.createElementVNode("div",Da,[Ia,e.createElementVNode("div",Aa,[e.createElementVNode("span",null,e.toDisplayString(u.value),1),Ba,e.createElementVNode("span",null,e.toDisplayString(c.value),1)]),e.createVNode(e.unref(C.ElSlider),{max:o.value,modelValue:r.value,"onUpdate:modelValue":_[0]||(_[0]=f=>r.value=f),size:"small"},null,8,["max","modelValue"])])]),La,e.createElementVNode("ul",Ma,[e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)])]),Pa,e.createElementVNode("div",Ha,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语速："+e.toDisplayString(a.value)+"x",1)]),e.createVNode(e.unref(C.ElSlider),{modelValue:a.value,"onUpdate:modelValue":_[1]||(_[1]=f=>a.value=f),min:s.value[0],max:s.value[1],step:.05,marks:m},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",ja,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语调："+e.toDisplayString(i.value),1)]),e.createVNode(e.unref(C.ElSlider),{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=f=>i.value=f),min:l.value[0],max:l.value[1],step:.2,marks:p},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",null,[Fa,e.createElementVNode("ul",Ua,[e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)])])])]))}}),ec="",Wa=U(za,[["__scopeId","data-v-1b5a3a37"]]),Ga=t=>(e.pushScopeId("data-v-9db29a03"),t=t(),e.popScopeId(),t),Ya={class:"box ms-2"},Xa={class:"try-play-header text-center d-flex flex-row justify-content-between"},qa={class:"try-play-body d-flex flex-row"},Ja={class:"try-play-left w-50 border-right border-secondary"},Qa={class:"pe-1"},Ka={class:"type-list d-flex flex-row border-bottom border-secondary"},Za=Ga(()=>e.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),el={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},tl=e.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const o=t,r=e.ref(),s=e.ref(""),a=e.ref(),l=e.ref();e.onMounted(()=>{window.addEventListener("keydown",i)}),e.onUnmounted(()=>{window.addEventListener("keydown",i)}),e.watch(()=>o.visible,h=>{h&&setTimeout(()=>{p()},200)});function i(h){h.code==="Escape"&&o.visible&&m()}const{position:c}=et(l,{initialValue:{x:100,y:100}}),{style:u}=nt(a,c);function m(){n("update:visible",!1)}function p(){var h;(h=r.value)==null||h.focus()}return(h,_)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:a,style:e.normalizeStyle([e.unref(u),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[e.createElementVNode("div",Ya,[e.createElementVNode("div",Xa,[e.createElementVNode("div",{ref_key:"handleRef",ref:l,class:"col-11 try-play-move"},null,512),e.createElementVNode("div",{onClick:m,class:"col-1 try-play-menu-close"},[e.createVNode(e.unref(C.ElIcon),{color:"white"},{default:e.withCtx(()=>[e.createVNode(e.unref(he.Minus))]),_:1})])]),e.createElementVNode("div",qa,[e.createElementVNode("div",Ja,[e.createElementVNode("div",Qa,[e.createVNode(e.unref(C.ElForm),{onSubmit:_[1]||(_[1]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(C.ElInput),{"input-style":{},ref_key:"searchInputRef",ref:r,modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=f=>s.value=f),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1})]),e.createElementVNode("div",Ka,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("热榜")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("SVIP")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("付费")]),_:1})]),e.createVNode(Na),Za,e.createVNode(ba)]),e.createElementVNode("div",el,[e.createVNode(Wa)])])])],4)),[[e.vShow,h.visible]])}}),tc="",nl=U(tl,[["__scopeId","data-v-9db29a03"]]),Sn=e.defineComponent({__name:"try-play",setup(t){const n=e.ref(!0);function o(r){r||(n.value=!0)}return(r,s)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(ua,{visible:n.value,"onUpdate:visible":s[0]||(s[0]=a=>n.value=a)},null,8,["visible"]),e.createVNode(nl,{visible:!n.value,"onUpdate:visible":o},null,8,["visible"])]))}}),nc="",ol={install:t=>{t.component("SpeakerMenu",un),t.component("ContinuousMenu",pn),t.component("ReadMenu",mn),t.component("DigitalMenu",hn),t.component("AliasMenu",_n),t.component("EnglishMenu",gn),t.component("ChangespeedMenu",yn),t.component("RhythmMenu",bn),t.component("SpecialMenu",wn),t.component("MuteMenu",xn),t.component("BgmMenu",En),t.component("SensitiveMenu",Vn),t.component("ManagementMenu",Nn),t.component("ConversionMenu",Cn),t.component("TryPlay",Sn)}},oc="",rc="";var ot={exports:{}},rt={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ParsingError=void 0;class o extends Error{constructor($,T){super($),this.cause=T}}n.ParsingError=o;let r;function s(){return c(!1)||h()||p()||m()}function a(){return d(/\s*/),c(!0)||p()||u()||i(!1)}function l(){const S=i(!0),$=[];let T,x=a();for(;x;){if(x.node.type==="Element"){if(T)throw new Error("Found multiple root nodes");T=x.node}x.excluded||$.push(x.node),x=a()}if(!T)throw new o("Failed to parse XML","Root Element not found");if(r.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:S?S.node:null,root:T,children:$}}function i(S){const $=d(S?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!$)return;const T={name:$[1],type:"ProcessingInstruction",attributes:{}};for(;!(w()||k("?>"));){const x=_();if(x)T.attributes[x.name]=x.value;else return}return d(/\?>/),{excluded:S?!1:r.options.filter(T)===!1,node:T}}function c(S){const $=d(/^<([^?!</>\s]+)\s*/);if(!$)return;const T={type:"Element",name:$[1],attributes:{},children:[]},x=S?!1:r.options.filter(T)===!1;for(;!(w()||k(">")||k("?>")||k("/>"));){const D=_();if(D)T.attributes[D.name]=D.value;else return}if(d(/^\s*\/>/))return T.children=null,{excluded:x,node:T};d(/\??>/);let b=s();for(;b;)b.excluded||T.children.push(b.node),b=s();if(r.options.strictMode){const D=`</${T.name}>`;if(r.xml.startsWith(D))r.xml=r.xml.slice(D.length);else throw new o("Failed to parse XML",`Closing tag not matching "${D}"`)}else d(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:x,node:T}}function u(){const S=d(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||d(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||d(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||d(/^<!DOCTYPE\s+\S+\s*>/);if(S){const $={type:"DocumentType",content:S[0]};return{excluded:r.options.filter($)===!1,node:$}}}function m(){if(r.xml.startsWith("<![CDATA[")){const S=r.xml.indexOf("]]>");if(S>-1){const $=S+3,T={type:"CDATA",content:r.xml.substring(0,$)};return r.xml=r.xml.slice($),{excluded:r.options.filter(T)===!1,node:T}}}}function p(){const S=d(/^<!--[\s\S]*?-->/);if(S){const $={type:"Comment",content:S[0]};return{excluded:r.options.filter($)===!1,node:$}}}function h(){const S=d(/^([^<]+)/);if(S){const $={type:"Text",content:S[1]};return{excluded:r.options.filter($)===!1,node:$}}}function _(){const S=d(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(S)return{name:S[1].trim(),value:f(S[2].trim())}}function f(S){return S.replace(/^['"]|['"]$/g,"")}function d(S){const $=r.xml.match(S);if($)return r.xml=r.xml.slice($[0].length),$}function w(){return r.xml.length===0}function k(S){return r.xml.indexOf(S)===0}function R(S,$={}){S=S.trim();const T=$.filter||(()=>!0);return r={xml:S,options:Object.assign(Object.assign({},$),{filter:T,strictMode:$.strictMode===!0})},l()}t.exports=R,n.default=R})(rt,rt.exports);var rl=rt.exports;(function(t,n){var o=de&&de.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});const r=o(rl);function s(f){if(!f.options.indentation&&!f.options.lineSeparator)return;f.content+=f.options.lineSeparator;let d;for(d=0;d<f.level;d++)f.content+=f.options.indentation}function a(f){f.content=f.content.replace(/ +$/,"");let d;for(d=0;d<f.level;d++)f.content+=f.options.indentation}function l(f,d){f.content+=d}function i(f,d,w){if(typeof f.content=="string")c(f.content,d,w);else if(f.type==="Element")m(f,d,w);else if(f.type==="ProcessingInstruction")h(f,d);else throw new Error("Unknown node type: "+f.type)}function c(f,d,w){if(!w){const k=f.trim();(d.options.lineSeparator||k.length===0)&&(f=k)}f.length>0&&(!w&&d.content.length>0&&s(d),l(d,f))}function u(f,d){const w="/"+f.join("/"),k=f[f.length-1];return d.includes(k)||d.includes(w)}function m(f,d,w){if(d.path.push(f.name),!w&&d.content.length>0&&s(d),l(d,"<"+f.name),p(d,f.attributes),f.children===null||d.options.forceSelfClosingEmptyTag&&f.children.length===0){const k=d.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";l(d,k)}else if(f.children.length===0)l(d,"></"+f.name+">");else{const k=f.children;l(d,">"),d.level++;let R=f.attributes["xml:space"]==="preserve",S=!1;if(!R&&d.options.ignoredPaths&&(S=u(d.path,d.options.ignoredPaths),R=S),!R&&d.options.collapseContent){let $=!1,T=!1,x=!1;k.forEach(function(b,D){b.type==="Text"?(b.content.includes(`
`)?(T=!0,b.content=b.content.trim()):(D===0||D===k.length-1)&&b.content.trim().length===0&&(b.content=""),b.content.trim().length>0&&($=!0)):b.type==="CDATA"?$=!0:x=!0}),$&&(!x||!T)&&(R=!0)}k.forEach(function($){i($,d,w||R)}),d.level--,!w&&!R&&s(d),S&&a(d),l(d,"</"+f.name+">")}d.path.pop()}function p(f,d){Object.keys(d).forEach(function(w){const k=d[w].replace(/"/g,"&quot;");l(f," "+w+'="'+k+'"')})}function h(f,d){d.content.length>0&&s(d),l(d,"<?"+f.name),p(d,f.attributes),l(d,"?>")}function _(f,d={}){d.indentation="indentation"in d?d.indentation:"    ",d.collapseContent=d.collapseContent===!0,d.lineSeparator="lineSeparator"in d?d.lineSeparator:`\r
`,d.whiteSpaceAtEndOfSelfclosingTag=d.whiteSpaceAtEndOfSelfclosingTag===!0,d.throwOnFailure=d.throwOnFailure!==!1;try{const w=(0,r.default)(f,{filter:d.filter,strictMode:d.strictMode}),k={content:"",level:0,options:d,path:[]};return w.declaration&&h(w.declaration,k),w.children.forEach(function(R){i(R,k,!1)}),d.lineSeparator?k.content.replace(/\r\n/g,`
`).replace(/\n/g,d.lineSeparator):k.content}catch(w){if(d.throwOnFailure)throw w;return f}}_.minify=(f,d={})=>_(f,Object.assign(Object.assign({},d),{indentation:"",lineSeparator:""})),t.exports=_,n.default=_})(ot,ot.exports);var sl=ot.exports;const al=Tt(sl),me=t=>(e.pushScopeId("data-v-6e8ad850"),t=t(),e.popScopeId(),t),ll={class:"editor-title d-flex flex-row align-item-center justify-content-between"},il={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},cl=me(()=>e.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),dl={class:"author d-flex flex-row align-items-center justify-content-start"},fl=me(()=>e.createElementVNode("div",null,"未保存",-1)),ul=me(()=>e.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),pl=me(()=>e.createElementVNode("div",{class:"d-inline-block"},null,-1)),ml={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},hl=me(()=>e.createElementVNode("div",{class:"menu-divider"},null,-1)),_l=me(()=>e.createElementVNode("div",{class:"px-1"},null,-1)),gl={class:"ssml-code",style:{"white-space":"pre-wrap"}},yl={class:"dialog-footer"},bl=e.defineComponent({__name:"editor-title",setup(t){const n=e.ref(!1),o=e.ref(""),{rootBackgroundaudio:r}=Qe(),s=e.computed(()=>al(o.value,{indentation:"    ",filter:u=>u.type!=="Comment",collapseContent:!1,lineSeparator:`
`})),a=()=>{o.value=lr(),n.value=!0},l=()=>{r.src&&De.play(r.src)},i=()=>{De.stop(r.src),r.src="",r.remark=""};async function c(){await navigator.clipboard.writeText(s.value),n.value=!1}return(u,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",ll,[e.createElementVNode("div",il,[cl,e.createElementVNode("div",dl,[fl,e.unref(r).src?(e.openBlock(),e.createBlock(e.unref(C.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:l,onClose:i},{default:e.withCtx(()=>[ul,pl,e.createElementVNode("span",null,e.toDisplayString(e.unref(r).remark),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",ml,[e.createVNode(e.unref(C.ElButton),{type:"primary",icon:e.unref(he.Share),disabled:""},{default:e.withCtx(()=>[e.createTextVNode("分享")]),_:1},8,["icon"]),hl,e.createVNode(e.unref(C.ElButton),{type:"primary",onClick:a},{default:e.withCtx(()=>[e.createTextVNode("查看SSML")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载音频")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载视频")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载字幕")]),_:1}),e.createVNode(e.unref(C.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("声音转换")]),_:1}),_l])]),e.createVNode(e.unref(C.ElDialog),{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=p=>n.value=p),title:"查看SSML",width:"80%"},{footer:e.withCtx(()=>[e.createElementVNode("span",yl,[e.createVNode(e.unref(C.ElButton),{type:"primary",onClick:c},{default:e.withCtx(()=>[e.createTextVNode("复制+关闭")]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("pre",gl,e.toDisplayString(s.value),1)]),_:1},8,["modelValue"])],64))}}),sc="",wl=U(bl,[["__scopeId","data-v-6e8ad850"]]),xl=e.defineComponent({__name:"editor-core",emits:["created","change"],setup(t,{emit:n}){const{editor:o,setEditor:r,globalEditConfig:s}=te(),a=e.ref(null);e.onMounted(()=>{l()}),e.onUnmounted(()=>{o==null||o.destroy()});function l(){if(!a.value)return;const i=g.createEditor({selector:a.value,mode:"simple",config:{...e.toRaw(s.editorConfig),onCreated(u){n("created",u),u.focus(!0)},onChange(u){n("change",u)}}});r(i),window.editor=i;const c=i.getConfig();c.hoverbarKeys=void 0,i.on(M.ERROR,s.handleError)}return(i,c)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:a,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),El={class:"bar-view border-bottom border-1"},Vl=e.defineComponent({__name:"bar-view",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",El,[e.createVNode(e.unref(fn),null,{default:e.withCtx(()=>[e.createVNode(e.unref(ue),{divider:"green"},{default:e.withCtx(()=>[e.createVNode(e.unref(F),{text:"24K高清音质",icon:"play",disabled:""})]),_:1}),e.createVNode(e.unref(ue),{divider:"cyan"},{default:e.withCtx(()=>[e.createVNode(e.unref(un)),e.createVNode(e.unref(mn)),e.createVNode(e.unref(hn)),e.createVNode(e.unref(pn)),e.createVNode(e.unref(_n)),e.createVNode(e.unref(gn))]),_:1}),e.createVNode(e.unref(ue),{divider:"orange"},{default:e.withCtx(()=>[e.createVNode(e.unref(yn)),e.createVNode(e.unref(Nn)),e.createVNode(e.unref(Cn))]),_:1}),e.createVNode(e.unref(ue),{divider:"purple"},{default:e.withCtx(()=>[e.createVNode(e.unref(bn)),e.createVNode(e.unref(xn))]),_:1}),e.createVNode(e.unref(ue),{divider:"yellow"},{default:e.withCtx(()=>[e.createVNode(e.unref(wn)),e.createVNode(e.unref(En))]),_:1})]),_:1})]),e.createVNode(e.unref(Sn))],64))}}),Nl={class:"editor-view"},Cl={class:"editor-box"},Sl={class:"editor-core-container shadow pt-1"},kl=e.defineComponent({__name:"editor-view",emits:["onCreated","onChange"],setup(t,{emit:n}){const o=s=>{n("onCreated",s)},r=s=>{n("onChange",s)};return(s,a)=>(e.openBlock(),e.createElementBlock("div",Nl,[e.createVNode(wl),e.createElementVNode("div",Cl,[e.createVNode(Vl),e.createElementVNode("div",Sl,[e.createVNode(xl,{onChange:r,onCreated:o})])])]))}}),ac="",$l=U(kl,[["__scopeId","data-v-15ef0dbd"]]),Tl={install(t){t.component("EditorView",$l)}},Ol={install(t,n){t.use(Qn()),t.use(()=>{const{setGlobalEditConfig:o}=te();o(Ue(n))}),t.use(ir),t.use(ss),t.use(ol),t.use(Tl)}};B.WANGEDITOR_EVENT=M,B.createGlobalEditorConfig=Ue,B.default=Ol,Object.defineProperties(B,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
