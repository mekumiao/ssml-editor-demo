(function(B,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@wangeditor/editor"),require("element-plus"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor","element-plus","@element-plus/icons-vue"],e):(B=typeof globalThis<"u"?globalThis:B||self,e(B.SSMLEditor={},B.Vue,B.wangEditor,B.ElementPlus,B.ElementPlusIconsVue))})(this,function(B,e,y,N,me){"use strict";var Dl=Object.defineProperty;var Il=(B,e,y)=>e in B?Dl(B,e,{enumerable:!0,configurable:!0,writable:!0,value:y}):B[e]=y;var Ae=(B,e,y)=>(Il(B,typeof e!="symbol"?e+"":e,y),y);const Al="",Bl="";var at=!1;function Ee(t,n,o){return Array.isArray(t)?(t.length=Math.max(t.length,n),t.splice(n,1,o),o):(t[n]=o,o)}function Be(t,n){if(Array.isArray(t)){t.splice(n,1);return}delete t[n]}function kn(){return lt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function lt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const $n=typeof Proxy=="function",Tn="devtools-plugin:setup",vn="plugin:settings:set";let ae,Pe;function On(){var t;return ae!==void 0||(typeof window<"u"&&window.performance?(ae=!0,Pe=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(ae=!0,Pe=global.perf_hooks.performance):ae=!1),ae}function Rn(){return On()?Pe.now():Date.now()}class Dn{constructor(n,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=o;const r={};if(n.settings)for(const l in n.settings){const i=n.settings[l];r[l]=i.defaultValue}const s=`__vue-devtools-plugin-settings__${n.id}`;let a=Object.assign({},r);try{const l=localStorage.getItem(s),i=JSON.parse(l);Object.assign(a,i)}catch{}this.fallbacks={getSettings(){return a},setSettings(l){try{localStorage.setItem(s,JSON.stringify(l))}catch{}a=l},now(){return Rn()}},o&&o.on(vn,(l,i)=>{l===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(l,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(l,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:i,args:c,resolve:u})})})}async setRealTarget(n){this.target=n;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function it(t,n){const o=t,r=lt(),s=kn(),a=$n&&o.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))s.emit(Tn,t,n);else{const l=a?new Dn(o,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:n,proxy:l}),l&&n(l.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let he;const ye=t=>he=t,ct=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function oe(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Q;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Q||(Q={}));const Ve=typeof window<"u",ge=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&Ve,dt=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function In(t,{autoBom:n=!1}={}){return n&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function Me(t,n,o){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){pt(r.response,n,o)},r.onerror=function(){console.error("could not download file")},r.send()}function ft(t){const n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Ne(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}const Ce=typeof navigator=="object"?navigator:{userAgent:""},ut=(()=>/Macintosh/.test(Ce.userAgent)&&/AppleWebKit/.test(Ce.userAgent)&&!/Safari/.test(Ce.userAgent))(),pt=Ve?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!ut?An:"msSaveOrOpenBlob"in Ce?Bn:Pn:()=>{};function An(t,n="download",o){const r=document.createElement("a");r.download=n,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?ft(r.href)?Me(t,n,o):(r.target="_blank",Ne(r)):Ne(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ne(r)},0))}function Bn(t,n="download",o){if(typeof t=="string")if(ft(t))Me(t,n,o);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ne(r)})}else navigator.msSaveOrOpenBlob(In(t,o),n)}function Pn(t,n,o,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Me(t,n,o);const s=t.type==="application/octet-stream",a=/constructor/i.test(String(dt.HTMLElement))||"safari"in dt,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a||ut)&&typeof FileReader<"u"){const i=new FileReader;i.onloadend=function(){let c=i.result;if(typeof c!="string")throw r=null,new Error("Wrong reader.result type");c=l?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location.assign(c),r=null},i.readAsDataURL(t)}else{const i=URL.createObjectURL(t);r?r.location.assign(i):location.href=i,r=null,setTimeout(function(){URL.revokeObjectURL(i)},4e4)}}function P(t,n){const o="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,n):n==="error"?console.error(o):n==="warn"?console.warn(o):console.log(o)}function Le(t){return"_a"in t&&"install"in t}function mt(){if(!("clipboard"in navigator))return P("Your browser doesn't support the Clipboard API","error"),!0}function ht(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(P('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Mn(t){if(!mt())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),P("Global state copied to clipboard.")}catch(n){if(ht(n))return;P("Failed to serialize the state. Check the console for more details.","error"),console.error(n)}}async function Ln(t){if(!mt())try{yt(t,JSON.parse(await navigator.clipboard.readText())),P("Global state pasted from clipboard.")}catch(n){if(ht(n))return;P("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(n)}}async function Hn(t){try{pt(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(n){P("Failed to export the state as JSON. Check the console for more details.","error"),console.error(n)}}let Z;function jn(){Z||(Z=document.createElement("input"),Z.type="file",Z.accept=".json");function t(){return new Promise((n,o)=>{Z.onchange=async()=>{const r=Z.files;if(!r)return n(null);const s=r.item(0);return n(s?{text:await s.text(),file:s}:null)},Z.oncancel=()=>n(null),Z.onerror=o,Z.click()})}return t}async function Fn(t){try{const o=await jn()();if(!o)return;const{text:r,file:s}=o;yt(t,JSON.parse(r)),P(`Global state imported from "${s.name}".`)}catch(n){P("Failed to import the state from JSON. Check the console for more details.","error"),console.error(n)}}function yt(t,n){for(const o in n){const r=t.state.value[o];r&&Object.assign(r,n[o])}}function Y(t){return{_custom:{display:t}}}const gt="🍍 Pinia (root)",He="_root";function Un(t){return Le(t)?{id:He,label:gt}:{id:t.$id,label:t.$id}}function zn(t){if(Le(t)){const o=Array.from(t._s.keys()),r=t._s;return{state:o.map(a=>({editable:!0,key:a,value:t.state.value[a]})),getters:o.filter(a=>r.get(a)._getters).map(a=>{const l=r.get(a);return{editable:!1,key:a,value:l._getters.reduce((i,c)=>(i[c]=l[c],i),{})}})}}const n={state:Object.keys(t.$state).map(o=>({editable:!0,key:o,value:t.$state[o]}))};return t._getters&&t._getters.length&&(n.getters=t._getters.map(o=>({editable:!1,key:o,value:t[o]}))),t._customProperties.size&&(n.customProperties=Array.from(t._customProperties).map(o=>({editable:!0,key:o,value:t[o]}))),n}function Wn(t){return t?Array.isArray(t)?t.reduce((n,o)=>(n.keys.push(o.key),n.operations.push(o.type),n.oldValue[o.key]=o.oldValue,n.newValue[o.key]=o.newValue,n),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:Y(t.type),key:Y(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function Gn(t){switch(t){case Q.direct:return"mutation";case Q.patchFunction:return"$patch";case Q.patchObject:return"$patch";default:return"unknown"}}let le=!0;const Se=[],re="pinia:mutations",j="pinia",{assign:Xn}=Object,ke=t=>"🍍 "+t;function Yn(t,n){it({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Se,app:t},o=>{typeof o.now!="function"&&P("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:re,label:"Pinia 🍍",color:15064968}),o.addInspector({id:j,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Mn(n)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Ln(n),o.sendInspectorTree(j),o.sendInspectorState(j)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Hn(n)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Fn(n),o.sendInspectorTree(j),o.sendInspectorState(j)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const s=n._s.get(r);s?typeof s.$reset!="function"?P(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),P(`Store "${r}" reset.`)):P(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((r,s)=>{const a=r.componentInstance&&r.componentInstance.proxy;if(a&&a._pStores){const l=r.componentInstance.proxy._pStores;Object.values(l).forEach(i=>{r.instanceData.state.push({type:ke(i.$id),key:"state",editable:!0,value:i._isOptionsAPI?{_custom:{value:e.toRaw(i.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>i.$reset()}]}}:Object.keys(i.$state).reduce((c,u)=>(c[u]=i.$state[u],c),{})}),i._getters&&i._getters.length&&r.instanceData.state.push({type:ke(i.$id),key:"getters",editable:!1,value:i._getters.reduce((c,u)=>{try{c[u]=i[u]}catch(p){c[u]=p}return c},{})})})}}),o.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===j){let s=[n];s=s.concat(Array.from(n._s.values())),r.rootNodes=(r.filter?s.filter(a=>"$id"in a?a.$id.toLowerCase().includes(r.filter.toLowerCase()):gt.toLowerCase().includes(r.filter.toLowerCase())):s).map(Un)}}),o.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===j){const s=r.nodeId===He?n:n._s.get(r.nodeId);if(!s)return;s&&(r.state=zn(s))}}),o.on.editInspectorState((r,s)=>{if(r.app===t&&r.inspectorId===j){const a=r.nodeId===He?n:n._s.get(r.nodeId);if(!a)return P(`store "${r.nodeId}" not found`,"error");const{path:l}=r;Le(a)?l.unshift("state"):(l.length!==1||!a._customProperties.has(l[0])||l[0]in a.$state)&&l.unshift("$state"),le=!1,r.set(a,l,r.state.value),le=!0}}),o.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const s=r.type.replace(/^🍍\s*/,""),a=n._s.get(s);if(!a)return P(`store "${s}" not found`,"error");const{path:l}=r;if(l[0]!=="state")return P(`Invalid path for store "${s}":
${l}
Only state can be modified.`);l[0]="$state",le=!1,r.set(a,l,r.state.value),le=!0}})})}function qn(t,n){Se.includes(ke(n.$id))||Se.push(ke(n.$id)),it({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Se,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const r=typeof o.now=="function"?o.now.bind(o):Date.now;n.$onAction(({after:l,onError:i,name:c,args:u})=>{const p=_t++;o.addTimelineEvent({layerId:re,event:{time:r(),title:"🛫 "+c,subtitle:"start",data:{store:Y(n.$id),action:Y(c),args:u},groupId:p}}),l(m=>{te=void 0,o.addTimelineEvent({layerId:re,event:{time:r(),title:"🛬 "+c,subtitle:"end",data:{store:Y(n.$id),action:Y(c),args:u,result:m},groupId:p}})}),i(m=>{te=void 0,o.addTimelineEvent({layerId:re,event:{time:r(),logType:"error",title:"💥 "+c,subtitle:"end",data:{store:Y(n.$id),action:Y(c),args:u,error:m},groupId:p}})})},!0),n._customProperties.forEach(l=>{e.watch(()=>e.unref(n[l]),(i,c)=>{o.notifyComponentUpdate(),o.sendInspectorState(j),le&&o.addTimelineEvent({layerId:re,event:{time:r(),title:"Change",subtitle:l,data:{newValue:i,oldValue:c},groupId:te}})},{deep:!0})}),n.$subscribe(({events:l,type:i},c)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(j),!le)return;const u={time:r(),title:Gn(i),data:Xn({store:Y(n.$id)},Wn(l)),groupId:te};i===Q.patchFunction?u.subtitle="⤵️":i===Q.patchObject?u.subtitle="🧩":l&&!Array.isArray(l)&&(u.subtitle=l.type),l&&(u.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:l}}),o.addTimelineEvent({layerId:re,event:u})},{detached:!0,flush:"sync"});const s=n._hotUpdate;n._hotUpdate=e.markRaw(l=>{s(l),o.addTimelineEvent({layerId:re,event:{time:r(),title:"🔥 "+n.$id,subtitle:"HMR update",data:{store:Y(n.$id),info:Y("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j)});const{$dispose:a}=n;n.$dispose=()=>{a(),o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j),o.getSettings().logStoreChanges&&P(`Disposed "${n.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j),o.getSettings().logStoreChanges&&P(`"${n.$id}" store installed 🆕`)})}let _t=0,te;function bt(t,n,o){const r=n.reduce((s,a)=>(s[a]=e.toRaw(t)[a],s),{});for(const s in r)t[s]=function(){const a=_t,l=o?new Proxy(t,{get(...c){return te=a,Reflect.get(...c)},set(...c){return te=a,Reflect.set(...c)}}):t;te=a;const i=r[s].apply(l,arguments);return te=void 0,i}}function Jn({app:t,store:n,options:o}){if(n.$id.startsWith("__hot:"))return;n._isOptionsAPI=!!o.state,bt(n,Object.keys(o.actions),n._isOptionsAPI);const r=n._hotUpdate;e.toRaw(n)._hotUpdate=function(s){r.apply(this,arguments),bt(n,Object.keys(s._hmrPayload.actions),!!n._isOptionsAPI)},qn(t,n)}function Qn(){const t=e.effectScope(!0),n=t.run(()=>e.ref({}));let o=[],r=[];const s=e.markRaw({install(a){ye(s),s._a=a,a.provide(ct,s),a.config.globalProperties.$pinia=s,ge&&Yn(a,s),r.forEach(l=>o.push(l)),r=[]},use(a){return!this._a&&!at?r.push(a):o.push(a),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return ge&&typeof Proxy<"u"&&s.use(Jn),s}function wt(t,n){for(const o in n){const r=n[o];if(!(o in t))continue;const s=t[o];oe(s)&&oe(r)&&!e.isRef(r)&&!e.isReactive(r)?t[o]=wt(s,r):t[o]=r}return t}const xt=()=>{};function Et(t,n,o,r=xt){t.push(n);const s=()=>{const a=t.indexOf(n);a>-1&&(t.splice(a,1),r())};return!o&&e.getCurrentScope()&&e.onScopeDispose(s),s}function ie(t,...n){t.slice().forEach(o=>{o(...n)})}const Kn=t=>t();function je(t,n){t instanceof Map&&n instanceof Map&&n.forEach((o,r)=>t.set(r,o)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const r=n[o],s=t[o];oe(s)&&oe(r)&&t.hasOwnProperty(o)&&!e.isRef(r)&&!e.isReactive(r)?t[o]=je(s,r):t[o]=r}return t}const Zn=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function eo(t){return!oe(t)||!t.hasOwnProperty(Zn)}const{assign:W}=Object;function Vt(t){return!!(e.isRef(t)&&t.effect)}function Nt(t,n,o,r){const{state:s,actions:a,getters:l}=n,i=o.state.value[t];let c;function u(){!i&&(process.env.NODE_ENV==="production"||!r)&&(o.state.value[t]=s?s():{});const p=process.env.NODE_ENV!=="production"&&r?e.toRefs(e.ref(s?s():{}).value):e.toRefs(o.state.value[t]);return W(p,a,Object.keys(l||{}).reduce((m,h)=>(process.env.NODE_ENV!=="production"&&h in p&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),m[h]=e.markRaw(e.computed(()=>{ye(o);const g=o._s.get(t);return l[h].call(g,g)})),m),{}))}return c=Fe(t,u,n,o,r,!0),c}function Fe(t,n,o={},r,s,a){let l;const i=W({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const c={deep:!0};process.env.NODE_ENV!=="production"&&!at&&(c.onTrigger=C=>{u?g=C:u==!1&&!b._hotUpdating&&(Array.isArray(g)?g.push(C):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let u,p,m=[],h=[],g;const f=r.state.value[t];!a&&!f&&(process.env.NODE_ENV==="production"||!s)&&(r.state.value[t]={});const d=e.ref({});let w;function k(C){let E;u=p=!1,process.env.NODE_ENV!=="production"&&(g=[]),typeof C=="function"?(C(r.state.value[t]),E={type:Q.patchFunction,storeId:t,events:g}):(je(r.state.value[t],C),E={type:Q.patchObject,payload:C,storeId:t,events:g});const I=w=Symbol();e.nextTick().then(()=>{w===I&&(u=!0)}),p=!0,ie(m,E,r.state.value[t])}const R=a?function(){const{state:E}=o,I=E?E():{};this.$patch(v=>{W(v,I)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:xt;function S(){l.stop(),m=[],h=[],r._s.delete(t)}function $(C,E){return function(){ye(r);const I=Array.from(arguments),v=[],A=[];function st(X){v.push(X)}function Rl(X){A.push(X)}ie(h,{args:I,name:C,store:b,after:st,onError:Rl});let xe;try{xe=E.apply(this&&this.$id===t?this:b,I)}catch(X){throw ie(A,X),X}return xe instanceof Promise?xe.then(X=>(ie(v,X),X)).catch(X=>(ie(A,X),Promise.reject(X))):(ie(v,xe),xe)}}const T=e.markRaw({actions:{},getters:{},state:[],hotState:d}),x={_p:r,$id:t,$onAction:Et.bind(null,h),$patch:k,$reset:R,$subscribe(C,E={}){const I=Et(m,C,E.detached,()=>v()),v=l.run(()=>e.watch(()=>r.state.value[t],A=>{(E.flush==="sync"?p:u)&&C({storeId:t,type:Q.direct,events:g},A)},W({},c,E)));return I},$dispose:S},b=e.reactive(process.env.NODE_ENV!=="production"||ge?W({_hmrPayload:T,_customProperties:e.markRaw(new Set)},x):x);r._s.set(t,b);const D=r._a&&r._a.runWithContext||Kn,z=r._e.run(()=>(l=e.effectScope(),D(()=>l.run(n))));for(const C in z){const E=z[C];if(e.isRef(E)&&!Vt(E)||e.isReactive(E))process.env.NODE_ENV!=="production"&&s?Ee(d.value,C,e.toRef(z,C)):a||(f&&eo(E)&&(e.isRef(E)?E.value=f[C]:je(E,f[C])),r.state.value[t][C]=E),process.env.NODE_ENV!=="production"&&T.state.push(C);else if(typeof E=="function"){const I=process.env.NODE_ENV!=="production"&&s?E:$(C,E);z[C]=I,process.env.NODE_ENV!=="production"&&(T.actions[C]=E),i.actions[C]=E}else process.env.NODE_ENV!=="production"&&Vt(E)&&(T.getters[C]=a?o.getters[C]:E,Ve&&(z._getters||(z._getters=e.markRaw([]))).push(C))}if(W(b,z),W(e.toRaw(b),z),Object.defineProperty(b,"$state",{get:()=>process.env.NODE_ENV!=="production"&&s?d.value:r.state.value[t],set:C=>{if(process.env.NODE_ENV!=="production"&&s)throw new Error("cannot set hotState");k(E=>{W(E,C)})}}),process.env.NODE_ENV!=="production"&&(b._hotUpdate=e.markRaw(C=>{b._hotUpdating=!0,C._hmrPayload.state.forEach(E=>{if(E in b.$state){const I=C.$state[E],v=b.$state[E];typeof I=="object"&&oe(I)&&oe(v)?wt(I,v):C.$state[E]=v}Ee(b,E,e.toRef(C.$state,E))}),Object.keys(b.$state).forEach(E=>{E in C.$state||Be(b,E)}),u=!1,p=!1,r.state.value[t]=e.toRef(C._hmrPayload,"hotState"),p=!0,e.nextTick().then(()=>{u=!0});for(const E in C._hmrPayload.actions){const I=C[E];Ee(b,E,$(E,I))}for(const E in C._hmrPayload.getters){const I=C._hmrPayload.getters[E],v=a?e.computed(()=>(ye(r),I.call(b,b))):I;Ee(b,E,v)}Object.keys(b._hmrPayload.getters).forEach(E=>{E in C._hmrPayload.getters||Be(b,E)}),Object.keys(b._hmrPayload.actions).forEach(E=>{E in C._hmrPayload.actions||Be(b,E)}),b._hmrPayload=C._hmrPayload,b._getters=C._getters,b._hotUpdating=!1})),ge){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(E=>{Object.defineProperty(b,E,W({value:b[E]},C))})}return r._p.forEach(C=>{if(ge){const E=l.run(()=>C({store:b,app:r._a,pinia:r,options:i}));Object.keys(E||{}).forEach(I=>b._customProperties.add(I)),W(b,E)}else W(b,l.run(()=>C({store:b,app:r._a,pinia:r,options:i})))}),process.env.NODE_ENV!=="production"&&b.$state&&typeof b.$state=="object"&&typeof b.$state.constructor=="function"&&!b.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${b.$id}".`),f&&a&&o.hydrate&&o.hydrate(b.$state,f),u=!0,p=!0,b}function Ct(t,n,o){let r,s;const a=typeof n=="function";if(typeof t=="string")r=t,s=a?o:n;else if(s=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function l(i,c){const u=e.hasInjectionContext();if(i=(process.env.NODE_ENV==="test"&&he&&he._testing?null:i)||(u?e.inject(ct,null):null),i&&ye(i),process.env.NODE_ENV!=="production"&&!he)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);i=he,i._s.has(r)||(a?Fe(r,n,s,i):Nt(r,s,i),process.env.NODE_ENV!=="production"&&(l._pinia=i));const p=i._s.get(r);if(process.env.NODE_ENV!=="production"&&c){const m="__hot:"+r,h=a?Fe(m,n,s,i,!0):Nt(m,W({},s),i,!0);c._hotUpdate(h),delete i.state.value[m],i._s.delete(m)}if(process.env.NODE_ENV!=="production"&&Ve){const m=e.getCurrentInstance();if(m&&m.proxy&&!c){const h=m.proxy,g="_pStores"in h?h._pStores:h._pStores={};g[r]=p}}return p}return l.$id=r,l}const to=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),no=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),oo=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png";function $e(){return()=>Promise.resolve([])}function Ue(t){const n=(t==null?void 0:t.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(t==null?void 0:t.handleError)||(()=>{}),r=(t==null?void 0:t.fetchPinyin)||$e(),s=(t==null?void 0:t.fetchPinyin)||$e(),a=(t==null?void 0:t.fetchBgm)||$e(),l=(t==null?void 0:t.fetchSpecial)||$e();return{editorConfig:n,handleError:o,fetchPinyin:r,fetchEnglish:s,fetchBgm:a,fetchSpecial:l,speed:to,pitch:no,demoAvatar:oo}}const ee=Ct("--editor-config",()=>{const t=e.shallowRef(),n=e.shallowRef(),o=e.computed(()=>t.value),r=e.computed(()=>{if(n.value)return n.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:r,setEditor:l=>{t.value=l},setGlobalEditConfig:l=>{n.value=l??Ue()}}}),ro=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-audio"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-audio"?!0:o(s),r};function St(t,n,o,r,s){const a=n===void 0?void 0:n.key;return{sel:t,data:n,children:o,text:r,elm:s,key:a}}const kt=Array.isArray;function ze(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function $t(t,n,o){if(t.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&n!==void 0)for(let r=0;r<n.length;++r){const s=n[r];if(typeof s=="string")continue;const a=s.data;a!==void 0&&$t(a,s.children,s.sel)}}function _(t,n,o){let r={},s,a,l;if(o!==void 0?(n!==null&&(r=n),kt(o)?s=o:ze(o)?a=o.toString():o&&o.sel&&(s=[o])):n!=null&&(kt(n)?s=n:ze(n)?a=n.toString():n&&n.sel?s=[n]:r=n),s!==void 0)for(l=0;l<s.length;++l)ze(s[l])&&(s[l]=St(void 0,void 0,void 0,s[l],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&$t(r,s,t),St(t,r,s,a,void 0)}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vt="Expected a function",Ot=0/0,so="[object Symbol]",ao=/^\s+|\s+$/g,lo=/^[-+]0x[0-9a-f]+$/i,io=/^0b[01]+$/i,co=/^0o[0-7]+$/i,fo=parseInt,uo=typeof ce=="object"&&ce&&ce.Object===Object&&ce,po=typeof self=="object"&&self&&self.Object===Object&&self,mo=uo||po||Function("return this")(),ho=Object.prototype,yo=ho.toString,go=Math.max,_o=Math.min,We=function(){return mo.Date.now()};function bo(t,n,o){var r,s,a,l,i,c,u=0,p=!1,m=!1,h=!0;if(typeof t!="function")throw new TypeError(vt);n=Rt(n)||0,Te(o)&&(p=!!o.leading,m="maxWait"in o,a=m?go(Rt(o.maxWait)||0,n):a,h="trailing"in o?!!o.trailing:h);function g(x){var b=r,D=s;return r=s=void 0,u=x,l=t.apply(D,b),l}function f(x){return u=x,i=setTimeout(k,n),p?g(x):l}function d(x){var b=x-c,D=x-u,z=n-b;return m?_o(z,a-D):z}function w(x){var b=x-c,D=x-u;return c===void 0||b>=n||b<0||m&&D>=a}function k(){var x=We();if(w(x))return R(x);i=setTimeout(k,d(x))}function R(x){return i=void 0,h&&r?g(x):(r=s=void 0,l)}function S(){i!==void 0&&clearTimeout(i),u=0,r=c=s=i=void 0}function $(){return i===void 0?l:R(We())}function T(){var x=We(),b=w(x);if(r=arguments,s=this,c=x,b){if(i===void 0)return f(c);if(m)return i=setTimeout(k,n),g(c)}return i===void 0&&(i=setTimeout(k,n)),l}return T.cancel=S,T.flush=$,T}function wo(t,n,o){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(vt);return Te(o)&&(r="leading"in o?!!o.leading:r,s="trailing"in o?!!o.trailing:s),bo(t,n,{leading:r,maxWait:n,trailing:s})}function Te(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function xo(t){return!!t&&typeof t=="object"}function Eo(t){return typeof t=="symbol"||xo(t)&&yo.call(t)==so}function Rt(t){if(typeof t=="number")return t;if(Eo(t))return Ot;if(Te(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Te(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(ao,"");var o=io.test(t);return o||co.test(t)?fo(t.slice(2),o?2:8):lo.test(t)?Ot:+t}var Vo=wo;const G=Tt(Vo);function Dt(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ge(t,n){t===void 0&&(t={}),n===void 0&&(n={}),Object.keys(n).forEach(function(o){typeof t[o]>"u"?t[o]=n[o]:Dt(n[o])&&Dt(t[o])&&Object.keys(n[o]).length>0&&Ge(t[o],n[o])})}var It={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Xe(){var t=typeof document<"u"?document:{};return Ge(t,It),t}var No={document:It,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){typeof setTimeout>"u"||clearTimeout(t)}};function At(){var t=typeof window<"u"?window:{};return Ge(t,No),t}function Co(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Ye(t){return Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Ye(t)}function ve(t,n){return ve=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},ve(t,n)}function So(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Oe(t,n,o){return So()?Oe=Reflect.construct:Oe=function(s,a,l){var i=[null];i.push.apply(i,a);var c=Function.bind.apply(s,i),u=new c;return l&&ve(u,l.prototype),u},Oe.apply(null,arguments)}function ko(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function qe(t){var n=typeof Map=="function"?new Map:void 0;return qe=function(r){if(r===null||!ko(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(r))return n.get(r);n.set(r,s)}function s(){return Oe(r,arguments,Ye(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),ve(s,r)},qe(t)}function $o(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t){var n=t.__proto__;Object.defineProperty(t,"__proto__",{get:function(){return n},set:function(r){n.__proto__=r}})}var se=function(t){Co(n,t);function n(o){var r;return r=t.call.apply(t,[this].concat(o))||this,To($o(r)),r}return n}(qe(Array));function Je(t){t===void 0&&(t=[]);var n=[];return t.forEach(function(o){Array.isArray(o)?n.push.apply(n,Je(o)):n.push(o)}),n}function vo(t){for(var n=[],o=0;o<t.length;o+=1)n.indexOf(t[o])===-1&&n.push(t[o]);return n}function Oo(t){return t.toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()})}function Ro(t,n){if(typeof t!="string")return[t];for(var o=[],r=n.querySelectorAll(t),s=0;s<r.length;s+=1)o.push(r[s]);return o}function O(t,n){var o=At(),r=Xe(),s=[];if(!n&&t instanceof se)return t;if(!t)return new se(s);if(typeof t=="string"){var a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");var i=r.createElement(l);i.innerHTML=a;for(var c=0;c<i.childNodes.length;c+=1)s.push(i.childNodes[c])}else s=Ro(t.trim(),n||r)}else if(t.nodeType||t===o||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof se)return t;s=t}return new se(vo(s))}O.fn=se.prototype;function Bt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Je(n.map(function(s){return s.split(" ")}));return this.forEach(function(s){var a;(a=s.classList).add.apply(a,r)}),this}function Pt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Je(n.map(function(s){return s.split(" ")}));return this.forEach(function(s){var a;(a=s.classList).remove.apply(a,r)}),this}function Mt(t,n){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(t,n);else for(var r in t)this[o][r]=t[r],this[o].setAttribute(r,t[r]);return this}function Lt(){var t=this[0];if(t){var n={};if(t.dataset)for(var o in t.dataset)n[o]=t.dataset[o];else for(var r=0;r<t.attributes.length;r+=1){var s=t.attributes[r];s.name.indexOf("data-")>=0&&(n[Oo(s.name.split("data-")[1])]=s.value)}for(var a in n)n[a]==="false"?n[a]=!1:n[a]==="true"?n[a]=!0:parseFloat(n[a])===n[a]*1&&(n[a]*=1);return n}}function Ht(t){if(typeof t>"u"){var n=this[0];if(!n)return;if(n.multiple&&n.nodeName.toLowerCase()==="select"){for(var o=[],r=0;r<n.selectedOptions.length;r+=1)o.push(n.selectedOptions[r].value);return o}return n.value}for(var s=0;s<this.length;s+=1){var a=this[s];if(Array.isArray(t)&&a.multiple&&a.nodeName.toLowerCase()==="select")for(var l=0;l<a.options.length;l+=1)a.options[l].selected=t.indexOf(a.options[l].value)>=0;else a.value=t}return this}function jt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],s=n[1],a=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],a=n[1],l=n[2],s=void 0),l||(l=!1);function i(d){var w=d.target;if(w){var k=d.target.dom7EventData||[];if(k.indexOf(d)<0&&k.unshift(d),O(w).is(s))a.apply(w,k);else for(var R=O(w).parents(),S=0;S<R.length;S+=1)O(R[S]).is(s)&&a.apply(R[S],k)}}function c(d){var w=d&&d.target?d.target.dom7EventData||[]:[];w.indexOf(d)<0&&w.unshift(d),a.apply(this,w)}for(var u=r.split(" "),p,m=0;m<this.length;m+=1){var h=this[m];if(s)for(p=0;p<u.length;p+=1){var f=u[p];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[f]||(h.dom7LiveListeners[f]=[]),h.dom7LiveListeners[f].push({listener:a,proxyListener:i}),h.addEventListener(f,i,l)}else for(p=0;p<u.length;p+=1){var g=u[p];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[g]||(h.dom7Listeners[g]=[]),h.dom7Listeners[g].push({listener:a,proxyListener:c}),h.addEventListener(g,c,l)}}return this}function Ft(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],s=n[1],a=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],a=n[1],l=n[2],s=void 0),l||(l=!1);for(var i=r.split(" "),c=0;c<i.length;c+=1)for(var u=i[c],p=0;p<this.length;p+=1){var m=this[p],h=void 0;if(!s&&m.dom7Listeners?h=m.dom7Listeners[u]:s&&m.dom7LiveListeners&&(h=m.dom7LiveListeners[u]),h&&h.length)for(var g=h.length-1;g>=0;g-=1){var f=h[g];a&&f.listener===a||a&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===a?(m.removeEventListener(u,f.proxyListener,l),h.splice(g,1)):a||(m.removeEventListener(u,f.proxyListener,l),h.splice(g,1))}}return this}function Ut(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this}function zt(t){return t?(this.forEach(function(n,o){t.apply(n,[n,o])}),this):this}function Wt(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(var n=0;n<this.length;n+=1)this[n].innerHTML=t;return this}function Gt(t){var n=At(),o=Xe(),r=this[0],s,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=O(t),a=0;a<s.length;a+=1)if(s[a]===r)return!0;return!1}if(t===o)return r===o;if(t===n)return r===n;if(t.nodeType||t instanceof se){for(s=t.nodeType?[t]:t,a=0;a<s.length;a+=1)if(s[a]===r)return!0;return!1}return!1}function Xt(){for(var t,n=Xe(),o=0;o<arguments.length;o+=1){t=o<0||arguments.length<=o?void 0:arguments[o];for(var r=0;r<this.length;r+=1)if(typeof t=="string"){var s=n.createElement("div");for(s.innerHTML=t;s.firstChild;)this[r].appendChild(s.firstChild)}else if(t instanceof se)for(var a=0;a<t.length;a+=1)this[r].appendChild(t[a]);else this[r].appendChild(t)}return this}function Yt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].parentNode;r;)t?O(r).is(t)&&n.push(r):n.push(r),r=r.parentNode;return O(n)}function qt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].querySelectorAll(t),s=0;s<r.length;s+=1)n.push(r[s]);return O(n)}function Jt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].children,s=0;s<r.length;s+=1)(!t||O(r[s]).is(t))&&n.push(r[s]);return O(n)}var Do="resize scroll".split(" ");function Qt(t){function n(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];if(typeof r[0]>"u"){for(var a=0;a<this.length;a+=1)Do.indexOf(t)<0&&(t in this[a]?this[a][t]():O(this[a]).trigger(t));return this}return this.on.apply(this,[t].concat(r))}return n}var Kt=Qt("click"),Zt=Qt("focus");Ut&&(O.fn.hide=Ut),Xt&&(O.fn.append=Xt),Kt&&(O.fn.click=Kt),jt&&(O.fn.on=jt),Ft&&(O.fn.off=Ft),Zt&&(O.fn.focus=Zt),Mt&&(O.fn.attr=Mt),Ht&&(O.fn.val=Ht),Wt&&(O.fn.html=Wt),Lt&&(O.fn.dataset=Lt),Bt&&(O.fn.addClass=Bt),Pt&&(O.fn.removeClass=Pt),Jt&&(O.fn.children=Jt),zt&&(O.fn.each=zt),qt&&(O.fn.find=qt),Gt&&(O.fn.is=Gt),Yt&&(O.fn.parents=Yt);class Io{constructor(){Ae(this,"audio");Ae(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(n){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=n,this.src=n,document.body.appendChild(this.audio),this.audio.play()}stop(n){n&&n!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}}const Re=new Io;function en(t){const n=Math.floor(t/60),o=t%60,r=String(n).padStart(2,"0"),s=String(o).padStart(2,"0");return`${r}:${s}`}const Ao={editorPlugin:ro,renderElems:[{type:"ssml-audio",renderElem:(t,n,o)=>{const{remark:r,src:s}=t;return _("span.ssml-wrapper.no-line-height",[_("span.remark.left",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(a=>{a.preventDefault(),Re.stop(s);const l=y.DomEditor.findPath(o,t);y.SlateTransforms.delete(o,{at:l})})}}),_("span.iconfont.icon-play",{on:{click:G(a=>{a.preventDefault(),Re.play(s)})}}),_("span.data-content",{attrs:{"data-content":r}})])])}}],elemsToHtml:[{type:"ssml-audio",elemToHtml:(t,n)=>{const{remark:o,src:r}=t;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${r}"
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-src")||"",r=t.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:r,children:n}}}]},Bo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-break"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-break"?!0:o(s),r},renderElems:[{type:"ssml-break",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",{props:{contentEditable:!1}},[_("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.delete(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"|"},style:{color:"var(--ssml-break)"}})])}}],elemsToHtml:[{type:"ssml-break",elemToHtml:t=>{const{remark:n,time:o,strength:r}=t;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${n}"
          data-ow-time="${o}"
          data-ow-strength="${r}"
        ></span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:t=>{const n=t.getAttribute("data-ow-remark")||"",o=t.getAttribute("data-ow-time")||"",r=t.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:n,time:o,strength:r,children:[{text:""}]}}}]},Po={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-emphasis"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-emphasis"?!1:o(s),r},renderElems:[{type:"ssml-emphasis",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-emphasis)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-emphasis)"}})])}}],elemsToHtml:[{type:"ssml-emphasis",elemToHtml:(t,n)=>{const{remark:o,level:r}=t;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${r}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:r,children:n}}}]},Mo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-mstts:express-as"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-mstts:express-as"?!1:o(s),r},renderElems:[{type:"ssml-mstts:express-as",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-mstts--express-as)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-mstts--express-as)"}})])}}],elemsToHtml:[{type:"ssml-mstts:express-as",elemToHtml:(t,n)=>{const{remark:o,style:r,role:s,styledegree:a}=t;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${r}"
          data-ow-styledegree="${a}"
          data-ow-role="${s}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-style")||"",s=t.getAttribute("data-ow-styledegree")||"",a=t.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:r,remark:o,styledegree:s,role:a,children:n}}}]},Lo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-p"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-p"?!1:o(s),r},renderElems:[{type:"ssml-p",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-p)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-p)"}})])}}],elemsToHtml:[{type:"ssml-p",elemToHtml:(t,n)=>{const{remark:o}=t;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(t,n)=>({type:"ssml-p",remark:t.getAttribute("data-ow-remark")||"",children:n})}]},Ho={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-phoneme"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-phoneme"?!1:o(s),r},renderElems:[{type:"ssml-phoneme",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-phoneme)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-phoneme)"}})])}}],elemsToHtml:[{type:"ssml-phoneme",elemToHtml:(t,n)=>{const{remark:o,alphabet:r,ph:s}=t;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${r}"
          data-ow-ph="${s}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-alphabet")||"",s=t.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:r,ph:s,children:n}}}]},jo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-prosody"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-prosody"?!1:o(s),r},renderElems:[{type:"ssml-prosody",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-prosody)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-prosody)"}})])}}],elemsToHtml:[{type:"ssml-prosody",elemToHtml:(t,n)=>{const{remark:o,contour:r,pitch:s,range:a,rate:l,volume:i}=t;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${r}"
          data-ow-pitch="${s}"
          data-ow-range="${a}"
          data-ow-rate="${l}"
          data-ow-volume="${i}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-contour")||"",s=t.getAttribute("data-ow-pitch ")||"",a=t.getAttribute("data-ow-range")||"",l=t.getAttribute("data-ow-rate")||void 0,i=t.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:r,pitch:s,range:a,rate:l,volume:i,children:n}}}]},Fo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-s"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-s"?!1:o(s),r},renderElems:[{type:"ssml-s",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-s)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-s)"}})])}}],elemsToHtml:[{type:"ssml-s",elemToHtml:(t,n)=>{const{remark:o}=t;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(t,n)=>({type:"ssml-s",remark:t.getAttribute("data-ow-remark")||"",children:n})}]},Uo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-say-as"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-say-as"?!1:o(s),r},renderElems:[{type:"ssml-say-as",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-say-as)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-say-as)"}})])}}],elemsToHtml:[{type:"ssml-say-as",elemToHtml:(t,n)=>{const{remark:o,interpretAs:r,detail:s,format:a}=t;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${r}"
          data-ow-detail="${s}"
          data-ow-format="${a}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-interpretAs")||"",s=t.getAttribute("data-ow-format")||"",a=t.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:r,detail:a,format:s,children:n}}}]},zo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-sub"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-sub"?!1:o(s),r},renderElems:[{type:"ssml-sub",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-sub)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-sub)"}})])}}],elemsToHtml:[{type:"ssml-sub",elemToHtml:(t,n)=>{const{remark:o,alias:r}=t;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${r}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:r,children:n}}}]},Wo={editorPlugin:t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-voice"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-voice"?!1:o(s),r},renderElems:[{type:"ssml-voice",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-voice)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-voice)"}})])}}],elemsToHtml:[{type:"ssml-voice",elemToHtml:(t,n)=>{const{remark:o,name:r,effect:s}=t;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${r}"
          data-ow-effect="${s}"
        >${n}</span>`}}],parseElemHtml:[{selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-name")||"",s=t.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:r,effect:s,children:n}}}]},Go=t=>{const{deleteBackward:n,deleteForward:o,insertBreak:r,apply:s,normalizeNode:a,insertText:l,insertData:i,setFragmentData:c}=t,u=t;return u.deleteBackward=p=>{n(p)},u.deleteForward=p=>{o(p)},u.insertBreak=()=>{r()},u.normalizeNode=p=>{console.log("normalizeNode"),a(p)},u.apply=p=>{console.log("apply",JSON.stringify(p)),s(p)},u.insertData=p=>{if(p.types.includes("application/x-slate-fragment"))return i(p);l(p.getData("text/plain").trim())},u.setFragmentData=p=>{c(p);const m=p.getData("text/plain").replaceAll(/[\s]/gi,"");p.setData("text/plain",m)},u.insertText=p=>{l(p)},u};function Xo(t){return t.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function Yo(t,n){return n?`<audio src="${t.src}">${n}</audio>`:`<audio src="${t.src}"/>`}function qo(t){return t.time?`<break time="${t.time}"/>`:t.strength?`<break strength="${t.strength}"/>`:"<break/>"}function Jo(t,n){return t.level?`<emphasis level="${t.level}">${n}</emphasis>`:`<emphasis>${n}</emphasis>`}function Qo(t,n){if(!t.style)return n;const o=t.role?` role="${t.role}"`:"",r=t.styledegree?` styledegree="${t.styledegree}"`:"";return`<mstts:express-as style="${t.style}"${o}${r}>${n}</mstts:express-as>`}function Ko(t){if(!t.src)return"";const n=t.volume?` volume="${t.volume}"`:"",o=t.fadein?` fadein="${t.fadein}"`:"",r=t.fadeout?` fadeout="${t.fadeout}"`:"";return`<mstts:backgroundaudio src="${t.src}"${n}${o}${r}/>`}function Zo(t){return!t.attrType||!t.value?"":`<mstts:silence type="${t.attrType}" value="${t.value}"/>`}function er(t,n){return`<p>${n}</p>`}function tr(t,n){const o=t.alphabet?`alphabet="${t.alphabet}"`:"";return`<phoneme ph="${t.ph}"${o}>${n}</phoneme>`}function nr(t,n){const o=t.contour?` contour="${t.contour}"`:"",r=t.pitch?` pitch="${t.pitch}"`:"",s=t.range?` range="${t.range}"`:"",a=t.volume?` volume="${t.volume}"`:"",l=t.rate?` rate="${t.rate}"`:"";return`<prosody${o}${r}${s}${a}${l}>${n}</prosody>`}function or(t,n){const o=t.interpretAs?` interpret-as="${t.interpretAs}"`:"",r=t.format?` format="${t.format}"`:"",s=t.detail?` detail="${t.detail}"`:"";return`<say-as${o}${r}${s}>${n}</say-as>`}function rr(t,n){return`<s>${n}</s>`}function sr(t,n){return`<sub alias=${t.alias}>${n}</sub>`}function ar(t,n){const o=t.effect?` effect="${t.effect}"`:"";return`<voice name="${t.name}${o}">${n}</voice>`}function lr(t,n){return`<speak
  version="${t.version}"
  xml:lang="${t.xmlLang}"
  xmlns="${t.xmlns}"
  xmlns:mstts="${t["xmlns:mstts"]}"
  xmlns:emo="${t["xmlns:emo"]}"
  >${n}</speak>`}function tn(t){if(y.SlateText.isText(t))return Xo(t.text);if(y.SlateElement.isElement(t)){const n=t.children.map(r=>tn(r)).join("");switch(y.DomEditor.getNodeType(t)){case"paragraph":return`<p>${n}</p>`;case"ssml-speak":return lr(t,n);case"ssml-mstts:backgroundaudio":return Ko(t);case"ssml-audio":return Yo(t,n);case"ssml-break":return qo(t);case"ssml-emphasis":return Jo(t,n);case"ssml-mstts:express-as":return Qo(t,n);case"ssml-p":return er(t,n);case"ssml-phoneme":return tr(t,n);case"ssml-prosody":return nr(t,n);case"ssml-s":return rr(t,n);case"ssml-say-as":return or(t,n);case"ssml-sub":return sr(t,n);case"ssml-voice":return ar(t,n);case"ssml-mstts:silence":return Zo(t);default:return n}}return""}function ir(){const{editor:t}=ee();if(!t)throw Error("没有找到 editor 对象");const{rootSpeak:n,rootVoice:o,rootExpressAs:r,rootBackgroundaudio:s}=Qe(),a={...n,children:[]},l={...s},i={...o,children:[]},c={...r,children:[]},u=[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"50ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"100ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"150ms",remark:"顿号静音",children:[]}];return a.children.push(l),a.children.push(i),i.children.push(...u),i.children.push(c),c.children=t.children,tn(a)}const Si="",cr={install(){y.Boot.registerModule(Ao),y.Boot.registerModule(Bo),y.Boot.registerModule(Po),y.Boot.registerModule(Mo),y.Boot.registerModule(Lo),y.Boot.registerModule(Ho),y.Boot.registerModule(jo),y.Boot.registerModule(Fo),y.Boot.registerModule(Uo),y.Boot.registerModule(zo),y.Boot.registerModule(Wo),y.Boot.registerPlugin(Go)}},Qe=Ct("--editor-ssml",()=>{const t=e.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),n=e.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=e.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),r=e.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]});return{rootSpeak:t,rootVoice:n,rootBackgroundaudio:o,rootExpressAs:r}}),dr={class:"bar-button-icon"},fr={class:"fw-normal",style:{"font-size":"0.85rem"}},ur=e.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:n}){const o=t,r=()=>{if(!o.disabled){const{editor:s}=ee();s&&n("click",s)}};return(s,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bar-button px-2 py-1",{disabled:s.disabled}]),onClick:r,onMousedown:a[0]||(a[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",dr,[e.createElementVNode("span",{class:e.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${s.icon}`]])},null,2)]),e.createElementVNode("div",fr,e.toDisplayString(s.text),1)],34))}}),ki="",U=(t,n)=>{const o=t.__vccOpts||t;for(const[r,s]of n)o[r]=s;return o},F=U(ur,[["__scopeId","data-v-7f1d5309"]]),$i="",Ti="",vi="",Ke=e.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(t,{expose:n,emit:o}){const r=e.ref(""),s=e.ref();function a(){s.value.focus()}function l(){o("submit",r.value),r.value=""}return n({focus:a}),(i,c)=>(e.openBlock(),e.createBlock(e.unref(N.ElForm),{onSubmit:e.withModifiers(l,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{type:i.type,ref_key:"inputRef",ref:s,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}}),Oi="",Ri="",pr=e.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(t){return(n,o)=>(e.openBlock(),e.createBlock(e.unref(N.ElPopover),{hideAfter:n.hideAfter,width:n.width,visible:n.visible,trigger:n.trigger,"onUpdate:visible":o[0]||(o[0]=r=>n.$emit("update:visible",r))},{reference:e.withCtx(()=>[e.renderSlot(n.$slots,"reference")]),default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}}),Di="",Ii="",Ai="",Bi="",Pi="",Mi="",Li="",Hi="",ji="";function De(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function q(t){return typeof t=="function"?t():e.unref(t)}const nn=typeof window<"u",mr=t=>t!=null,Ie=()=>{};var hr=Object.defineProperty,yr=Object.defineProperties,gr=Object.getOwnPropertyDescriptors,on=Object.getOwnPropertySymbols,_r=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,rn=(t,n,o)=>n in t?hr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,wr=(t,n)=>{for(var o in n||(n={}))_r.call(n,o)&&rn(t,o,n[o]);if(on)for(var o of on(n))br.call(n,o)&&rn(t,o,n[o]);return t},xr=(t,n)=>yr(t,gr(n));function Er(t,n={}){if(!e.isRef(t))return e.toRefs(t);const o=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)o[r]=e.customRef(()=>({get(){return t.value[r]},set(s){var a;if((a=q(n.replaceRef))!=null?a:!0)if(Array.isArray(t.value)){const i=[...t.value];i[r]=s,t.value=i}else{const i=xr(wr({},t.value),{[r]:s});Object.setPrototypeOf(i,Object.getPrototypeOf(t.value)),t.value=i}else t.value[r]=s}}));return o}function sn(t,n=!0){e.getCurrentInstance()?e.onMounted(t):n?t():e.nextTick(t)}function J(t){var n;const o=q(t);return(n=o==null?void 0:o.$el)!=null?n:o}const ne=nn?window:void 0;function de(...t){let n,o,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,r,s]=t,n=ne):[n,o,r,s]=t,!n)return Ie;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const a=[],l=()=>{a.forEach(p=>p()),a.length=0},i=(p,m,h,g)=>(p.addEventListener(m,h,g),()=>p.removeEventListener(m,h,g)),c=e.watch(()=>[J(n),q(s)],([p,m])=>{l(),p&&a.push(...o.flatMap(h=>r.map(g=>i(p,h,g,m))))},{immediate:!0,flush:"post"}),u=()=>{c(),l()};return De(u),u}function Vr(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function Ze(t){const n=Vr();return e.computed(()=>(n.value,!!t()))}function Nr(t,n={}){const{window:o=ne}=n,r=Ze(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let s;const a=e.ref(!1),l=u=>{a.value=u.matches},i=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",l):s.removeListener(l))},c=e.watchEffect(()=>{r.value&&(i(),s=o.matchMedia(q(t)),"addEventListener"in s?s.addEventListener("change",l):s.addListener(l),a.value=s.matches)});return De(()=>{c(),i(),s=void 0}),a}var Cr=Object.defineProperty,Sr=Object.defineProperties,kr=Object.getOwnPropertyDescriptors,an=Object.getOwnPropertySymbols,$r=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,ln=(t,n,o)=>n in t?Cr(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,vr=(t,n)=>{for(var o in n||(n={}))$r.call(n,o)&&ln(t,o,n[o]);if(an)for(var o of an(n))Tr.call(n,o)&&ln(t,o,n[o]);return t},Or=(t,n)=>Sr(t,kr(n));function et(t,n={}){var o,r;const{pointerTypes:s,preventDefault:a,stopPropagation:l,exact:i,onMove:c,onEnd:u,onStart:p,initialValue:m,axis:h="both",draggingElement:g=ne,handle:f=t}=n,d=e.ref((o=q(m))!=null?o:{x:0,y:0}),w=e.ref(),k=x=>s?s.includes(x.pointerType):!0,R=x=>{q(a)&&x.preventDefault(),q(l)&&x.stopPropagation()},S=x=>{if(!k(x)||q(i)&&x.target!==q(t))return;const b=q(t).getBoundingClientRect(),D={x:x.clientX-b.left,y:x.clientY-b.top};(p==null?void 0:p(D,x))!==!1&&(w.value=D,R(x))},$=x=>{if(!k(x)||!w.value)return;let{x:b,y:D}=d.value;(h==="x"||h==="both")&&(b=x.clientX-w.value.x),(h==="y"||h==="both")&&(D=x.clientY-w.value.y),d.value={x:b,y:D},c==null||c(d.value,x),R(x)},T=x=>{k(x)&&w.value&&(w.value=void 0,u==null||u(d.value,x),R(x))};if(nn){const x={capture:(r=n.capture)!=null?r:!0};de(f,"pointerdown",S,x),de(g,"pointermove",$,x),de(g,"pointerup",T,x)}return Or(vr({},Er(d)),{position:d,isDragging:e.computed(()=>!!w.value),style:e.computed(()=>`left:${d.value.x}px;top:${d.value.y}px;`)})}var cn=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Dr=Object.prototype.propertyIsEnumerable,Ir=(t,n)=>{var o={};for(var r in t)Rr.call(t,r)&&n.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&cn)for(var r of cn(t))n.indexOf(r)<0&&Dr.call(t,r)&&(o[r]=t[r]);return o};function dn(t,n,o={}){const r=o,{window:s=ne}=r,a=Ir(r,["window"]);let l;const i=Ze(()=>s&&"ResizeObserver"in s),c=()=>{l&&(l.disconnect(),l=void 0)},u=e.computed(()=>Array.isArray(t)?t.map(h=>J(h)):[J(t)]),p=e.watch(u,h=>{if(c(),i.value&&s){l=new ResizeObserver(n);for(const g of h)g&&l.observe(g,a)}},{immediate:!0,flush:"post",deep:!0}),m=()=>{c(),p()};return De(m),{isSupported:i,stop:m}}function _e(t,n={}){const{reset:o=!0,windowResize:r=!0,windowScroll:s=!0,immediate:a=!0}=n,l=e.ref(0),i=e.ref(0),c=e.ref(0),u=e.ref(0),p=e.ref(0),m=e.ref(0),h=e.ref(0),g=e.ref(0);function f(){const d=J(t);if(!d){o&&(l.value=0,i.value=0,c.value=0,u.value=0,p.value=0,m.value=0,h.value=0,g.value=0);return}const w=d.getBoundingClientRect();l.value=w.height,i.value=w.bottom,c.value=w.left,u.value=w.right,p.value=w.top,m.value=w.width,h.value=w.x,g.value=w.y}return dn(t,f),e.watch(()=>J(t),d=>!d&&f()),s&&de("scroll",f,{capture:!0,passive:!0}),r&&de("resize",f,{passive:!0}),sn(()=>{a&&f()}),{height:l,bottom:i,left:c,right:u,top:p,width:m,x:h,y:g,update:f}}function Ar(t,n={width:0,height:0},o={}){const{window:r=ne,box:s="content-box"}=o,a=e.computed(()=>{var c,u;return(u=(c=J(t))==null?void 0:c.namespaceURI)==null?void 0:u.includes("svg")}),l=e.ref(n.width),i=e.ref(n.height);return dn(t,([c])=>{const u=s==="border-box"?c.borderBoxSize:s==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(r&&a.value){const p=J(t);if(p){const m=r.getComputedStyle(p);l.value=Number.parseFloat(m.width),i.value=Number.parseFloat(m.height)}}else if(u){const p=Array.isArray(u)?u:[u];l.value=p.reduce((m,{inlineSize:h})=>m+h,0),i.value=p.reduce((m,{blockSize:h})=>m+h,0)}else l.value=c.contentRect.width,i.value=c.contentRect.height},o),e.watch(()=>J(t),c=>{l.value=c?n.width:0,i.value=c?n.height:0}),{width:l,height:i}}function Br(t,n,o={}){const{root:r,rootMargin:s="0px",threshold:a=.1,window:l=ne,immediate:i=!0}=o,c=Ze(()=>l&&"IntersectionObserver"in l),u=e.computed(()=>{const f=q(t);return(Array.isArray(f)?f:[f]).map(J).filter(mr)});let p=Ie;const m=e.ref(i),h=c.value?e.watch(()=>[u.value,J(r),m.value],([f,d])=>{if(p(),!m.value||!f.length)return;const w=new IntersectionObserver(n,{root:J(d),rootMargin:s,threshold:a});f.forEach(k=>k&&w.observe(k)),p=()=>{w.disconnect(),p=Ie}},{immediate:i,flush:"post"}):Ie,g=()=>{p(),h(),m.value=!1};return De(g),{isSupported:c,isActive:m,pause(){p(),m.value=!1},resume(){m.value=!0},stop:g}}function Pr(t,{window:n=ne,scrollTarget:o}={}){const r=e.ref(!1);return Br(t,([{isIntersecting:s}])=>{r.value=s},{root:o,window:n}),r}function Mr(t={}){const{window:n=ne,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:a=!0}=t,l=e.ref(o),i=e.ref(r),c=()=>{n&&(a?(l.value=n.innerWidth,i.value=n.innerHeight):(l.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(c(),sn(c),de("resize",c,{passive:!0}),s){const u=Nr("(orientation: portrait)");e.watch(u,()=>c())}return{width:l,height:i}}const Lr={class:"search-content w-100"},Hr={class:"ps-2 w-75"},jr={class:"menu ps-2"},Fr={class:"flex flex-row pt-1"},Ur={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},zr=["onClick"],Wr=e.createElementVNode("span",{class:"iconfont icon-play"},null,-1),Gr={class:"ps-2"},tt=e.defineComponent({__name:"bar-search",props:{menuItemLabel:{},scenes:{},styles:{},dataList:{},fetch:{type:Function}},emits:["submit"],setup(t,{emit:n}){const o=t,r=e.ref(),s=e.ref(""),a=e.ref(""),l=e.ref(""),i=e.ref(o.dataList||[]),c=e.ref("first"),u=Pr(r);e.watch(u,g=>{g&&setTimeout(()=>{var f;(f=r.value)==null||f.focus()},100)}),e.onMounted(async()=>{i.value.length||await p()});async function p(){i.value=await o.fetch({search:s.value,menuKey:c.value,scene:a.value,style:l.value})}function m(g){c.value=g,p()}function h(g){n("submit",g)}return(g,f)=>(e.openBlock(),e.createElementBlock("div",Lr,[e.createElementVNode("div",Hr,[e.createVNode(e.unref(N.ElForm),{onSubmit:e.withModifiers(p,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{ref_key:"searchInputRef",ref:r,placeholder:"搜索",modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=d=>s.value=d),"suffix-icon":e.unref(me.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),e.createElementVNode("div",jr,[e.createVNode(e.unref(N.ElMenu),{mode:"horizontal","default-active":"first",onSelect:f[1]||(f[1]=d=>m(d))},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElMenuItem),{index:"first"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.menuItemLabel.first),1)]),_:1}),e.createVNode(e.unref(N.ElMenuItem),{index:"second"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.menuItemLabel.second),1)]),_:1}),e.createVNode(e.unref(N.ElMenuItem),{index:"last"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(g.menuItemLabel.last),1)]),_:1})]),_:1})]),e.createElementVNode("div",Fr,[e.createVNode(e.unref(N.ElSelect),{modelValue:a.value,"onUpdate:modelValue":f[2]||(f[2]=d=>a.value=d),onChange:p,class:"m-1",size:"default"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.scenes,d=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(e.unref(N.ElSelect),{modelValue:l.value,"onUpdate:modelValue":f[3]||(f[3]=d=>l.value=d),onChange:p,class:"m-1",size:"default"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.styles,d=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.createElementVNode("ul",Ur,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(d,w)=>(e.openBlock(),e.createElementBlock("li",{onClick:k=>h(e.toRaw(d)),class:"content-list-item clickable ps-2 py-2",key:w},[Wr,e.createElementVNode("span",Gr,e.toDisplayString(d.label),1)],8,zr))),128))])]))}}),Fi="",Xr={},Yr={class:"content"};function qr(t,n){return e.openBlock(),e.createElementBlock("div",Yr,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const fn=U(Xr,[["render",qr],["__scopeId","data-v-7beae5b9"]]),Jr={},Qr={class:"bar-wrapper-item"};function Kr(t,n){return e.openBlock(),e.createElementBlock("div",Qr,[e.renderSlot(t.$slots,"default")])}const Zr=U(Jr,[["render",Kr]]),es={class:"bar-wrapper-group"},ts={class:"group-items"},ns=e.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",es,[e.createElementVNode("div",ts,[e.renderSlot(n.$slots,"default",{},void 0,!0)]),e.createElementVNode("div",{class:e.normalizeClass(["divider",[n.divider]])},null,2)]))}}),Ui="",fe=U(ns,[["__scopeId","data-v-3a7abad9"]]);function os(t,n){return`left:${t}px;top:${n}px`}function nt(t,n){const{width:o,height:r}=Ar(t),{width:s,height:a}=Mr(),l=e.computed(()=>({x:s.value-o.value,y:a.value-r.value}));return{style:e.computed(()=>{const c=n.value.x,u=n.value.y,p=c<5?5:c>l.value.x?l.value.x-5:c,m=u<5?5:u>l.value.y?l.value.y-5:u;return os(p,m)})}}const rs={class:"w-100 d-flex flex-row align-items-center"},ss=e.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(t,{expose:n,emit:o}){const r=t,s=e.ref(),a=e.ref(),l=e.ref(),{position:i}=et(a,{initialValue:r.initialValue}),{style:c}=nt(s,i);function u(f){i.value=f}n({setPosition:u}),e.onMounted(()=>{window.addEventListener("click",p),window.addEventListener("keydown",g)}),e.onUnmounted(()=>{window.addEventListener("click",p),window.addEventListener("keydown",g)});function p(f){m(f)&&h()}function m(f){const d=f.target;return!(!s.value||!l.value||l.value.contains(d)||s.value.contains(d))}function h(){o("update:visible",!1),o("close")}function g(f){f.code==="Escape"&&h()}return(f,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"referenceRef",ref:l},[e.renderSlot(f.$slots,"reference",{},void 0,!0)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{ref_key:"boxRef",ref:s,class:"demotestname card shadow brag-box user-select-none",style:e.normalizeStyle([{position:"fixed"},e.unref(c)])},[e.createElementVNode("div",rs,[e.createElementVNode("div",{ref_key:"dragRef",ref:a,class:"w-100",style:{height:"40px"}},null,512),e.createElementVNode("span",{onClick:h,class:"btn iconfont icon-close fs-5"})]),e.renderSlot(f.$slots,"default",{},void 0,!0)],4),[[e.vShow,f.visible]])]))],64))}}),zi="",ue=U(ss,[["__scopeId","data-v-15ec952a"]]),as={install(t){t.component("BarButton",F),t.component("BarInput",Ke),t.component("BarPopover",pr),t.component("BarSearch",tt),t.component("BarWrapper",fn),t.component("BarWrapperItem",Zr),t.component("BarWrapperGroup",fe),t.component("DragBox",ue)}},M={ERROR:"wangeditor-error"};class K{constructor(n){Ae(this,"editor");this.editor=n}getValue(){const{selection:n}=this.editor;return n==null?"":y.SlateEditor.string(this.editor,n)}isDisabled(){const{selection:n}=this.editor;return n==null?(this.editor.emit(M.ERROR,"未选中编辑器"),!0):!1}}class ls extends K{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请选中文本"),!0;const o=this.getValue();return o.length!=1?!0:/^[\u4E00-\u9FA5]+$/gi.test(o)?!1:(this.editor.emit(M.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0)}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-phoneme",alphabet:"sapi",ph:n.value,remark:n.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const un=e.defineComponent({setup(){const{globalEditConfig:t}=ee(),n=e.shallowRef(),o=e.ref([]),r=e.ref(!1);function s(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){var u;if(n.value??(n.value=new ls(i)),(u=n.value)!=null&&u.isDisabled())return;const c=n.value.getValue();if(c?o.value=await t.fetchPinyin(c):o.value=[],o.value.length==0)return i.emit(M.ERROR,"选中的字符没有不是多音字");s()}return()=>e.createVNode(N.ElPopover,{visible:r.value,"onUpdate:visible":i=>r.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"多音字",icon:"speaker",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),a()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class is extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请选择多个中文字符或者多个多个英文单词"),!0):y.SlateEditor.string(this.editor,n).length<2:!0}exec(){if(this.isDisabled())return;const n=this.getValue();if(n==null)return;const o={type:"ssml-prosody",rate:"fast",remark:"连读",children:[{text:n}]};y.SlateTransforms.insertNodes(this.editor,o)}}const pn=e.defineComponent({setup(){const t=e.shallowRef();function n(o){t.value??(t.value=new is(o)),!t.value.isDisabled()&&t.value.exec()}return()=>e.createVNode(F,{text:"连读",icon:"continuous",onClick:n},null)}});class cs extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return!n||n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请先选择文本"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-prosody",remark:n.label,children:[{text:o}]};switch(n.value){case"z":r.rate="fast";break;case"t":r.pitch="+10%";break;case"z+t":r.rate="fast",r.pitch="+10%";break}y.SlateTransforms.insertNodes(this.editor,r)}}const ds=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],mn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function s(a){t.value??(t.value=new cs(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"重音",icon:"read",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column",onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[ds.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class fs extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请选择纯数字"),!0;const o=y.SlateEditor.string(this.editor,n);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(M.ERROR,"请选择纯数字"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-say-as",interpretAs:n.value,remark:n.label,children:[{text:o}]};y.SlateTransforms.delete(this.editor),y.SlateTransforms.insertNodes(this.editor,r)}}const us=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],hn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value=!n.value}function r(s){t.value??(t.value=new fs(s)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"数字符号",icon:"digital",onClick:r},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[us.map(({label:s,value:a})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:s,value:a}),o()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class ps extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0):this.getValue().length<=0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-sub",remark:n.value,alias:n.value,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const yn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(),o=e.ref(!1);function r(){o.value||(o.value=!0)}function s(){o.value&&(o.value=!1)}async function a(i){t.value??(t.value=new ps(i)),!t.value.isDisabled()&&(r(),n.value.focus())}function l(i){var c;s(),i&&((c=t.value)==null||c.exec({value:i,label:i}))}return()=>e.createVNode(N.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>e.createVNode(F,{text:"别名",icon:"alias",onClick:a},null),default:()=>e.createVNode(Ke,{ref:n,onSubmit:l},null)})}});function ms(t){const{selection:n}=t;if(n){const[o,r]=y.SlateRange.edges(n),s=y.SlateEditor.range(t,o,r),a=y.SlateEditor.string(t,s),l=a.trimEnd();if(l!==a){const i=a.length-l.length,c={...r,offset:r.offset-i},u={...n,anchor:o,focus:c};y.SlateTransforms.select(t,u)}}}class hs extends K{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请选择英文单词"),!0;const o=y.SlateEditor.string(this.editor,n);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(M.ERROR,"请选择英文单词"),!0)}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-phoneme",alphabet:"ipa",ph:n.value,remark:n.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const gn=e.defineComponent({setup(){const{globalEditConfig:t}=ee(),n=e.shallowRef(),o=e.ref([]),r=e.ref(!1);function s(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){if(n.value??(n.value=new hs(i)),ms(i),n.value.isDisabled())return;const c=n.value.getValue();if(c){if(o.value=await t.fetchEnglish(c),o.value.length<=0)return i.emit(M.ERROR,"找不到单词的音标");s()}}return()=>e.createVNode(N.ElPopover,{visible:r.value,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"音标",icon:"english",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),a()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class ys extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选要变速的句子"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-prosody",remark:n.label,rate:n.value,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const gs=[{value:"0.5",label:"0.5x"},{value:"0.55",label:"0.55x"},{value:"0.6",label:"0.6x"},{value:"0.65",label:"0.65x"},{value:"0.7",label:"0.7x"},{value:"0.75",label:"0.75x"},{value:"0.8",label:"0.8x"},{value:"0.85",label:"0.85x"},{value:"0.9",label:"0.9x"},{value:"0.95",label:"0.95x"},{value:"1",label:"1x"},{value:"1.05",label:"1.05x"},{value:"1.1",label:"1.1x"},{value:"1.15",label:"1.15x"},{value:"1.2",label:"1.2x"},{value:"1.25",label:"1.25x"},{value:"1.3",label:"1.3x"},{value:"1.35",label:"1.35x"},{value:"1.4",label:"1.4x"},{value:"1.45",label:"1.45x"},{value:"1.5",label:"1.5x"},{value:"1.55",label:"1.55x"},{value:"1.6",label:"1.6x"},{value:"1.65",label:"1.65x"},{value:"1.7",label:"1.7x"},{value:"1.75",label:"1.75x"},{value:"1.8",label:"1.8x"},{value:"1.85",label:"1.85x"},{value:"1.9",label:"1.9x"},{value:"1.95",label:"1.95x"},{value:"2",label:"2x"}],_n=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}async function s(a){t.value??(t.value=new ys(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{style:{padding:"0px"},visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"局部变速",icon:"changespeed",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[gs.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var i;(i=t.value)==null||i.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class _s extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能选中文本"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:n.value,remark:n.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,o)}}const bs=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],bn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function s(a){t.value??(t.value=new _s(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"停顿调节",icon:"rhythm",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[bs.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class ws extends K{constructor(n){super(n)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能框选文字"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const r={type:"ssml-audio",src:n.value,remark:n.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,r)}}const wn=e.defineComponent({__name:"special-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),{globalEditConfig:s}=ee(),a=e.ref(!1),l={first:"默认音效",second:"自定义音效",last:"最近音效"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:u,y:p,height:m}=_e(o),h=f=>{r.value??(r.value=new ws(f)),!r.value.isDisabled()&&(n.value.setPosition({x:u.value-200,y:p.value+m.value}),a.value=!0)};function g(f){var d;(d=r.value)==null||d.restoreSelection(),r.value&&!r.value.isDisabled()&&r.value.exec(f),a.value=!1}return(f,d)=>(e.openBlock(),e.createBlock(e.unref(ue),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":d[0]||(d[0]=w=>a.value=w)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(tt),{menuItemLabel:l,scenes:i,styles:c,fetch:e.unref(s).fetchSpecial,onSubmit:g},null,8,["fetch"])]),_:1},8,["visible"]))}});class xs extends K{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能选中文本"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:n.value,remark:n.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,o)}}const Es=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],xn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1),o=e.ref();function r(){n.value||(n.value=!0)}function s(){n.value&&(n.value=!1)}function a(i){t.value??(t.value=new xs(i)),!t.value.isDisabled()&&(r(),o.value.focus())}function l(i){var c;s(),i&&((c=t.value)==null||c.exec({value:i,label:i}))}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":i=>n.value=i,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>e.createVNode(F,{text:"插入静音",icon:"mute",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[Es.map(({value:i,label:c})=>e.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>l(i),onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[c])),e.createVNode(Ke,{type:"text",ref:o,onSubmit:l},null)])})}}),En=e.defineComponent({__name:"bgm-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{globalEditConfig:a}=ee(),l={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:u,y:p,height:m}=_e(o),h=async f=>{const d={x:u.value-300,y:p.value+m.value};r.value=f,n.value.setPosition(d),s.value=!0};function g(f){const{rootBackgroundaudio:d}=Qe();d.src=f.value,d.remark=f.label,s.value=!1}return(f,d)=>(e.openBlock(),e.createBlock(e.unref(ue),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":d[0]||(d[0]=w=>s.value=w)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(tt),{menuItemLabel:l,scenes:i,styles:c,fetch:e.unref(a).fetchBgm,onSubmit:g},null,8,["fetch"])]),_:1},8,["visible"]))}}),Vn=e.defineComponent({__name:"sensitive-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{x:a,y:l,height:i}=_e(o),c=u=>{r.value=u,n.value.setPosition({x:a.value-200,y:l.value+i.value}),s.value=!0};return(u,p)=>(e.openBlock(),e.createBlock(e.unref(ue),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":p[0]||(p[0]=m=>s.value=m)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(Vn)]),_:1},8,["visible"]))}}),Gi="",Vs={class:"select-list",style:{width:"120px"}},Ns={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},Cs=["onClick"],Ss=e.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(t,{expose:n,emit:o}){const r=t,s=e.ref();function a(i){o("update:modelValue",i.value)}function l(){var i;if(s.value){for(let c=0;c<r.dataList.length;c++)if(r.dataList[c].value===r.modelValue){(i=s.value.children[c])==null||i.scrollIntoView({behavior:"smooth"});return}}}return n({scrollIntoViewTheItem:l}),(i,c)=>(e.openBlock(),e.createElementBlock("div",Vs,[e.createElementVNode("div",Ns,[e.renderSlot(i.$slots,"default",{},void 0,!0)]),e.createElementVNode("ul",{ref_key:"listRef",ref:s,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.dataList,(u,p)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["clickable select-item py-1",{activate:u.value===i.modelValue}]),key:p,onClick:m=>a(e.toRaw(u))},e.toDisplayString(u.label),11,Cs))),128))],512)]))}}),Xi="",be=U(Ss,[["__scopeId","data-v-efb1399e"]]),ks=()=>{const t=[];for(let n=2;n<=40;n++){const o=(n*.05).toFixed(2);t.push({value:o,label:`${o}x`})}return t},$s=()=>{const t=[];for(let n=-10;n<=10;n++)t.push({value:n.toString(),label:n.toString()});return t},Ts={style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},vs={class:"position-relative"},Os={class:"position-absolute top-0 end-0"},Rs=e.createElementVNode("li",null,[e.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),Ds=e.createElementVNode("span",{class:"my-3"},"角色",-1),Is=e.createElementVNode("span",{class:"my-3"},"风格",-1),As=e.createElementVNode("span",{class:"my-3"},"语速",-1),Bs=e.createElementVNode("span",{class:"my-3"},"语调",-1),Ps={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},Ms=e.defineComponent({__name:"management-content",setup(t){const n=e.ref(!1),o=e.ref(""),r=e.ref(),s=e.ref(),a=e.ref(),l=e.ref(),i=e.ref(),c=e.ref(""),u=e.ref(""),p=e.ref(""),m=e.ref(""),h=e.ref(""),g=e.ref(""),f=e.ref([]),d=e.ref([]),w=e.ref([]),k=e.ref([]),R=e.ref(ks()),S=e.ref($s());f.value=[{label:"全部类型",value:""},{label:"常规",value:"2"},{label:"已购",value:"3"},{label:"收藏",value:"4"},{label:"我的",value:"5"},{label:"SVIP",value:"6"},{label:"付费",value:"7"}],d.value=f.value,w.value=f.value,k.value=f.value;function $(){}function T(){}function x(){p.value="",E(r)}function b(){m.value="",E(s)}function D(){h.value="1.00",g.value="0",E(a)}function z(){}function C(){}async function E(I){console.log(I)}return(I,v)=>(e.openBlock(),e.createElementBlock("div",Ts,[e.createVNode(e.unref(N.ElForm),{onSubmit:e.withModifiers($,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{modelValue:o.value,"onUpdate:modelValue":v[0]||(v[0]=A=>o.value=A),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),e.createElementVNode("div",vs,[e.createElementVNode("div",Os,[e.createVNode(e.unref(N.ElButton),{size:"small",icon:e.unref(me.More),onClick:v[1]||(v[1]=()=>n.value=!n.value)},null,8,["icon"])]),e.createElementVNode("ul",{class:e.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":n.value}])},[Rs,e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})])],2),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"d-flex flex-row":!n.value})},[e.createVNode(be,{"onUpdate:modelValue":[x,v[3]||(v[3]=A=>u.value=A)],ref_key:"selSpeakerRef",ref:r,modelValue:u.value,dataList:d.value},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElSelect),{onChange:T,modelValue:c.value,"onUpdate:modelValue":v[2]||(v[2]=A=>c.value=A)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(A,st)=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{value:A.value,label:A.label,key:st},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","dataList"]),e.createVNode(be,{"onUpdate:modelValue":[b,v[4]||(v[4]=A=>p.value=A)],ref_key:"selRoleRef",ref:s,modelValue:p.value,dataList:w.value},{default:e.withCtx(()=>[Ds]),_:1},8,["modelValue","dataList"]),e.createVNode(be,{"onUpdate:modelValue":[D,v[5]||(v[5]=A=>m.value=A)],ref_key:"selStyleRef",ref:a,modelValue:m.value,dataList:k.value},{default:e.withCtx(()=>[Is]),_:1},8,["modelValue","dataList"]),e.createVNode(be,{"onUpdate:modelValue":[z,v[6]||(v[6]=A=>h.value=A)],ref_key:"selSpeedRef",ref:l,modelValue:h.value,dataList:R.value},{default:e.withCtx(()=>[As]),_:1},8,["modelValue","dataList"]),e.createVNode(be,{"onUpdate:modelValue":[C,v[7]||(v[7]=A=>g.value=A)],ref_key:"selPitchRef",ref:i,modelValue:g.value,dataList:S.value},{default:e.withCtx(()=>[Bs]),_:1},8,["modelValue","dataList"])],2),[[e.vShow,!n.value]])]),e.createElementVNode("div",Ps,[e.withDirectives(e.createVNode(e.unref(N.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1},512),[[e.vShow,!n.value]]),e.withDirectives(e.createVNode(e.unref(N.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("全部清空")]),_:1},512),[[e.vShow,n.value]])])]))}}),Nn=e.defineComponent({__name:"management-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{x:a,y:l,height:i}=_e(o),c=p=>{const m={x:a.value-200,y:l.value+i.value};r.value=p,n.value.setPosition(m),s.value=!0};function u(p){console.log(p)}return(p,m)=>(e.openBlock(),e.createBlock(e.unref(ue),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":m[0]||(m[0]=h=>s.value=h)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(Ms,{onSubmit:u})]),_:1},8,["visible"]))}}),Ls={class:"speaker-item"},Hs={class:"speaker-head"},js=["src"],Fs={class:"speaker-name"},Us=e.defineComponent({__name:"speaker-item",props:{name:{},img:{default:"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",Ls,[e.createElementVNode("div",Hs,[e.createElementVNode("img",{src:n.img,class:"rounded-circle",style:{height:"40px"}},null,8,js)]),e.createElementVNode("div",Fs,e.toDisplayString(n.name),1)]))}}),Yi="",L=U(Us,[["__scopeId","data-v-c961717f"]]),zs={class:"px-2 py-1",style:{width:"410px"}},Ws=e.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),Gs={class:"border border-secondary rounded w-100",style:{height:"100px"}},Xs={class:"mt-2"},Ys={class:"w-100 d-flex flex-column row-gap-1"},qs=e.createElementVNode("button",{class:"btn btn-success"},"实时录音",-1),Js=e.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),Qs={class:"audio-upload"},Ks={class:"border rounded-pill border-secondary d-flex flex-row justify-content-between"},Zs={class:"d-flex flex-row align-items-center"},ea=e.createElementVNode("div",null,"图标",-1),ta=e.createElementVNode("div",null,[e.createElementVNode("div",null,"删除"),e.createElementVNode("button",null,"上传音频")],-1),na=e.createElementVNode("template",null,[e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击选择文件"),e.createElementVNode("button",{class:"btn btn-primary"})],-1),oa=e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击开始录音",-1),ra=e.createElementVNode("p",null,"选择需要转换的配音师",-1),sa={class:"speakers-container d-flex flex-row flex-wrap row-gap-1 column-gap-2"},aa=e.createElementVNode("button",{class:"btn btn-primary",disabled:""},"完成录音并上传完成后，可选择配音师转换",-1),la=e.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(t){const n=e.ref(),o=e.ref(),r=e.ref(!1),s=e.ref(!1),a=e.shallowRef();function l(p){if(!p.target)return;const m=p.target.files[0];m&&(a.value=m,console.log("已选择文件:",m.name))}function i(){var p;(p=n.value)==null||p.click()}function c(){}function u(){}return(p,m)=>{var h;return e.openBlock(),e.createElementBlock("div",zs,[e.createElementVNode("section",null,[Ws,e.createElementVNode("div",Gs,e.toDisplayString(p.text),1)]),e.withDirectives(e.createElementVNode("section",Xs,[e.createElementVNode("div",Ys,[e.createElementVNode("input",{accept:"audio/*",ref_key:"inputFileRef",ref:n,onChange:l,type:"file",hidden:""},null,544),qs,e.createElementVNode("button",{onClick:i,class:"btn btn-primary"},"上传录音")]),Js],512),[[e.vShow,!r.value]]),e.withDirectives(e.createElementVNode("section",null,[e.createElementVNode("div",Qs,[e.createElementVNode("div",Ks,[s.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Zs,[ea,e.createElementVNode("div",null,e.toDisplayString((h=o.value)==null?void 0:h.name),1)]),ta],64)):e.createCommentVNode("",!0),na,e.createElementVNode("template",null,[oa,e.createElementVNode("button",{onClick:c,class:"btn btn-primary"},"开始录音"),e.createElementVNode("button",{onClick:u,class:"btn btn-primary"},"结束录音")])]),e.createElementVNode("div",null,[ra,e.createElementVNode("div",sa,[e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"}),e.createVNode(L,{name:"莫厚渊"})])]),aa])],512),[[e.vShow,r.value]])])}}}),Cn=e.defineComponent({__name:"conversion-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),a=e.ref("ttttt"),{x:l,y:i,height:c}=_e(o),u=m=>{const h={x:l.value-200,y:i.value+c.value};r.value=m,n.value.setPosition(h),s.value=!0};function p(m){console.log(m)}return(m,h)=>(e.openBlock(),e.createBlock(e.unref(ue),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":h[0]||(h[0]=g=>s.value=g)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:u},null,512)]),default:e.withCtx(()=>[e.createVNode(la,{text:a.value,onSubmit:p},null,8,["text"])]),_:1},8,["visible"]))}}),ia=t=>(e.pushScopeId("data-v-d94c0954"),t=t(),e.popScopeId(),t),ca={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},da=["src"],fa=ia(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),ua=e.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),r=e.ref(),s=e.ref(0),a=e.ref(0),{position:l}=et(r,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(m,h)=>p(h.clientX,h.clientY)?!1:void 0}),{style:i}=nt(r,l);function c(m){p(m.clientX,m.clientY)&&n("update:visible",!1)}function u(m){s.value=m.clientX,a.value=m.clientY}function p(m,h){return m>s.value-10&&m<s.value+10&&h>a.value-10&&h<a.value+10}return(m,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:e.normalizeStyle([e.unref(i),{position:"fixed"}]),onMousedown:u,onMouseup:c},[e.createElementVNode("div",ca,[e.createElementVNode("img",{src:o.value,class:"rounded-circle"},null,8,da),fa])],36)),[[e.vShow,m.visible]])}}),qi="",pa=U(ua,[["__scopeId","data-v-d94c0954"]]),ma=t=>(e.pushScopeId("data-v-e8c67559"),t=t(),e.popScopeId(),t),ha={class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center"},ya=["src"],ga=ma(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),_a=e.defineComponent({__name:"anchor-avatar",setup(t){const n=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png");return(o,r)=>(e.openBlock(),e.createElementBlock("div",ha,[e.createElementVNode("img",{src:n.value,class:"rounded-circle",style:{height:"40px"}},null,8,ya),ga]))}}),Ji="",H=U(_a,[["__scopeId","data-v-e8c67559"]]),ba={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},wa=e.defineComponent({__name:"anchor-list",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",ba,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(100,(r,s)=>e.createElementVNode("div",{class:"m-2",key:s},[e.createVNode(H)])),64))]))}}),xa=e.defineComponent({__name:"tag-item",props:{isActivate:{type:Boolean}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag-item p-2 text-white text-center",[n.isActivate?"activate":null]])},[e.renderSlot(n.$slots,"default",{},void 0,!0)],2))}}),Qi="",V=U(xa,[["__scopeId","data-v-80dc8a64"]]),Ea={class:"tag-list w-100"},Va={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},Na={style:{height:"100px"},class:"w-100 d-flex flex-row flex-wrap align-items-start overflow-y-auto overflow-x-hidden scrollbar-none"},Ca=e.defineComponent({__name:"tag-list",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",Ea,[e.createElementVNode("div",Va,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("男声")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("女声")]),_:1})]),e.createElementVNode("div",Na,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1})])]))}}),Ki="",Zi="",ec="",we=t=>(e.pushScopeId("data-v-1b5a3a37"),t=t(),e.popScopeId(),t),Sa={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},ka={class:"mt-2 row text-center justify-content-between align-items-center"},$a={class:"col-auto me-auto d-flex flex-row align-items-center"},Ta=["src"],va={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},Oa=we(()=>e.createElementVNode("div",{class:"d-flex dlex-row column-gap-2 align-items-end"},[e.createElementVNode("span",{class:"fs-6"},"魔云猫"),e.createElementVNode("span",{style:{"font-size":"0.5rem"}},"0.55x")],-1)),Ra={class:"d-flex flex-row column-gap-2 align-items-center"},Da=we(()=>e.createElementVNode("span",{class:"badge text-bg-primary px-2"},"24K",-1)),Ia={class:"col-7 d-flex flex-column align-items-end"},Aa=we(()=>e.createElementVNode("div",null,"音频时长，请以生成后的为准",-1)),Ba={class:"mt-1"},Pa=we(()=>e.createElementVNode("span",null,"/",-1)),Ma=e.createStaticVNode('<div class="role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3" data-v-1b5a3a37><div class="rounded-pill px-1 border" data-v-1b5a3a37>女青年(默认)</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div></div>',1),La={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},Ha=we(()=>e.createElementVNode("div",{class:"my-3"},[e.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),ja={class:"slider-box"},Fa={class:"slider-box"},Ua=e.createStaticVNode('<ul class="d-flex flex-row gap-3 my-3" data-v-1b5a3a37><li class="rounded-pill px-1 border" data-v-1b5a3a37>常用</li><li class="rounded-pill px-1" data-v-1b5a3a37>已购</li><li class="rounded-pill px-1" data-v-1b5a3a37>收藏</li><li class="rounded-pill px-1" data-v-1b5a3a37>我的</li></ul>',1),za={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3"},Wa=e.defineComponent({__name:"slider-panle",setup(t){const{globalEditConfig:n}=ee(),o=e.ref(10),r=e.ref(0),s=e.ref([0,2]),a=e.ref(0),l=e.ref([-10,10]),i=e.ref(0),c=e.computed(()=>en(o.value)),u=e.computed(()=>en(r.value)),p=e.reactive(n.speed()),m=e.reactive(n.pitch());return(h,g)=>(e.openBlock(),e.createElementBlock("div",Sa,[e.createElementVNode("div",ka,[e.createElementVNode("div",$a,[e.createElementVNode("img",{src:e.unref(n).demoAvatar(),class:"rounded-circle",style:{height:"50px"}},null,8,Ta),e.createElementVNode("div",va,[Oa,e.createElementVNode("div",Ra,[e.createVNode(e.unref(N.ElIcon),{class:"fs-6"},{default:e.withCtx(()=>[e.createVNode(e.unref(me.Star))]),_:1}),Da])])]),e.createElementVNode("div",Ia,[Aa,e.createElementVNode("div",Ba,[e.createElementVNode("span",null,e.toDisplayString(u.value),1),Pa,e.createElementVNode("span",null,e.toDisplayString(c.value),1)]),e.createVNode(e.unref(N.ElSlider),{max:o.value,modelValue:r.value,"onUpdate:modelValue":g[0]||(g[0]=f=>r.value=f),size:"small"},null,8,["max","modelValue"])])]),Ma,e.createElementVNode("ul",La,[e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)])]),Ha,e.createElementVNode("div",ja,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语速："+e.toDisplayString(a.value)+"x",1)]),e.createVNode(e.unref(N.ElSlider),{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=f=>a.value=f),min:s.value[0],max:s.value[1],step:.05,marks:p},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",Fa,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语调："+e.toDisplayString(i.value),1)]),e.createVNode(e.unref(N.ElSlider),{modelValue:i.value,"onUpdate:modelValue":g[2]||(g[2]=f=>i.value=f),min:l.value[0],max:l.value[1],step:.2,marks:m},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",null,[Ua,e.createElementVNode("ul",za,[e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)]),e.createElementVNode("li",null,[e.createVNode(H)])])])]))}}),tc="",Ga=U(Wa,[["__scopeId","data-v-1b5a3a37"]]),Xa=t=>(e.pushScopeId("data-v-9db29a03"),t=t(),e.popScopeId(),t),Ya={class:"box ms-2"},qa={class:"try-play-header text-center d-flex flex-row justify-content-between"},Ja={class:"try-play-body d-flex flex-row"},Qa={class:"try-play-left w-50 border-right border-secondary"},Ka={class:"pe-1"},Za={class:"type-list d-flex flex-row border-bottom border-secondary"},el=Xa(()=>e.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),tl={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},nl=e.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const o=t,r=e.ref(),s=e.ref(""),a=e.ref(),l=e.ref();e.onMounted(()=>{window.addEventListener("keydown",i)}),e.onUnmounted(()=>{window.addEventListener("keydown",i)}),e.watch(()=>o.visible,h=>{h&&setTimeout(()=>{m()},200)});function i(h){h.code==="Escape"&&o.visible&&p()}const{position:c}=et(l,{initialValue:{x:100,y:100}}),{style:u}=nt(a,c);function p(){n("update:visible",!1)}function m(){var h;(h=r.value)==null||h.focus()}return(h,g)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:a,style:e.normalizeStyle([e.unref(u),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[e.createElementVNode("div",Ya,[e.createElementVNode("div",qa,[e.createElementVNode("div",{ref_key:"handleRef",ref:l,class:"col-11 try-play-move"},null,512),e.createElementVNode("div",{onClick:p,class:"col-1 try-play-menu-close"},[e.createVNode(e.unref(N.ElIcon),{color:"white"},{default:e.withCtx(()=>[e.createVNode(e.unref(me.Minus))]),_:1})])]),e.createElementVNode("div",Ja,[e.createElementVNode("div",Qa,[e.createElementVNode("div",Ka,[e.createVNode(e.unref(N.ElForm),{onSubmit:g[1]||(g[1]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{"input-style":{},ref_key:"searchInputRef",ref:r,modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=f=>s.value=f),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1})]),e.createElementVNode("div",Za,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("热榜")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("SVIP")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("付费")]),_:1})]),e.createVNode(Ca),el,e.createVNode(wa)]),e.createElementVNode("div",tl,[e.createVNode(Ga)])])])],4)),[[e.vShow,h.visible]])}}),nc="",ol=U(nl,[["__scopeId","data-v-9db29a03"]]),Sn=e.defineComponent({__name:"try-play",setup(t){const n=e.ref(!0);function o(r){r||(n.value=!0)}return(r,s)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(pa,{visible:n.value,"onUpdate:visible":s[0]||(s[0]=a=>n.value=a)},null,8,["visible"]),e.createVNode(ol,{visible:!n.value,"onUpdate:visible":o},null,8,["visible"])]))}}),oc="",rl={install:t=>{t.component("PinyinMenu",un),t.component("ContinuousMenu",pn),t.component("ReadMenu",mn),t.component("DigitalMenu",hn),t.component("AliasMenu",yn),t.component("EnglishMenu",gn),t.component("ChangespeedMenu",_n),t.component("RhythmMenu",bn),t.component("SpecialMenu",wn),t.component("MuteMenu",xn),t.component("BgmMenu",En),t.component("SensitiveMenu",Vn),t.component("ManagementMenu",Nn),t.component("ConversionMenu",Cn),t.component("TryPlay",Sn)}},rc="",sc="";var ot={exports:{}},rt={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ParsingError=void 0;class o extends Error{constructor($,T){super($),this.cause=T}}n.ParsingError=o;let r;function s(){return c(!1)||h()||m()||p()}function a(){return d(/\s*/),c(!0)||m()||u()||i(!1)}function l(){const S=i(!0),$=[];let T,x=a();for(;x;){if(x.node.type==="Element"){if(T)throw new Error("Found multiple root nodes");T=x.node}x.excluded||$.push(x.node),x=a()}if(!T)throw new o("Failed to parse XML","Root Element not found");if(r.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:S?S.node:null,root:T,children:$}}function i(S){const $=d(S?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!$)return;const T={name:$[1],type:"ProcessingInstruction",attributes:{}};for(;!(w()||k("?>"));){const x=g();if(x)T.attributes[x.name]=x.value;else return}return d(/\?>/),{excluded:S?!1:r.options.filter(T)===!1,node:T}}function c(S){const $=d(/^<([^?!</>\s]+)\s*/);if(!$)return;const T={type:"Element",name:$[1],attributes:{},children:[]},x=S?!1:r.options.filter(T)===!1;for(;!(w()||k(">")||k("?>")||k("/>"));){const D=g();if(D)T.attributes[D.name]=D.value;else return}if(d(/^\s*\/>/))return T.children=null,{excluded:x,node:T};d(/\??>/);let b=s();for(;b;)b.excluded||T.children.push(b.node),b=s();if(r.options.strictMode){const D=`</${T.name}>`;if(r.xml.startsWith(D))r.xml=r.xml.slice(D.length);else throw new o("Failed to parse XML",`Closing tag not matching "${D}"`)}else d(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:x,node:T}}function u(){const S=d(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||d(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||d(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||d(/^<!DOCTYPE\s+\S+\s*>/);if(S){const $={type:"DocumentType",content:S[0]};return{excluded:r.options.filter($)===!1,node:$}}}function p(){if(r.xml.startsWith("<![CDATA[")){const S=r.xml.indexOf("]]>");if(S>-1){const $=S+3,T={type:"CDATA",content:r.xml.substring(0,$)};return r.xml=r.xml.slice($),{excluded:r.options.filter(T)===!1,node:T}}}}function m(){const S=d(/^<!--[\s\S]*?-->/);if(S){const $={type:"Comment",content:S[0]};return{excluded:r.options.filter($)===!1,node:$}}}function h(){const S=d(/^([^<]+)/);if(S){const $={type:"Text",content:S[1]};return{excluded:r.options.filter($)===!1,node:$}}}function g(){const S=d(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(S)return{name:S[1].trim(),value:f(S[2].trim())}}function f(S){return S.replace(/^['"]|['"]$/g,"")}function d(S){const $=r.xml.match(S);if($)return r.xml=r.xml.slice($[0].length),$}function w(){return r.xml.length===0}function k(S){return r.xml.indexOf(S)===0}function R(S,$={}){S=S.trim();const T=$.filter||(()=>!0);return r={xml:S,options:Object.assign(Object.assign({},$),{filter:T,strictMode:$.strictMode===!0})},l()}t.exports=R,n.default=R})(rt,rt.exports);var sl=rt.exports;(function(t,n){var o=ce&&ce.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});const r=o(sl);function s(f){if(!f.options.indentation&&!f.options.lineSeparator)return;f.content+=f.options.lineSeparator;let d;for(d=0;d<f.level;d++)f.content+=f.options.indentation}function a(f){f.content=f.content.replace(/ +$/,"");let d;for(d=0;d<f.level;d++)f.content+=f.options.indentation}function l(f,d){f.content+=d}function i(f,d,w){if(typeof f.content=="string")c(f.content,d,w);else if(f.type==="Element")p(f,d,w);else if(f.type==="ProcessingInstruction")h(f,d);else throw new Error("Unknown node type: "+f.type)}function c(f,d,w){if(!w){const k=f.trim();(d.options.lineSeparator||k.length===0)&&(f=k)}f.length>0&&(!w&&d.content.length>0&&s(d),l(d,f))}function u(f,d){const w="/"+f.join("/"),k=f[f.length-1];return d.includes(k)||d.includes(w)}function p(f,d,w){if(d.path.push(f.name),!w&&d.content.length>0&&s(d),l(d,"<"+f.name),m(d,f.attributes),f.children===null||d.options.forceSelfClosingEmptyTag&&f.children.length===0){const k=d.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";l(d,k)}else if(f.children.length===0)l(d,"></"+f.name+">");else{const k=f.children;l(d,">"),d.level++;let R=f.attributes["xml:space"]==="preserve",S=!1;if(!R&&d.options.ignoredPaths&&(S=u(d.path,d.options.ignoredPaths),R=S),!R&&d.options.collapseContent){let $=!1,T=!1,x=!1;k.forEach(function(b,D){b.type==="Text"?(b.content.includes(`
`)?(T=!0,b.content=b.content.trim()):(D===0||D===k.length-1)&&b.content.trim().length===0&&(b.content=""),b.content.trim().length>0&&($=!0)):b.type==="CDATA"?$=!0:x=!0}),$&&(!x||!T)&&(R=!0)}k.forEach(function($){i($,d,w||R)}),d.level--,!w&&!R&&s(d),S&&a(d),l(d,"</"+f.name+">")}d.path.pop()}function m(f,d){Object.keys(d).forEach(function(w){const k=d[w].replace(/"/g,"&quot;");l(f," "+w+'="'+k+'"')})}function h(f,d){d.content.length>0&&s(d),l(d,"<?"+f.name),m(d,f.attributes),l(d,"?>")}function g(f,d={}){d.indentation="indentation"in d?d.indentation:"    ",d.collapseContent=d.collapseContent===!0,d.lineSeparator="lineSeparator"in d?d.lineSeparator:`\r
`,d.whiteSpaceAtEndOfSelfclosingTag=d.whiteSpaceAtEndOfSelfclosingTag===!0,d.throwOnFailure=d.throwOnFailure!==!1;try{const w=(0,r.default)(f,{filter:d.filter,strictMode:d.strictMode}),k={content:"",level:0,options:d,path:[]};return w.declaration&&h(w.declaration,k),w.children.forEach(function(R){i(R,k,!1)}),d.lineSeparator?k.content.replace(/\r\n/g,`
`).replace(/\n/g,d.lineSeparator):k.content}catch(w){if(d.throwOnFailure)throw w;return f}}g.minify=(f,d={})=>g(f,Object.assign(Object.assign({},d),{indentation:"",lineSeparator:""})),t.exports=g,n.default=g})(ot,ot.exports);var al=ot.exports;const ll=Tt(al),pe=t=>(e.pushScopeId("data-v-27607a6d"),t=t(),e.popScopeId(),t),il={class:"editor-title d-flex flex-row align-item-center justify-content-between"},cl={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},dl=pe(()=>e.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),fl={class:"author d-flex flex-row align-items-center justify-content-start"},ul=pe(()=>e.createElementVNode("div",null,"未保存",-1)),pl=pe(()=>e.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),ml=pe(()=>e.createElementVNode("div",{class:"d-inline-block"},null,-1)),hl={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},yl=pe(()=>e.createElementVNode("div",{class:"menu-divider"},null,-1)),gl=pe(()=>e.createElementVNode("div",{class:"px-1"},null,-1)),_l={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},bl={class:"dialog-footer"},wl=e.defineComponent({__name:"editor-title",setup(t){const n=e.ref(!1),o=e.ref(""),{rootBackgroundaudio:r}=Qe(),s=e.computed(()=>ll(o.value,{indentation:"    ",filter:u=>u.type!=="Comment",collapseContent:!1,lineSeparator:`
`})),a=()=>{o.value=ir(),n.value=!0},l=()=>{r.src&&Re.play(r.src)},i=()=>{Re.stop(r.src),r.src="",r.remark=""};async function c(){await navigator.clipboard.writeText(s.value),n.value=!1}return(u,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",il,[e.createElementVNode("div",cl,[dl,e.createElementVNode("div",fl,[ul,e.unref(r).src?(e.openBlock(),e.createBlock(e.unref(N.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:l,onClose:i},{default:e.withCtx(()=>[pl,ml,e.createElementVNode("span",null,e.toDisplayString(e.unref(r).remark),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",hl,[e.createVNode(e.unref(N.ElButton),{type:"primary",icon:e.unref(me.Share),disabled:""},{default:e.withCtx(()=>[e.createTextVNode("分享")]),_:1},8,["icon"]),yl,e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:a},{default:e.withCtx(()=>[e.createTextVNode("查看SSML")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载音频")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载视频")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载字幕")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("声音转换")]),_:1}),gl])]),e.createVNode(e.unref(N.ElDialog),{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=m=>n.value=m),title:"查看SSML",width:"80%"},{header:e.withCtx(()=>[e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:c},{default:e.withCtx(()=>[e.createTextVNode("复制+关闭")]),_:1})]),footer:e.withCtx(()=>[e.createElementVNode("span",bl,[e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:c},{default:e.withCtx(()=>[e.createTextVNode("复制+关闭")]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("pre",_l,e.toDisplayString(s.value),1)]),_:1},8,["modelValue"])],64))}}),ac="",xl=U(wl,[["__scopeId","data-v-27607a6d"]]),El=e.defineComponent({__name:"editor-core",emits:["created","change"],setup(t,{emit:n}){const{editor:o,setEditor:r,globalEditConfig:s}=ee(),a=e.ref(null);e.onMounted(()=>{l()}),e.onUnmounted(()=>{o==null||o.destroy()});function l(){if(!a.value)return;const i=y.createEditor({selector:a.value,mode:"simple",config:{...e.toRaw(s.editorConfig),onCreated(u){n("created",u),u.focus(!0)},onChange(u){n("change",u)}}});r(i),window.editor=i;const c=i.getConfig();c.hoverbarKeys=void 0,i.on(M.ERROR,s.handleError)}return(i,c)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:a,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),Vl={class:"bar-view border-bottom border-1"},Nl=e.defineComponent({__name:"bar-view",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Vl,[e.createVNode(e.unref(fn),null,{default:e.withCtx(()=>[e.createVNode(e.unref(fe),{divider:"green"},{default:e.withCtx(()=>[e.createVNode(e.unref(F),{text:"24K高清音质",icon:"play",disabled:""})]),_:1}),e.createVNode(e.unref(fe),{divider:"cyan"},{default:e.withCtx(()=>[e.createVNode(e.unref(un)),e.createVNode(e.unref(mn)),e.createVNode(e.unref(hn)),e.createVNode(e.unref(pn)),e.createVNode(e.unref(yn)),e.createVNode(e.unref(gn))]),_:1}),e.createVNode(e.unref(fe),{divider:"orange"},{default:e.withCtx(()=>[e.createVNode(e.unref(_n)),e.createVNode(e.unref(Nn)),e.createVNode(e.unref(Cn))]),_:1}),e.createVNode(e.unref(fe),{divider:"purple"},{default:e.withCtx(()=>[e.createVNode(e.unref(bn)),e.createVNode(e.unref(xn))]),_:1}),e.createVNode(e.unref(fe),{divider:"yellow"},{default:e.withCtx(()=>[e.createVNode(e.unref(wn)),e.createVNode(e.unref(En))]),_:1})]),_:1})]),e.createVNode(e.unref(Sn))],64))}}),Cl={class:"editor-view"},Sl={class:"editor-box"},kl={class:"editor-core-container shadow pt-1"},$l=e.defineComponent({__name:"editor-view",emits:["onCreated","onChange"],setup(t,{emit:n}){const o=s=>{n("onCreated",s)},r=s=>{n("onChange",s)};return(s,a)=>(e.openBlock(),e.createElementBlock("div",Cl,[e.createVNode(xl),e.createElementVNode("div",Sl,[e.createVNode(Nl),e.createElementVNode("div",kl,[e.createVNode(El,{onChange:r,onCreated:o})])])]))}}),lc="",Tl=U($l,[["__scopeId","data-v-15ef0dbd"]]),vl={install(t){t.component("EditorView",Tl)}},Ol={install(t,n){t.use(Qn()),t.use(()=>{const{setGlobalEditConfig:o}=ee();o(Ue(n))}),t.use(cr),t.use(as),t.use(rl),t.use(vl)}};B.WANGEDITOR_EVENT=M,B.createGlobalEditorConfig=Ue,B.default=Ol,Object.defineProperties(B,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
