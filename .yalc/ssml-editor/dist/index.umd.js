(function(D,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue"),require("@wangeditor/editor"),require("element-plus"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor","element-plus","@element-plus/icons-vue"],t):(D=typeof globalThis<"u"?globalThis:D||self,t(D.SSMLEditor={},D.Vue,D.wangEditor,D.ElementPlus,D.ElementPlusIconsVue))})(this,function(D,t,y,T,de){"use strict";var $c=Object.defineProperty;var Rc=(D,t,y)=>t in D?$c(D,t,{enumerable:!0,configurable:!0,writable:!0,value:y}):D[t]=y;var A=(D,t,y)=>(Rc(D,typeof t!="symbol"?t+"":t,y),y);const Tc="",Dc="";var Bt=!1;function De(e,n,o){return Array.isArray(e)?(e.length=Math.max(e.length,n),e.splice(n,1,o),o):(e[n]=o,o)}function Je(e,n){if(Array.isArray(e)){e.splice(n,1);return}delete e[n]}function So(){return It().__VUE_DEVTOOLS_GLOBAL_HOOK__}function It(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Co=typeof Proxy=="function",No="devtools-plugin:setup",Vo="plugin:settings:set";let ye,Qe;function $o(){var e;return ye!==void 0||(typeof window<"u"&&window.performance?(ye=!0,Qe=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(ye=!0,Qe=global.perf_hooks.performance):ye=!1),ye}function Ro(){return $o()?Qe.now():Date.now()}class To{constructor(n,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=o;const r={};if(n.settings)for(const l in n.settings){const i=n.settings[l];r[l]=i.defaultValue}const a=`__vue-devtools-plugin-settings__${n.id}`;let s=Object.assign({},r);try{const l=localStorage.getItem(a),i=JSON.parse(l);Object.assign(s,i)}catch{}this.fallbacks={getSettings(){return s},setSettings(l){try{localStorage.setItem(a,JSON.stringify(l))}catch{}s=l},now(){return Ro()}},o&&o.on(Vo,(l,i)=>{l===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(l,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(l,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(d=>{this.targetQueue.push({method:i,args:c,resolve:d})})})}async setRealTarget(n){this.target=n;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function Lt(e,n){const o=e,r=It(),a=So(),s=Co&&o.enableEarlyProxy;if(a&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))a.emit(No,e,n);else{const l=s?new To(o,a):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:n,proxy:l}),l&&n(l.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ne;const Ve=e=>Ne=e,Mt=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function ue(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var oe;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(oe||(oe={}));const Oe=typeof window<"u",$e=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&Oe,Pt=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function Do(e,{autoBom:n=!1}={}){return n&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function Ze(e,n,o){const r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ht(r.response,n,o)},r.onerror=function(){console.error("could not download file")},r.send()}function At(e){const n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Be(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(o)}}const Ie=typeof navigator=="object"?navigator:{userAgent:""},Ft=(()=>/Macintosh/.test(Ie.userAgent)&&/AppleWebKit/.test(Ie.userAgent)&&!/Safari/.test(Ie.userAgent))(),Ht=Oe?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Ft?Oo:"msSaveOrOpenBlob"in Ie?Bo:Io:()=>{};function Oo(e,n="download",o){const r=document.createElement("a");r.download=n,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?At(r.href)?Ze(e,n,o):(r.target="_blank",Be(r)):Be(r)):(r.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Be(r)},0))}function Bo(e,n="download",o){if(typeof e=="string")if(At(e))Ze(e,n,o);else{const r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Be(r)})}else navigator.msSaveOrOpenBlob(Do(e,o),n)}function Io(e,n,o,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Ze(e,n,o);const a=e.type==="application/octet-stream",s=/constructor/i.test(String(Pt.HTMLElement))||"safari"in Pt,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s||Ft)&&typeof FileReader<"u"){const i=new FileReader;i.onloadend=function(){let c=i.result;if(typeof c!="string")throw r=null,new Error("Wrong reader.result type");c=l?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location.assign(c),r=null},i.readAsDataURL(e)}else{const i=URL.createObjectURL(e);r?r.location.assign(i):location.href=i,r=null,setTimeout(function(){URL.revokeObjectURL(i)},4e4)}}function H(e,n){const o="🍍 "+e;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,n):n==="error"?console.error(o):n==="warn"?console.warn(o):console.log(o)}function et(e){return"_a"in e&&"install"in e}function jt(){if(!("clipboard"in navigator))return H("Your browser doesn't support the Clipboard API","error"),!0}function Ut(e){return e instanceof Error&&e.message.toLowerCase().includes("document is not focused")?(H('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function Lo(e){if(!jt())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),H("Global state copied to clipboard.")}catch(n){if(Ut(n))return;H("Failed to serialize the state. Check the console for more details.","error"),console.error(n)}}async function Mo(e){if(!jt())try{zt(e,JSON.parse(await navigator.clipboard.readText())),H("Global state pasted from clipboard.")}catch(n){if(Ut(n))return;H("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(n)}}async function Po(e){try{Ht(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(n){H("Failed to export the state as JSON. Check the console for more details.","error"),console.error(n)}}let ae;function Ao(){ae||(ae=document.createElement("input"),ae.type="file",ae.accept=".json");function e(){return new Promise((n,o)=>{ae.onchange=async()=>{const r=ae.files;if(!r)return n(null);const a=r.item(0);return n(a?{text:await a.text(),file:a}:null)},ae.oncancel=()=>n(null),ae.onerror=o,ae.click()})}return e}async function Fo(e){try{const o=await Ao()();if(!o)return;const{text:r,file:a}=o;zt(e,JSON.parse(r)),H(`Global state imported from "${a.name}".`)}catch(n){H("Failed to import the state from JSON. Check the console for more details.","error"),console.error(n)}}function zt(e,n){for(const o in n){const r=e.state.value[o];r&&Object.assign(r,n[o])}}function ee(e){return{_custom:{display:e}}}const Wt="🍍 Pinia (root)",tt="_root";function Ho(e){return et(e)?{id:tt,label:Wt}:{id:e.$id,label:e.$id}}function jo(e){if(et(e)){const o=Array.from(e._s.keys()),r=e._s;return{state:o.map(s=>({editable:!0,key:s,value:e.state.value[s]})),getters:o.filter(s=>r.get(s)._getters).map(s=>{const l=r.get(s);return{editable:!1,key:s,value:l._getters.reduce((i,c)=>(i[c]=l[c],i),{})}})}}const n={state:Object.keys(e.$state).map(o=>({editable:!0,key:o,value:e.$state[o]}))};return e._getters&&e._getters.length&&(n.getters=e._getters.map(o=>({editable:!1,key:o,value:e[o]}))),e._customProperties.size&&(n.customProperties=Array.from(e._customProperties).map(o=>({editable:!0,key:o,value:e[o]}))),n}function Uo(e){return e?Array.isArray(e)?e.reduce((n,o)=>(n.keys.push(o.key),n.operations.push(o.type),n.oldValue[o.key]=o.oldValue,n.newValue[o.key]=o.newValue,n),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:ee(e.type),key:ee(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function zo(e){switch(e){case oe.direct:return"mutation";case oe.patchFunction:return"$patch";case oe.patchObject:return"$patch";default:return"unknown"}}let ge=!0;const Le=[],fe="pinia:mutations",z="pinia",{assign:Wo}=Object,Me=e=>"🍍 "+e;function Go(e,n){Lt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Le,app:e},o=>{typeof o.now!="function"&&H("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:fe,label:"Pinia 🍍",color:15064968}),o.addInspector({id:z,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{Lo(n)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Mo(n),o.sendInspectorTree(z),o.sendInspectorState(z)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Po(n)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Fo(n),o.sendInspectorTree(z),o.sendInspectorState(z)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const a=n._s.get(r);a?typeof a.$reset!="function"?H(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(a.$reset(),H(`Store "${r}" reset.`)):H(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((r,a)=>{const s=r.componentInstance&&r.componentInstance.proxy;if(s&&s._pStores){const l=r.componentInstance.proxy._pStores;Object.values(l).forEach(i=>{r.instanceData.state.push({type:Me(i.$id),key:"state",editable:!0,value:i._isOptionsAPI?{_custom:{value:t.toRaw(i.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>i.$reset()}]}}:Object.keys(i.$state).reduce((c,d)=>(c[d]=i.$state[d],c),{})}),i._getters&&i._getters.length&&r.instanceData.state.push({type:Me(i.$id),key:"getters",editable:!1,value:i._getters.reduce((c,d)=>{try{c[d]=i[d]}catch(p){c[d]=p}return c},{})})})}}),o.on.getInspectorTree(r=>{if(r.app===e&&r.inspectorId===z){let a=[n];a=a.concat(Array.from(n._s.values())),r.rootNodes=(r.filter?a.filter(s=>"$id"in s?s.$id.toLowerCase().includes(r.filter.toLowerCase()):Wt.toLowerCase().includes(r.filter.toLowerCase())):a).map(Ho)}}),o.on.getInspectorState(r=>{if(r.app===e&&r.inspectorId===z){const a=r.nodeId===tt?n:n._s.get(r.nodeId);if(!a)return;a&&(r.state=jo(a))}}),o.on.editInspectorState((r,a)=>{if(r.app===e&&r.inspectorId===z){const s=r.nodeId===tt?n:n._s.get(r.nodeId);if(!s)return H(`store "${r.nodeId}" not found`,"error");const{path:l}=r;et(s)?l.unshift("state"):(l.length!==1||!s._customProperties.has(l[0])||l[0]in s.$state)&&l.unshift("$state"),ge=!1,r.set(s,l,r.state.value),ge=!0}}),o.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const a=r.type.replace(/^🍍\s*/,""),s=n._s.get(a);if(!s)return H(`store "${a}" not found`,"error");const{path:l}=r;if(l[0]!=="state")return H(`Invalid path for store "${a}":
${l}
Only state can be modified.`);l[0]="$state",ge=!1,r.set(s,l,r.state.value),ge=!0}})})}function qo(e,n){Le.includes(Me(n.$id))||Le.push(Me(n.$id)),Lt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Le,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const r=typeof o.now=="function"?o.now.bind(o):Date.now;n.$onAction(({after:l,onError:i,name:c,args:d})=>{const p=Gt++;o.addTimelineEvent({layerId:fe,event:{time:r(),title:"🛫 "+c,subtitle:"start",data:{store:ee(n.$id),action:ee(c),args:d},groupId:p}}),l(h=>{le=void 0,o.addTimelineEvent({layerId:fe,event:{time:r(),title:"🛬 "+c,subtitle:"end",data:{store:ee(n.$id),action:ee(c),args:d,result:h},groupId:p}})}),i(h=>{le=void 0,o.addTimelineEvent({layerId:fe,event:{time:r(),logType:"error",title:"💥 "+c,subtitle:"end",data:{store:ee(n.$id),action:ee(c),args:d,error:h},groupId:p}})})},!0),n._customProperties.forEach(l=>{t.watch(()=>t.unref(n[l]),(i,c)=>{o.notifyComponentUpdate(),o.sendInspectorState(z),ge&&o.addTimelineEvent({layerId:fe,event:{time:r(),title:"Change",subtitle:l,data:{newValue:i,oldValue:c},groupId:le}})},{deep:!0})}),n.$subscribe(({events:l,type:i},c)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(z),!ge)return;const d={time:r(),title:zo(i),data:Wo({store:ee(n.$id)},Uo(l)),groupId:le};i===oe.patchFunction?d.subtitle="⤵️":i===oe.patchObject?d.subtitle="🧩":l&&!Array.isArray(l)&&(d.subtitle=l.type),l&&(d.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:l}}),o.addTimelineEvent({layerId:fe,event:d})},{detached:!0,flush:"sync"});const a=n._hotUpdate;n._hotUpdate=t.markRaw(l=>{a(l),o.addTimelineEvent({layerId:fe,event:{time:r(),title:"🔥 "+n.$id,subtitle:"HMR update",data:{store:ee(n.$id),info:ee("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(z),o.sendInspectorState(z)});const{$dispose:s}=n;n.$dispose=()=>{s(),o.notifyComponentUpdate(),o.sendInspectorTree(z),o.sendInspectorState(z),o.getSettings().logStoreChanges&&H(`Disposed "${n.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(z),o.sendInspectorState(z),o.getSettings().logStoreChanges&&H(`"${n.$id}" store installed 🆕`)})}let Gt=0,le;function qt(e,n,o){const r=n.reduce((a,s)=>(a[s]=t.toRaw(e)[s],a),{});for(const a in r)e[a]=function(){const s=Gt,l=o?new Proxy(e,{get(...c){return le=s,Reflect.get(...c)},set(...c){return le=s,Reflect.set(...c)}}):e;le=s;const i=r[a].apply(l,arguments);return le=void 0,i}}function Yo({app:e,store:n,options:o}){if(n.$id.startsWith("__hot:"))return;n._isOptionsAPI=!!o.state,qt(n,Object.keys(o.actions),n._isOptionsAPI);const r=n._hotUpdate;t.toRaw(n)._hotUpdate=function(a){r.apply(this,arguments),qt(n,Object.keys(a._hmrPayload.actions),!!n._isOptionsAPI)},qo(e,n)}function Ko(){const e=t.effectScope(!0),n=e.run(()=>t.ref({}));let o=[],r=[];const a=t.markRaw({install(s){Ve(a),a._a=s,s.provide(Mt,a),s.config.globalProperties.$pinia=a,$e&&Go(s,a),r.forEach(l=>o.push(l)),r=[]},use(s){return!this._a&&!Bt?r.push(s):o.push(s),this},_p:o,_a:null,_e:e,_s:new Map,state:n});return $e&&typeof Proxy<"u"&&a.use(Yo),a}function Yt(e,n){for(const o in n){const r=n[o];if(!(o in e))continue;const a=e[o];ue(a)&&ue(r)&&!t.isRef(r)&&!t.isReactive(r)?e[o]=Yt(a,r):e[o]=r}return e}const Kt=()=>{};function Xt(e,n,o,r=Kt){e.push(n);const a=()=>{const s=e.indexOf(n);s>-1&&(e.splice(s,1),r())};return!o&&t.getCurrentScope()&&t.onScopeDispose(a),a}function be(e,...n){e.slice().forEach(o=>{o(...n)})}const Xo=e=>e();function nt(e,n){e instanceof Map&&n instanceof Map&&n.forEach((o,r)=>e.set(r,o)),e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const o in n){if(!n.hasOwnProperty(o))continue;const r=n[o],a=e[o];ue(a)&&ue(r)&&e.hasOwnProperty(o)&&!t.isRef(r)&&!t.isReactive(r)?e[o]=nt(a,r):e[o]=r}return e}const Jo=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function Qo(e){return!ue(e)||!e.hasOwnProperty(Jo)}const{assign:X}=Object;function Jt(e){return!!(t.isRef(e)&&e.effect)}function Qt(e,n,o,r){const{state:a,actions:s,getters:l}=n,i=o.state.value[e];let c;function d(){!i&&(process.env.NODE_ENV==="production"||!r)&&(o.state.value[e]=a?a():{});const p=process.env.NODE_ENV!=="production"&&r?t.toRefs(t.ref(a?a():{}).value):t.toRefs(o.state.value[e]);return X(p,s,Object.keys(l||{}).reduce((h,m)=>(process.env.NODE_ENV!=="production"&&m in p&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${m}" in store "${e}".`),h[m]=t.markRaw(t.computed(()=>{Ve(o);const g=o._s.get(e);return l[m].call(g,g)})),h),{}))}return c=ot(e,d,n,o,r,!0),c}function ot(e,n,o={},r,a,s){let l;const i=X({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const c={deep:!0};process.env.NODE_ENV!=="production"&&!Bt&&(c.onTrigger=C=>{d?g=C:d==!1&&!_._hotUpdating&&(Array.isArray(g)?g.push(C):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let d,p,h=[],m=[],g;const f=r.state.value[e];!s&&!f&&(process.env.NODE_ENV==="production"||!a)&&(r.state.value[e]={});const u=t.ref({});let w;function v(C){let N;d=p=!1,process.env.NODE_ENV!=="production"&&(g=[]),typeof C=="function"?(C(r.state.value[e]),N={type:oe.patchFunction,storeId:e,events:g}):(nt(r.state.value[e],C),N={type:oe.patchObject,payload:C,storeId:e,events:g});const S=w=Symbol();t.nextTick().then(()=>{w===S&&(d=!0)}),p=!0,be(h,N,r.state.value[e])}const E=s?function(){const{state:N}=o,S=N?N():{};this.$patch(R=>{X(R,S)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)}:Kt;function b(){l.stop(),h=[],m=[],r._s.delete(e)}function x(C,N){return function(){Ve(r);const S=Array.from(arguments),R=[],O=[];function se(U){R.push(U)}function ce(U){O.push(U)}be(m,{args:S,name:C,store:_,after:se,onError:ce});let re;try{re=N.apply(this&&this.$id===e?this:_,S)}catch(U){throw be(O,U),U}return re instanceof Promise?re.then(U=>(be(R,U),U)).catch(U=>(be(O,U),Promise.reject(U))):(be(R,re),re)}}const $=t.markRaw({actions:{},getters:{},state:[],hotState:u}),V={_p:r,$id:e,$onAction:Xt.bind(null,m),$patch:v,$reset:E,$subscribe(C,N={}){const S=Xt(h,C,N.detached,()=>R()),R=l.run(()=>t.watch(()=>r.state.value[e],O=>{(N.flush==="sync"?p:d)&&C({storeId:e,type:oe.direct,events:g},O)},X({},c,N)));return S},$dispose:b},_=t.reactive(process.env.NODE_ENV!=="production"||$e?X({_hmrPayload:$,_customProperties:t.markRaw(new Set)},V):V);r._s.set(e,_);const B=r._a&&r._a.runWithContext||Xo,P=r._e.run(()=>(l=t.effectScope(),B(()=>l.run(n))));for(const C in P){const N=P[C];if(t.isRef(N)&&!Jt(N)||t.isReactive(N))process.env.NODE_ENV!=="production"&&a?De(u.value,C,t.toRef(P,C)):s||(f&&Qo(N)&&(t.isRef(N)?N.value=f[C]:nt(N,f[C])),r.state.value[e][C]=N),process.env.NODE_ENV!=="production"&&$.state.push(C);else if(typeof N=="function"){const S=process.env.NODE_ENV!=="production"&&a?N:x(C,N);P[C]=S,process.env.NODE_ENV!=="production"&&($.actions[C]=N),i.actions[C]=N}else process.env.NODE_ENV!=="production"&&Jt(N)&&($.getters[C]=s?o.getters[C]:N,Oe&&(P._getters||(P._getters=t.markRaw([]))).push(C))}if(X(_,P),X(t.toRaw(_),P),Object.defineProperty(_,"$state",{get:()=>process.env.NODE_ENV!=="production"&&a?u.value:r.state.value[e],set:C=>{if(process.env.NODE_ENV!=="production"&&a)throw new Error("cannot set hotState");v(N=>{X(N,C)})}}),process.env.NODE_ENV!=="production"&&(_._hotUpdate=t.markRaw(C=>{_._hotUpdating=!0,C._hmrPayload.state.forEach(N=>{if(N in _.$state){const S=C.$state[N],R=_.$state[N];typeof S=="object"&&ue(S)&&ue(R)?Yt(S,R):C.$state[N]=R}De(_,N,t.toRef(C.$state,N))}),Object.keys(_.$state).forEach(N=>{N in C.$state||Je(_,N)}),d=!1,p=!1,r.state.value[e]=t.toRef(C._hmrPayload,"hotState"),p=!0,t.nextTick().then(()=>{d=!0});for(const N in C._hmrPayload.actions){const S=C[N];De(_,N,x(N,S))}for(const N in C._hmrPayload.getters){const S=C._hmrPayload.getters[N],R=s?t.computed(()=>(Ve(r),S.call(_,_))):S;De(_,N,R)}Object.keys(_._hmrPayload.getters).forEach(N=>{N in C._hmrPayload.getters||Je(_,N)}),Object.keys(_._hmrPayload.actions).forEach(N=>{N in C._hmrPayload.actions||Je(_,N)}),_._hmrPayload=C._hmrPayload,_._getters=C._getters,_._hotUpdating=!1})),$e){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(N=>{Object.defineProperty(_,N,X({value:_[N]},C))})}return r._p.forEach(C=>{if($e){const N=l.run(()=>C({store:_,app:r._a,pinia:r,options:i}));Object.keys(N||{}).forEach(S=>_._customProperties.add(S)),X(_,N)}else X(_,l.run(()=>C({store:_,app:r._a,pinia:r,options:i})))}),process.env.NODE_ENV!=="production"&&_.$state&&typeof _.$state=="object"&&typeof _.$state.constructor=="function"&&!_.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${_.$id}".`),f&&s&&o.hydrate&&o.hydrate(_.$state,f),d=!0,p=!0,_}function Pe(e,n,o){let r,a;const s=typeof n=="function";if(typeof e=="string")r=e,a=s?o:n;else if(a=e,r=e.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function l(i,c){const d=t.hasInjectionContext();if(i=(process.env.NODE_ENV==="test"&&Ne&&Ne._testing?null:i)||(d?t.inject(Mt,null):null),i&&Ve(i),process.env.NODE_ENV!=="production"&&!Ne)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);i=Ne,i._s.has(r)||(s?ot(r,n,a,i):Qt(r,a,i),process.env.NODE_ENV!=="production"&&(l._pinia=i));const p=i._s.get(r);if(process.env.NODE_ENV!=="production"&&c){const h="__hot:"+r,m=s?ot(h,n,a,i,!0):Qt(h,X({},a),i,!0);c._hotUpdate(m),delete i.state.value[h],i._s.delete(h)}if(process.env.NODE_ENV!=="production"&&Oe){const h=t.getCurrentInstance();if(h&&h.proxy&&!c){const m=h.proxy,g="_pStores"in m?m._pStores:m._pStores={};g[r]=p}}return p}return l.$id=r,l}function Zt(e){{e=t.toRaw(e);const n={};for(const o in e){const r=e[o];(t.isRef(r)||t.isReactive(r))&&(n[o]=t.toRef(e,o))}return n}}function rt(){return{id:"",src:""}}const Zo=()=>[{value:"0.5",label:"0.5x"},{value:"0.6",label:"0.6x"},{value:"0.7",label:"0.7x"},{value:"0.8",label:"0.8x"},{value:"0.9",label:"0.9x"},{value:"1.0",label:"1.0x"},{value:"1.1",label:"1.1x"},{value:"1.2",label:"1.2x"},{value:"1.4",label:"1.4x"},{value:"1.5",label:"1.5x"},{value:"1.75",label:"1.75x"},{value:"2.0",label:"2.0x"}],er=()=>[{value:"-10",label:"-10"},{value:"-9",label:"-9"},{value:"-8",label:"-8"},{value:"-7",label:"-7"},{value:"-6",label:"-6"},{value:"-5",label:"-5"},{value:"-4",label:"-4"},{value:"-3",label:"-3"},{value:"-2",label:"-2"},{value:"-1",label:"-1"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"}];function tr(e){return`${(.05*e*100).toFixed(0)}%`}function nr(e){return`${((e-1)*100).toFixed(0)}%`}function en(){return{category:"",name:"",role:"",style:"",speed:"1.0",pitch:"0"}}function or(){return{...en(),id:"",label:""}}function J(){return()=>Promise.resolve([])}function at(e){const n=(e==null?void 0:e.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(e==null?void 0:e.handleError)||(()=>{}),r=(e==null?void 0:e.pinyin)||{fetchData:J()},a=(e==null?void 0:e.english)||{fetchData:J()},s=(e==null?void 0:e.special)||{fetchData:J(),fetchScene:J(),fetchStyle:J()},l=(e==null?void 0:e.bgm)||{fetchData:J(),fetchScene:J(),fetchStyle:J()},i=(e==null?void 0:e.tryPlay)||{play:()=>Promise.resolve(rt()),fetchData:J(),featchTag:J(),fetchStar:()=>Promise.resolve(!0)},c=(e==null?void 0:e.conversion)||{timeoutMilliseconds:2e4,audioUpload:()=>Promise.resolve(rt()),transfer:()=>Promise.resolve(rt()),fetchSpeaker:J()},d=(e==null?void 0:e.management)||{recordRecentUsage:()=>Promise.resolve(or()),fetchRecentUsage:J(),deleteRecentUsage:()=>Promise.resolve()},p=s,h=l,m=i;return p.menus??(p.menus=[{label:"默认音效",value:""},{label:"自定义音效",value:"custom"},{label:"最近音效",value:"history"}]),h.menus??(h.menus=[{label:"默认配乐",value:""},{label:"自定义配乐",value:"custom"},{label:"最近配乐",value:"history"}]),m.gender??(m.gender=[{label:"全部",value:""},{label:"男声",value:"Male"},{label:"女声",value:"Female"}]),m.topFlag??(m.topFlag=[{label:"热榜",value:""},{label:"SVIP",value:"SVIP"},{label:"付费",value:"付费"}]),m.category??(m.category=[{label:"常用",value:"常用"},{label:"已购",value:"已购"},{label:"收藏",value:"收藏"},{label:"我的",value:"我的"}]),{editorConfig:n,handleError:o,pinyin:r,english:a,bgm:h,special:p,tryPlay:m,conversion:c,management:d}}const tn=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),nn=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),_e=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png",q=Pe("--editor-config",()=>{const e=t.shallowRef(),n=t.shallowRef(),o=t.computed(()=>e.value),r=t.computed(()=>{if(n.value)return n.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:r,setEditor:l=>{e.value=l},setGlobalEditConfig:l=>{n.value=l??at()}}}),rr=e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-audio"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-audio"?!y.SlateNode.string(a):o(a),r};function on(e,n,o,r,a){const s=n===void 0?void 0:n.key;return{sel:e,data:n,children:o,text:r,elm:a,key:s}}const rn=Array.isArray;function st(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}function an(e,n,o){if(e.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&n!==void 0)for(let r=0;r<n.length;++r){const a=n[r];if(typeof a=="string")continue;const s=a.data;s!==void 0&&an(s,a.children,a.sel)}}function k(e,n,o){let r={},a,s,l;if(o!==void 0?(n!==null&&(r=n),rn(o)?a=o:st(o)?s=o.toString():o&&o.sel&&(a=[o])):n!=null&&(rn(n)?a=n:st(n)?s=n.toString():n&&n.sel?a=[n]:r=n),a!==void 0)for(l=0;l<a.length;++l)st(a[l])&&(a[l]=on(void 0,void 0,void 0,a[l],void 0));return e[0]==="s"&&e[1]==="v"&&e[2]==="g"&&(e.length===3||e[3]==="."||e[3]==="#")&&an(r,a,e),on(e,r,a,s,void 0)}var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sn="Expected a function",ln=0/0,ar="[object Symbol]",sr=/^\s+|\s+$/g,lr=/^[-+]0x[0-9a-f]+$/i,ir=/^0b[01]+$/i,cr=/^0o[0-7]+$/i,dr=parseInt,ur=typeof we=="object"&&we&&we.Object===Object&&we,fr=typeof self=="object"&&self&&self.Object===Object&&self,pr=ur||fr||Function("return this")(),mr=Object.prototype,hr=mr.toString,yr=Math.max,gr=Math.min,it=function(){return pr.Date.now()};function br(e,n,o){var r,a,s,l,i,c,d=0,p=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(sn);n=cn(n)||0,Ae(o)&&(p=!!o.leading,h="maxWait"in o,s=h?yr(cn(o.maxWait)||0,n):s,m="trailing"in o?!!o.trailing:m);function g(V){var _=r,B=a;return r=a=void 0,d=V,l=e.apply(B,_),l}function f(V){return d=V,i=setTimeout(v,n),p?g(V):l}function u(V){var _=V-c,B=V-d,P=n-_;return h?gr(P,s-B):P}function w(V){var _=V-c,B=V-d;return c===void 0||_>=n||_<0||h&&B>=s}function v(){var V=it();if(w(V))return E(V);i=setTimeout(v,u(V))}function E(V){return i=void 0,m&&r?g(V):(r=a=void 0,l)}function b(){i!==void 0&&clearTimeout(i),d=0,r=c=a=i=void 0}function x(){return i===void 0?l:E(it())}function $(){var V=it(),_=w(V);if(r=arguments,a=this,c=V,_){if(i===void 0)return f(c);if(h)return i=setTimeout(v,n),g(c)}return i===void 0&&(i=setTimeout(v,n)),l}return $.cancel=b,$.flush=x,$}function _r(e,n,o){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(sn);return Ae(o)&&(r="leading"in o?!!o.leading:r,a="trailing"in o?!!o.trailing:a),br(e,n,{leading:r,maxWait:n,trailing:a})}function Ae(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function wr(e){return!!e&&typeof e=="object"}function Er(e){return typeof e=="symbol"||wr(e)&&hr.call(e)==ar}function cn(e){if(typeof e=="number")return e;if(Er(e))return ln;if(Ae(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ae(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(sr,"");var o=ir.test(e);return o||cr.test(e)?dr(e.slice(2),o?2:8):lr.test(e)?ln:+e}var kr=_r;const W=lt(kr);function dn(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function ct(e,n){e===void 0&&(e={}),n===void 0&&(n={}),Object.keys(n).forEach(function(o){typeof e[o]>"u"?e[o]=n[o]:dn(n[o])&&dn(e[o])&&Object.keys(n[o]).length>0&&ct(e[o],n[o])})}var un={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function dt(){var e=typeof document<"u"?document:{};return ct(e,un),e}var vr={document:un,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){typeof setTimeout>"u"||clearTimeout(e)}};function fn(){var e=typeof window<"u"?window:{};return ct(e,vr),e}function xr(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},ut(e)}function Fe(e,n){return Fe=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Fe(e,n)}function Sr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function He(e,n,o){return Sr()?He=Reflect.construct:He=function(a,s,l){var i=[null];i.push.apply(i,s);var c=Function.bind.apply(a,i),d=new c;return l&&Fe(d,l.prototype),d},He.apply(null,arguments)}function Cr(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ft(e){var n=typeof Map=="function"?new Map:void 0;return ft=function(r){if(r===null||!Cr(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(r))return n.get(r);n.set(r,a)}function a(){return He(r,arguments,ut(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),Fe(a,r)},ft(e)}function Nr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){var n=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return n},set:function(r){n.__proto__=r}})}var pe=function(e){xr(n,e);function n(o){var r;return r=e.call.apply(e,[this].concat(o))||this,Vr(Nr(r)),r}return n}(ft(Array));function pt(e){e===void 0&&(e=[]);var n=[];return e.forEach(function(o){Array.isArray(o)?n.push.apply(n,pt(o)):n.push(o)}),n}function $r(e){for(var n=[],o=0;o<e.length;o+=1)n.indexOf(e[o])===-1&&n.push(e[o]);return n}function Rr(e){return e.toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()})}function Tr(e,n){if(typeof e!="string")return[e];for(var o=[],r=n.querySelectorAll(e),a=0;a<r.length;a+=1)o.push(r[a]);return o}function L(e,n){var o=fn(),r=dt(),a=[];if(!n&&e instanceof pe)return e;if(!e)return new pe(a);if(typeof e=="string"){var s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var l="div";s.indexOf("<li")===0&&(l="ul"),s.indexOf("<tr")===0&&(l="tbody"),(s.indexOf("<td")===0||s.indexOf("<th")===0)&&(l="tr"),s.indexOf("<tbody")===0&&(l="table"),s.indexOf("<option")===0&&(l="select");var i=r.createElement(l);i.innerHTML=s;for(var c=0;c<i.childNodes.length;c+=1)a.push(i.childNodes[c])}else a=Tr(e.trim(),n||r)}else if(e.nodeType||e===o||e===r)a.push(e);else if(Array.isArray(e)){if(e instanceof pe)return e;a=e}return new pe($r(a))}L.fn=pe.prototype;function pn(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=pt(n.map(function(a){return a.split(" ")}));return this.forEach(function(a){var s;(s=a.classList).add.apply(s,r)}),this}function mn(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=pt(n.map(function(a){return a.split(" ")}));return this.forEach(function(a){var s;(s=a.classList).remove.apply(s,r)}),this}function hn(e,n){if(arguments.length===1&&typeof e=="string")return this[0]?this[0].getAttribute(e):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(e,n);else for(var r in e)this[o][r]=e[r],this[o].setAttribute(r,e[r]);return this}function yn(){var e=this[0];if(e){var n={};if(e.dataset)for(var o in e.dataset)n[o]=e.dataset[o];else for(var r=0;r<e.attributes.length;r+=1){var a=e.attributes[r];a.name.indexOf("data-")>=0&&(n[Rr(a.name.split("data-")[1])]=a.value)}for(var s in n)n[s]==="false"?n[s]=!1:n[s]==="true"?n[s]=!0:parseFloat(n[s])===n[s]*1&&(n[s]*=1);return n}}function gn(e){if(typeof e>"u"){var n=this[0];if(!n)return;if(n.multiple&&n.nodeName.toLowerCase()==="select"){for(var o=[],r=0;r<n.selectedOptions.length;r+=1)o.push(n.selectedOptions[r].value);return o}return n.value}for(var a=0;a<this.length;a+=1){var s=this[a];if(Array.isArray(e)&&s.multiple&&s.nodeName.toLowerCase()==="select")for(var l=0;l<s.options.length;l+=1)s.options[l].selected=e.indexOf(s.options[l].value)>=0;else s.value=e}return this}function bn(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=n[0],a=n[1],s=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],s=n[1],l=n[2],a=void 0),l||(l=!1);function i(u){var w=u.target;if(w){var v=u.target.dom7EventData||[];if(v.indexOf(u)<0&&v.unshift(u),L(w).is(a))s.apply(w,v);else for(var E=L(w).parents(),b=0;b<E.length;b+=1)L(E[b]).is(a)&&s.apply(E[b],v)}}function c(u){var w=u&&u.target?u.target.dom7EventData||[]:[];w.indexOf(u)<0&&w.unshift(u),s.apply(this,w)}for(var d=r.split(" "),p,h=0;h<this.length;h+=1){var m=this[h];if(a)for(p=0;p<d.length;p+=1){var f=d[p];m.dom7LiveListeners||(m.dom7LiveListeners={}),m.dom7LiveListeners[f]||(m.dom7LiveListeners[f]=[]),m.dom7LiveListeners[f].push({listener:s,proxyListener:i}),m.addEventListener(f,i,l)}else for(p=0;p<d.length;p+=1){var g=d[p];m.dom7Listeners||(m.dom7Listeners={}),m.dom7Listeners[g]||(m.dom7Listeners[g]=[]),m.dom7Listeners[g].push({listener:s,proxyListener:c}),m.addEventListener(g,c,l)}}return this}function _n(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var r=n[0],a=n[1],s=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],s=n[1],l=n[2],a=void 0),l||(l=!1);for(var i=r.split(" "),c=0;c<i.length;c+=1)for(var d=i[c],p=0;p<this.length;p+=1){var h=this[p],m=void 0;if(!a&&h.dom7Listeners?m=h.dom7Listeners[d]:a&&h.dom7LiveListeners&&(m=h.dom7LiveListeners[d]),m&&m.length)for(var g=m.length-1;g>=0;g-=1){var f=m[g];s&&f.listener===s||s&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===s?(h.removeEventListener(d,f.proxyListener,l),m.splice(g,1)):s||(h.removeEventListener(d,f.proxyListener,l),m.splice(g,1))}}return this}function wn(){for(var e=0;e<this.length;e+=1)this[e].style.display="none";return this}function En(e){return e?(this.forEach(function(n,o){e.apply(n,[n,o])}),this):this}function kn(e){if(typeof e>"u")return this[0]?this[0].innerHTML:null;for(var n=0;n<this.length;n+=1)this[n].innerHTML=e;return this}function vn(e){var n=fn(),o=dt(),r=this[0],a,s;if(!r||typeof e>"u")return!1;if(typeof e=="string"){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(a=L(e),s=0;s<a.length;s+=1)if(a[s]===r)return!0;return!1}if(e===o)return r===o;if(e===n)return r===n;if(e.nodeType||e instanceof pe){for(a=e.nodeType?[e]:e,s=0;s<a.length;s+=1)if(a[s]===r)return!0;return!1}return!1}function xn(){for(var e,n=dt(),o=0;o<arguments.length;o+=1){e=o<0||arguments.length<=o?void 0:arguments[o];for(var r=0;r<this.length;r+=1)if(typeof e=="string"){var a=n.createElement("div");for(a.innerHTML=e;a.firstChild;)this[r].appendChild(a.firstChild)}else if(e instanceof pe)for(var s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this}function Sn(e){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].parentNode;r;)e?L(r).is(e)&&n.push(r):n.push(r),r=r.parentNode;return L(n)}function Cn(e){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].querySelectorAll(e),a=0;a<r.length;a+=1)n.push(r[a]);return L(n)}function Nn(e){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].children,a=0;a<r.length;a+=1)(!e||L(r[a]).is(e))&&n.push(r[a]);return L(n)}var Dr="resize scroll".split(" ");function Vn(e){function n(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];if(typeof r[0]>"u"){for(var s=0;s<this.length;s+=1)Dr.indexOf(e)<0&&(e in this[s]?this[s][e]():L(this[s]).trigger(e));return this}return this.on.apply(this,[e].concat(r))}return n}var $n=Vn("click"),Rn=Vn("focus");wn&&(L.fn.hide=wn),xn&&(L.fn.append=xn),$n&&(L.fn.click=$n),bn&&(L.fn.on=bn),_n&&(L.fn.off=_n),Rn&&(L.fn.focus=Rn),hn&&(L.fn.attr=hn),gn&&(L.fn.val=gn),kn&&(L.fn.html=kn),yn&&(L.fn.dataset=yn),pn&&(L.fn.addClass=pn),mn&&(L.fn.removeClass=mn),Nn&&(L.fn.children=Nn),En&&(L.fn.each=En),Cn&&(L.fn.find=Cn),vn&&(L.fn.is=vn),Sn&&(L.fn.parents=Sn);const Or=globalThis.Node,Br=globalThis.Comment,Ir=globalThis.Element,Lr=globalThis.Text,Mr=globalThis.Range,Pr=globalThis.Selection,Ar=globalThis.StaticRange;let Fr=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,o)=>(o&=63,o<36?n+=o.toString(36):o<62?n+=(o-26).toString(36).toUpperCase():o>62?n+="-":n+="_",n),"");function Hr(e="r"){return`${e}-${Fr()}`}let Tn=class{constructor(){A(this,"audio");A(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(n){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=n,this.src=n,document.body.appendChild(this.audio),this.audio.play()}stop(n){n&&n!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}};const me=new Tn;function mt(e){const n=Math.floor(e/60),o=e%60,r=String(n).padStart(2,"0"),a=String(o).padStart(2,"0");return`${r}:${a}`}class Dn{constructor(n){A(this,"accept");A(this,"dom");A(this,"isdestroy",!1);A(this,"resolve");A(this,"reject");this.accept=n,this.dom=null,this.resolve=null,this.reject=null}createInputElement(){const n=document.createElement("input");return n.type="file",n.accept=this.accept,n.hidden=!0,n}change(n){var o,r;if(this.dom&&this.dom.files&&this.dom.files.length>0){const a=this.dom.files.item(0);if(a){(o=this.resolve)==null||o.call(this,a),this.dom.value="";return}this.dom.value=""}return(r=this.reject)==null?void 0:r.call(this,n)}cancel(n){var o;return this.dom&&(this.dom.value=""),(o=this.reject)==null?void 0:o.call(this,n)}open(){if(this.isdestroy)throw Error("对象已经销毁");this.dom||(this.dom=this.createInputElement(),this.dom.addEventListener("change",this.change.bind(this)),this.dom.addEventListener("cancel",this.cancel.bind(this)),document.body.appendChild(this.dom)),this.dom.click();const n=this;return new Promise((o,r)=>{n.resolve=o,n.reject=r})}destroy(){this.isdestroy||(this.dom&&document.body.removeChild(this.dom),this.dom=null,this.isdestroy=!0)}}class ht{constructor(n){A(this,"cancelled",!1);A(this,"timeoutId",null);this.timeoutMilliseconds=n}get token(){return{isCancellationRequested:()=>this.cancelled,throwIfRequested:()=>{if(this.cancelled)throw new Error("Operation canceled")}}}cancel(){this.cancelled=!0,this.clearTimeout()}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}startTimeout(){this.timeoutId=setTimeout(()=>{this.cancel()},this.timeoutMilliseconds)}}class On{constructor(n=60){A(this,"isStop",!1);A(this,"count",t.ref(0));A(this,"timeoutId",null);this.timeoutSeconds=n}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get state(){return t.computed(()=>this.count.value)}start(n){n&&(this.timeoutSeconds=n),this.isStop=!1,this.count.value=0,this.clearTimeout(),this.timeoutId=setInterval(()=>{!this.isStop&&this.count.value<this.timeoutSeconds?this.count.value++:this.clearTimeout()},1e3)}stop(){this.isStop=!0,this.clearTimeout()}}function jr(e){const{selection:n}=e;if(n){const[o,r]=y.SlateRange.edges(n),a=y.SlateEditor.range(e,o,r),s=y.SlateEditor.string(e,a),l=s.trimEnd();if(l!==s){const i=s.length-l.length,c={...r,offset:r.offset-i},d={...n,anchor:o,focus:c};y.SlateTransforms.select(e,d)}}}function Bn(e,n){y.SlateEditor.withoutNormalizing(e,()=>{const o=y.SlateEditor.start(e,n),r=y.SlateEditor.end(e,n);y.SlateTransforms.insertText(e," ",{at:o}),y.SlateTransforms.insertText(e," ",{at:{path:r.path,offset:r.offset+1}}),y.SlateTransforms.select(e,{anchor:{path:o.path,offset:o.offset+1},focus:{path:r.path,offset:r.offset+1}})})}function Ee(e,n){y.SlateEditor.withoutNormalizing(e,()=>{const o=y.SlateEditor.before(e,n),r=y.SlateEditor.after(e,n);if(!o||!r)return;const a={anchor:{path:o.path,offset:o.offset-1},focus:{path:o.path,offset:o.offset}},s={anchor:{path:r.path,offset:r.offset},focus:{path:r.path,offset:r.offset+1}};y.SlateEditor.string(e,a)===" "&&y.SlateTransforms.delete(e,{at:a}),y.SlateEditor.string(e,s)===" "&&y.SlateTransforms.delete(e,{at:s})})}const Ur={type:"ssml-audio",renderElem:(e,n,o)=>n?zr(e,n,o):Wr(e,o)};function zr(e,n,o){const{remark:r,src:a}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(s=>{s.preventDefault(),me.stop(a);const l=y.DomEditor.findPath(o,e);Ee(o,l),y.SlateTransforms.unwrapNodes(o,{at:l})})}}),k("span.iconfont.icon-play",{on:{click:W(s=>{s.preventDefault(),me.play(a)})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-audio)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-audio)"}})])}function Wr(e,n){const{remark:o,src:r}=e;return k("span.ssml-wrapper",{props:{contentEditable:!1}},[k("span.remark",{style:{backgroundColor:"var(--ssml-audio)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault(),me.stop(r);const s=y.DomEditor.findPath(n,e);y.SlateTransforms.delete(n,{at:s})})}}),k("span.iconfont.icon-play",{on:{click:W(a=>{a.preventDefault(),me.play(r)})}}),k("span.data-content",{attrs:{"data-content":o}})]),k("span.iconfont.icon-music",{style:{color:"var(--ssml-audio)"}})])}const Gr={editorPlugin:rr,renderElems:[Ur],elemsToHtml:[{type:"ssml-audio",elemToHtml:(e,n)=>{const{remark:o,src:r}=e;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${r}"
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-src")||"",r=e.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:r,children:n}}}]},qr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-break"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-break"?!0:o(a),r},renderElems:[{type:"ssml-break",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",{props:{contentEditable:!1}},[k("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);y.SlateTransforms.delete(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.iconfont.icon-tingdun",{style:{color:"var(--ssml-break)"}})])}}],elemsToHtml:[{type:"ssml-break",elemToHtml:e=>{const{remark:n,time:o,strength:r}=e;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${n}"
          data-ow-time="${o??""}"
          data-ow-strength="${r??"medium"}"
        ></span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:e=>{const n=e.getAttribute("data-ow-remark")||"",o=e.getAttribute("data-ow-time")||"",r=e.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:n,time:o,strength:r,children:[{text:""}]}}}]},Yr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-emphasis"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-emphasis"?!1:o(a),r},renderElems:[{type:"ssml-emphasis",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-emphasis)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-emphasis)"}})])}}],elemsToHtml:[{type:"ssml-emphasis",elemToHtml:(e,n)=>{const{remark:o,level:r}=e;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${r??"none"}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:r,children:n}}}]},Kr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-mstts:express-as"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-mstts:express-as"?!1:o(a),r},renderElems:[{type:"ssml-mstts:express-as",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-mstts--express-as)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-mstts--express-as)"}})])}}],elemsToHtml:[{type:"ssml-mstts:express-as",elemToHtml:(e,n)=>{const{remark:o,style:r,role:a,styledegree:s}=e;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${r}"
          data-ow-styledegree="${s??""}"
          data-ow-role="${a??""}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-style")||"",a=e.getAttribute("data-ow-styledegree")||"",s=e.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:r,remark:o,styledegree:a,role:s,children:n}}}]},Xr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-p"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-p"?!1:o(a),r},renderElems:[{type:"ssml-p",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-p)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-p)"}})])}}],elemsToHtml:[{type:"ssml-p",elemToHtml:(e,n)=>{const{remark:o}=e;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(e,n)=>({type:"ssml-p",remark:e.getAttribute("data-ow-remark")||"",children:n})}]},Jr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-phoneme"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-phoneme"?!1:o(a),r},renderElems:[{type:"ssml-phoneme",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);Ee(o,s),y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-phoneme)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-phoneme)"}})])}}],elemsToHtml:[{type:"ssml-phoneme",elemToHtml:(e,n)=>{const{remark:o,alphabet:r,ph:a}=e;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${r??""}"
          data-ow-ph="${a}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-alphabet")||"",a=e.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:r,ph:a,children:n}}}]},Qr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-prosody"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-prosody"?!1:o(a),r},renderElems:[{type:"ssml-prosody",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);Ee(o,s),y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-prosody)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-prosody)"}})])}}],elemsToHtml:[{type:"ssml-prosody",elemToHtml:(e,n)=>{const{remark:o,contour:r,pitch:a,range:s,rate:l,volume:i}=e;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${r??""}"
          data-ow-pitch="${a??""}"
          data-ow-range="${s??""}"
          data-ow-rate="${l??""}"
          data-ow-volume="${i??""}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-contour")||"",a=e.getAttribute("data-ow-pitch ")||"",s=e.getAttribute("data-ow-range")||"",l=e.getAttribute("data-ow-rate")||void 0,i=e.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:r,pitch:a,range:s,rate:l,volume:i,children:n}}}]},Zr={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-s"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-s"?!1:o(a),r},renderElems:[{type:"ssml-s",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-s)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-s)"}})])}}],elemsToHtml:[{type:"ssml-s",elemToHtml:(e,n)=>{const{remark:o}=e;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(e,n)=>({type:"ssml-s",remark:e.getAttribute("data-ow-remark")||"",children:n})}]},ea={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-say-as"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-say-as"?!1:o(a),r},renderElems:[{type:"ssml-say-as",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);Ee(o,s),y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-say-as)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-say-as)"}})])}}],elemsToHtml:[{type:"ssml-say-as",elemToHtml:(e,n)=>{const{remark:o,interpretAs:r,detail:a,format:s}=e;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${r}"
          data-ow-detail="${a??""}"
          data-ow-format="${s??""}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-interpretAs")||"",a=e.getAttribute("data-ow-format")||"",s=e.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:r,detail:s,format:a,children:n}}}]},ta={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-sub"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-sub"?!1:o(a),r},renderElems:[{type:"ssml-sub",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);Ee(o,s),y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-sub)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-sub)"}})])}}],elemsToHtml:[{type:"ssml-sub",elemToHtml:(e,n)=>{const{remark:o,alias:r}=e;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${r}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:r,children:n}}}]},na={editorPlugin:e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-voice"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-voice"?!1:o(a),r},renderElems:[{type:"ssml-voice",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-voice)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-voice)"}})])}}],elemsToHtml:[{type:"ssml-voice",elemToHtml:(e,n)=>{const{remark:o,name:r,effect:a}=e;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${r}"
          data-ow-effect="${a??""}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-name")||"",a=e.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:r,effect:a,children:n}}}]},oa=e=>{const{isInline:n,isVoid:o}=e,r=e;return r.isInline=a=>y.DomEditor.getNodeType(a)==="custom-management"?!0:n(a),r.isVoid=a=>y.DomEditor.getNodeType(a)==="custom-management"?!1:o(a),r},M={ERROR:"wangeditor-error",SSML_ELEMENT_CLICK:"ssml-element-click"},j={ERROR:"emitter-error",VIEW_CLICK:"emitter-view-click",VIEW_KEYDOWN:"emitter-view-keydown",EDITOR_CREATED:"emitter-editor-created"},ra={editorPlugin:oa,renderElems:[{type:"custom-management",renderElem:(e,n,o)=>{const{remark:r}=e;return k("span.ssml-wrapper",[k("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--custom-management)"},on:{mousedown:a=>a.preventDefault(),click:W(a=>{a.preventDefault(),o.select(y.DomEditor.findPath(o,e)),o.emit(M.SSML_ELEMENT_CLICK,o,e)})}},[k("span.iconfont.icon-roundclosefill",{on:{click:W(a=>{a.preventDefault();const s=y.DomEditor.findPath(o,e);Ee(o,s),y.SlateTransforms.unwrapNodes(o,{at:s})})}}),k("span.data-content",{attrs:{"data-content":r}})]),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{{"},style:{color:"var(--custom-management)"}}),k("span",n),k("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}}"},style:{color:"var(--custom-management)"}})])}}],elemsToHtml:[{type:"custom-management",elemToHtml:(e,n)=>{const{remark:o,style:r,role:a,name:s,pitch:l,rate:i,custom:c}=e;return`<span
          data-w-e-type="custom-management"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${r}"
          data-ow-name="${s}"
          data-ow-role="${a}"
          data-ow-pitch="${l}"
          data-ow-rate="${i}"
          data-ow-custom="${JSON.stringify(c)}"
        >${n}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="custom-management"]',parseElemHtml:(e,n)=>{const o=e.getAttribute("data-ow-remark")||"",r=e.getAttribute("data-ow-name")||"",a=e.getAttribute("data-ow-role")||"",s=e.getAttribute("data-ow-style")||"",l=e.getAttribute("data-ow-pitch")||"",i=e.getAttribute("data-ow-rate")||"",c=e.getAttribute("data-ow-custom")||"{}";return{type:"custom-management",remark:o,name:r,role:a,style:s,pitch:l,rate:i,custom:JSON.parse(c),children:n}}}]},aa=e=>{const{deleteBackward:n,deleteForward:o,insertBreak:r,apply:a,normalizeNode:s,insertText:l,insertData:i,setFragmentData:c,insertNode:d}=e,p=e;p.deleteBackward=m=>{n(m)},p.deleteForward=m=>{o(m)},p.insertBreak=()=>{r()},p.normalizeNode=m=>{s(m)},p.apply=m=>{a(m)},p.insertData=m=>{if(m.types.includes("application/x-slate-fragment"))return i(m);{const g=new DataTransfer;return g.setData("text/plain",m.getData("text/plain").trim()),i(g)}},p.setFragmentData=m=>{c(m);const g=m.getData("text/plain").replaceAll(/[\s]/gi,"");m.setData("text/plain",g)},p.insertText=m=>{l(m)};const h=["ssml-prosody","ssml-sub","custom-management","ssml-phoneme","ssml-say-as"];return p.insertNode=m=>{const g=y.DomEditor.getNodeType(m);return h.includes(g)||g==="ssml-audio"&&y.SlateNode.string(m)?(e.selection&&Bn(e,e.selection),y.SlateTransforms.insertNodes(e,m)):y.SlateEditor.isVoid(e,m)?(d(m),e.move(1)):d(m)},p},Rd="",sa={install(){y.Boot.registerModule(Gr),y.Boot.registerModule(qr),y.Boot.registerModule(Yr),y.Boot.registerModule(Kr),y.Boot.registerModule(Xr),y.Boot.registerModule(Jr),y.Boot.registerModule(Qr),y.Boot.registerModule(Zr),y.Boot.registerModule(ea),y.Boot.registerModule(ta),y.Boot.registerModule(na),y.Boot.registerModule(ra),y.Boot.registerPlugin(aa)}},he=Pe("--editor-ssml",()=>{const e=t.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),n=t.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=t.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),r=t.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]}),a=t.shallowReactive({type:"ssml-prosody",remark:"",children:[]});return{rootSpeak:e,rootVoice:n,rootBackgroundaudio:o,rootExpressAs:r,rootProsody:a}});function la(){return{label:"",value:""}}function In(){return{id:"",category:"",avatar:"",isFree:!1,isStar:!1,isSupper24K:!1,roles:[],styles:[],name:"",displayName:""}}function je(){return{word:"",topFlag:"",category:"",gender:"",tag:""}}class Ln{constructor(){A(this,"audio");A(this,"isPlaying",t.ref(!1));A(this,"isLoading",t.ref(!1));A(this,"loadResolve");A(this,"loadReject");this.audio=new Audio,this.audio.addEventListener("canplaythrough",()=>{var n;this.isLoading.value=!1,(n=this.loadResolve)==null||n.call(this)}),this.audio.addEventListener("play",()=>{this.isPlaying.value=!0}),this.audio.addEventListener("pause",()=>{this.isPlaying.value=!1}),this.audio.addEventListener("error",()=>{var n;this.isLoading.value=!1,this.isPlaying.value=!1,(n=this.loadReject)==null||n.call(this)})}load(n){return this.pause(),this.isPlaying.value=!1,this.isLoading.value=!0,this.audio.src=n,this.audio.load(),new Promise((o,r)=>{this.loadResolve=o,this.loadReject=r})}play(){this.audio.play()}pause(){this.audio.pause()}togglePlayPause(){this.isPlaying.value?this.pause():this.play()}get playState(){return t.computed(()=>this.isPlaying.value?"playing":"paused")}get loadState(){return t.computed(()=>this.isLoading.value?"loading":"complete")}}const Ue=Pe("--editor-try-play",()=>{const e=he(),n=t.shallowRef(new Ln),o=t.ref(In()),r=t.computed(()=>o.value),a=t.computed(()=>n.value);return{speaker:r,setSpeaker:l=>{o.value=l,e.rootVoice.name=l.name},audioPlayer:a}}),Mn=Pe("--editor-management-menu",()=>({contentData:t.reactive(en())})),ia={class:"bar-button-icon"},ca={class:"fw-normal",style:{"font-size":"0.85rem"}},da=t.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const o=e,r=()=>{if(!o.disabled){const{editor:a}=q();a&&n("click",a)}};return(a,s)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["bar-button px-2 py-1",{disabled:a.disabled}]),onClick:r,onMousedown:s[0]||(s[0]=t.withModifiers(()=>{},["prevent"]))},[t.createElementVNode("div",ia,[t.createElementVNode("span",{class:t.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${a.icon}`]])},null,2)]),t.createElementVNode("div",ca,t.toDisplayString(a.text),1)],34))}}),Td="",K=(e,n)=>{const o=e.__vccOpts||e;for(const[r,a]of n)o[r]=a;return o},Y=K(da,[["__scopeId","data-v-2da9a7ca"]]),Dd="",Od="",Bd="",yt=t.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(e,{expose:n,emit:o}){const r=t.ref(""),a=t.ref();function s(){t.nextTick(()=>{a.value.input.focus()})}function l(){o("submit",r.value),r.value=""}return n({focus:s}),(i,c)=>(t.openBlock(),t.createBlock(t.unref(T.ElForm),{onSubmit:t.withModifiers(l,["prevent"])},{default:t.withCtx(()=>[t.createVNode(t.unref(T.ElInput),{type:i.type,ref_key:"inputRef",ref:a,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=d=>r.value=d)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}}),Id="",Ld="",ua=t.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(e){return(n,o)=>(t.openBlock(),t.createBlock(t.unref(T.ElPopover),{hideAfter:n.hideAfter,width:n.width,visible:n.visible,trigger:n.trigger,"onUpdate:visible":o[0]||(o[0]=r=>n.$emit("update:visible",r))},{reference:t.withCtx(()=>[t.renderSlot(n.$slots,"reference")]),default:t.withCtx(()=>[t.renderSlot(n.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}}),Md="",Pd="",Ad="",Fd="",Hd="",jd="",Ud="",zd="",Wd="";function ze(e){return t.getCurrentScope()?(t.onScopeDispose(e),!0):!1}function Q(e){return typeof e=="function"?e():t.unref(e)}const Pn=typeof window<"u"&&typeof document<"u",fa=e=>e!=null,pa=Object.prototype.toString,ma=e=>pa.call(e)==="[object Object]",We=()=>{};function ha(e,n={}){if(!t.isRef(e))return t.toRefs(e);const o=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const r in e.value)o[r]=t.customRef(()=>({get(){return e.value[r]},set(a){var s;if((s=Q(n.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const i=[...e.value];i[r]=a,e.value=i}else{const i={...e.value,[r]:a};Object.setPrototypeOf(i,Object.getPrototypeOf(e.value)),e.value=i}else e.value[r]=a}}));return o}function An(e,n=!0){t.getCurrentInstance()?t.onMounted(e):n?e():t.nextTick(e)}function te(e){var n;const o=Q(e);return(n=o==null?void 0:o.$el)!=null?n:o}const ie=Pn?window:void 0;function ke(...e){let n,o,r,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,r,a]=e,n=ie):[n,o,r,a]=e,!n)return We;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const s=[],l=()=>{s.forEach(p=>p()),s.length=0},i=(p,h,m,g)=>(p.addEventListener(h,m,g),()=>p.removeEventListener(h,m,g)),c=t.watch(()=>[te(n),Q(a)],([p,h])=>{if(l(),!p)return;const m=ma(h)?{...h}:h;s.push(...o.flatMap(g=>r.map(f=>i(p,g,f,m))))},{immediate:!0,flush:"post"}),d=()=>{c(),l()};return ze(d),d}function ya(){const e=t.ref(!1);return t.getCurrentInstance()&&t.onMounted(()=>{e.value=!0}),e}function gt(e){const n=ya();return t.computed(()=>(n.value,!!e()))}function ga(e,n={}){const{window:o=ie}=n,r=gt(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let a;const s=t.ref(!1),l=d=>{s.value=d.matches},i=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",l):a.removeListener(l))},c=t.watchEffect(()=>{r.value&&(i(),a=o.matchMedia(Q(e)),"addEventListener"in a?a.addEventListener("change",l):a.addListener(l),s.value=a.matches)});return ze(()=>{c(),i(),a=void 0}),s}function bt(e,n={}){var o,r;const{pointerTypes:a,preventDefault:s,stopPropagation:l,exact:i,onMove:c,onEnd:d,onStart:p,initialValue:h,axis:m="both",draggingElement:g=ie,containerElement:f,handle:u=e}=n,w=t.ref((o=Q(h))!=null?o:{x:0,y:0}),v=t.ref(),E=_=>a?a.includes(_.pointerType):!0,b=_=>{Q(s)&&_.preventDefault(),Q(l)&&_.stopPropagation()},x=_=>{var B;if(!E(_)||Q(i)&&_.target!==Q(e))return;const C=((B=Q(f))!=null?B:Q(e)).getBoundingClientRect(),N={x:_.clientX-C.left,y:_.clientY-C.top};(p==null?void 0:p(N,_))!==!1&&(v.value=N,b(_))},$=_=>{if(!E(_)||!v.value)return;let{x:B,y:P}=w.value;(m==="x"||m==="both")&&(B=_.clientX-v.value.x),(m==="y"||m==="both")&&(P=_.clientY-v.value.y),w.value={x:B,y:P},c==null||c(w.value,_),b(_)},V=_=>{E(_)&&v.value&&(v.value=void 0,d==null||d(w.value,_),b(_))};if(Pn){const _={capture:(r=n.capture)!=null?r:!0};ke(u,"pointerdown",x,_),ke(g,"pointermove",$,_),ke(g,"pointerup",V,_)}return{...ha(w),position:w,isDragging:t.computed(()=>!!v.value),style:t.computed(()=>`left:${w.value.x}px;top:${w.value.y}px;`)}}function Fn(e,n,o={}){const{window:r=ie,...a}=o;let s;const l=gt(()=>r&&"ResizeObserver"in r),i=()=>{s&&(s.disconnect(),s=void 0)},c=t.computed(()=>Array.isArray(e)?e.map(h=>te(h)):[te(e)]),d=t.watch(c,h=>{if(i(),l.value&&r){s=new ResizeObserver(n);for(const m of h)m&&s.observe(m,a)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{i(),d()};return ze(p),{isSupported:l,stop:p}}function Re(e,n={}){const{reset:o=!0,windowResize:r=!0,windowScroll:a=!0,immediate:s=!0}=n,l=t.ref(0),i=t.ref(0),c=t.ref(0),d=t.ref(0),p=t.ref(0),h=t.ref(0),m=t.ref(0),g=t.ref(0);function f(){const u=te(e);if(!u){o&&(l.value=0,i.value=0,c.value=0,d.value=0,p.value=0,h.value=0,m.value=0,g.value=0);return}const w=u.getBoundingClientRect();l.value=w.height,i.value=w.bottom,c.value=w.left,d.value=w.right,p.value=w.top,h.value=w.width,m.value=w.x,g.value=w.y}return Fn(e,f),t.watch(()=>te(e),u=>!u&&f()),a&&ke("scroll",f,{capture:!0,passive:!0}),r&&ke("resize",f,{passive:!0}),An(()=>{s&&f()}),{height:l,bottom:i,left:c,right:d,top:p,width:h,x:m,y:g,update:f}}function ba(e,n={width:0,height:0},o={}){const{window:r=ie,box:a="content-box"}=o,s=t.computed(()=>{var c,d;return(d=(c=te(e))==null?void 0:c.namespaceURI)==null?void 0:d.includes("svg")}),l=t.ref(n.width),i=t.ref(n.height);return Fn(e,([c])=>{const d=a==="border-box"?c.borderBoxSize:a==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(r&&s.value){const p=te(e);if(p){const h=r.getComputedStyle(p);l.value=Number.parseFloat(h.width),i.value=Number.parseFloat(h.height)}}else if(d){const p=Array.isArray(d)?d:[d];l.value=p.reduce((h,{inlineSize:m})=>h+m,0),i.value=p.reduce((h,{blockSize:m})=>h+m,0)}else l.value=c.contentRect.width,i.value=c.contentRect.height},o),t.watch(()=>te(e),c=>{l.value=c?n.width:0,i.value=c?n.height:0}),{width:l,height:i}}function _a(e,n,o={}){const{root:r,rootMargin:a="0px",threshold:s=.1,window:l=ie,immediate:i=!0}=o,c=gt(()=>l&&"IntersectionObserver"in l),d=t.computed(()=>{const f=Q(e);return(Array.isArray(f)?f:[f]).map(te).filter(fa)});let p=We;const h=t.ref(i),m=c.value?t.watch(()=>[d.value,te(r),h.value],([f,u])=>{if(p(),!h.value||!f.length)return;const w=new IntersectionObserver(n,{root:te(u),rootMargin:a,threshold:s});f.forEach(v=>v&&w.observe(v)),p=()=>{w.disconnect(),p=We}},{immediate:i,flush:"post"}):We,g=()=>{p(),m(),h.value=!1};return ze(g),{isSupported:c,isActive:h,pause(){p(),h.value=!1},resume(){h.value=!0},stop:g}}function Ge(e,{window:n=ie,scrollTarget:o}={}){const r=t.ref(!1);return _a(e,([{isIntersecting:a}])=>{r.value=a},{root:o,window:n,threshold:0}),r}function wa(e={}){const{window:n=ie,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:s=!0}=e,l=t.ref(o),i=t.ref(r),c=()=>{n&&(s?(l.value=n.innerWidth,i.value=n.innerHeight):(l.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(c(),An(c),ke("resize",c,{passive:!0}),a){const d=ga("(orientation: portrait)");t.watch(d,()=>c())}return{width:l,height:i}}const Ea={class:"search-content w-100"},ka={class:"ps-2 w-75"},va={class:"menu ps-2"},xa={class:"flex flex-row pt-1"},Sa={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},Ca=["onClick"],Na=t.createElementVNode("span",{class:"iconfont icon-play"},null,-1),Va={class:"ps-2"},_t=t.defineComponent({__name:"bar-search",props:{menus:{},fetchScene:{type:Function},fetchStyle:{type:Function},fetchData:{type:Function},sceneList:{},styleList:{},dataList:{}},emits:["submit"],setup(e,{emit:n}){const o=e,r=t.ref(),a=t.ref(""),s=t.ref(""),l=t.ref(""),i=t.ref(""),c=t.ref(o.dataList||[]),d=t.ref(o.sceneList||[]),p=t.ref(o.styleList||[]),h=Ge(r);t.watch(h,u=>{u&&t.nextTick(()=>{var w,v;(v=(w=r.value)==null?void 0:w.input)==null||v.focus()})}),t.onMounted(async()=>{c.value.length||await m(),d.value.length||(d.value=await o.fetchScene()),p.value.length||(p.value=await o.fetchStyle())});async function m(){c.value=await o.fetchData({word:a.value,menu:i.value,scene:s.value,style:l.value})}function g(u){i.value=u,m()}function f(u){n("submit",u)}return(u,w)=>(t.openBlock(),t.createElementBlock("div",Ea,[t.createElementVNode("div",ka,[t.createVNode(t.unref(T.ElForm),{onSubmit:t.withModifiers(m,["prevent"])},{default:t.withCtx(()=>[t.createVNode(t.unref(T.ElInput),{ref_key:"searchInputRef",ref:r,placeholder:"搜索",modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=v=>a.value=v),"suffix-icon":t.unref(de.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),t.createElementVNode("div",va,[t.createVNode(t.unref(T.ElMenu),{mode:"horizontal","default-active":u.menus.length>0?u.menus[0].value:"",onSelect:w[1]||(w[1]=v=>g(v))},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(u.menus,(v,E)=>(t.openBlock(),t.createBlock(t.unref(T.ElMenuItem),{index:v.value,key:E},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(v.label),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),t.createElementVNode("div",xa,[t.createVNode(t.unref(T.ElSelect),{modelValue:s.value,"onUpdate:modelValue":w[2]||(w[2]=v=>s.value=v),onChange:m,class:"m-1",size:"default"},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(d.value,v=>(t.openBlock(),t.createBlock(t.unref(T.ElOption),{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t.createVNode(t.unref(T.ElSelect),{modelValue:l.value,"onUpdate:modelValue":w[3]||(w[3]=v=>l.value=v),onChange:m,class:"m-1",size:"default"},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(p.value,v=>(t.openBlock(),t.createBlock(t.unref(T.ElOption),{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t.createElementVNode("ul",Sa,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(c.value,(v,E)=>(t.openBlock(),t.createElementBlock("li",{onClick:b=>f(t.toRaw(v)),class:"content-list-item clickable ps-2 py-2",key:E},[Na,t.createElementVNode("span",Va,t.toDisplayString(v.label),1)],8,Ca))),128))])]))}}),Gd="",$a={},Ra={class:"content"};function Ta(e,n){return t.openBlock(),t.createElementBlock("div",Ra,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Hn=K($a,[["render",Ta],["__scopeId","data-v-7beae5b9"]]),Da={},Oa={class:"bar-wrapper-item"};function Ba(e,n){return t.openBlock(),t.createElementBlock("div",Oa,[t.renderSlot(e.$slots,"default")])}const Ia=K(Da,[["render",Ba]]),La={class:"bar-wrapper-group"},Ma={class:"group-items"},Pa=t.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(e){return(n,o)=>(t.openBlock(),t.createElementBlock("div",La,[t.createElementVNode("div",Ma,[t.renderSlot(n.$slots,"default",{},void 0,!0)]),t.createElementVNode("div",{class:t.normalizeClass(["divider",[n.divider]])},null,2)]))}}),qd="",ve=K(Pa,[["__scopeId","data-v-be31f837"]]);function Aa(e,n){return`left:${e}px;top:${n}px`}function wt(e,n){const{width:o,height:r}=ba(e),{width:a,height:s}=wa(),l=t.computed(()=>({x:a.value-o.value,y:s.value-r.value}));return{style:t.computed(()=>{const c=n.value.x,d=n.value.y,p=c<5?5:c>l.value.x?l.value.x-5:c,h=d<5?5:d>l.value.y?l.value.y-5:d;return Aa(p,h)})}}var Et={exports:{}},jn={exports:{}},Fa=void 0,Un=function(e){return e!==Fa&&e!==null},Ha=Un,ja={object:!0,function:!0,undefined:!0},Ua=function(e){return Ha(e)?hasOwnProperty.call(ja,typeof e):!1},za=Ua,Wa=function(e){if(!za(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},Ga=Wa,qa=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!Ga(e)},Ya=qa,Ka=/^\s*class[\s{/}]/,Xa=Function.prototype.toString,Ja=function(e){return!(!Ya(e)||Ka.test(Xa.call(e)))},Qa=function(){var e=Object.assign,n;return typeof e!="function"?!1:(n={foo:"raz"},e(n,{bar:"dwa"},{trzy:"trzy"}),n.foo+n.bar+n.trzy==="razdwatrzy")},kt,zn;function Za(){return zn||(zn=1,kt=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),kt}var es=function(){},ts=es(),vt=function(e){return e!==ts&&e!==null},xt,Wn;function ns(){if(Wn)return xt;Wn=1;var e=vt,n=Object.keys;return xt=function(o){return n(e(o)?Object(o):o)},xt}var St,Gn;function os(){return Gn||(Gn=1,St=Za()()?Object.keys:ns()),St}var Ct,qn;function rs(){if(qn)return Ct;qn=1;var e=vt;return Ct=function(n){if(!e(n))throw new TypeError("Cannot use null or undefined");return n},Ct}var Nt,Yn;function as(){if(Yn)return Nt;Yn=1;var e=os(),n=rs(),o=Math.max;return Nt=function(r,a){var s,l,i=o(arguments.length,2),c;for(r=Object(n(r)),c=function(d){try{r[d]=a[d]}catch(p){s||(s=p)}},l=1;l<i;++l)a=arguments[l],e(a).forEach(c);if(s!==void 0)throw s;return r},Nt}var ss=Qa()?Object.assign:as(),ls=vt,is=Array.prototype.forEach,cs=Object.create,ds=function(e,n){var o;for(o in e)n[o]=e[o]},us=function(e){var n=cs(null);return is.call(arguments,function(o){ls(o)&&ds(Object(o),n)}),n},Vt="razdwatrzy",fs=function(){return typeof Vt.contains!="function"?!1:Vt.contains("dwa")===!0&&Vt.contains("foo")===!1},$t,Kn;function ps(){if(Kn)return $t;Kn=1;var e=String.prototype.indexOf;return $t=function(n){return e.call(this,n,arguments[1])>-1},$t}var ms=fs()?String.prototype.contains:ps(),qe=Un,Xn=Ja,Jn=ss,Qn=us,Te=ms,hs=jn.exports=function(e,n){var o,r,a,s,l;return arguments.length<2||typeof e!="string"?(s=n,n=e,e=null):s=arguments[2],qe(e)?(o=Te.call(e,"c"),r=Te.call(e,"e"),a=Te.call(e,"w")):(o=a=!0,r=!1),l={value:n,configurable:o,enumerable:r,writable:a},s?Jn(Qn(s),l):l};hs.gs=function(e,n,o){var r,a,s,l;return typeof e!="string"?(s=o,o=n,n=e,e=null):s=arguments[3],qe(n)?Xn(n)?qe(o)?Xn(o)||(s=o,o=void 0):o=void 0:(s=n,n=o=void 0):n=void 0,qe(e)?(r=Te.call(e,"c"),a=Te.call(e,"e")):(r=!0,a=!1),l={get:n,set:o,configurable:r,enumerable:a},s?Jn(Qn(s),l):l};var ys=jn.exports,gs=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e};(function(e,n){var o=ys,r=gs,a=Function.prototype.apply,s=Function.prototype.call,l=Object.create,i=Object.defineProperty,c=Object.defineProperties,d=Object.prototype.hasOwnProperty,p={configurable:!0,enumerable:!1,writable:!0},h,m,g,f,u,w,v;h=function(E,b){var x;return r(b),d.call(this,"__ee__")?x=this.__ee__:(x=p.value=l(null),i(this,"__ee__",p),p.value=null),x[E]?typeof x[E]=="object"?x[E].push(b):x[E]=[x[E],b]:x[E]=b,this},m=function(E,b){var x,$;return r(b),$=this,h.call(this,E,x=function(){g.call($,E,x),a.call(b,this,arguments)}),x.__eeOnceListener__=b,this},g=function(E,b){var x,$,V,_;if(r(b),!d.call(this,"__ee__"))return this;if(x=this.__ee__,!x[E])return this;if($=x[E],typeof $=="object")for(_=0;V=$[_];++_)(V===b||V.__eeOnceListener__===b)&&($.length===2?x[E]=$[_?0:1]:$.splice(_,1));else($===b||$.__eeOnceListener__===b)&&delete x[E];return this},f=function(E){var b,x,$,V,_;if(d.call(this,"__ee__")&&(V=this.__ee__[E],!!V))if(typeof V=="object"){for(x=arguments.length,_=new Array(x-1),b=1;b<x;++b)_[b-1]=arguments[b];for(V=V.slice(),b=0;$=V[b];++b)a.call($,this,_)}else switch(arguments.length){case 1:s.call(V,this);break;case 2:s.call(V,this,arguments[1]);break;case 3:s.call(V,this,arguments[1],arguments[2]);break;default:for(x=arguments.length,_=new Array(x-1),b=1;b<x;++b)_[b-1]=arguments[b];a.call(V,this,_)}},u={on:h,once:m,off:g,emit:f},w={on:o(h),once:o(m),off:o(g),emit:o(f)},v=c({},w),e.exports=n=function(E){return E==null?l(v):c(Object(E),w)},n.methods=u})(Et,Et.exports);var bs=Et.exports;const G=lt(bs)(),_s={class:"w-100 d-flex flex-row align-items-center"},xe=t.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(e,{expose:n,emit:o}){const r=e,a=t.ref(),s=t.ref(),l=t.ref(),{position:i}=bt(s,{initialValue:r.initialValue}),{style:c}=wt(a,i);function d(f){i.value=f}n({setPosition:d}),t.onMounted(()=>{G.on(j.VIEW_CLICK,p),document.addEventListener("keydown",g)}),t.onUnmounted(()=>{G.off(j.VIEW_CLICK,p),document.removeEventListener("keydown",g)});function p(f){h(f)&&m()}function h(f){const u=f.target;return!(!a.value||!l.value||l.value.contains(u)||a.value.contains(u))}function m(){o("update:visible",!1),o("close")}function g(f){f.code==="Escape"&&m()}return(f,u)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",{ref_key:"referenceRef",ref:l,onMousedown:u[0]||(u[0]=t.withModifiers(()=>{},["prevent"]))},[t.renderSlot(f.$slots,"reference")],544),(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.withDirectives(t.createElementVNode("div",{ref_key:"boxRef",ref:a,class:"demotestname card shadow brag-box user-select-none z-2",style:t.normalizeStyle([{position:"fixed"},t.unref(c)]),onMousedown:u[1]||(u[1]=t.withModifiers(()=>{},["prevent"]))},[t.createElementVNode("div",_s,[t.createElementVNode("div",{ref_key:"dragRef",ref:s,class:"w-100",style:{height:"40px",cursor:"move"}},null,512),t.createElementVNode("span",{onClick:m,class:"btn iconfont icon-close fs-5"})]),t.renderSlot(f.$slots,"default")],36),[[t.vShow,f.visible]])]))],64))}}),ws={install(e){e.component("BarButton",Y),e.component("BarInput",yt),e.component("BarPopover",ua),e.component("BarSearch",_t),e.component("BarWrapper",Hn),e.component("BarWrapperItem",Ia),e.component("BarWrapperGroup",ve),e.component("DragBox",xe)}};function Es(e){return e.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function ks(e,n){return n?`<audio src="${e.src}">${n}</audio>`:`<audio src="${e.src}"/>`}function vs(e){return e.time?`<break time="${e.time}"/>`:e.strength?`<break strength="${e.strength}"/>`:"<break/>"}function xs(e,n){return e.level?`<emphasis level="${e.level}">${n}</emphasis>`:`<emphasis>${n}</emphasis>`}function Ss(e,n){if(!e.style)return n;const o=e.role?` role="${e.role}"`:"",r=e.styledegree?` styledegree="${e.styledegree}"`:"";return`<mstts:express-as style="${e.style}"${o}${r}>${n}</mstts:express-as>`}function Cs(e){if(!e.src)return"";const n=e.volume?` volume="${e.volume}"`:"",o=e.fadein?` fadein="${e.fadein}"`:"",r=e.fadeout?` fadeout="${e.fadeout}"`:"";return`<mstts:backgroundaudio src="${e.src}"${n}${o}${r}/>`}function Ns(e){return!e.attrType||!e.value?"":`<mstts:silence type="${e.attrType}" value="${e.value}"/>`}function Vs(e,n){return`<p>${n}</p>`}function $s(e,n){const o=e.alphabet?`alphabet="${e.alphabet}"`:"";return`<phoneme ph="${e.ph}"${o}>${n}</phoneme>`}function Rs(e,n){if(!e.contour&&!e.pitch&&!e.range&&!e.rate&&!e.volume)return n;const o=e.contour?` contour="${e.contour}"`:"",r=e.pitch?` pitch="${e.pitch}"`:"",a=e.range?` range="${e.range}"`:"",s=e.volume?` volume="${e.volume}"`:"",l=e.rate?` rate="${e.rate}"`:"";return`<prosody${o}${r}${a}${s}${l}>${n}</prosody>`}function Ts(e,n){const o=e.interpretAs?` interpret-as="${e.interpretAs}"`:"",r=e.format?` format="${e.format}"`:"",a=e.detail?` detail="${e.detail}"`:"";return`<say-as${o}${r}${a}>${n}</say-as>`}function Ds(e,n){return`<s>${n}</s>`}function Os(e,n){return`<sub alias="${e.alias}">${n}</sub>`}function Bs(e,n){const o=e.effect?` effect="${e.effect}"`:"";return`<voice name="${e.name}${o}">${n}</voice>`}function Is(e,n){return`<speak version="${e.version}" xml:lang="${e.xmlLang}" xmlns="${e.xmlns}" xmlns:mstts="${e["xmlns:mstts"]}" xmlns:emo="${e["xmlns:emo"]}">${n}</speak>`}function Zn(e){if(y.SlateText.isText(e))return Es(e.text.trim());if(y.SlateElement.isElement(e)){const n=e.children.map(r=>Zn(r)).join("");switch(y.DomEditor.getNodeType(e)){case"paragraph":return`<p>${n}</p>`;case"ssml-speak":return Is(e,n);case"ssml-mstts:backgroundaudio":return Cs(e);case"ssml-audio":return ks(e,n);case"ssml-break":return vs(e);case"ssml-emphasis":return xs(e,n);case"ssml-mstts:express-as":return Ss(e,n);case"ssml-p":return Vs(e,n);case"ssml-phoneme":return $s(e,n);case"ssml-prosody":return Rs(e,n);case"ssml-s":return Ds(e,n);case"ssml-say-as":return Ts(e,n);case"ssml-sub":return Os(e,n);case"ssml-voice":return Bs(e,n);case"ssml-mstts:silence":return Ns(e);default:return n}}return""}function Ls(e,n){const o={type:"ssml-voice",remark:"",name:n.name,children:[]},r=eo(),a={type:"ssml-mstts:express-as",remark:"",style:n.style,role:n.role,children:[]},s=()=>({type:"ssml-prosody",remark:"",rate:n.rate,pitch:n.pitch,children:[]});o.children.push(...r),o.children.push(a);function l(){const c=s();a.children.push(c);function d(p){c.children.push(p)}return{prosody:c,pushNode:d}}let i;for(let c=0;c<n.children.length;c++){const d=n.children[c];if(!(y.SlateText.isText(d)&&!d.text.trim()))if(y.SlateText.isText(d)){i??(i=l()),i.pushNode(d);continue}else if(y.SlateEditor.isVoid(e,d)){i=void 0,a.children.push(d);continue}else{const p=y.DomEditor.findPath(e,d),[h]=y.SlateEditor.nodes(e,{at:p,mode:"lowest",voids:!1,match:m=>y.DomEditor.checkNodeType(m,"ssml-prosody")});if(h){i=void 0,a.children.push(d);continue}else i??(i=l()),i.pushNode(d)}}return o}function eo(){return[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"200ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"200ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"200ms",remark:"顿号静音",children:[]}]}function Ms(){const{rootVoice:e,rootExpressAs:n}=he(),o={...e,children:[]},r=eo(),a={...n,children:[]};o.children.push(...r),o.children.push(a);function s(l){a.children.push(l)}return{voice:o,pushNode:s}}function to(e){const{rootProsody:n}=he(),o={...n,children:[]};e(o);function r(a){o.children.push(a)}return{prosody:o,pushNode:r}}function Ps(){return{type:"ssml-break",time:"200ms",children:[{text:""}],remark:"paragraphBreak"}}function As(e){const n=e.children.filter(o=>y.DomEditor.checkNodeType(o,"paragraph")).filter(o=>!!y.SlateNode.string(o).trim()).map((o,r,a)=>{const l=o.children;return r<a.length-1?l.concat([Ps()]):l});return[].concat(...n)}function Fs(e){const n=As(e),o=[];let r,a;for(let s=0;s<n.length;s++){const l=n[s];if(!(y.SlateText.isText(l)&&!l.text.trim())){if(y.DomEditor.checkNodeType(l,"custom-management")){r&&(o.push(r.voice),r=void 0,a=void 0),o.push(Ls(e,l));continue}if(r??(r=Ms()),y.SlateText.isText(l)){a??(a=to(r.pushNode)),a.pushNode(l);continue}else if(y.SlateEditor.isVoid(e,l)){a=void 0,r.pushNode(l);continue}else{const i=y.DomEditor.findPath(e,l),[c]=y.SlateEditor.nodes(e,{at:i,mode:"lowest",voids:!1,match:d=>y.DomEditor.checkNodeType(d,"ssml-prosody")});if(c){a=void 0,r.pushNode(l);continue}else{a??(a=to(r.pushNode)),a.pushNode(l);continue}}}}return r&&o.push(r.voice),o}function Ye(){const{editor:e}=q();if(!e)throw Error("没有找到 editor 对象");const{rootSpeak:n,rootBackgroundaudio:o}=he(),r={...n,children:[]},a={...o};return r.children.push(a,...Fs(e)),Zn(r)}const Kd="",Hs=e=>(t.pushScopeId("data-v-f485fb08"),e=e(),t.popScopeId(),e),js={class:"play-menu-icon d-flex justify-content-center align-items-center"},Us={key:0,class:"fs-3 iconfont-moyin moyin-icon_play"},zs={key:2,class:"iconfont icon-pause"},Ws=Hs(()=>t.createElementVNode("div",{class:"fw-normal",style:{"font-size":"0.85rem"}},"24K高清音质",-1)),Gs=t.defineComponent({__name:"play-menu",props:{disabled:{type:Boolean,default:!1}},setup(e){const n=Ue(),{audioPlayer:o}=n,r=o.playState,a=o.loadState,s=q(),{globalEditConfig:l}=s;async function i(){if(r.value==="playing"){o.pause();return}try{const c=Ye(),d=await l.tryPlay.play(c);await o.load(d.src),o.play()}catch{o.pause()}}return(c,d)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["play-menu px-2 py-1",{disabled:c.disabled}]),onClick:d[0]||(d[0]=p=>!c.disabled&&i()),onMousedown:d[1]||(d[1]=t.withModifiers(()=>{},["prevent"]))},[t.createElementVNode("div",js,[t.unref(a)==="complete"&&t.unref(r)==="paused"?(t.openBlock(),t.createElementBlock("span",Us)):t.unref(a)==="loading"?(t.openBlock(),t.createBlock(t.unref(T.ElIcon),{key:1,class:"is-loading"},{default:t.withCtx(()=>[t.createVNode(t.unref(de.Loading))]),_:1})):(t.openBlock(),t.createElementBlock("span",zs))]),Ws],34))}}),Xd="",no=K(Gs,[["__scopeId","data-v-f485fb08"]]);class Z{constructor(n){A(this,"editor");this.editor=n}getValue(){const{selection:n}=this.editor;return n==null?"":y.SlateEditor.string(this.editor,n)}isDisabled(){const{selection:n}=this.editor;return n==null?(this.editor.emit(M.ERROR,"未选中编辑器"),!0):!1}}class qs extends Z{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请框选一个中文字符"),!0;const o=this.getValue();return o.length!=1?(this.editor.emit(M.ERROR,"请框选一个中文字符"),!0):/^[\u4E00-\u9FA5]$/gi.test(o)?!1:(this.editor.emit(M.ERROR,"请框选一个中文字符"),!0)}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-phoneme",alphabet:"sapi",ph:n.value,remark:n.label,children:[{text:o}]};this.editor.insertNode(r)}}const oo=t.defineComponent({setup(){const{globalEditConfig:e}=q(),n=t.shallowRef(),o=t.ref([]),r=t.ref(!1);function a(){r.value||(r.value=!0)}function s(){r.value&&(r.value=!1)}async function l(i){var d;if(n.value??(n.value=new qs(i)),(d=n.value)!=null&&d.isDisabled())return;const c=n.value.getValue();if(c?o.value=await e.pinyin.fetchData(c):o.value=[],o.value.length==0)return i.emit(M.ERROR,"选中的字符没有不是多音字");a()}return()=>t.createVNode(T.ElPopover,{visible:r.value,"onUpdate:visible":i=>r.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>t.createVNode(Y,{text:"多音字",icon:"speaker",onClick:l},null),default:()=>t.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-auto",style:"max-height: 300px"},[o.value.map(({label:i,value:c})=>t.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),s()},onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class Ys extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选要连读的词或句子"),!0):y.SlateEditor.string(this.editor,n).length<2:!0}exec(){if(this.isDisabled())return;const n=this.getValue();if(n==null)return;const o={type:"ssml-prosody",rate:"medium",remark:"连读",children:[{text:n}]};this.editor.insertNode(o)}}const ro=t.defineComponent({setup(){const e=t.shallowRef();function n(o){e.value??(e.value=new Ys(o)),!e.value.isDisabled()&&e.value.exec()}return()=>t.createVNode(Y,{text:"连读",icon:"continuous",onClick:n},null)}}),Ks=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],Xs={z:{pitch:"x-high",rate:void 0},t:{pitch:void 0,rate:"medium"},"z+t":{pitch:"x-high",rate:"medium"}};class Js extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return!n||n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选词或句子"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const{pitch:r,rate:a}=Xs[n.value],s={type:"ssml-prosody",remark:n.label,pitch:r,rate:a,children:[{text:o}]};this.editor.insertNode(s)}}const ao=t.defineComponent({setup(){const e=t.shallowRef(),n=t.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function a(s){e.value??(e.value=new Js(s)),!e.value.isDisabled()&&o()}return()=>t.createVNode(T.ElPopover,{visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>t.createVNode(Y,{text:"重音",icon:"read",onClick:a},null),default:()=>t.createVNode("div",{class:"d-flex flex-column",onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[Ks.map(({label:s,value:l})=>t.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{e.value&&!e.value.isDisabled()&&e.value.exec({label:s,value:l}),r()},onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class Qs extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请框选纯数字"),!0;const o=y.SlateEditor.string(this.editor,n);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(M.ERROR,"请框选纯数字"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-say-as",interpretAs:n.value,remark:n.label,children:[{text:o}]};this.editor.insertNode(r)}}const Zs=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],so=t.defineComponent({setup(){const e=t.shallowRef(),n=t.ref(!1);function o(){n.value=!n.value}function r(a){e.value??(e.value=new Qs(a)),!e.value.isDisabled()&&o()}return()=>t.createVNode(T.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>t.createVNode(Y,{text:"数字符号",icon:"digital",onClick:r},null),default:()=>t.createVNode("div",{class:"d-flex flex-column"},[Zs.map(({label:a,value:s})=>t.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{e.value&&!e.value.isDisabled()&&e.value.exec({label:a,value:s}),o()},onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class el extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选要设置别名的词或句子"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-sub",remark:n.value,alias:n.value,children:[{text:o}]};this.editor.insertNode(r)}}const lo=t.defineComponent({setup(){const e=t.shallowRef(),n=t.ref(),o=t.ref(!1);function r(){o.value||(o.value=!0)}function a(){o.value&&(o.value=!1)}async function s(i){var c;e.value??(e.value=new el(i)),!e.value.isDisabled()&&(r(),(c=n.value)==null||c.focus())}function l(i){var c;a(),i&&((c=e.value)==null||c.exec({value:i,label:i}))}return()=>t.createVNode(T.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>t.createVNode(Y,{text:"别名",icon:"alias",onClick:s},null),default:()=>t.createVNode(yt,{ref:n,onSubmit:l},null)})}});class tl extends Z{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请框选英文单词"),!0;const o=y.SlateEditor.string(this.editor,n);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(M.ERROR,"请框选英文单词"),!0)}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-phoneme",alphabet:"ipa",ph:n.value,remark:n.label,children:[{text:o}]};this.editor.insertNode(r)}}const io=t.defineComponent({setup(){const{globalEditConfig:e}=q(),n=t.shallowRef(),o=t.ref([]),r=t.ref(!1);function a(){r.value||(r.value=!0)}function s(){r.value&&(r.value=!1)}async function l(i){if(n.value??(n.value=new tl(i)),jr(i),n.value.isDisabled())return;const c=n.value.getValue();if(c){if(o.value=await e.english.fetchData(c),o.value.length<=0)return i.emit(M.ERROR,"找不到单词的音标");a()}}return()=>t.createVNode(T.ElPopover,{visible:r.value,trigger:"contextmenu",hideAfter:0},{reference:()=>t.createVNode(Y,{text:"音标",icon:"english",onClick:l},null),default:()=>t.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>t.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),s()},onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class nl extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选要变速的句子"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-prosody",remark:n.label,rate:n.value,children:[{text:o}]};this.editor.insertNode(r)}}function I(e){return`${((e-1)*100).toFixed(0)}%`}const ol=[{value:I(.5),label:"0.5x"},{value:I(.55),label:"0.55x"},{value:I(.6),label:"0.6x"},{value:I(.65),label:"0.65x"},{value:I(.7),label:"0.7x"},{value:I(.75),label:"0.75x"},{value:I(.8),label:"0.8x"},{value:I(.85),label:"0.85x"},{value:I(.9),label:"0.9x"},{value:I(.95),label:"0.95x"},{value:I(1),label:"1x"},{value:I(1.05),label:"1.05x"},{value:I(1.1),label:"1.1x"},{value:I(1.15),label:"1.15x"},{value:I(1.2),label:"1.2x"},{value:I(1.25),label:"1.25x"},{value:I(1.3),label:"1.3x"},{value:I(1.35),label:"1.35x"},{value:I(1.4),label:"1.4x"},{value:I(1.45),label:"1.45x"},{value:I(1.5),label:"1.5x"},{value:I(1.55),label:"1.55x"},{value:I(1.6),label:"1.6x"},{value:I(1.65),label:"1.65x"},{value:I(1.7),label:"1.7x"},{value:I(1.75),label:"1.75x"},{value:I(1.8),label:"1.8x"},{value:I(1.85),label:"1.85x"},{value:I(1.9),label:"1.9x"},{value:I(1.95),label:"1.95x"},{value:I(2),label:"2x"}],co=t.defineComponent({setup(){const e=t.shallowRef(),n=t.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}async function a(s){e.value??(e.value=new nl(s)),!e.value.isDisabled()&&o()}return()=>t.createVNode(T.ElPopover,{style:{padding:"0px"},visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>t.createVNode(Y,{text:"局部变速",icon:"changespeed",onClick:a},null),default:()=>t.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[ol.map(({label:s,value:l})=>t.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var i;(i=e.value)==null||i.exec({label:s,value:l}),r()},onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class rl extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能框选文本"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:n.value,remark:n.label,children:[{text:""}]};this.editor.insertNode(o)}}const al=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],uo=t.defineComponent({setup(){const e=t.shallowRef(),n=t.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function a(s){e.value??(e.value=new rl(s)),!e.value.isDisabled()&&o()}return()=>t.createVNode(T.ElPopover,{visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>t.createVNode(Y,{text:"停顿调节",icon:"rhythm",onClick:a},null),default:()=>t.createVNode("div",{class:"d-flex flex-column"},[al.map(({label:s,value:l})=>t.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{e.value&&!e.value.isDisabled()&&e.value.exec({label:s,value:l}),r()},onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class sl extends Z{constructor(n){super(n)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能框选文字"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const r={type:"ssml-audio",src:n.value,remark:n.label,children:[{text:""}]};this.editor.insertNode(r)}}const fo=t.defineComponent({__name:"special-menu",setup(e){const n=t.ref(),o=t.ref(),r=t.shallowRef(),{globalEditConfig:a}=q(),{special:s}=a,l=t.ref(!1),{x:i,y:c,height:d}=Re(o),p=m=>{r.value??(r.value=new sl(m)),!r.value.isDisabled()&&(n.value.setPosition({x:i.value-200,y:c.value+d.value}),l.value=!0)};function h(m){var g;(g=r.value)==null||g.restoreSelection(),r.value&&!r.value.isDisabled()&&r.value.exec(m),l.value=!1}return(m,g)=>(t.openBlock(),t.createBlock(t.unref(xe),{ref_key:"dragRef",ref:n,visible:l.value,"onUpdate:visible":g[0]||(g[0]=f=>l.value=f)},{reference:t.withCtx(()=>[t.createVNode(t.unref(Y),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:p},null,512)]),default:t.withCtx(()=>[t.createVNode(t.unref(_t),{menus:t.unref(s).menus,fetchScene:t.unref(s).fetchScene,fetchStyle:t.unref(s).fetchStyle,fetchData:t.unref(s).fetchData,onSubmit:h},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}});class ll extends Z{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能框选文本"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:n.value,remark:n.label,children:[{text:""}]};this.editor.insertNode(o)}}const il=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],po=t.defineComponent({setup(){const e=t.shallowRef(),n=t.ref(!1),o=t.ref();function r(){n.value||(n.value=!0)}function a(){n.value&&(n.value=!1)}function s(i){var c;e.value??(e.value=new ll(i)),!e.value.isDisabled()&&(r(),(c=o.value)==null||c.focus())}function l(i){var c;a(),i&&((c=e.value)==null||c.exec({value:i,label:i}))}return()=>t.createVNode(T.ElPopover,{visible:n.value,"onUpdate:visible":i=>n.value=i,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>t.createVNode(Y,{text:"插入静音",icon:"mute",onClick:s},null),default:()=>t.createVNode("div",{class:"d-flex flex-column"},[il.map(({value:i,label:c})=>t.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>l(i),onMousedown:t.withModifiers(()=>{},["stop","prevent"])},[c])),t.createVNode(yt,{type:"text",ref:o,onSubmit:l},null)])})}}),mo=t.defineComponent({__name:"bgm-menu",setup(e){const n=t.ref(),o=t.ref(),r=t.shallowRef(),{globalEditConfig:a}=q(),{bgm:s}=a,l=t.ref(!1),{x:i,y:c,height:d}=Re(o),p=async m=>{const g={x:i.value-300,y:c.value+d.value};r.value=m,n.value.setPosition(g),l.value=!0};function h(m){const{rootBackgroundaudio:g}=he();g.src=m.value,g.remark=m.label,l.value=!1}return(m,g)=>(t.openBlock(),t.createBlock(t.unref(xe),{ref_key:"dragRef",ref:n,visible:l.value,"onUpdate:visible":g[0]||(g[0]=f=>l.value=f)},{reference:t.withCtx(()=>[t.createVNode(t.unref(Y),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:p},null,512)]),default:t.withCtx(()=>[t.createVNode(t.unref(_t),{menus:t.unref(s).menus,fetchScene:t.unref(s).fetchScene,fetchStyle:t.unref(s).fetchStyle,fetchData:t.unref(s).fetchData,onSubmit:h},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}}),ho=t.defineComponent({__name:"sensitive-menu",setup(e){const n=t.ref(),o=t.ref(),r=t.shallowRef(),a=t.ref(!1),{x:s,y:l,height:i}=Re(o),c=d=>{r.value=d,n.value.setPosition({x:s.value-200,y:l.value+i.value}),a.value=!0};return(d,p)=>(t.openBlock(),t.createBlock(t.unref(xe),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":p[0]||(p[0]=h=>a.value=h)},{reference:t.withCtx(()=>[t.createVNode(t.unref(Y),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:c},null,512)]),default:t.withCtx(()=>[t.createVNode(ho)]),_:1},8,["visible"]))}}),Jd="",cl={class:"select-list",style:{width:"120px"}},dl={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},ul=["onClick"],fl=t.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(e,{expose:n,emit:o}){const r=e,a=t.ref();function s(i){o("update:modelValue",i.value)}function l(){var i;if(a.value){for(let c=0;c<r.dataList.length;c++)if(r.dataList[c].value===r.modelValue){(i=a.value.children[c])==null||i.scrollIntoView({behavior:"smooth"});return}}}return n({scrollIntoViewTheItem:l}),(i,c)=>(t.openBlock(),t.createElementBlock("div",cl,[t.createElementVNode("div",dl,[t.renderSlot(i.$slots,"default",{},void 0,!0)]),t.createElementVNode("ul",{ref_key:"listRef",ref:a,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.dataList,(d,p)=>(t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass(["clickable select-item py-1",{activate:d.value===i.modelValue}]),key:p,onClick:h=>s(d)},t.toDisplayString(d.label),11,ul))),128))],512)]))}}),Qd="",Se=K(fl,[["__scopeId","data-v-e0f0259e"]]),pl={class:"position-relative"},ml={class:"position-absolute top-0 end-0"},hl=t.createElementVNode("li",null,[t.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),yl=["onClick"],gl=t.createElementVNode("span",{class:"my-3"},"类型",-1),bl=t.createElementVNode("span",{class:"my-3"},"配音师",-1),_l=t.createElementVNode("span",{class:"my-3"},"角色",-1),wl=t.createElementVNode("span",{class:"my-3"},"风格",-1),El=t.createElementVNode("span",{class:"my-3"},"语速",-1),kl=t.createElementVNode("span",{class:"my-3"},"语调",-1),vl={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},xl=t.defineComponent({__name:"management-content",emits:["submit"],setup(e,{emit:n}){const{globalEditConfig:o}=q(),{tryPlay:r,management:a}=o,s=t.ref(),l=t.ref(!1),i=t.ref(""),c=Mn(),{contentData:d}=Zt(c),p=t.shallowRef([]),h=t.ref([]),m=t.ref([{label:"全部类型",value:""},...r.category]),g=t.ref([]),f=t.ref([]),u=t.ref([]),w=t.ref(Zo()),v=t.ref(er()),E=Ge(s);t.onMounted(async()=>{d.value.category=m.value[0].value,await x(),await _()}),t.watch(E,S=>{S||(i.value="",l.value=!1)});async function b(S){d.value.category=S,await x()}async function x(){const S=await r.fetchData({...je(),...d.value});p.value=S,g.value=S.map(R=>({label:R.displayName,value:R.name})),S.length>0&&(f.value=S[0].roles,u.value=S[0].styles,d.value.name=S[0].name),f.value.length>0&&(d.value.role=f.value[0].value),u.value.length>0&&(d.value.style=u.value[0].value)}function $(S){const R=p.value.find(O=>O.name===S);R&&(f.value=R.roles,u.value=R.styles,f.value.length>0&&(d.value.role=f.value[0].value),u.value.length>0&&(d.value.style=u.value[0].value))}function V(){var re,U,Ke,F;const S=((re=g.value.find(ne=>ne.value===d.value.name))==null?void 0:re.label)||"",R=((U=f.value.find(ne=>ne.value===d.value.role))==null?void 0:U.label)||"",O=((Ke=u.value.find(ne=>ne.value===d.value.style))==null?void 0:Ke.label)||"",se=((F=w.value.find(ne=>ne.value===d.value.speed))==null?void 0:F.label)||"",ce={category:d.value.category,name:d.value.name,label:`${S}|${R}|${O}|${se}`,value:d.value.name,role:d.value.role,style:d.value.style,speed:nr(Number(d.value.speed)),pitch:tr(Number(d.value.pitch))};n("submit",ce),B(ce)}async function _(){try{h.value=await a.fetchRecentUsage()}catch(S){G.emit(j.ERROR,`${S}`,S)}}async function B(S){try{const R={...d.value,label:S.label,id:""},O=await a.recordRecentUsage(R);h.value.push(O)}catch(R){G.emit(j.ERROR,`${R}`,R)}}function P(S){d.value.category=S.category,d.value.name=S.name,d.value.pitch=S.pitch,d.value.role=S.role,d.value.speed=S.speed,d.value.style=S.style,V()}async function C(S){try{const R=h.value[S];await a.deleteRecentUsage(R.id),h.value.splice(S,1)}catch(R){G.emit(j.ERROR,`${R}`,R)}}async function N(){try{await a.deleteRecentUsage(),h.value=[]}catch(S){G.emit(j.ERROR,`${S}`,S)}}return(S,R)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"boxRef",ref:s,style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},[t.createVNode(t.unref(T.ElForm),{onSubmit:t.withModifiers(x,["prevent"])},{default:t.withCtx(()=>[t.createVNode(t.unref(T.ElInput),{modelValue:i.value,"onUpdate:modelValue":R[0]||(R[0]=O=>i.value=O),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),t.createElementVNode("div",pl,[t.createElementVNode("div",ml,[t.createVNode(t.unref(T.ElButton),{size:"small",icon:t.unref(de.More),onClick:R[1]||(R[1]=()=>l.value=!l.value)},null,8,["icon"])]),t.createElementVNode("ul",{class:t.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":l.value}])},[hl,(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(h.value,(O,se)=>(t.openBlock(),t.createElementBlock("li",{class:"btn m-0 p-0",onClick:ce=>P(O),key:se},[t.createVNode(t.unref(T.ElTag),{type:"info",onClose:ce=>C(se),closable:""},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(O.label),1)]),_:2},1032,["onClose"])],8,yl))),128))],2),t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass({"d-flex flex-row":!l.value})},[t.createVNode(Se,{"onUpdate:modelValue":[b,R[2]||(R[2]=O=>t.unref(d).category=O)],modelValue:t.unref(d).category,dataList:m.value},{default:t.withCtx(()=>[gl]),_:1},8,["modelValue","dataList"]),t.createVNode(Se,{"onUpdate:modelValue":[$,R[3]||(R[3]=O=>t.unref(d).name=O)],modelValue:t.unref(d).name,dataList:g.value},{default:t.withCtx(()=>[bl]),_:1},8,["modelValue","dataList"]),t.createVNode(Se,{modelValue:t.unref(d).role,"onUpdate:modelValue":R[4]||(R[4]=O=>t.unref(d).role=O),dataList:f.value},{default:t.withCtx(()=>[_l]),_:1},8,["modelValue","dataList"]),t.createVNode(Se,{modelValue:t.unref(d).style,"onUpdate:modelValue":R[5]||(R[5]=O=>t.unref(d).style=O),dataList:u.value},{default:t.withCtx(()=>[wl]),_:1},8,["modelValue","dataList"]),t.createVNode(Se,{modelValue:t.unref(d).speed,"onUpdate:modelValue":R[6]||(R[6]=O=>t.unref(d).speed=O),dataList:w.value},{default:t.withCtx(()=>[El]),_:1},8,["modelValue","dataList"]),t.createVNode(Se,{modelValue:t.unref(d).pitch,"onUpdate:modelValue":R[7]||(R[7]=O=>t.unref(d).pitch=O),dataList:v.value},{default:t.withCtx(()=>[kl]),_:1},8,["modelValue","dataList"])],2),[[t.vShow,!l.value]])]),t.createElementVNode("div",vl,[t.withDirectives(t.createVNode(t.unref(T.ElButton),{onClick:V,type:"primary"},{default:t.withCtx(()=>[t.createTextVNode("确定")]),_:1},512),[[t.vShow,!l.value]]),t.withDirectives(t.createVNode(t.unref(T.ElButton),{onClick:N,type:"primary"},{default:t.withCtx(()=>[t.createTextVNode("全部清空")]),_:1},512),[[t.vShow,l.value]])])],512))}});class yo extends Z{constructor(o){super(o);A(this,"contentData")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(o==null)return!0;if(y.DomEditor.getSelectedNodeByType(this.editor,"custom-management"))return!1;if(y.SlateRange.isCollapsed(o))return this.editor.emit(M.ERROR,"请框选句子"),!0;const[r]=y.SlateEditor.node(this.editor,o),a=this.editor.getParentNode(r);return!a||!y.DomEditor.checkNodeType(a,"paragraph")?(this.editor.emit(M.ERROR,"多人配音需要在最外层使用"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const r=this.getValue();if(r==null)return;const a=y.DomEditor.getSelectedNodeByType(this.editor,"custom-management");if(a)y.SlateTransforms.setNodes(this.editor,{custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch},{at:y.DomEditor.findPath(this.editor,a)});else{const s={type:"custom-management",custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch,children:[{text:r}]};this.editor.insertNode(s)}}}const go=t.defineComponent({__name:"management-menu",setup(e){const n=t.ref(),o=t.ref(),r=t.ref(!1),a=t.shallowRef(),s=Mn(),{contentData:l}=Zt(s),{x:i,y:c,height:d}=Re(o);t.onMounted(()=>{G.on(j.EDITOR_CREATED,f=>{f.on(M.SSML_ELEMENT_CLICK,(u,w)=>{var v;if(w.type==="custom-management"){a.value??(a.value=new yo(u));const b=((v=w.custom)==null?void 0:v.contentData)||{};b&&(l.value.category=b.category,l.value.name=b.name,l.value.pitch=b.pitch,l.value.role=b.role,l.value.speed=b.speed,l.value.style=b.style),setTimeout(()=>{p()},200)}})})});function p(){var u;const f={x:i.value-200,y:c.value+d.value};(u=n.value)==null||u.setPosition(f),r.value=!0}function h(){r.value=!1}function m(f){a.value??(a.value=new yo(f)),!a.value.isDisabled()&&p()}function g(f){var u;a.value&&!a.value.isDisabled()&&(a.value.contentData={...l.value},(u=a.value)==null||u.exec(f)),h()}return(f,u)=>(t.openBlock(),t.createBlock(t.unref(xe),{ref_key:"dragRef",ref:n,visible:r.value,"onUpdate:visible":u[0]||(u[0]=w=>r.value=w)},{reference:t.withCtx(()=>[t.createVNode(t.unref(Y),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:m},null,512)]),default:t.withCtx(()=>[t.createVNode(xl,{onSubmit:g})]),_:1},8,["visible"]))}}),Sl={class:"speaker-head"},Cl=["src"],Nl={class:"speaker-name"},Vl=t.defineComponent({__name:"speaker-item",props:{label:{},value:{},avatar:{},activated:{type:Boolean}},emits:["click"],setup(e){return(n,o)=>(t.openBlock(),t.createElementBlock("div",{class:"speaker-item",onClick:o[0]||(o[0]=r=>n.$emit("click",n.value||""))},[t.createElementVNode("div",Sl,[t.createElementVNode("img",{src:n.avatar||t.unref(_e)(),class:t.normalizeClass([{"border border-warning":n.activated},"rounded-circle"]),style:{height:"40px"}},null,10,Cl)]),t.createElementVNode("div",Nl,t.toDisplayString(n.label),1)]))}}),Zd="",$l=K(Vl,[["__scopeId","data-v-b043c1a6"]]);class Rl{constructor(){A(this,"mediaRecorder",null);A(this,"isRecording",t.ref(!1))}get recorderState(){return t.computed(()=>this.isRecording.value?"recording":"paused")}async start(n){if(navigator.mediaDevices.getUserMedia){const o=[];try{const r=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(r);return this.mediaRecorder=a,new Promise((s,l)=>{a.ondataavailable=i=>{n.isCancellationRequested()?(a.stop(),this.isRecording.value=!1,n.throwIfRequested()):o.push(i.data)},a.onstart=()=>{this.isRecording.value=!0},a.onpause=()=>{this.isRecording.value=!1},a.onstop=()=>{this.isRecording.value=!1;const i=new Blob(o,{type:"audio/wav"});s(i)},a.onerror=i=>{this.isRecording.value=!1,l(i)},n.throwIfRequested(),a.start()})}catch(r){throw console.error(r),new Error("授权失败！",{cause:r})}}throw Error("浏览器不支持 getUserMedia")}stop(){this.mediaRecorder&&this.mediaRecorder.stop()}}const Tl={class:"d-flex flex-row justify-content-between border rounded-pill border-secondary my-3 py-1 px-2"},Dl={class:"text-secondary d-flex flex-row align-items-center",style:{"font-size":"0.5rem"}},Ol={key:0,class:"iconfont icon-pause"},Bl={key:1,class:"iconfont icon-play"},Il=[t.createElementVNode("span",{class:"iconfont icon-delete"},null,-1)],Ll={key:1,style:{"font-size":"0.5rem"}},Ml=t.createElementVNode("p",null,"选择需要转换的配音师",-1),Pl={class:"speakers-container border rounded d-flex flex-row flex-wrap row-gap-1 column-gap-2 overflow-y-auto overflow-x-hidden",style:{height:"150px"}},Al=["disabled"],Fl=t.defineComponent({__name:"audio-upload",emits:["submit"],setup(e,{expose:n,emit:o}){const{globalEditConfig:r}=q(),{audioUpload:a,transfer:s,fetchSpeaker:l,timeoutMilliseconds:i}=r.conversion,c=t.ref(),d=t.ref(),p=t.ref(),h=t.ref(!0),m=t.ref([]),g=t.ref(),f=t.shallowRef(),u=t.shallowRef(),w=new Ln,{playState:v}=w;let E;const b=new Rl,x=new Dn("audio/*"),$=new On(60),{state:V}=$,{recorderState:_}=b,B=Ge(c),P=t.inject("reopen");t.watch(B,F=>{F||C()}),t.onMounted(async()=>{m.value=await l()}),t.watch(B,F=>{F||(h.value=!0,E==null||E.cancel())}),n({openInputFile:se});function C(){h.value=!0,N()}function N(){w.pause(),d.value=void 0,p.value=void 0,g.value=void 0,f.value=void 0,u.value=void 0,E==null||E.cancel()}function S(){b.stop(),$.stop()}async function R(){E=new ht(6e4),$.start();try{E.startTimeout(),f.value=await b.start(E.token)}catch(F){G.emit(j.ERROR,`${F}`,F)}finally{E.cancel(),$.stop()}}function O(){if(v.value==="playing")w.pause();else if(f.value){const F=window.URL.createObjectURL(f.value);w.load(F),w.play()}else if(u.value){const F=window.URL.createObjectURL(u.value);w.load(F),w.play()}}async function se(){try{return u.value=await x.open(),h.value=!1,!0}catch{return!1}}async function ce(){try{if(E=new ht(i),h.value&&f.value)E.startTimeout(),d.value=await a(f.value,E.token);else if(!h.value&&u.value)E.startTimeout(),d.value=await a(u.value,E.token);else throw new Error("请选则文件或实时录音")}catch(F){G.emit(j.ERROR,`${F}`,F)}}async function re(F){try{d.value?(g.value=F,p.value=await s({audioId:d.value.id,speakerId:F.id})):G.emit(j.ERROR,"请先上传音频文件")}catch(ne){G.emit(j.ERROR,`${ne}`,ne)}}function U(){p.value&&g.value&&(o("submit",{label:g.value.displayName,value:p.value.src}),C())}function Ke(){E==null||E.cancel(),P==null||P()}return(F,ne)=>{var ko,vo;return t.openBlock(),t.createElementBlock("div",{class:"audio-upload",ref_key:"boxRef",ref:c},[t.createElementVNode("div",Tl,[t.createElementVNode("div",Dl,[f.value||u.value?(t.openBlock(),t.createElementBlock("button",{key:0,onClick:O,class:"btn btn-sm rounded-pill"},[t.unref(v)==="playing"||t.unref(_)==="recording"?(t.openBlock(),t.createElementBlock("span",Ol)):(t.openBlock(),t.createElementBlock("span",Bl))])):t.createCommentVNode("",!0),t.createElementVNode("span",null,t.toDisplayString(((ko=u.value)==null?void 0:ko.name)||((vo=f.value)==null?void 0:vo.name)),1)]),t.createElementVNode("div",null,[!d.value&&(f.value||u.value)?(t.openBlock(),t.createElementBlock("button",{key:0,onClick:N,class:"btn btn-sm rounded-pill"},Il)):t.createCommentVNode("",!0),d.value?(t.openBlock(),t.createElementBlock("span",Ll,"已上传")):t.createCommentVNode("",!0),h.value&&!f.value?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[t.unref(_)==="recording"?(t.openBlock(),t.createElementBlock("button",{key:0,onClick:S,class:"btn btn-primary btn-sm rounded-pill"}," 结束录音("+t.toDisplayString(t.unref(V))+")s ",1)):(t.openBlock(),t.createElementBlock("button",{key:1,onClick:R,class:"btn btn-primary btn-sm rounded-pill"}," 开始录音 "))],64)):t.createCommentVNode("",!0),!h.value&&!u.value?(t.openBlock(),t.createElementBlock("button",{key:3,onClick:se,class:"btn btn-primary btn-sm rounded-pill"}," 选择文件 ")):t.createCommentVNode("",!0),d.value?(t.openBlock(),t.createElementBlock("button",{key:4,onClick:Ke,class:"btn btn-primary btn-sm rounded-pill"}," 重传音频 ")):t.createCommentVNode("",!0),!d.value&&(u.value||f.value)?(t.openBlock(),t.createElementBlock("button",{key:5,onClick:ce,class:"btn btn-primary btn-sm rounded-pill"}," 上传音频 ")):t.createCommentVNode("",!0)])]),t.createElementVNode("div",null,[Ml,t.createElementVNode("div",Pl,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(m.value,(Xe,Vc)=>{var xo;return t.openBlock(),t.createBlock($l,{onClick:pu=>re(Xe),key:Vc,label:Xe.displayName,avatar:Xe.avatar,activated:Xe.name===((xo=g.value)==null?void 0:xo.name)},null,8,["onClick","label","avatar","activated"])}),128))])]),t.createElementVNode("button",{class:"btn btn-primary mt-1",onClick:U,disabled:!p.value}," 完成录音并上传完成后，可选择配音师转换 ",8,Al)],512)}}}),Hl={class:"fw-bold",style:{"font-size":"0.5rem"}},jl=t.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),Ul={class:"border border-secondary rounded p-2 w-100",style:{height:"100px"}},zl={class:"mt-2"},Wl=t.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),Gl=t.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(e){const n=t.ref(),o=t.ref(),r=t.ref(!0),a=t.ref(!1),s=Ge(n);t.provide("reopen",()=>{r.value=!0,a.value=!1}),t.watch(s,c=>{c||(r.value=!0,a.value=!1)});function l(){r.value=!0,a.value=!0}async function i(){var c;await((c=o.value)==null?void 0:c.openInputFile())&&(r.value=!1,a.value=!0)}return(c,d)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"boxRef",ref:n,class:"px-2 py-1",style:{width:"410px"}},[t.withDirectives(t.createElementVNode("section",Hl,[jl,t.createElementVNode("div",Ul,t.toDisplayString(c.text),1)],512),[[t.vShow,r.value]]),t.withDirectives(t.createElementVNode("section",zl,[t.createElementVNode("div",{class:"w-100 d-flex flex-column row-gap-1"},[t.createElementVNode("button",{onClick:l,class:"btn btn-success"},"实时录音"),t.createElementVNode("button",{onClick:i,class:"btn btn-primary"},"上传录音")]),Wl],512),[[t.vShow,!a.value]]),t.withDirectives(t.createElementVNode("section",null,[t.createVNode(Fl,{ref_key:"audioUploadRef",ref:o,onSubmit:d[0]||(d[0]=p=>c.$emit("submit",p))},null,512)],512),[[t.vShow,a.value]])],512))}});class ql extends Z{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选要变音的句子"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-audio",remark:n.label,src:n.value,children:[{text:o}]};this.editor.insertNode(r)}}const bo=t.defineComponent({__name:"conversion-menu",setup(e){const n=t.ref(),o=t.ref(),r=t.shallowRef(),a=t.shallowRef(),s=t.ref(!1),l=t.ref(""),{x:i,y:c,height:d}=Re(o),p=m=>{if(a.value??(a.value=new ql(m)),a.value.isDisabled())return;l.value=a.value.getValue();const g={x:i.value-200,y:c.value+d.value};r.value=m,n.value.setPosition(g),s.value=!0};function h(m){var g;(g=a.value)==null||g.exec(m),s.value=!1}return(m,g)=>(t.openBlock(),t.createBlock(t.unref(xe),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":g[0]||(g[0]=f=>s.value=f)},{reference:t.withCtx(()=>[t.createVNode(t.unref(Y),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:p},null,512)]),default:t.withCtx(()=>[t.createVNode(Gl,{text:l.value,onSubmit:h},null,8,["text"])]),_:1},8,["visible"]))}}),Yl={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},Kl={class:"position-relative"},Xl=["src"],Jl={key:0,class:"iconfont icon-play1"},Ql={key:1,class:"iconfont icon-pause1"},Zl={class:"anchor-avatar-name text-white"},ei=t.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(e,{emit:n}){const o=t.ref(),r=t.ref(),a=t.ref(0),s=t.ref(0),l=Ue(),{globalEditConfig:i}=q(),{audioPlayer:c}=l,d=c.playState,{position:p}=bt(o,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(E,b)=>u(b.clientX,b.clientY)?!1:void 0}),{style:h}=wt(o,p);function m(E){(()=>{if(u(E.clientX,E.clientY))return w(E)?v():n("update:visible",!1)})(),g()}function g(){a.value=0,s.value=0}function f(E){a.value=E.clientX,s.value=E.clientY}function u(E,b){return E>a.value-10&&E<a.value+10&&b>s.value-10&&b<s.value+10}function w(E){var x;const b=E.target;return((x=r.value)==null?void 0:x.contains(b))||!1}async function v(){if(d.value==="playing")c.pause();else try{const E=Ye(),b=await i.tryPlay.play(E);c.load(b.src),c.play()}catch{c.pause()}}return(E,b)=>t.withDirectives((t.openBlock(),t.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:t.normalizeStyle([t.unref(h),{position:"fixed"}]),onMousedown:f,onMouseup:m},[t.createElementVNode("div",Yl,[t.createElementVNode("div",Kl,[t.createElementVNode("img",{src:t.unref(l).speaker.avatar||t.unref(_e)(),class:"rounded-circle"},null,8,Xl),t.createElementVNode("button",{ref_key:"btnPlayRef",ref:r,class:"btn w-100 h-100 position-absolute top-50 start-50 translate-middle bg-black bg-opacity-50 text-white rounded-circle"},[t.unref(d)==="paused"?(t.openBlock(),t.createElementBlock("span",Jl)):(t.openBlock(),t.createElementBlock("span",Ql))],512)]),t.createElementVNode("div",Zl,t.toDisplayString(t.unref(l).speaker.displayName),1)])],36)),[[t.vShow,E.visible]])}}),tu="",ti=K(ei,[["__scopeId","data-v-0f55dd94"]]),ni={key:0,class:"position-absolute top-0 start-100 translate-middle text-bg-danger text-nowrap rounded px-1",style:{"font-size":"0.5rem"}},oi=["src"],ri={class:"anchor-avatar-name text-white"},ai=t.defineComponent({__name:"anchor-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(e){return(n,o)=>{var r,a,s;return t.openBlock(),t.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=l=>{var i;return n.$emit("click",(i=n.data)==null?void 0:i.value)})},[(r=n.data)!=null&&r.isFree?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("span",ni,"付费")),t.createElementVNode("img",{src:((a=n.data)==null?void 0:a.src)??t.unref(_e)(),class:t.normalizeClass(["rounded-circle",{"border border-2 border-warning":n.activate}]),style:{height:"40px"}},null,10,oi),t.createElementVNode("div",ri,t.toDisplayString((s=n.data)==null?void 0:s.label),1)])}}}),nu="",_o=K(ai,[["__scopeId","data-v-845325c9"]]),si={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},li=t.defineComponent({__name:"anchor-list",props:{filter:{}},setup(e){const n=e,{globalEditConfig:o}=q(),{fetchData:r}=o.tryPlay,a=Ue(),s=t.ref([]),l=t.shallowRef([]);t.watch(()=>n.filter,async c=>{const d=await r(t.toRaw(c));l.value=d,s.value=d.map(p=>({label:p.displayName,value:p.name}))});function i(c){const d=l.value.find(p=>p.name===c);d&&a.setSpeaker(d)}return t.onMounted(async()=>{const c=await r(t.toRaw(n.filter));l.value=c,s.value=c.map(d=>({label:d.displayName,value:d.name})),s.value.length>0&&i(s.value[0].value)}),(c,d)=>(t.openBlock(),t.createElementBlock("div",si,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(s.value,(p,h)=>(t.openBlock(),t.createElementBlock("div",{class:"m-3",key:h},[t.createVNode(_o,{data:p,activate:p.value===t.unref(a).speaker.name,onClick:m=>i(p.value)},null,8,["data","activate","onClick"])]))),128))]))}}),Rt=t.defineComponent({__name:"tag-item",props:{activate:{type:Boolean},value:{}},emits:["click"],setup(e){return(n,o)=>(t.openBlock(),t.createElementBlock("span",{class:t.normalizeClass(["tag-item d-inline-block text-white text-center text-nowrap text-truncate",{"border border-white rounded-pill":n.activate}]),onClick:o[0]||(o[0]=r=>n.$emit("click",n.value)),style:{height:"20px","min-width":"60px","max-width":"160px","font-size":"0.5rem",cursor:"pointer"}},[t.renderSlot(n.$slots,"default")],2))}}),ii={class:"tag-list w-100"},ci={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},di={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},ui={style:{height:"100px"},class:"w-100 pt-2 d-flex flex-row flex-wrap align-content-start row-gap-2 overflow-y-auto overflow-x-hidden scrollbar-none"},fi=t.defineComponent({__name:"tag-list",props:{filter:{}},emits:["update:filter"],setup(e,{emit:n}){const o=e,{globalEditConfig:r}=q(),{topFlag:a,gender:s,featchTag:l}=r.tryPlay,i=t.ref([]);t.onMounted(async()=>{i.value=await l()});function c(h){n("update:filter",{...t.toRaw(o.filter),topFlag:h})}function d(h){n("update:filter",{...t.toRaw(o.filter),gender:h})}function p(h){n("update:filter",{...t.toRaw(o.filter),tag:h})}return(h,m)=>(t.openBlock(),t.createElementBlock("div",ii,[t.createElementVNode("div",ci,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(a),(g,f)=>(t.openBlock(),t.createBlock(Rt,{onClick:c,key:f,value:g.value,activate:h.filter.topFlag===g.value},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(g.label),1)]),_:2},1032,["value","activate"]))),128))]),t.createElementVNode("div",di,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(s),(g,f)=>(t.openBlock(),t.createBlock(Rt,{onClick:d,key:f,value:g.value,activate:h.filter.gender===g.value},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(g.label),1)]),_:2},1032,["value","activate"]))),128))]),t.createElementVNode("div",ui,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,(g,f)=>(t.openBlock(),t.createBlock(Rt,{onClick:p,key:f,value:g.value,activate:h.filter.tag===g.value},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(g.label),1)]),_:2},1032,["value","activate"]))),128))])]))}}),ou="",ru="",pi=["src"],mi={class:"anchor-avatar-name text-white",style:{"font-size":"0.5rem"}},hi=t.defineComponent({__name:"style-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(e){return(n,o)=>{var r,a;return t.openBlock(),t.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=s=>{var l;return n.$emit("click",(l=n.data)==null?void 0:l.value)})},[t.createElementVNode("img",{src:((r=n.data)==null?void 0:r.src)||t.unref(_e)(),class:t.normalizeClass(["rounded-circle",{"border border-2 border-warning":n.activate}]),style:{height:"30px"}},null,10,pi),t.createElementVNode("div",mi,t.toDisplayString((a=n.data)==null?void 0:a.label),1)])}}}),au="",yi=K(hi,[["__scopeId","data-v-71aedb65"]]);function gi(e){return`${(.05*e*100).toFixed(0)}%`}function bi(e){return`${((e-1)*100).toFixed(0)}%`}const Tt=e=>(t.pushScopeId("data-v-0210af00"),e=e(),t.popScopeId(),e),_i={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},wi={class:"mt-2 d-flex text-center justify-content-between align-items-center"},Ei={class:"me-auto d-flex flex-row align-items-center"},ki=["src"],vi={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},xi={class:"d-flex dlex-row column-gap-2 align-items-end"},Si={class:"fs-6"},Ci={style:{"font-size":"0.5rem"}},Ni={class:"d-flex flex-row column-gap-2 align-items-center"},Vi={key:0,class:"badge text-bg-primary px-2"},$i={class:"d-flex flex-column align-items-end"},Ri=Tt(()=>t.createElementVNode("div",{class:"text-info"},"音频时长，请以生成后的为准",-1)),Ti={class:"mt-1"},Di=Tt(()=>t.createElementVNode("span",null,"/",-1)),Oi={class:"role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3"},Bi=["onClick"],Ii={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},Li=["onClick"],Mi=Tt(()=>t.createElementVNode("div",{class:"my-3"},[t.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),Pi={class:"slider-box"},Ai={class:"slider-box"},Fi={class:"d-flex flex-row gap-3 my-3"},Hi=["onClick"],ji={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3",style:{"min-height":"100px"}},Ui=["onClick"],zi=t.defineComponent({__name:"slider-panle",setup(e){const{globalEditConfig:n}=q(),{rootProsody:o,rootExpressAs:r}=he(),{fetchStar:a,category:s,fetchData:l}=n.tryPlay,i=Ue(),c=t.ref(i.speaker.isStar),d=t.ref(10),p=t.ref(0),h=t.ref([0,2]),m=t.ref(1),g=t.ref([-10,10]),f=t.ref(0),u=t.computed(()=>mt(d.value)),w=t.computed(()=>mt(p.value)),v=t.reactive(tn()),E=t.reactive(nn()),b=t.ref(""),x=t.ref([]);t.onMounted(async()=>{await B(s[0].value)}),t.watch(()=>i.speaker,C=>{C.roles.length>0&&V(C.roles[0].value),C.styles.length>0&&_(C.styles[0].value)},{immediate:!0}),t.watch(f,C=>{o.pitch=gi(C)},{immediate:!0}),t.watch(m,C=>{o.rate=bi(C)},{immediate:!0});async function $(){c.value=await a(i.speaker.name,!c.value)}function V(C){r.role=C}function _(C){r.style=C}async function B(C){b.value=C;try{x.value=await l({...je(),category:C})}catch(N){G.emit(j.ERROR,`${N}`,N)}}function P(C){i.setSpeaker(t.toRaw(C))}return(C,N)=>(t.openBlock(),t.createElementBlock("div",_i,[t.createElementVNode("div",wi,[t.createElementVNode("div",Ei,[t.createElementVNode("img",{src:t.unref(_e)(),class:"rounded-circle",style:{height:"50px"}},null,8,ki),t.createElementVNode("div",vi,[t.createElementVNode("div",xi,[t.createElementVNode("span",Si,t.toDisplayString(t.unref(i).speaker.displayName),1),t.createElementVNode("span",Ci,t.toDisplayString(m.value)+"x",1)]),t.createElementVNode("div",Ni,[t.createVNode(t.unref(T.ElIcon),{onClick:$,class:"fs-6",style:t.normalizeStyle({color:c.value?"red":"white"})},{default:t.withCtx(()=>[c.value?(t.openBlock(),t.createBlock(t.unref(de.StarFilled),{key:0})):(t.openBlock(),t.createBlock(t.unref(de.Star),{key:1}))]),_:1},8,["style"]),t.unref(i).speaker.isSupper24K?(t.openBlock(),t.createElementBlock("span",Vi," 24K ")):t.createCommentVNode("",!0)])])]),t.createElementVNode("div",$i,[Ri,t.createElementVNode("div",Ti,[t.createElementVNode("span",null,t.toDisplayString(w.value),1),Di,t.createElementVNode("span",null,t.toDisplayString(u.value),1)]),t.createVNode(t.unref(T.ElSlider),{max:d.value,modelValue:p.value,"onUpdate:modelValue":N[0]||(N[0]=S=>p.value=S),size:"small"},null,8,["max","modelValue"])])]),t.createElementVNode("div",Oi,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i).speaker.roles,(S,R)=>(t.openBlock(),t.createElementBlock("div",{onClick:O=>V(S.value),key:R,class:t.normalizeClass(["rounded-pill px-1",{border:S.value===(t.unref(r).role||"")}])},t.toDisplayString(S.label),11,Bi))),128))]),t.createElementVNode("ul",Ii,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(i).speaker.styles,(S,R)=>(t.openBlock(),t.createElementBlock("li",{class:"mx-2",onClick:O=>_(S.value),key:R},[t.createVNode(yi,{activate:S.value===(t.unref(r).style||""),data:S},null,8,["activate","data"])],8,Li))),128))]),Mi,t.createElementVNode("div",Pi,[t.createElementVNode("div",null,[t.createElementVNode("span",null,"语速："+t.toDisplayString(m.value)+"x",1)]),t.createVNode(t.unref(T.ElSlider),{modelValue:m.value,"onUpdate:modelValue":N[1]||(N[1]=S=>m.value=S),min:h.value[0],max:h.value[1],step:.05,marks:v},null,8,["modelValue","min","max","marks"])]),t.createElementVNode("div",Ai,[t.createElementVNode("div",null,[t.createElementVNode("span",null,"语调："+t.toDisplayString(f.value),1)]),t.createVNode(t.unref(T.ElSlider),{modelValue:f.value,"onUpdate:modelValue":N[2]||(N[2]=S=>f.value=S),min:g.value[0],max:g.value[1],step:.2,marks:E},null,8,["modelValue","min","max","marks"])]),t.createElementVNode("div",null,[t.createElementVNode("ul",Fi,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(s),(S,R)=>(t.openBlock(),t.createElementBlock("li",{onClick:O=>B(S.value),key:R,class:t.normalizeClass(["rounded-pill px-1",{border:S.value===b.value}])},t.toDisplayString(S.label),11,Hi))),128))]),t.createElementVNode("ul",ji,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(x.value,(S,R)=>(t.openBlock(),t.createElementBlock("li",{onClick:O=>P(S),key:R},[t.createVNode(_o,{activate:S.name===t.unref(i).speaker.name,data:{...S,label:S.displayName,value:S.name}},null,8,["activate","data"])],8,Ui))),128))])])]))}}),su="",Wi=K(zi,[["__scopeId","data-v-0210af00"]]),Gi=e=>(t.pushScopeId("data-v-b9c1f88f"),e=e(),t.popScopeId(),e),qi={class:"box ms-2"},Yi={class:"try-play-header text-center d-flex flex-row justify-content-between"},Ki={class:"try-play-body d-flex flex-row"},Xi={class:"try-play-left w-50 border-right border-secondary"},Ji={class:"pe-1"},Qi=Gi(()=>t.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),Zi={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},ec=t.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(e,{emit:n}){const o=e,r=t.ref(),a=t.ref(""),s=t.ref(),l=t.ref(),i=t.ref(je());t.onMounted(()=>{window.addEventListener("keydown",c)}),t.onUnmounted(()=>{window.addEventListener("keydown",c)}),t.watch(()=>o.visible,f=>{f&&m()});function c(f){f.code==="Escape"&&o.visible&&h()}const{position:d}=bt(l,{initialValue:{x:40,y:40}}),{style:p}=wt(s,d);t.onMounted(()=>{d.value.x=(window.innerWidth-890)/2,d.value.y=(window.innerHeight-390)/2});function h(){n("update:visible",!1)}function m(){t.nextTick(()=>{var f,u;(u=(f=r.value)==null?void 0:f.input)==null||u.focus()})}function g(){i.value={...i.value,word:a.value}}return(f,u)=>t.withDirectives((t.openBlock(),t.createElementBlock("div",{ref_key:"boxRef",ref:s,style:t.normalizeStyle([t.unref(p),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[t.createElementVNode("div",qi,[t.createElementVNode("div",Yi,[t.createElementVNode("div",{ref_key:"handleRef",ref:l,class:"col-11 try-play-move"},null,512),t.createElementVNode("div",{onClick:h,class:"col-1 try-play-menu-close"},[t.createVNode(t.unref(T.ElIcon),{color:"white"},{default:t.withCtx(()=>[t.createVNode(t.unref(de.Minus))]),_:1})])]),t.createElementVNode("div",Ki,[t.createElementVNode("div",Xi,[t.createElementVNode("div",Ji,[t.createVNode(t.unref(T.ElForm),{onSubmit:t.withModifiers(g,["prevent"])},{default:t.withCtx(()=>[t.createVNode(t.unref(T.ElInput),{"input-style":{color:"white"},ref_key:"searchInputRef",ref:r,modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=w=>a.value=w),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),t.createVNode(fi,{filter:i.value,"onUpdate:filter":u[1]||(u[1]=w=>i.value=w)},null,8,["filter"]),Qi,t.createVNode(li,{filter:i.value},null,8,["filter"])]),t.createElementVNode("div",Zi,[t.createVNode(Wi)])])])],4)),[[t.vShow,f.visible]])}}),lu="",tc=K(ec,[["__scopeId","data-v-b9c1f88f"]]),wo=t.defineComponent({__name:"try-play",setup(e){const n=t.ref(!0);function o(r){r||(n.value=!0)}return(r,a)=>(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[t.createVNode(ti,{visible:n.value,"onUpdate:visible":a[0]||(a[0]=s=>n.value=s)},null,8,["visible"]),t.createVNode(tc,{visible:!n.value,"onUpdate:visible":o},null,8,["visible"])]))}}),iu="",nc={install:e=>{e.component("PlayMenu",no),e.component("PinyinMenu",oo),e.component("ContinuousMenu",ro),e.component("ReadMenu",ao),e.component("DigitalMenu",so),e.component("AliasMenu",lo),e.component("EnglishMenu",io),e.component("ChangespeedMenu",co),e.component("RhythmMenu",uo),e.component("SpecialMenu",fo),e.component("MuteMenu",po),e.component("BgmMenu",mo),e.component("SensitiveMenu",ho),e.component("ManagementMenu",go),e.component("ConversionMenu",bo),e.component("TryPlay",wo)}},cu="",du="";var Dt={exports:{}},Ot={exports:{}};(function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ParsingError=void 0;class o extends Error{constructor(x,$){super(x),this.cause=$}}n.ParsingError=o;let r;function a(){return c(!1)||m()||h()||p()}function s(){return u(/\s*/),c(!0)||h()||d()||i(!1)}function l(){const b=i(!0),x=[];let $,V=s();for(;V;){if(V.node.type==="Element"){if($)throw new Error("Found multiple root nodes");$=V.node}V.excluded||x.push(V.node),V=s()}if(!$)throw new o("Failed to parse XML","Root Element not found");if(r.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:b?b.node:null,root:$,children:x}}function i(b){const x=u(b?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!x)return;const $={name:x[1],type:"ProcessingInstruction",attributes:{}};for(;!(w()||v("?>"));){const V=g();if(V)$.attributes[V.name]=V.value;else return}return u(/\?>/),{excluded:b?!1:r.options.filter($)===!1,node:$}}function c(b){const x=u(/^<([^?!</>\s]+)\s*/);if(!x)return;const $={type:"Element",name:x[1],attributes:{},children:[]},V=b?!1:r.options.filter($)===!1;for(;!(w()||v(">")||v("?>")||v("/>"));){const B=g();if(B)$.attributes[B.name]=B.value;else return}if(u(/^\s*\/>/))return $.children=null,{excluded:V,node:$};u(/\??>/);let _=a();for(;_;)_.excluded||$.children.push(_.node),_=a();if(r.options.strictMode){const B=`</${$.name}>`;if(r.xml.startsWith(B))r.xml=r.xml.slice(B.length);else throw new o("Failed to parse XML",`Closing tag not matching "${B}"`)}else u(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:V,node:$}}function d(){const b=u(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||u(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||u(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||u(/^<!DOCTYPE\s+\S+\s*>/);if(b){const x={type:"DocumentType",content:b[0]};return{excluded:r.options.filter(x)===!1,node:x}}}function p(){if(r.xml.startsWith("<![CDATA[")){const b=r.xml.indexOf("]]>");if(b>-1){const x=b+3,$={type:"CDATA",content:r.xml.substring(0,x)};return r.xml=r.xml.slice(x),{excluded:r.options.filter($)===!1,node:$}}}}function h(){const b=u(/^<!--[\s\S]*?-->/);if(b){const x={type:"Comment",content:b[0]};return{excluded:r.options.filter(x)===!1,node:x}}}function m(){const b=u(/^([^<]+)/);if(b){const x={type:"Text",content:b[1]};return{excluded:r.options.filter(x)===!1,node:x}}}function g(){const b=u(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(b)return{name:b[1].trim(),value:f(b[2].trim())}}function f(b){return b.replace(/^['"]|['"]$/g,"")}function u(b){const x=r.xml.match(b);if(x)return r.xml=r.xml.slice(x[0].length),x}function w(){return r.xml.length===0}function v(b){return r.xml.indexOf(b)===0}function E(b,x={}){b=b.trim();const $=x.filter||(()=>!0);return r={xml:b,options:Object.assign(Object.assign({},x),{filter:$,strictMode:x.strictMode===!0})},l()}e.exports=E,n.default=E})(Ot,Ot.exports);var oc=Ot.exports;(function(e,n){var o=we&&we.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(n,"__esModule",{value:!0});const r=o(oc);function a(f){if(!f.options.indentation&&!f.options.lineSeparator)return;f.content+=f.options.lineSeparator;let u;for(u=0;u<f.level;u++)f.content+=f.options.indentation}function s(f){f.content=f.content.replace(/ +$/,"");let u;for(u=0;u<f.level;u++)f.content+=f.options.indentation}function l(f,u){f.content+=u}function i(f,u,w){if(typeof f.content=="string")c(f.content,u,w);else if(f.type==="Element")p(f,u,w);else if(f.type==="ProcessingInstruction")m(f,u);else throw new Error("Unknown node type: "+f.type)}function c(f,u,w){if(!w){const v=f.trim();(u.options.lineSeparator||v.length===0)&&(f=v)}f.length>0&&(!w&&u.content.length>0&&a(u),l(u,f))}function d(f,u){const w="/"+f.join("/"),v=f[f.length-1];return u.includes(v)||u.includes(w)}function p(f,u,w){if(u.path.push(f.name),!w&&u.content.length>0&&a(u),l(u,"<"+f.name),h(u,f.attributes),f.children===null||u.options.forceSelfClosingEmptyTag&&f.children.length===0){const v=u.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";l(u,v)}else if(f.children.length===0)l(u,"></"+f.name+">");else{const v=f.children;l(u,">"),u.level++;let E=f.attributes["xml:space"]==="preserve",b=!1;if(!E&&u.options.ignoredPaths&&(b=d(u.path,u.options.ignoredPaths),E=b),!E&&u.options.collapseContent){let x=!1,$=!1,V=!1;v.forEach(function(_,B){_.type==="Text"?(_.content.includes(`
`)?($=!0,_.content=_.content.trim()):(B===0||B===v.length-1)&&_.content.trim().length===0&&(_.content=""),_.content.trim().length>0&&(x=!0)):_.type==="CDATA"?x=!0:V=!0}),x&&(!V||!$)&&(E=!0)}v.forEach(function(x){i(x,u,w||E)}),u.level--,!w&&!E&&a(u),b&&s(u),l(u,"</"+f.name+">")}u.path.pop()}function h(f,u){Object.keys(u).forEach(function(w){const v=u[w].replace(/"/g,"&quot;");l(f," "+w+'="'+v+'"')})}function m(f,u){u.content.length>0&&a(u),l(u,"<?"+f.name),h(u,f.attributes),l(u,"?>")}function g(f,u={}){u.indentation="indentation"in u?u.indentation:"    ",u.collapseContent=u.collapseContent===!0,u.lineSeparator="lineSeparator"in u?u.lineSeparator:`\r
`,u.whiteSpaceAtEndOfSelfclosingTag=u.whiteSpaceAtEndOfSelfclosingTag===!0,u.throwOnFailure=u.throwOnFailure!==!1;try{const w=(0,r.default)(f,{filter:u.filter,strictMode:u.strictMode}),v={content:"",level:0,options:u,path:[]};return w.declaration&&m(w.declaration,v),w.children.forEach(function(E){i(E,v,!1)}),u.lineSeparator?v.content.replace(/\r\n/g,`
`).replace(/\n/g,u.lineSeparator):v.content}catch(w){if(u.throwOnFailure)throw w;return f}}g.minify=(f,u={})=>g(f,Object.assign(Object.assign({},u),{indentation:"",lineSeparator:""})),e.exports=g,n.default=g})(Dt,Dt.exports);var rc=Dt.exports;const ac=lt(rc),Ce=e=>(t.pushScopeId("data-v-fb2870b0"),e=e(),t.popScopeId(),e),sc={class:"editor-title d-flex flex-row align-item-center justify-content-between"},lc={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},ic=Ce(()=>t.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),cc={class:"author d-flex flex-row align-items-center justify-content-start"},dc=Ce(()=>t.createElementVNode("div",null,"未保存",-1)),uc=Ce(()=>t.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),fc=Ce(()=>t.createElementVNode("div",{class:"d-inline-block"},null,-1)),pc={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},mc=Ce(()=>t.createElementVNode("div",{class:"menu-divider"},null,-1)),hc=Ce(()=>t.createElementVNode("div",{class:"px-1"},null,-1)),yc={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},gc={class:"dialog-footer"},bc=t.defineComponent({__name:"editor-title",setup(e){const n=t.ref(!1),o=t.ref(""),{rootBackgroundaudio:r}=he(),a=t.computed(()=>ac(o.value,{indentation:"    ",filter:d=>d.type!=="Comment",collapseContent:!0,lineSeparator:`
`})),s=()=>{o.value=Ye(),n.value=!0},l=()=>{r.src&&me.play(r.src)},i=()=>{me.stop(r.src),r.src="",r.remark=""};async function c(d){await navigator.clipboard.writeText(d?a.value:o.value),n.value=!1}return(d,p)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",sc,[t.createElementVNode("div",lc,[ic,t.createElementVNode("div",cc,[dc,t.unref(r).src?(t.openBlock(),t.createBlock(t.unref(T.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:l,onClose:i},{default:t.withCtx(()=>[uc,fc,t.createElementVNode("span",null,t.toDisplayString(t.unref(r).remark),1)]),_:1})):t.createCommentVNode("",!0)])]),t.createElementVNode("div",pc,[t.createVNode(t.unref(T.ElButton),{type:"primary",icon:t.unref(de.Share),disabled:""},{default:t.withCtx(()=>[t.createTextVNode("分享")]),_:1},8,["icon"]),mc,t.createVNode(t.unref(T.ElButton),{type:"primary",onClick:s},{default:t.withCtx(()=>[t.createTextVNode("查看SSML")]),_:1}),t.createVNode(t.unref(T.ElButton),{disabled:""},{default:t.withCtx(()=>[t.createTextVNode("下载音频")]),_:1}),t.createVNode(t.unref(T.ElButton),{disabled:""},{default:t.withCtx(()=>[t.createTextVNode("下载视频")]),_:1}),t.createVNode(t.unref(T.ElButton),{disabled:""},{default:t.withCtx(()=>[t.createTextVNode("下载字幕")]),_:1}),t.createVNode(t.unref(T.ElButton),{disabled:""},{default:t.withCtx(()=>[t.createTextVNode("声音转换")]),_:1}),hc])]),t.createVNode(t.unref(T.ElDialog),{modelValue:n.value,"onUpdate:modelValue":p[4]||(p[4]=h=>n.value=h),title:"查看SSML",width:"80%"},{header:t.withCtx(()=>[t.createVNode(t.unref(T.ElButton),{type:"info",onClick:p[0]||(p[0]=h=>c(!0))},{default:t.withCtx(()=>[t.createTextVNode("复制+关闭")]),_:1}),t.createVNode(t.unref(T.ElButton),{type:"primary",onClick:p[1]||(p[1]=h=>c(!1))},{default:t.withCtx(()=>[t.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})]),footer:t.withCtx(()=>[t.createElementVNode("span",gc,[t.createVNode(t.unref(T.ElButton),{type:"info",onClick:p[2]||(p[2]=h=>c(!0))},{default:t.withCtx(()=>[t.createTextVNode("复制+关闭")]),_:1}),t.createVNode(t.unref(T.ElButton),{type:"primary",onClick:p[3]||(p[3]=h=>c(!1))},{default:t.withCtx(()=>[t.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})])]),default:t.withCtx(()=>[t.createElementVNode("pre",yc,t.toDisplayString(a.value),1)]),_:1},8,["modelValue"])],64))}}),uu="",_c=K(bc,[["__scopeId","data-v-fb2870b0"]]),wc=t.defineComponent({__name:"editor-core",emits:["created","change"],setup(e,{emit:n}){const{editor:o,setEditor:r,globalEditConfig:a}=q(),s=t.ref(null);t.onMounted(()=>{l()}),t.onUnmounted(()=>{o==null||o.destroy()});function l(){if(!s.value)return;const i=y.createEditor({selector:s.value,mode:"simple",config:{...t.toRaw(a.editorConfig),onCreated(c){n("created",c),G.emit(j.EDITOR_CREATED,c)},onChange(c){n("change",c)}}});r(i),i.on(M.ERROR,a.handleError)}return(i,c)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"boxRef",ref:s,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),Ec={class:"bar-view border-bottom border-1"},kc=t.defineComponent({__name:"bar-view",setup(e){return(n,o)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("div",Ec,[t.createVNode(t.unref(Hn),null,{default:t.withCtx(()=>[t.createVNode(t.unref(ve),{divider:"green"},{default:t.withCtx(()=>[t.createVNode(t.unref(no))]),_:1}),t.createVNode(t.unref(ve),{divider:"cyan"},{default:t.withCtx(()=>[t.createVNode(t.unref(oo)),t.createVNode(t.unref(ao)),t.createVNode(t.unref(so)),t.createVNode(t.unref(ro)),t.createVNode(t.unref(lo)),t.createVNode(t.unref(io))]),_:1}),t.createVNode(t.unref(ve),{divider:"orange"},{default:t.withCtx(()=>[t.createVNode(t.unref(co)),t.createVNode(t.unref(go)),t.createVNode(t.unref(bo))]),_:1}),t.createVNode(t.unref(ve),{divider:"purple"},{default:t.withCtx(()=>[t.createVNode(t.unref(uo)),t.createVNode(t.unref(po))]),_:1}),t.createVNode(t.unref(ve),{divider:"yellow"},{default:t.withCtx(()=>[t.createVNode(t.unref(fo)),t.createVNode(t.unref(mo))]),_:1})]),_:1})]),t.createVNode(t.unref(wo))],64))}}),vc={class:"editor-box"},xc={class:"editor-core-container shadow pt-1"},Sc=t.defineComponent({__name:"editor-view",emits:["created","change"],setup(e,{emit:n}){const o=l=>{n("created",l)},r=l=>{n("change",l)};function a(l){G.emit(j.VIEW_CLICK,l)}function s(l){G.emit(j.VIEW_KEYDOWN,l)}return(l,i)=>(t.openBlock(),t.createElementBlock("div",{class:"editor-view",onClick:a,onKeydown:s},[t.renderSlot(l.$slots,"default",{},()=>[t.createVNode(_c)],!0),t.createElementVNode("div",vc,[t.createVNode(kc),t.createElementVNode("div",xc,[t.createVNode(wc,{onChange:r,onCreated:o})])])],32))}}),fu="",Eo=K(Sc,[["__scopeId","data-v-b5e6df8c"]]),Cc={install(e){e.component("EditorView",Eo)}},Nc={install(e,n){e.use(Ko()),e.use(()=>{const{setGlobalEditConfig:o}=q(),r=at(n);o(r),G.on(j.ERROR,r.handleError)}),e.use(sa),e.use(ws),e.use(nc),e.use(Cc)}};D.AudioPlayer=Tn,D.CancellationTokenSource=ht,D.DOMComment=Br,D.DOMElement=Ir,D.DOMNode=Or,D.DOMRange=Mr,D.DOMSelection=Pr,D.DOMStaticRange=Ar,D.DOMText=Lr,D.EMITTER_EVENT=j,D.EditorView=Eo,D.FileSelector=Dn,D.Timer=On,D.WANGEDITOR_EVENT=M,D.audioPlayer=me,D.createGlobalEditorConfig=at,D.default=Nc,D.defaultFilterSpeaker=je,D.defaultLabelValue=la,D.defaultSpeaker=In,D.demoAvatar=_e,D.formatTime=mt,D.genRandomStr=Hr,D.pitch=nn,D.serializeToSSML=Ye,D.speed=tn,Object.defineProperties(D,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
