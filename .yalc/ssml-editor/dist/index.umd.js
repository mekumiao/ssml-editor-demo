(function(ne,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue"),require("@wangeditor/editor"),require("element-plus"),require("@element-plus/icons-vue")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor","element-plus","@element-plus/icons-vue"],n):(ne=typeof globalThis<"u"?globalThis:ne||self,n(ne.SSMLEditor={},ne.Vue,ne.wangEditor,ne.ElementPlus,ne.ElementPlusIconsVue))})(this,function(ne,n,R,j,en){"use strict";var _1=Object.defineProperty;var y1=(ne,n,R)=>n in ne?_1(ne,n,{enumerable:!0,configurable:!0,writable:!0,value:R}):ne[n]=R;var Ne=(ne,n,R)=>(y1(ne,typeof n!="symbol"?n+"":n,R),R);const w1="",v1="";var Vs=!1;function yr(r,s,o){return Array.isArray(r)?(r.length=Math.max(r.length,s),r.splice(s,1,o),o):(r[s]=o,o)}function To(r,s){if(Array.isArray(r)){r.splice(s,1);return}delete r[s]}function Ku(){return As().__VUE_DEVTOOLS_GLOBAL_HOOK__}function As(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Yu=typeof Proxy=="function",Xu="devtools-plugin:setup",Ju="plugin:settings:set";let yn,$o;function Zu(){var r;return yn!==void 0||(typeof window<"u"&&window.performance?(yn=!0,$o=window.performance):typeof global<"u"&&(!((r=global.perf_hooks)===null||r===void 0)&&r.performance)?(yn=!0,$o=global.perf_hooks.performance):yn=!1),yn}function Qu(){return Zu()?$o.now():Date.now()}class ju{constructor(s,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=o;const a={};if(s.settings)for(const p in s.settings){const m=s.settings[p];a[p]=m.defaultValue}const c=`__vue-devtools-plugin-settings__${s.id}`;let f=Object.assign({},a);try{const p=localStorage.getItem(c),m=JSON.parse(p);Object.assign(f,m)}catch{}this.fallbacks={getSettings(){return f},setSettings(p){try{localStorage.setItem(c,JSON.stringify(p))}catch{}f=p},now(){return Qu()}},o&&o.on(Ju,(p,m)=>{p===this.plugin.id&&this.fallbacks.setSettings(m)}),this.proxiedOn=new Proxy({},{get:(p,m)=>this.target?this.target.on[m]:(..._)=>{this.onQueue.push({method:m,args:_})}}),this.proxiedTarget=new Proxy({},{get:(p,m)=>this.target?this.target[m]:m==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(m)?(..._)=>(this.targetQueue.push({method:m,args:_,resolve:()=>{}}),this.fallbacks[m](..._)):(..._)=>new Promise(y=>{this.targetQueue.push({method:m,args:_,resolve:y})})})}async setRealTarget(s){this.target=s;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function Os(r,s){const o=r,a=As(),c=Ku(),f=Yu&&o.enableEarlyProxy;if(c&&(a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!f))c.emit(Xu,r,s);else{const p=f?new ju(o,c):null;(a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:s,proxy:p}),p&&s(p.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Gn;const qn=r=>Gn=r,Ds=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function tn(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var kt;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(kt||(kt={}));const wr=typeof window<"u",Kn=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&wr,Is=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function ef(r,{autoBom:s=!1}={}){return s&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}function Vo(r,s,o){const a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){Ps(a.response,s,o)},a.onerror=function(){console.error("could not download file")},a.send()}function Ls(r){const s=new XMLHttpRequest;s.open("HEAD",r,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function vr(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}}const br=typeof navigator=="object"?navigator:{userAgent:""},Bs=(()=>/Macintosh/.test(br.userAgent)&&/AppleWebKit/.test(br.userAgent)&&!/Safari/.test(br.userAgent))(),Ps=wr?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Bs?tf:"msSaveOrOpenBlob"in br?nf:rf:()=>{};function tf(r,s="download",o){const a=document.createElement("a");a.download=s,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Ls(a.href)?Vo(r,s,o):(a.target="_blank",vr(a)):vr(a)):(a.href=URL.createObjectURL(r),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){vr(a)},0))}function nf(r,s="download",o){if(typeof r=="string")if(Ls(r))Vo(r,s,o);else{const a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){vr(a)})}else navigator.msSaveOrOpenBlob(ef(r,o),s)}function rf(r,s,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return Vo(r,s,o);const c=r.type==="application/octet-stream",f=/constructor/i.test(String(Is.HTMLElement))||"safari"in Is,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||c&&f||Bs)&&typeof FileReader<"u"){const m=new FileReader;m.onloadend=function(){let _=m.result;if(typeof _!="string")throw a=null,new Error("Wrong reader.result type");_=p?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=_:location.assign(_),a=null},m.readAsDataURL(r)}else{const m=URL.createObjectURL(r);a?a.location.assign(m):location.href=m,a=null,setTimeout(function(){URL.revokeObjectURL(m)},4e4)}}function Ae(r,s){const o="🍍 "+r;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,s):s==="error"?console.error(o):s==="warn"?console.warn(o):console.log(o)}function Ao(r){return"_a"in r&&"install"in r}function Ms(){if(!("clipboard"in navigator))return Ae("Your browser doesn't support the Clipboard API","error"),!0}function Fs(r){return r instanceof Error&&r.message.toLowerCase().includes("document is not focused")?(Ae('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function of(r){if(!Ms())try{await navigator.clipboard.writeText(JSON.stringify(r.state.value)),Ae("Global state copied to clipboard.")}catch(s){if(Fs(s))return;Ae("Failed to serialize the state. Check the console for more details.","error"),console.error(s)}}async function sf(r){if(!Ms())try{Us(r,JSON.parse(await navigator.clipboard.readText())),Ae("Global state pasted from clipboard.")}catch(s){if(Fs(s))return;Ae("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(s)}}async function af(r){try{Ps(new Blob([JSON.stringify(r.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(s){Ae("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}let Vt;function lf(){Vt||(Vt=document.createElement("input"),Vt.type="file",Vt.accept=".json");function r(){return new Promise((s,o)=>{Vt.onchange=async()=>{const a=Vt.files;if(!a)return s(null);const c=a.item(0);return s(c?{text:await c.text(),file:c}:null)},Vt.oncancel=()=>s(null),Vt.onerror=o,Vt.click()})}return r}async function cf(r){try{const o=await lf()();if(!o)return;const{text:a,file:c}=o;Us(r,JSON.parse(a)),Ae(`Global state imported from "${c.name}".`)}catch(s){Ae("Failed to import the state from JSON. Check the console for more details.","error"),console.error(s)}}function Us(r,s){for(const o in s){const a=r.state.value[o];a&&Object.assign(a,s[o])}}function yt(r){return{_custom:{display:r}}}const Hs="🍍 Pinia (root)",Oo="_root";function uf(r){return Ao(r)?{id:Oo,label:Hs}:{id:r.$id,label:r.$id}}function ff(r){if(Ao(r)){const o=Array.from(r._s.keys()),a=r._s;return{state:o.map(f=>({editable:!0,key:f,value:r.state.value[f]})),getters:o.filter(f=>a.get(f)._getters).map(f=>{const p=a.get(f);return{editable:!1,key:f,value:p._getters.reduce((m,_)=>(m[_]=p[_],m),{})}})}}const s={state:Object.keys(r.$state).map(o=>({editable:!0,key:o,value:r.$state[o]}))};return r._getters&&r._getters.length&&(s.getters=r._getters.map(o=>({editable:!1,key:o,value:r[o]}))),r._customProperties.size&&(s.customProperties=Array.from(r._customProperties).map(o=>({editable:!0,key:o,value:r[o]}))),s}function df(r){return r?Array.isArray(r)?r.reduce((s,o)=>(s.keys.push(o.key),s.operations.push(o.type),s.oldValue[o.key]=o.oldValue,s.newValue[o.key]=o.newValue,s),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:yt(r.type),key:yt(r.key),oldValue:r.oldValue,newValue:r.newValue}:{}}function pf(r){switch(r){case kt.direct:return"mutation";case kt.patchFunction:return"$patch";case kt.patchObject:return"$patch";default:return"unknown"}}let wn=!0;const Er=[],nn="pinia:mutations",Fe="pinia",{assign:hf}=Object,xr=r=>"🍍 "+r;function mf(r,s){Os({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Er,app:r},o=>{typeof o.now!="function"&&Ae("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:nn,label:"Pinia 🍍",color:15064968}),o.addInspector({id:Fe,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{of(s)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await sf(s),o.sendInspectorTree(Fe),o.sendInspectorState(Fe)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{af(s)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await cf(s),o.sendInspectorTree(Fe),o.sendInspectorState(Fe)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:a=>{const c=s._s.get(a);c?typeof c.$reset!="function"?Ae(`Cannot reset "${a}" store because it doesn't have a "$reset" method implemented.`,"warn"):(c.$reset(),Ae(`Store "${a}" reset.`)):Ae(`Cannot reset "${a}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((a,c)=>{const f=a.componentInstance&&a.componentInstance.proxy;if(f&&f._pStores){const p=a.componentInstance.proxy._pStores;Object.values(p).forEach(m=>{a.instanceData.state.push({type:xr(m.$id),key:"state",editable:!0,value:m._isOptionsAPI?{_custom:{value:n.toRaw(m.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>m.$reset()}]}}:Object.keys(m.$state).reduce((_,y)=>(_[y]=m.$state[y],_),{})}),m._getters&&m._getters.length&&a.instanceData.state.push({type:xr(m.$id),key:"getters",editable:!1,value:m._getters.reduce((_,y)=>{try{_[y]=m[y]}catch(S){_[y]=S}return _},{})})})}}),o.on.getInspectorTree(a=>{if(a.app===r&&a.inspectorId===Fe){let c=[s];c=c.concat(Array.from(s._s.values())),a.rootNodes=(a.filter?c.filter(f=>"$id"in f?f.$id.toLowerCase().includes(a.filter.toLowerCase()):Hs.toLowerCase().includes(a.filter.toLowerCase())):c).map(uf)}}),o.on.getInspectorState(a=>{if(a.app===r&&a.inspectorId===Fe){const c=a.nodeId===Oo?s:s._s.get(a.nodeId);if(!c)return;c&&(a.state=ff(c))}}),o.on.editInspectorState((a,c)=>{if(a.app===r&&a.inspectorId===Fe){const f=a.nodeId===Oo?s:s._s.get(a.nodeId);if(!f)return Ae(`store "${a.nodeId}" not found`,"error");const{path:p}=a;Ao(f)?p.unshift("state"):(p.length!==1||!f._customProperties.has(p[0])||p[0]in f.$state)&&p.unshift("$state"),wn=!1,a.set(f,p,a.state.value),wn=!0}}),o.on.editComponentState(a=>{if(a.type.startsWith("🍍")){const c=a.type.replace(/^🍍\s*/,""),f=s._s.get(c);if(!f)return Ae(`store "${c}" not found`,"error");const{path:p}=a;if(p[0]!=="state")return Ae(`Invalid path for store "${c}":
${p}
Only state can be modified.`);p[0]="$state",wn=!1,a.set(f,p,a.state.value),wn=!0}})})}function gf(r,s){Er.includes(xr(s.$id))||Er.push(xr(s.$id)),Os({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Er,app:r,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const a=typeof o.now=="function"?o.now.bind(o):Date.now;s.$onAction(({after:p,onError:m,name:_,args:y})=>{const S=Ws++;o.addTimelineEvent({layerId:nn,event:{time:a(),title:"🛫 "+_,subtitle:"start",data:{store:yt(s.$id),action:yt(_),args:y},groupId:S}}),p(k=>{Ht=void 0,o.addTimelineEvent({layerId:nn,event:{time:a(),title:"🛬 "+_,subtitle:"end",data:{store:yt(s.$id),action:yt(_),args:y,result:k},groupId:S}})}),m(k=>{Ht=void 0,o.addTimelineEvent({layerId:nn,event:{time:a(),logType:"error",title:"💥 "+_,subtitle:"end",data:{store:yt(s.$id),action:yt(_),args:y,error:k},groupId:S}})})},!0),s._customProperties.forEach(p=>{n.watch(()=>n.unref(s[p]),(m,_)=>{o.notifyComponentUpdate(),o.sendInspectorState(Fe),wn&&o.addTimelineEvent({layerId:nn,event:{time:a(),title:"Change",subtitle:p,data:{newValue:m,oldValue:_},groupId:Ht}})},{deep:!0})}),s.$subscribe(({events:p,type:m},_)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(Fe),!wn)return;const y={time:a(),title:pf(m),data:hf({store:yt(s.$id)},df(p)),groupId:Ht};m===kt.patchFunction?y.subtitle="⤵️":m===kt.patchObject?y.subtitle="🧩":p&&!Array.isArray(p)&&(y.subtitle=p.type),p&&(y.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:p}}),o.addTimelineEvent({layerId:nn,event:y})},{detached:!0,flush:"sync"});const c=s._hotUpdate;s._hotUpdate=n.markRaw(p=>{c(p),o.addTimelineEvent({layerId:nn,event:{time:a(),title:"🔥 "+s.$id,subtitle:"HMR update",data:{store:yt(s.$id),info:yt("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(Fe),o.sendInspectorState(Fe)});const{$dispose:f}=s;s.$dispose=()=>{f(),o.notifyComponentUpdate(),o.sendInspectorTree(Fe),o.sendInspectorState(Fe),o.getSettings().logStoreChanges&&Ae(`Disposed "${s.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(Fe),o.sendInspectorState(Fe),o.getSettings().logStoreChanges&&Ae(`"${s.$id}" store installed 🆕`)})}let Ws=0,Ht;function zs(r,s,o){const a=s.reduce((c,f)=>(c[f]=n.toRaw(r)[f],c),{});for(const c in a)r[c]=function(){const f=Ws,p=o?new Proxy(r,{get(..._){return Ht=f,Reflect.get(..._)},set(..._){return Ht=f,Reflect.set(..._)}}):r;Ht=f;const m=a[c].apply(p,arguments);return Ht=void 0,m}}function _f({app:r,store:s,options:o}){if(s.$id.startsWith("__hot:"))return;s._isOptionsAPI=!!o.state,zs(s,Object.keys(o.actions),s._isOptionsAPI);const a=s._hotUpdate;n.toRaw(s)._hotUpdate=function(c){a.apply(this,arguments),zs(s,Object.keys(c._hmrPayload.actions),!!s._isOptionsAPI)},gf(r,s)}function yf(){const r=n.effectScope(!0),s=r.run(()=>n.ref({}));let o=[],a=[];const c=n.markRaw({install(f){qn(c),c._a=f,f.provide(Ds,c),f.config.globalProperties.$pinia=c,Kn&&mf(f,c),a.forEach(p=>o.push(p)),a=[]},use(f){return!this._a&&!Vs?a.push(f):o.push(f),this},_p:o,_a:null,_e:r,_s:new Map,state:s});return Kn&&typeof Proxy<"u"&&c.use(_f),c}function Gs(r,s){for(const o in s){const a=s[o];if(!(o in r))continue;const c=r[o];tn(c)&&tn(a)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=Gs(c,a):r[o]=a}return r}const qs=()=>{};function Ks(r,s,o,a=qs){r.push(s);const c=()=>{const f=r.indexOf(s);f>-1&&(r.splice(f,1),a())};return!o&&n.getCurrentScope()&&n.onScopeDispose(c),c}function vn(r,...s){r.slice().forEach(o=>{o(...s)})}const wf=r=>r();function Do(r,s){r instanceof Map&&s instanceof Map&&s.forEach((o,a)=>r.set(a,o)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const o in s){if(!s.hasOwnProperty(o))continue;const a=s[o],c=r[o];tn(c)&&tn(a)&&r.hasOwnProperty(o)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=Do(c,a):r[o]=a}return r}const vf=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function bf(r){return!tn(r)||!r.hasOwnProperty(vf)}const{assign:st}=Object;function Ys(r){return!!(n.isRef(r)&&r.effect)}function Xs(r,s,o,a){const{state:c,actions:f,getters:p}=s,m=o.state.value[r];let _;function y(){!m&&(process.env.NODE_ENV==="production"||!a)&&(o.state.value[r]=c?c():{});const S=process.env.NODE_ENV!=="production"&&a?n.toRefs(n.ref(c?c():{}).value):n.toRefs(o.state.value[r]);return st(S,f,Object.keys(p||{}).reduce((k,C)=>(process.env.NODE_ENV!=="production"&&C in S&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${C}" in store "${r}".`),k[C]=n.markRaw(n.computed(()=>{qn(o);const T=o._s.get(r);return p[C].call(T,T)})),k),{}))}return _=Io(r,y,s,o,a,!0),_}function Io(r,s,o={},a,c,f){let p;const m=st({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!a._e.active)throw new Error("Pinia destroyed");const _={deep:!0};process.env.NODE_ENV!=="production"&&!Vs&&(_.onTrigger=H=>{y?T=H:y==!1&&!D._hotUpdating&&(Array.isArray(T)?T.push(H):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let y,S,k=[],C=[],T;const E=a.state.value[r];!f&&!E&&(process.env.NODE_ENV==="production"||!c)&&(a.state.value[r]={});const v=n.ref({});let I;function B(H){let W;y=S=!1,process.env.NODE_ENV!=="production"&&(T=[]),typeof H=="function"?(H(a.state.value[r]),W={type:kt.patchFunction,storeId:r,events:T}):(Do(a.state.value[r],H),W={type:kt.patchObject,payload:H,storeId:r,events:T});const U=I=Symbol();n.nextTick().then(()=>{I===U&&(y=!0)}),S=!0,vn(k,W,a.state.value[r])}const P=f?function(){const{state:W}=o,U=W?W():{};this.$patch(K=>{st(K,U)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${r}" is built using the setup syntax and does not implement $reset().`)}:qs;function V(){p.stop(),k=[],C=[],a._s.delete(r)}function F(H,W){return function(){qn(a);const U=Array.from(arguments),K=[],se=[];function Be(_e){K.push(_e)}function Nt(_e){se.push(_e)}vn(C,{args:U,name:H,store:D,after:Be,onError:Nt});let Oe;try{Oe=W.apply(this&&this.$id===r?this:D,U)}catch(_e){throw vn(se,_e),_e}return Oe instanceof Promise?Oe.then(_e=>(vn(K,_e),_e)).catch(_e=>(vn(se,_e),Promise.reject(_e))):(vn(K,Oe),Oe)}}const G=n.markRaw({actions:{},getters:{},state:[],hotState:v}),X={_p:a,$id:r,$onAction:Ks.bind(null,C),$patch:B,$reset:P,$subscribe(H,W={}){const U=Ks(k,H,W.detached,()=>K()),K=p.run(()=>n.watch(()=>a.state.value[r],se=>{(W.flush==="sync"?S:y)&&H({storeId:r,type:kt.direct,events:T},se)},st({},_,W)));return U},$dispose:V},D=n.reactive(process.env.NODE_ENV!=="production"||Kn?st({_hmrPayload:G,_customProperties:n.markRaw(new Set)},X):X);a._s.set(r,D);const ue=a._a&&a._a.runWithContext||wf,Ee=a._e.run(()=>(p=n.effectScope(),ue(()=>p.run(s))));for(const H in Ee){const W=Ee[H];if(n.isRef(W)&&!Ys(W)||n.isReactive(W))process.env.NODE_ENV!=="production"&&c?yr(v.value,H,n.toRef(Ee,H)):f||(E&&bf(W)&&(n.isRef(W)?W.value=E[H]:Do(W,E[H])),a.state.value[r][H]=W),process.env.NODE_ENV!=="production"&&G.state.push(H);else if(typeof W=="function"){const U=process.env.NODE_ENV!=="production"&&c?W:F(H,W);Ee[H]=U,process.env.NODE_ENV!=="production"&&(G.actions[H]=W),m.actions[H]=W}else process.env.NODE_ENV!=="production"&&Ys(W)&&(G.getters[H]=f?o.getters[H]:W,wr&&(Ee._getters||(Ee._getters=n.markRaw([]))).push(H))}if(st(D,Ee),st(n.toRaw(D),Ee),Object.defineProperty(D,"$state",{get:()=>process.env.NODE_ENV!=="production"&&c?v.value:a.state.value[r],set:H=>{if(process.env.NODE_ENV!=="production"&&c)throw new Error("cannot set hotState");B(W=>{st(W,H)})}}),process.env.NODE_ENV!=="production"&&(D._hotUpdate=n.markRaw(H=>{D._hotUpdating=!0,H._hmrPayload.state.forEach(W=>{if(W in D.$state){const U=H.$state[W],K=D.$state[W];typeof U=="object"&&tn(U)&&tn(K)?Gs(U,K):H.$state[W]=K}yr(D,W,n.toRef(H.$state,W))}),Object.keys(D.$state).forEach(W=>{W in H.$state||To(D,W)}),y=!1,S=!1,a.state.value[r]=n.toRef(H._hmrPayload,"hotState"),S=!0,n.nextTick().then(()=>{y=!0});for(const W in H._hmrPayload.actions){const U=H[W];yr(D,W,F(W,U))}for(const W in H._hmrPayload.getters){const U=H._hmrPayload.getters[W],K=f?n.computed(()=>(qn(a),U.call(D,D))):U;yr(D,W,K)}Object.keys(D._hmrPayload.getters).forEach(W=>{W in H._hmrPayload.getters||To(D,W)}),Object.keys(D._hmrPayload.actions).forEach(W=>{W in H._hmrPayload.actions||To(D,W)}),D._hmrPayload=H._hmrPayload,D._getters=H._getters,D._hotUpdating=!1})),Kn){const H={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(W=>{Object.defineProperty(D,W,st({value:D[W]},H))})}return a._p.forEach(H=>{if(Kn){const W=p.run(()=>H({store:D,app:a._a,pinia:a,options:m}));Object.keys(W||{}).forEach(U=>D._customProperties.add(U)),st(D,W)}else st(D,p.run(()=>H({store:D,app:a._a,pinia:a,options:m})))}),process.env.NODE_ENV!=="production"&&D.$state&&typeof D.$state=="object"&&typeof D.$state.constructor=="function"&&!D.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${D.$id}".`),E&&f&&o.hydrate&&o.hydrate(D.$state,E),y=!0,S=!0,D}function Sr(r,s,o){let a,c;const f=typeof s=="function";if(typeof r=="string")a=r,c=f?o:s;else if(c=r,a=r.id,process.env.NODE_ENV!=="production"&&typeof a!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function p(m,_){const y=n.hasInjectionContext();if(m=(process.env.NODE_ENV==="test"&&Gn&&Gn._testing?null:m)||(y?n.inject(Ds,null):null),m&&qn(m),process.env.NODE_ENV!=="production"&&!Gn)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);m=Gn,m._s.has(a)||(f?Io(a,s,c,m):Xs(a,c,m),process.env.NODE_ENV!=="production"&&(p._pinia=m));const S=m._s.get(a);if(process.env.NODE_ENV!=="production"&&_){const k="__hot:"+a,C=f?Io(k,s,c,m,!0):Xs(k,st({},c),m,!0);_._hotUpdate(C),delete m.state.value[k],m._s.delete(k)}if(process.env.NODE_ENV!=="production"&&wr){const k=n.getCurrentInstance();if(k&&k.proxy&&!_){const C=k.proxy,T="_pStores"in C?C._pStores:C._pStores={};T[a]=S}}return S}return p.$id=a,p}function Js(r){{r=n.toRaw(r);const s={};for(const o in r){const a=r[o];(n.isRef(a)||n.isReactive(a))&&(s[o]=n.toRef(r,o))}return s}}function Lo(){return{id:"",src:""}}const Ef=()=>[{value:"0.5",label:"0.5x"},{value:"0.6",label:"0.6x"},{value:"0.7",label:"0.7x"},{value:"0.8",label:"0.8x"},{value:"0.9",label:"0.9x"},{value:"1.0",label:"1.0x"},{value:"1.1",label:"1.1x"},{value:"1.2",label:"1.2x"},{value:"1.4",label:"1.4x"},{value:"1.5",label:"1.5x"},{value:"1.75",label:"1.75x"},{value:"2.0",label:"2.0x"}],xf=()=>[{value:"-10",label:"-10"},{value:"-9",label:"-9"},{value:"-8",label:"-8"},{value:"-7",label:"-7"},{value:"-6",label:"-6"},{value:"-5",label:"-5"},{value:"-4",label:"-4"},{value:"-3",label:"-3"},{value:"-2",label:"-2"},{value:"-1",label:"-1"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"}];function Sf(r){return`${(.05*r*100).toFixed(0)}%`}function Cf(r){return`${((r-1)*100).toFixed(0)}%`}function Zs(){return{category:"",name:"",role:"",style:"",speed:"1.0",pitch:"0"}}function kf(){return{...Zs(),id:"",label:""}}function at(){return()=>Promise.resolve([])}function Bo(r){const s=(r==null?void 0:r.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(r==null?void 0:r.handleError)||(()=>{}),a=(r==null?void 0:r.pinyin)||{fetchData:at()},c=(r==null?void 0:r.english)||{fetchData:at()},f=(r==null?void 0:r.special)||{fetchData:at(),fetchScene:at(),fetchStyle:at()},p=(r==null?void 0:r.bgm)||{fetchData:at(),fetchScene:at(),fetchStyle:at()},m=(r==null?void 0:r.tryPlay)||{play:()=>Promise.resolve(Lo()),fetchData:at(),featchTag:at(),fetchStar:()=>Promise.resolve(!0)},_=(r==null?void 0:r.conversion)||{timeoutMilliseconds:2e4,audioUpload:()=>Promise.resolve(Lo()),transfer:()=>Promise.resolve(Lo()),fetchSpeaker:at()},y=(r==null?void 0:r.management)||{recordRecentUsage:()=>Promise.resolve(kf()),fetchRecentUsage:at(),deleteRecentUsage:()=>Promise.resolve()},S=f,k=p,C=m;return S.menus??(S.menus=[{label:"默认音效",value:""},{label:"自定义音效",value:"custom"},{label:"最近音效",value:"history"}]),k.menus??(k.menus=[{label:"默认配乐",value:""},{label:"自定义配乐",value:"custom"},{label:"最近配乐",value:"history"}]),C.gender??(C.gender=[{label:"全部",value:""},{label:"男声",value:"Male"},{label:"女声",value:"Female"}]),C.topFlag??(C.topFlag=[{label:"热榜",value:""},{label:"SVIP",value:"SVIP"},{label:"付费",value:"付费"}]),C.category??(C.category=[{label:"常用",value:"常用"},{label:"已购",value:"已购"},{label:"收藏",value:"收藏"},{label:"我的",value:"我的"}]),{editorConfig:s,handleError:o,pinyin:a,english:c,bgm:k,special:S,tryPlay:C,conversion:_,management:y}}const Qs=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),js=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),bn=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png",ze=Sr("--editor-config",()=>{const r=n.shallowRef(),s=n.shallowRef(),o=n.computed(()=>r.value),a=n.computed(()=>{if(s.value)return s.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:a,setEditor:p=>{r.value=p},setGlobalEditConfig:p=>{s.value=p??Bo()}}}),Nf=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-audio"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-audio"?!R.SlateNode.string(c):o(c),a};function ea(r,s,o,a,c){const f=s===void 0?void 0:s.key;return{sel:r,data:s,children:o,text:a,elm:c,key:f}}const ta=Array.isArray;function Po(r){return typeof r=="string"||typeof r=="number"||r instanceof String||r instanceof Number}function na(r,s,o){if(r.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&s!==void 0)for(let a=0;a<s.length;++a){const c=s[a];if(typeof c=="string")continue;const f=c.data;f!==void 0&&na(f,c.children,c.sel)}}function M(r,s,o){let a={},c,f,p;if(o!==void 0?(s!==null&&(a=s),ta(o)?c=o:Po(o)?f=o.toString():o&&o.sel&&(c=[o])):s!=null&&(ta(s)?c=s:Po(s)?f=s.toString():s&&s.sel?c=[s]:a=s),c!==void 0)for(p=0;p<c.length;++p)Po(c[p])&&(c[p]=ea(void 0,void 0,void 0,c[p],void 0));return r[0]==="s"&&r[1]==="v"&&r[2]==="g"&&(r.length===3||r[3]==="."||r[3]==="#")&&na(a,c,r),ea(r,a,c,f,void 0)}var rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Cr.exports,function(r,s){(function(){var o,a="4.17.21",c=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",m="Invalid `variable` option passed into `_.template`",_="__lodash_hash_undefined__",y=500,S="__lodash_placeholder__",k=1,C=2,T=4,E=1,v=2,I=1,B=2,P=4,V=8,F=16,G=32,X=64,D=128,ue=256,Ee=512,H=30,W="...",U=800,K=16,se=1,Be=2,Nt=3,Oe=1/0,_e=9007199254740991,Rn=17976931348623157e292,ye=0/0,Ce=4294967295,Ir=Ce-1,Lr=Ce>>>1,Tn=[["ary",D],["bind",I],["bindKey",B],["curry",V],["curryRight",F],["flip",Ee],["partial",G],["partialRight",X],["rearg",ue]],zt="[object Arguments]",ln="[object Array]",ml="[object AsyncFunction]",Jn="[object Boolean]",Zn="[object Date]",Og="[object DOMException]",Br="[object Error]",Pr="[object Function]",gl="[object GeneratorFunction]",vt="[object Map]",Qn="[object Number]",Dg="[object Null]",At="[object Object]",_l="[object Promise]",Ig="[object Proxy]",jn="[object RegExp]",bt="[object Set]",er="[object String]",Mr="[object Symbol]",Lg="[object Undefined]",tr="[object WeakMap]",Bg="[object WeakSet]",nr="[object ArrayBuffer]",$n="[object DataView]",ui="[object Float32Array]",fi="[object Float64Array]",di="[object Int8Array]",pi="[object Int16Array]",hi="[object Int32Array]",mi="[object Uint8Array]",gi="[object Uint8ClampedArray]",_i="[object Uint16Array]",yi="[object Uint32Array]",Pg=/\b__p \+= '';/g,Mg=/\b(__p \+=) '' \+/g,Fg=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yl=/&(?:amp|lt|gt|quot|#39);/g,wl=/[&<>"']/g,Ug=RegExp(yl.source),Hg=RegExp(wl.source),Wg=/<%-([\s\S]+?)%>/g,zg=/<%([\s\S]+?)%>/g,vl=/<%=([\s\S]+?)%>/g,Gg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qg=/^\w*$/,Kg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wi=/[\\^$.*+?()[\]{}|]/g,Yg=RegExp(wi.source),vi=/^\s+/,Xg=/\s/,Jg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zg=/\{\n\/\* \[wrapped with (.+)\] \*/,Qg=/,? & /,jg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,e_=/[()=,{}\[\]\/\s]/,t_=/\\(\\)?/g,n_=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bl=/\w*$/,r_=/^[-+]0x[0-9a-f]+$/i,o_=/^0b[01]+$/i,i_=/^\[object .+?Constructor\]$/,s_=/^0o[0-7]+$/i,a_=/^(?:0|[1-9]\d*)$/,l_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Fr=/($^)/,c_=/['\n\r\u2028\u2029\\]/g,Ur="\\ud800-\\udfff",u_="\\u0300-\\u036f",f_="\\ufe20-\\ufe2f",d_="\\u20d0-\\u20ff",El=u_+f_+d_,xl="\\u2700-\\u27bf",Sl="a-z\\xdf-\\xf6\\xf8-\\xff",p_="\\xac\\xb1\\xd7\\xf7",h_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",m_="\\u2000-\\u206f",g_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cl="A-Z\\xc0-\\xd6\\xd8-\\xde",kl="\\ufe0e\\ufe0f",Nl=p_+h_+m_+g_,bi="['’]",__="["+Ur+"]",Rl="["+Nl+"]",Hr="["+El+"]",Tl="\\d+",y_="["+xl+"]",$l="["+Sl+"]",Vl="[^"+Ur+Nl+Tl+xl+Sl+Cl+"]",Ei="\\ud83c[\\udffb-\\udfff]",w_="(?:"+Hr+"|"+Ei+")",Al="[^"+Ur+"]",xi="(?:\\ud83c[\\udde6-\\uddff]){2}",Si="[\\ud800-\\udbff][\\udc00-\\udfff]",Vn="["+Cl+"]",Ol="\\u200d",Dl="(?:"+$l+"|"+Vl+")",v_="(?:"+Vn+"|"+Vl+")",Il="(?:"+bi+"(?:d|ll|m|re|s|t|ve))?",Ll="(?:"+bi+"(?:D|LL|M|RE|S|T|VE))?",Bl=w_+"?",Pl="["+kl+"]?",b_="(?:"+Ol+"(?:"+[Al,xi,Si].join("|")+")"+Pl+Bl+")*",E_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",x_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ml=Pl+Bl+b_,S_="(?:"+[y_,xi,Si].join("|")+")"+Ml,C_="(?:"+[Al+Hr+"?",Hr,xi,Si,__].join("|")+")",k_=RegExp(bi,"g"),N_=RegExp(Hr,"g"),Ci=RegExp(Ei+"(?="+Ei+")|"+C_+Ml,"g"),R_=RegExp([Vn+"?"+$l+"+"+Il+"(?="+[Rl,Vn,"$"].join("|")+")",v_+"+"+Ll+"(?="+[Rl,Vn+Dl,"$"].join("|")+")",Vn+"?"+Dl+"+"+Il,Vn+"+"+Ll,x_,E_,Tl,S_].join("|"),"g"),T_=RegExp("["+Ol+Ur+El+kl+"]"),$_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,V_=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],A_=-1,ve={};ve[ui]=ve[fi]=ve[di]=ve[pi]=ve[hi]=ve[mi]=ve[gi]=ve[_i]=ve[yi]=!0,ve[zt]=ve[ln]=ve[nr]=ve[Jn]=ve[$n]=ve[Zn]=ve[Br]=ve[Pr]=ve[vt]=ve[Qn]=ve[At]=ve[jn]=ve[bt]=ve[er]=ve[tr]=!1;var we={};we[zt]=we[ln]=we[nr]=we[$n]=we[Jn]=we[Zn]=we[ui]=we[fi]=we[di]=we[pi]=we[hi]=we[vt]=we[Qn]=we[At]=we[jn]=we[bt]=we[er]=we[Mr]=we[mi]=we[gi]=we[_i]=we[yi]=!0,we[Br]=we[Pr]=we[tr]=!1;var O_={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},D_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},I_={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},L_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},B_=parseFloat,P_=parseInt,Fl=typeof rn=="object"&&rn&&rn.Object===Object&&rn,M_=typeof self=="object"&&self&&self.Object===Object&&self,Pe=Fl||M_||Function("return this")(),ki=s&&!s.nodeType&&s,cn=ki&&!0&&r&&!r.nodeType&&r,Ul=cn&&cn.exports===ki,Ni=Ul&&Fl.process,ut=function(){try{var b=cn&&cn.require&&cn.require("util").types;return b||Ni&&Ni.binding&&Ni.binding("util")}catch{}}(),Hl=ut&&ut.isArrayBuffer,Wl=ut&&ut.isDate,zl=ut&&ut.isMap,Gl=ut&&ut.isRegExp,ql=ut&&ut.isSet,Kl=ut&&ut.isTypedArray;function et(b,$,N){switch(N.length){case 0:return b.call($);case 1:return b.call($,N[0]);case 2:return b.call($,N[0],N[1]);case 3:return b.call($,N[0],N[1],N[2])}return b.apply($,N)}function F_(b,$,N,q){for(var ee=-1,de=b==null?0:b.length;++ee<de;){var $e=b[ee];$(q,$e,N($e),b)}return q}function ft(b,$){for(var N=-1,q=b==null?0:b.length;++N<q&&$(b[N],N,b)!==!1;);return b}function U_(b,$){for(var N=b==null?0:b.length;N--&&$(b[N],N,b)!==!1;);return b}function Yl(b,$){for(var N=-1,q=b==null?0:b.length;++N<q;)if(!$(b[N],N,b))return!1;return!0}function Gt(b,$){for(var N=-1,q=b==null?0:b.length,ee=0,de=[];++N<q;){var $e=b[N];$($e,N,b)&&(de[ee++]=$e)}return de}function Wr(b,$){var N=b==null?0:b.length;return!!N&&An(b,$,0)>-1}function Ri(b,$,N){for(var q=-1,ee=b==null?0:b.length;++q<ee;)if(N($,b[q]))return!0;return!1}function xe(b,$){for(var N=-1,q=b==null?0:b.length,ee=Array(q);++N<q;)ee[N]=$(b[N],N,b);return ee}function qt(b,$){for(var N=-1,q=$.length,ee=b.length;++N<q;)b[ee+N]=$[N];return b}function Ti(b,$,N,q){var ee=-1,de=b==null?0:b.length;for(q&&de&&(N=b[++ee]);++ee<de;)N=$(N,b[ee],ee,b);return N}function H_(b,$,N,q){var ee=b==null?0:b.length;for(q&&ee&&(N=b[--ee]);ee--;)N=$(N,b[ee],ee,b);return N}function $i(b,$){for(var N=-1,q=b==null?0:b.length;++N<q;)if($(b[N],N,b))return!0;return!1}var W_=Vi("length");function z_(b){return b.split("")}function G_(b){return b.match(jg)||[]}function Xl(b,$,N){var q;return N(b,function(ee,de,$e){if($(ee,de,$e))return q=de,!1}),q}function zr(b,$,N,q){for(var ee=b.length,de=N+(q?1:-1);q?de--:++de<ee;)if($(b[de],de,b))return de;return-1}function An(b,$,N){return $===$?ry(b,$,N):zr(b,Jl,N)}function q_(b,$,N,q){for(var ee=N-1,de=b.length;++ee<de;)if(q(b[ee],$))return ee;return-1}function Jl(b){return b!==b}function Zl(b,$){var N=b==null?0:b.length;return N?Oi(b,$)/N:ye}function Vi(b){return function($){return $==null?o:$[b]}}function Ai(b){return function($){return b==null?o:b[$]}}function Ql(b,$,N,q,ee){return ee(b,function(de,$e,ge){N=q?(q=!1,de):$(N,de,$e,ge)}),N}function K_(b,$){var N=b.length;for(b.sort($);N--;)b[N]=b[N].value;return b}function Oi(b,$){for(var N,q=-1,ee=b.length;++q<ee;){var de=$(b[q]);de!==o&&(N=N===o?de:N+de)}return N}function Di(b,$){for(var N=-1,q=Array(b);++N<b;)q[N]=$(N);return q}function Y_(b,$){return xe($,function(N){return[N,b[N]]})}function jl(b){return b&&b.slice(0,rc(b)+1).replace(vi,"")}function tt(b){return function($){return b($)}}function Ii(b,$){return xe($,function(N){return b[N]})}function rr(b,$){return b.has($)}function ec(b,$){for(var N=-1,q=b.length;++N<q&&An($,b[N],0)>-1;);return N}function tc(b,$){for(var N=b.length;N--&&An($,b[N],0)>-1;);return N}function X_(b,$){for(var N=b.length,q=0;N--;)b[N]===$&&++q;return q}var J_=Ai(O_),Z_=Ai(D_);function Q_(b){return"\\"+L_[b]}function j_(b,$){return b==null?o:b[$]}function On(b){return T_.test(b)}function ey(b){return $_.test(b)}function ty(b){for(var $,N=[];!($=b.next()).done;)N.push($.value);return N}function Li(b){var $=-1,N=Array(b.size);return b.forEach(function(q,ee){N[++$]=[ee,q]}),N}function nc(b,$){return function(N){return b($(N))}}function Kt(b,$){for(var N=-1,q=b.length,ee=0,de=[];++N<q;){var $e=b[N];($e===$||$e===S)&&(b[N]=S,de[ee++]=N)}return de}function Gr(b){var $=-1,N=Array(b.size);return b.forEach(function(q){N[++$]=q}),N}function ny(b){var $=-1,N=Array(b.size);return b.forEach(function(q){N[++$]=[q,q]}),N}function ry(b,$,N){for(var q=N-1,ee=b.length;++q<ee;)if(b[q]===$)return q;return-1}function oy(b,$,N){for(var q=N+1;q--;)if(b[q]===$)return q;return q}function Dn(b){return On(b)?sy(b):W_(b)}function Et(b){return On(b)?ay(b):z_(b)}function rc(b){for(var $=b.length;$--&&Xg.test(b.charAt($)););return $}var iy=Ai(I_);function sy(b){for(var $=Ci.lastIndex=0;Ci.test(b);)++$;return $}function ay(b){return b.match(Ci)||[]}function ly(b){return b.match(R_)||[]}var cy=function b($){$=$==null?Pe:In.defaults(Pe.Object(),$,In.pick(Pe,V_));var N=$.Array,q=$.Date,ee=$.Error,de=$.Function,$e=$.Math,ge=$.Object,Bi=$.RegExp,uy=$.String,dt=$.TypeError,qr=N.prototype,fy=de.prototype,Ln=ge.prototype,Kr=$["__core-js_shared__"],Yr=fy.toString,he=Ln.hasOwnProperty,dy=0,oc=function(){var e=/[^.]+$/.exec(Kr&&Kr.keys&&Kr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Xr=Ln.toString,py=Yr.call(ge),hy=Pe._,my=Bi("^"+Yr.call(he).replace(wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jr=Ul?$.Buffer:o,Yt=$.Symbol,Zr=$.Uint8Array,ic=Jr?Jr.allocUnsafe:o,Qr=nc(ge.getPrototypeOf,ge),sc=ge.create,ac=Ln.propertyIsEnumerable,jr=qr.splice,lc=Yt?Yt.isConcatSpreadable:o,or=Yt?Yt.iterator:o,un=Yt?Yt.toStringTag:o,eo=function(){try{var e=mn(ge,"defineProperty");return e({},"",{}),e}catch{}}(),gy=$.clearTimeout!==Pe.clearTimeout&&$.clearTimeout,_y=q&&q.now!==Pe.Date.now&&q.now,yy=$.setTimeout!==Pe.setTimeout&&$.setTimeout,to=$e.ceil,no=$e.floor,Pi=ge.getOwnPropertySymbols,wy=Jr?Jr.isBuffer:o,cc=$.isFinite,vy=qr.join,by=nc(ge.keys,ge),Ve=$e.max,He=$e.min,Ey=q.now,xy=$.parseInt,uc=$e.random,Sy=qr.reverse,Mi=mn($,"DataView"),ir=mn($,"Map"),Fi=mn($,"Promise"),Bn=mn($,"Set"),sr=mn($,"WeakMap"),ar=mn(ge,"create"),ro=sr&&new sr,Pn={},Cy=gn(Mi),ky=gn(ir),Ny=gn(Fi),Ry=gn(Bn),Ty=gn(sr),oo=Yt?Yt.prototype:o,lr=oo?oo.valueOf:o,fc=oo?oo.toString:o;function d(e){if(ke(e)&&!te(e)&&!(e instanceof le)){if(e instanceof pt)return e;if(he.call(e,"__wrapped__"))return du(e)}return new pt(e)}var Mn=function(){function e(){}return function(t){if(!Se(t))return{};if(sc)return sc(t);e.prototype=t;var i=new e;return e.prototype=o,i}}();function io(){}function pt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}d.templateSettings={escape:Wg,evaluate:zg,interpolate:vl,variable:"",imports:{_:d}},d.prototype=io.prototype,d.prototype.constructor=d,pt.prototype=Mn(io.prototype),pt.prototype.constructor=pt;function le(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function $y(){var e=new le(this.__wrapped__);return e.__actions__=Je(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Je(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Je(this.__views__),e}function Vy(){if(this.__filtered__){var e=new le(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ay(){var e=this.__wrapped__.value(),t=this.__dir__,i=te(e),l=t<0,u=i?e.length:0,h=z0(0,u,this.__views__),g=h.start,w=h.end,x=w-g,A=l?w:g-1,O=this.__iteratees__,L=O.length,z=0,Y=He(x,this.__takeCount__);if(!i||!l&&u==x&&Y==x)return Ic(e,this.__actions__);var Z=[];e:for(;x--&&z<Y;){A+=t;for(var oe=-1,Q=e[A];++oe<L;){var ae=O[oe],ce=ae.iteratee,ot=ae.type,Ye=ce(Q);if(ot==Be)Q=Ye;else if(!Ye){if(ot==se)continue e;break e}}Z[z++]=Q}return Z}le.prototype=Mn(io.prototype),le.prototype.constructor=le;function fn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Oy(){this.__data__=ar?ar(null):{},this.size=0}function Dy(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Iy(e){var t=this.__data__;if(ar){var i=t[e];return i===_?o:i}return he.call(t,e)?t[e]:o}function Ly(e){var t=this.__data__;return ar?t[e]!==o:he.call(t,e)}function By(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ar&&t===o?_:t,this}fn.prototype.clear=Oy,fn.prototype.delete=Dy,fn.prototype.get=Iy,fn.prototype.has=Ly,fn.prototype.set=By;function Ot(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Py(){this.__data__=[],this.size=0}function My(e){var t=this.__data__,i=so(t,e);if(i<0)return!1;var l=t.length-1;return i==l?t.pop():jr.call(t,i,1),--this.size,!0}function Fy(e){var t=this.__data__,i=so(t,e);return i<0?o:t[i][1]}function Uy(e){return so(this.__data__,e)>-1}function Hy(e,t){var i=this.__data__,l=so(i,e);return l<0?(++this.size,i.push([e,t])):i[l][1]=t,this}Ot.prototype.clear=Py,Ot.prototype.delete=My,Ot.prototype.get=Fy,Ot.prototype.has=Uy,Ot.prototype.set=Hy;function Dt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Wy(){this.size=0,this.__data__={hash:new fn,map:new(ir||Ot),string:new fn}}function zy(e){var t=wo(this,e).delete(e);return this.size-=t?1:0,t}function Gy(e){return wo(this,e).get(e)}function qy(e){return wo(this,e).has(e)}function Ky(e,t){var i=wo(this,e),l=i.size;return i.set(e,t),this.size+=i.size==l?0:1,this}Dt.prototype.clear=Wy,Dt.prototype.delete=zy,Dt.prototype.get=Gy,Dt.prototype.has=qy,Dt.prototype.set=Ky;function dn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new Dt;++t<i;)this.add(e[t])}function Yy(e){return this.__data__.set(e,_),this}function Xy(e){return this.__data__.has(e)}dn.prototype.add=dn.prototype.push=Yy,dn.prototype.has=Xy;function xt(e){var t=this.__data__=new Ot(e);this.size=t.size}function Jy(){this.__data__=new Ot,this.size=0}function Zy(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function Qy(e){return this.__data__.get(e)}function jy(e){return this.__data__.has(e)}function e0(e,t){var i=this.__data__;if(i instanceof Ot){var l=i.__data__;if(!ir||l.length<c-1)return l.push([e,t]),this.size=++i.size,this;i=this.__data__=new Dt(l)}return i.set(e,t),this.size=i.size,this}xt.prototype.clear=Jy,xt.prototype.delete=Zy,xt.prototype.get=Qy,xt.prototype.has=jy,xt.prototype.set=e0;function dc(e,t){var i=te(e),l=!i&&_n(e),u=!i&&!l&&jt(e),h=!i&&!l&&!u&&Wn(e),g=i||l||u||h,w=g?Di(e.length,uy):[],x=w.length;for(var A in e)(t||he.call(e,A))&&!(g&&(A=="length"||u&&(A=="offset"||A=="parent")||h&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Pt(A,x)))&&w.push(A);return w}function pc(e){var t=e.length;return t?e[Zi(0,t-1)]:o}function t0(e,t){return vo(Je(e),pn(t,0,e.length))}function n0(e){return vo(Je(e))}function Ui(e,t,i){(i!==o&&!St(e[t],i)||i===o&&!(t in e))&&It(e,t,i)}function cr(e,t,i){var l=e[t];(!(he.call(e,t)&&St(l,i))||i===o&&!(t in e))&&It(e,t,i)}function so(e,t){for(var i=e.length;i--;)if(St(e[i][0],t))return i;return-1}function r0(e,t,i,l){return Xt(e,function(u,h,g){t(l,u,i(u),g)}),l}function hc(e,t){return e&&Tt(t,De(t),e)}function o0(e,t){return e&&Tt(t,Qe(t),e)}function It(e,t,i){t=="__proto__"&&eo?eo(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Hi(e,t){for(var i=-1,l=t.length,u=N(l),h=e==null;++i<l;)u[i]=h?o:Es(e,t[i]);return u}function pn(e,t,i){return e===e&&(i!==o&&(e=e<=i?e:i),t!==o&&(e=e>=t?e:t)),e}function ht(e,t,i,l,u,h){var g,w=t&k,x=t&C,A=t&T;if(i&&(g=u?i(e,l,u,h):i(e)),g!==o)return g;if(!Se(e))return e;var O=te(e);if(O){if(g=q0(e),!w)return Je(e,g)}else{var L=We(e),z=L==Pr||L==gl;if(jt(e))return Pc(e,w);if(L==At||L==zt||z&&!u){if(g=x||z?{}:ru(e),!w)return x?I0(e,o0(g,e)):D0(e,hc(g,e))}else{if(!we[L])return u?e:{};g=K0(e,L,w)}}h||(h=new xt);var Y=h.get(e);if(Y)return Y;h.set(e,g),Au(e)?e.forEach(function(Q){g.add(ht(Q,t,i,Q,e,h))}):$u(e)&&e.forEach(function(Q,ae){g.set(ae,ht(Q,t,i,ae,e,h))});var Z=A?x?ls:as:x?Qe:De,oe=O?o:Z(e);return ft(oe||e,function(Q,ae){oe&&(ae=Q,Q=e[ae]),cr(g,ae,ht(Q,t,i,ae,e,h))}),g}function i0(e){var t=De(e);return function(i){return mc(i,e,t)}}function mc(e,t,i){var l=i.length;if(e==null)return!l;for(e=ge(e);l--;){var u=i[l],h=t[u],g=e[u];if(g===o&&!(u in e)||!h(g))return!1}return!0}function gc(e,t,i){if(typeof e!="function")throw new dt(p);return gr(function(){e.apply(o,i)},t)}function ur(e,t,i,l){var u=-1,h=Wr,g=!0,w=e.length,x=[],A=t.length;if(!w)return x;i&&(t=xe(t,tt(i))),l?(h=Ri,g=!1):t.length>=c&&(h=rr,g=!1,t=new dn(t));e:for(;++u<w;){var O=e[u],L=i==null?O:i(O);if(O=l||O!==0?O:0,g&&L===L){for(var z=A;z--;)if(t[z]===L)continue e;x.push(O)}else h(t,L,l)||x.push(O)}return x}var Xt=Wc(Rt),_c=Wc(zi,!0);function s0(e,t){var i=!0;return Xt(e,function(l,u,h){return i=!!t(l,u,h),i}),i}function ao(e,t,i){for(var l=-1,u=e.length;++l<u;){var h=e[l],g=t(h);if(g!=null&&(w===o?g===g&&!rt(g):i(g,w)))var w=g,x=h}return x}function a0(e,t,i,l){var u=e.length;for(i=re(i),i<0&&(i=-i>u?0:u+i),l=l===o||l>u?u:re(l),l<0&&(l+=u),l=i>l?0:Du(l);i<l;)e[i++]=t;return e}function yc(e,t){var i=[];return Xt(e,function(l,u,h){t(l,u,h)&&i.push(l)}),i}function Me(e,t,i,l,u){var h=-1,g=e.length;for(i||(i=X0),u||(u=[]);++h<g;){var w=e[h];t>0&&i(w)?t>1?Me(w,t-1,i,l,u):qt(u,w):l||(u[u.length]=w)}return u}var Wi=zc(),wc=zc(!0);function Rt(e,t){return e&&Wi(e,t,De)}function zi(e,t){return e&&wc(e,t,De)}function lo(e,t){return Gt(t,function(i){return Mt(e[i])})}function hn(e,t){t=Zt(t,e);for(var i=0,l=t.length;e!=null&&i<l;)e=e[$t(t[i++])];return i&&i==l?e:o}function vc(e,t,i){var l=t(e);return te(e)?l:qt(l,i(e))}function qe(e){return e==null?e===o?Lg:Dg:un&&un in ge(e)?W0(e):nw(e)}function Gi(e,t){return e>t}function l0(e,t){return e!=null&&he.call(e,t)}function c0(e,t){return e!=null&&t in ge(e)}function u0(e,t,i){return e>=He(t,i)&&e<Ve(t,i)}function qi(e,t,i){for(var l=i?Ri:Wr,u=e[0].length,h=e.length,g=h,w=N(h),x=1/0,A=[];g--;){var O=e[g];g&&t&&(O=xe(O,tt(t))),x=He(O.length,x),w[g]=!i&&(t||u>=120&&O.length>=120)?new dn(g&&O):o}O=e[0];var L=-1,z=w[0];e:for(;++L<u&&A.length<x;){var Y=O[L],Z=t?t(Y):Y;if(Y=i||Y!==0?Y:0,!(z?rr(z,Z):l(A,Z,i))){for(g=h;--g;){var oe=w[g];if(!(oe?rr(oe,Z):l(e[g],Z,i)))continue e}z&&z.push(Z),A.push(Y)}}return A}function f0(e,t,i,l){return Rt(e,function(u,h,g){t(l,i(u),h,g)}),l}function fr(e,t,i){t=Zt(t,e),e=au(e,t);var l=e==null?e:e[$t(gt(t))];return l==null?o:et(l,e,i)}function bc(e){return ke(e)&&qe(e)==zt}function d0(e){return ke(e)&&qe(e)==nr}function p0(e){return ke(e)&&qe(e)==Zn}function dr(e,t,i,l,u){return e===t?!0:e==null||t==null||!ke(e)&&!ke(t)?e!==e&&t!==t:h0(e,t,i,l,dr,u)}function h0(e,t,i,l,u,h){var g=te(e),w=te(t),x=g?ln:We(e),A=w?ln:We(t);x=x==zt?At:x,A=A==zt?At:A;var O=x==At,L=A==At,z=x==A;if(z&&jt(e)){if(!jt(t))return!1;g=!0,O=!1}if(z&&!O)return h||(h=new xt),g||Wn(e)?eu(e,t,i,l,u,h):U0(e,t,x,i,l,u,h);if(!(i&E)){var Y=O&&he.call(e,"__wrapped__"),Z=L&&he.call(t,"__wrapped__");if(Y||Z){var oe=Y?e.value():e,Q=Z?t.value():t;return h||(h=new xt),u(oe,Q,i,l,h)}}return z?(h||(h=new xt),H0(e,t,i,l,u,h)):!1}function m0(e){return ke(e)&&We(e)==vt}function Ki(e,t,i,l){var u=i.length,h=u,g=!l;if(e==null)return!h;for(e=ge(e);u--;){var w=i[u];if(g&&w[2]?w[1]!==e[w[0]]:!(w[0]in e))return!1}for(;++u<h;){w=i[u];var x=w[0],A=e[x],O=w[1];if(g&&w[2]){if(A===o&&!(x in e))return!1}else{var L=new xt;if(l)var z=l(A,O,x,e,t,L);if(!(z===o?dr(O,A,E|v,l,L):z))return!1}}return!0}function Ec(e){if(!Se(e)||Z0(e))return!1;var t=Mt(e)?my:i_;return t.test(gn(e))}function g0(e){return ke(e)&&qe(e)==jn}function _0(e){return ke(e)&&We(e)==bt}function y0(e){return ke(e)&&ko(e.length)&&!!ve[qe(e)]}function xc(e){return typeof e=="function"?e:e==null?je:typeof e=="object"?te(e)?kc(e[0],e[1]):Cc(e):Gu(e)}function Yi(e){if(!mr(e))return by(e);var t=[];for(var i in ge(e))he.call(e,i)&&i!="constructor"&&t.push(i);return t}function w0(e){if(!Se(e))return tw(e);var t=mr(e),i=[];for(var l in e)l=="constructor"&&(t||!he.call(e,l))||i.push(l);return i}function Xi(e,t){return e<t}function Sc(e,t){var i=-1,l=Ze(e)?N(e.length):[];return Xt(e,function(u,h,g){l[++i]=t(u,h,g)}),l}function Cc(e){var t=us(e);return t.length==1&&t[0][2]?iu(t[0][0],t[0][1]):function(i){return i===e||Ki(i,e,t)}}function kc(e,t){return ds(e)&&ou(t)?iu($t(e),t):function(i){var l=Es(i,e);return l===o&&l===t?xs(i,e):dr(t,l,E|v)}}function co(e,t,i,l,u){e!==t&&Wi(t,function(h,g){if(u||(u=new xt),Se(h))v0(e,t,g,i,co,l,u);else{var w=l?l(hs(e,g),h,g+"",e,t,u):o;w===o&&(w=h),Ui(e,g,w)}},Qe)}function v0(e,t,i,l,u,h,g){var w=hs(e,i),x=hs(t,i),A=g.get(x);if(A){Ui(e,i,A);return}var O=h?h(w,x,i+"",e,t,g):o,L=O===o;if(L){var z=te(x),Y=!z&&jt(x),Z=!z&&!Y&&Wn(x);O=x,z||Y||Z?te(w)?O=w:Re(w)?O=Je(w):Y?(L=!1,O=Pc(x,!0)):Z?(L=!1,O=Mc(x,!0)):O=[]:_r(x)||_n(x)?(O=w,_n(w)?O=Iu(w):(!Se(w)||Mt(w))&&(O=ru(x))):L=!1}L&&(g.set(x,O),u(O,x,l,h,g),g.delete(x)),Ui(e,i,O)}function Nc(e,t){var i=e.length;if(i)return t+=t<0?i:0,Pt(t,i)?e[t]:o}function Rc(e,t,i){t.length?t=xe(t,function(h){return te(h)?function(g){return hn(g,h.length===1?h[0]:h)}:h}):t=[je];var l=-1;t=xe(t,tt(J()));var u=Sc(e,function(h,g,w){var x=xe(t,function(A){return A(h)});return{criteria:x,index:++l,value:h}});return K_(u,function(h,g){return O0(h,g,i)})}function b0(e,t){return Tc(e,t,function(i,l){return xs(e,l)})}function Tc(e,t,i){for(var l=-1,u=t.length,h={};++l<u;){var g=t[l],w=hn(e,g);i(w,g)&&pr(h,Zt(g,e),w)}return h}function E0(e){return function(t){return hn(t,e)}}function Ji(e,t,i,l){var u=l?q_:An,h=-1,g=t.length,w=e;for(e===t&&(t=Je(t)),i&&(w=xe(e,tt(i)));++h<g;)for(var x=0,A=t[h],O=i?i(A):A;(x=u(w,O,x,l))>-1;)w!==e&&jr.call(w,x,1),jr.call(e,x,1);return e}function $c(e,t){for(var i=e?t.length:0,l=i-1;i--;){var u=t[i];if(i==l||u!==h){var h=u;Pt(u)?jr.call(e,u,1):es(e,u)}}return e}function Zi(e,t){return e+no(uc()*(t-e+1))}function x0(e,t,i,l){for(var u=-1,h=Ve(to((t-e)/(i||1)),0),g=N(h);h--;)g[l?h:++u]=e,e+=i;return g}function Qi(e,t){var i="";if(!e||t<1||t>_e)return i;do t%2&&(i+=e),t=no(t/2),t&&(e+=e);while(t);return i}function ie(e,t){return ms(su(e,t,je),e+"")}function S0(e){return pc(zn(e))}function C0(e,t){var i=zn(e);return vo(i,pn(t,0,i.length))}function pr(e,t,i,l){if(!Se(e))return e;t=Zt(t,e);for(var u=-1,h=t.length,g=h-1,w=e;w!=null&&++u<h;){var x=$t(t[u]),A=i;if(x==="__proto__"||x==="constructor"||x==="prototype")return e;if(u!=g){var O=w[x];A=l?l(O,x,w):o,A===o&&(A=Se(O)?O:Pt(t[u+1])?[]:{})}cr(w,x,A),w=w[x]}return e}var Vc=ro?function(e,t){return ro.set(e,t),e}:je,k0=eo?function(e,t){return eo(e,"toString",{configurable:!0,enumerable:!1,value:Cs(t),writable:!0})}:je;function N0(e){return vo(zn(e))}function mt(e,t,i){var l=-1,u=e.length;t<0&&(t=-t>u?0:u+t),i=i>u?u:i,i<0&&(i+=u),u=t>i?0:i-t>>>0,t>>>=0;for(var h=N(u);++l<u;)h[l]=e[l+t];return h}function R0(e,t){var i;return Xt(e,function(l,u,h){return i=t(l,u,h),!i}),!!i}function uo(e,t,i){var l=0,u=e==null?l:e.length;if(typeof t=="number"&&t===t&&u<=Lr){for(;l<u;){var h=l+u>>>1,g=e[h];g!==null&&!rt(g)&&(i?g<=t:g<t)?l=h+1:u=h}return u}return ji(e,t,je,i)}function ji(e,t,i,l){var u=0,h=e==null?0:e.length;if(h===0)return 0;t=i(t);for(var g=t!==t,w=t===null,x=rt(t),A=t===o;u<h;){var O=no((u+h)/2),L=i(e[O]),z=L!==o,Y=L===null,Z=L===L,oe=rt(L);if(g)var Q=l||Z;else A?Q=Z&&(l||z):w?Q=Z&&z&&(l||!Y):x?Q=Z&&z&&!Y&&(l||!oe):Y||oe?Q=!1:Q=l?L<=t:L<t;Q?u=O+1:h=O}return He(h,Ir)}function Ac(e,t){for(var i=-1,l=e.length,u=0,h=[];++i<l;){var g=e[i],w=t?t(g):g;if(!i||!St(w,x)){var x=w;h[u++]=g===0?0:g}}return h}function Oc(e){return typeof e=="number"?e:rt(e)?ye:+e}function nt(e){if(typeof e=="string")return e;if(te(e))return xe(e,nt)+"";if(rt(e))return fc?fc.call(e):"";var t=e+"";return t=="0"&&1/e==-Oe?"-0":t}function Jt(e,t,i){var l=-1,u=Wr,h=e.length,g=!0,w=[],x=w;if(i)g=!1,u=Ri;else if(h>=c){var A=t?null:M0(e);if(A)return Gr(A);g=!1,u=rr,x=new dn}else x=t?[]:w;e:for(;++l<h;){var O=e[l],L=t?t(O):O;if(O=i||O!==0?O:0,g&&L===L){for(var z=x.length;z--;)if(x[z]===L)continue e;t&&x.push(L),w.push(O)}else u(x,L,i)||(x!==w&&x.push(L),w.push(O))}return w}function es(e,t){return t=Zt(t,e),e=au(e,t),e==null||delete e[$t(gt(t))]}function Dc(e,t,i,l){return pr(e,t,i(hn(e,t)),l)}function fo(e,t,i,l){for(var u=e.length,h=l?u:-1;(l?h--:++h<u)&&t(e[h],h,e););return i?mt(e,l?0:h,l?h+1:u):mt(e,l?h+1:0,l?u:h)}function Ic(e,t){var i=e;return i instanceof le&&(i=i.value()),Ti(t,function(l,u){return u.func.apply(u.thisArg,qt([l],u.args))},i)}function ts(e,t,i){var l=e.length;if(l<2)return l?Jt(e[0]):[];for(var u=-1,h=N(l);++u<l;)for(var g=e[u],w=-1;++w<l;)w!=u&&(h[u]=ur(h[u]||g,e[w],t,i));return Jt(Me(h,1),t,i)}function Lc(e,t,i){for(var l=-1,u=e.length,h=t.length,g={};++l<u;){var w=l<h?t[l]:o;i(g,e[l],w)}return g}function ns(e){return Re(e)?e:[]}function rs(e){return typeof e=="function"?e:je}function Zt(e,t){return te(e)?e:ds(e,t)?[e]:fu(pe(e))}var T0=ie;function Qt(e,t,i){var l=e.length;return i=i===o?l:i,!t&&i>=l?e:mt(e,t,i)}var Bc=gy||function(e){return Pe.clearTimeout(e)};function Pc(e,t){if(t)return e.slice();var i=e.length,l=ic?ic(i):new e.constructor(i);return e.copy(l),l}function os(e){var t=new e.constructor(e.byteLength);return new Zr(t).set(new Zr(e)),t}function $0(e,t){var i=t?os(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function V0(e){var t=new e.constructor(e.source,bl.exec(e));return t.lastIndex=e.lastIndex,t}function A0(e){return lr?ge(lr.call(e)):{}}function Mc(e,t){var i=t?os(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function Fc(e,t){if(e!==t){var i=e!==o,l=e===null,u=e===e,h=rt(e),g=t!==o,w=t===null,x=t===t,A=rt(t);if(!w&&!A&&!h&&e>t||h&&g&&x&&!w&&!A||l&&g&&x||!i&&x||!u)return 1;if(!l&&!h&&!A&&e<t||A&&i&&u&&!l&&!h||w&&i&&u||!g&&u||!x)return-1}return 0}function O0(e,t,i){for(var l=-1,u=e.criteria,h=t.criteria,g=u.length,w=i.length;++l<g;){var x=Fc(u[l],h[l]);if(x){if(l>=w)return x;var A=i[l];return x*(A=="desc"?-1:1)}}return e.index-t.index}function Uc(e,t,i,l){for(var u=-1,h=e.length,g=i.length,w=-1,x=t.length,A=Ve(h-g,0),O=N(x+A),L=!l;++w<x;)O[w]=t[w];for(;++u<g;)(L||u<h)&&(O[i[u]]=e[u]);for(;A--;)O[w++]=e[u++];return O}function Hc(e,t,i,l){for(var u=-1,h=e.length,g=-1,w=i.length,x=-1,A=t.length,O=Ve(h-w,0),L=N(O+A),z=!l;++u<O;)L[u]=e[u];for(var Y=u;++x<A;)L[Y+x]=t[x];for(;++g<w;)(z||u<h)&&(L[Y+i[g]]=e[u++]);return L}function Je(e,t){var i=-1,l=e.length;for(t||(t=N(l));++i<l;)t[i]=e[i];return t}function Tt(e,t,i,l){var u=!i;i||(i={});for(var h=-1,g=t.length;++h<g;){var w=t[h],x=l?l(i[w],e[w],w,i,e):o;x===o&&(x=e[w]),u?It(i,w,x):cr(i,w,x)}return i}function D0(e,t){return Tt(e,fs(e),t)}function I0(e,t){return Tt(e,tu(e),t)}function po(e,t){return function(i,l){var u=te(i)?F_:r0,h=t?t():{};return u(i,e,J(l,2),h)}}function Fn(e){return ie(function(t,i){var l=-1,u=i.length,h=u>1?i[u-1]:o,g=u>2?i[2]:o;for(h=e.length>3&&typeof h=="function"?(u--,h):o,g&&Ke(i[0],i[1],g)&&(h=u<3?o:h,u=1),t=ge(t);++l<u;){var w=i[l];w&&e(t,w,l,h)}return t})}function Wc(e,t){return function(i,l){if(i==null)return i;if(!Ze(i))return e(i,l);for(var u=i.length,h=t?u:-1,g=ge(i);(t?h--:++h<u)&&l(g[h],h,g)!==!1;);return i}}function zc(e){return function(t,i,l){for(var u=-1,h=ge(t),g=l(t),w=g.length;w--;){var x=g[e?w:++u];if(i(h[x],x,h)===!1)break}return t}}function L0(e,t,i){var l=t&I,u=hr(e);function h(){var g=this&&this!==Pe&&this instanceof h?u:e;return g.apply(l?i:this,arguments)}return h}function Gc(e){return function(t){t=pe(t);var i=On(t)?Et(t):o,l=i?i[0]:t.charAt(0),u=i?Qt(i,1).join(""):t.slice(1);return l[e]()+u}}function Un(e){return function(t){return Ti(Wu(Hu(t).replace(k_,"")),e,"")}}function hr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Mn(e.prototype),l=e.apply(i,t);return Se(l)?l:i}}function B0(e,t,i){var l=hr(e);function u(){for(var h=arguments.length,g=N(h),w=h,x=Hn(u);w--;)g[w]=arguments[w];var A=h<3&&g[0]!==x&&g[h-1]!==x?[]:Kt(g,x);if(h-=A.length,h<i)return Jc(e,t,ho,u.placeholder,o,g,A,o,o,i-h);var O=this&&this!==Pe&&this instanceof u?l:e;return et(O,this,g)}return u}function qc(e){return function(t,i,l){var u=ge(t);if(!Ze(t)){var h=J(i,3);t=De(t),i=function(w){return h(u[w],w,u)}}var g=e(t,i,l);return g>-1?u[h?t[g]:g]:o}}function Kc(e){return Bt(function(t){var i=t.length,l=i,u=pt.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new dt(p);if(u&&!g&&yo(h)=="wrapper")var g=new pt([],!0)}for(l=g?l:i;++l<i;){h=t[l];var w=yo(h),x=w=="wrapper"?cs(h):o;x&&ps(x[0])&&x[1]==(D|V|G|ue)&&!x[4].length&&x[9]==1?g=g[yo(x[0])].apply(g,x[3]):g=h.length==1&&ps(h)?g[w]():g.thru(h)}return function(){var A=arguments,O=A[0];if(g&&A.length==1&&te(O))return g.plant(O).value();for(var L=0,z=i?t[L].apply(this,A):O;++L<i;)z=t[L].call(this,z);return z}})}function ho(e,t,i,l,u,h,g,w,x,A){var O=t&D,L=t&I,z=t&B,Y=t&(V|F),Z=t&Ee,oe=z?o:hr(e);function Q(){for(var ae=arguments.length,ce=N(ae),ot=ae;ot--;)ce[ot]=arguments[ot];if(Y)var Ye=Hn(Q),it=X_(ce,Ye);if(l&&(ce=Uc(ce,l,u,Y)),h&&(ce=Hc(ce,h,g,Y)),ae-=it,Y&&ae<A){var Te=Kt(ce,Ye);return Jc(e,t,ho,Q.placeholder,i,ce,Te,w,x,A-ae)}var Ct=L?i:this,Ut=z?Ct[e]:e;return ae=ce.length,w?ce=rw(ce,w):Z&&ae>1&&ce.reverse(),O&&x<ae&&(ce.length=x),this&&this!==Pe&&this instanceof Q&&(Ut=oe||hr(Ut)),Ut.apply(Ct,ce)}return Q}function Yc(e,t){return function(i,l){return f0(i,e,t(l),{})}}function mo(e,t){return function(i,l){var u;if(i===o&&l===o)return t;if(i!==o&&(u=i),l!==o){if(u===o)return l;typeof i=="string"||typeof l=="string"?(i=nt(i),l=nt(l)):(i=Oc(i),l=Oc(l)),u=e(i,l)}return u}}function is(e){return Bt(function(t){return t=xe(t,tt(J())),ie(function(i){var l=this;return e(t,function(u){return et(u,l,i)})})})}function go(e,t){t=t===o?" ":nt(t);var i=t.length;if(i<2)return i?Qi(t,e):t;var l=Qi(t,to(e/Dn(t)));return On(t)?Qt(Et(l),0,e).join(""):l.slice(0,e)}function P0(e,t,i,l){var u=t&I,h=hr(e);function g(){for(var w=-1,x=arguments.length,A=-1,O=l.length,L=N(O+x),z=this&&this!==Pe&&this instanceof g?h:e;++A<O;)L[A]=l[A];for(;x--;)L[A++]=arguments[++w];return et(z,u?i:this,L)}return g}function Xc(e){return function(t,i,l){return l&&typeof l!="number"&&Ke(t,i,l)&&(i=l=o),t=Ft(t),i===o?(i=t,t=0):i=Ft(i),l=l===o?t<i?1:-1:Ft(l),x0(t,i,l,e)}}function _o(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=_t(t),i=_t(i)),e(t,i)}}function Jc(e,t,i,l,u,h,g,w,x,A){var O=t&V,L=O?g:o,z=O?o:g,Y=O?h:o,Z=O?o:h;t|=O?G:X,t&=~(O?X:G),t&P||(t&=~(I|B));var oe=[e,t,u,Y,L,Z,z,w,x,A],Q=i.apply(o,oe);return ps(e)&&lu(Q,oe),Q.placeholder=l,cu(Q,e,t)}function ss(e){var t=$e[e];return function(i,l){if(i=_t(i),l=l==null?0:He(re(l),292),l&&cc(i)){var u=(pe(i)+"e").split("e"),h=t(u[0]+"e"+(+u[1]+l));return u=(pe(h)+"e").split("e"),+(u[0]+"e"+(+u[1]-l))}return t(i)}}var M0=Bn&&1/Gr(new Bn([,-0]))[1]==Oe?function(e){return new Bn(e)}:Rs;function Zc(e){return function(t){var i=We(t);return i==vt?Li(t):i==bt?ny(t):Y_(t,e(t))}}function Lt(e,t,i,l,u,h,g,w){var x=t&B;if(!x&&typeof e!="function")throw new dt(p);var A=l?l.length:0;if(A||(t&=~(G|X),l=u=o),g=g===o?g:Ve(re(g),0),w=w===o?w:re(w),A-=u?u.length:0,t&X){var O=l,L=u;l=u=o}var z=x?o:cs(e),Y=[e,t,i,l,u,O,L,h,g,w];if(z&&ew(Y,z),e=Y[0],t=Y[1],i=Y[2],l=Y[3],u=Y[4],w=Y[9]=Y[9]===o?x?0:e.length:Ve(Y[9]-A,0),!w&&t&(V|F)&&(t&=~(V|F)),!t||t==I)var Z=L0(e,t,i);else t==V||t==F?Z=B0(e,t,w):(t==G||t==(I|G))&&!u.length?Z=P0(e,t,i,l):Z=ho.apply(o,Y);var oe=z?Vc:lu;return cu(oe(Z,Y),e,t)}function Qc(e,t,i,l){return e===o||St(e,Ln[i])&&!he.call(l,i)?t:e}function jc(e,t,i,l,u,h){return Se(e)&&Se(t)&&(h.set(t,e),co(e,t,o,jc,h),h.delete(t)),e}function F0(e){return _r(e)?o:e}function eu(e,t,i,l,u,h){var g=i&E,w=e.length,x=t.length;if(w!=x&&!(g&&x>w))return!1;var A=h.get(e),O=h.get(t);if(A&&O)return A==t&&O==e;var L=-1,z=!0,Y=i&v?new dn:o;for(h.set(e,t),h.set(t,e);++L<w;){var Z=e[L],oe=t[L];if(l)var Q=g?l(oe,Z,L,t,e,h):l(Z,oe,L,e,t,h);if(Q!==o){if(Q)continue;z=!1;break}if(Y){if(!$i(t,function(ae,ce){if(!rr(Y,ce)&&(Z===ae||u(Z,ae,i,l,h)))return Y.push(ce)})){z=!1;break}}else if(!(Z===oe||u(Z,oe,i,l,h))){z=!1;break}}return h.delete(e),h.delete(t),z}function U0(e,t,i,l,u,h,g){switch(i){case $n:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case nr:return!(e.byteLength!=t.byteLength||!h(new Zr(e),new Zr(t)));case Jn:case Zn:case Qn:return St(+e,+t);case Br:return e.name==t.name&&e.message==t.message;case jn:case er:return e==t+"";case vt:var w=Li;case bt:var x=l&E;if(w||(w=Gr),e.size!=t.size&&!x)return!1;var A=g.get(e);if(A)return A==t;l|=v,g.set(e,t);var O=eu(w(e),w(t),l,u,h,g);return g.delete(e),O;case Mr:if(lr)return lr.call(e)==lr.call(t)}return!1}function H0(e,t,i,l,u,h){var g=i&E,w=as(e),x=w.length,A=as(t),O=A.length;if(x!=O&&!g)return!1;for(var L=x;L--;){var z=w[L];if(!(g?z in t:he.call(t,z)))return!1}var Y=h.get(e),Z=h.get(t);if(Y&&Z)return Y==t&&Z==e;var oe=!0;h.set(e,t),h.set(t,e);for(var Q=g;++L<x;){z=w[L];var ae=e[z],ce=t[z];if(l)var ot=g?l(ce,ae,z,t,e,h):l(ae,ce,z,e,t,h);if(!(ot===o?ae===ce||u(ae,ce,i,l,h):ot)){oe=!1;break}Q||(Q=z=="constructor")}if(oe&&!Q){var Ye=e.constructor,it=t.constructor;Ye!=it&&"constructor"in e&&"constructor"in t&&!(typeof Ye=="function"&&Ye instanceof Ye&&typeof it=="function"&&it instanceof it)&&(oe=!1)}return h.delete(e),h.delete(t),oe}function Bt(e){return ms(su(e,o,mu),e+"")}function as(e){return vc(e,De,fs)}function ls(e){return vc(e,Qe,tu)}var cs=ro?function(e){return ro.get(e)}:Rs;function yo(e){for(var t=e.name+"",i=Pn[t],l=he.call(Pn,t)?i.length:0;l--;){var u=i[l],h=u.func;if(h==null||h==e)return u.name}return t}function Hn(e){var t=he.call(d,"placeholder")?d:e;return t.placeholder}function J(){var e=d.iteratee||ks;return e=e===ks?xc:e,arguments.length?e(arguments[0],arguments[1]):e}function wo(e,t){var i=e.__data__;return J0(t)?i[typeof t=="string"?"string":"hash"]:i.map}function us(e){for(var t=De(e),i=t.length;i--;){var l=t[i],u=e[l];t[i]=[l,u,ou(u)]}return t}function mn(e,t){var i=j_(e,t);return Ec(i)?i:o}function W0(e){var t=he.call(e,un),i=e[un];try{e[un]=o;var l=!0}catch{}var u=Xr.call(e);return l&&(t?e[un]=i:delete e[un]),u}var fs=Pi?function(e){return e==null?[]:(e=ge(e),Gt(Pi(e),function(t){return ac.call(e,t)}))}:Ts,tu=Pi?function(e){for(var t=[];e;)qt(t,fs(e)),e=Qr(e);return t}:Ts,We=qe;(Mi&&We(new Mi(new ArrayBuffer(1)))!=$n||ir&&We(new ir)!=vt||Fi&&We(Fi.resolve())!=_l||Bn&&We(new Bn)!=bt||sr&&We(new sr)!=tr)&&(We=function(e){var t=qe(e),i=t==At?e.constructor:o,l=i?gn(i):"";if(l)switch(l){case Cy:return $n;case ky:return vt;case Ny:return _l;case Ry:return bt;case Ty:return tr}return t});function z0(e,t,i){for(var l=-1,u=i.length;++l<u;){var h=i[l],g=h.size;switch(h.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=He(t,e+g);break;case"takeRight":e=Ve(e,t-g);break}}return{start:e,end:t}}function G0(e){var t=e.match(Zg);return t?t[1].split(Qg):[]}function nu(e,t,i){t=Zt(t,e);for(var l=-1,u=t.length,h=!1;++l<u;){var g=$t(t[l]);if(!(h=e!=null&&i(e,g)))break;e=e[g]}return h||++l!=u?h:(u=e==null?0:e.length,!!u&&ko(u)&&Pt(g,u)&&(te(e)||_n(e)))}function q0(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&he.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function ru(e){return typeof e.constructor=="function"&&!mr(e)?Mn(Qr(e)):{}}function K0(e,t,i){var l=e.constructor;switch(t){case nr:return os(e);case Jn:case Zn:return new l(+e);case $n:return $0(e,i);case ui:case fi:case di:case pi:case hi:case mi:case gi:case _i:case yi:return Mc(e,i);case vt:return new l;case Qn:case er:return new l(e);case jn:return V0(e);case bt:return new l;case Mr:return A0(e)}}function Y0(e,t){var i=t.length;if(!i)return e;var l=i-1;return t[l]=(i>1?"& ":"")+t[l],t=t.join(i>2?", ":" "),e.replace(Jg,`{
/* [wrapped with `+t+`] */
`)}function X0(e){return te(e)||_n(e)||!!(lc&&e&&e[lc])}function Pt(e,t){var i=typeof e;return t=t??_e,!!t&&(i=="number"||i!="symbol"&&a_.test(e))&&e>-1&&e%1==0&&e<t}function Ke(e,t,i){if(!Se(i))return!1;var l=typeof t;return(l=="number"?Ze(i)&&Pt(t,i.length):l=="string"&&t in i)?St(i[t],e):!1}function ds(e,t){if(te(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||rt(e)?!0:qg.test(e)||!Gg.test(e)||t!=null&&e in ge(t)}function J0(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ps(e){var t=yo(e),i=d[t];if(typeof i!="function"||!(t in le.prototype))return!1;if(e===i)return!0;var l=cs(i);return!!l&&e===l[0]}function Z0(e){return!!oc&&oc in e}var Q0=Kr?Mt:$s;function mr(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Ln;return e===i}function ou(e){return e===e&&!Se(e)}function iu(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==o||e in ge(i))}}function j0(e){var t=So(e,function(l){return i.size===y&&i.clear(),l}),i=t.cache;return t}function ew(e,t){var i=e[1],l=t[1],u=i|l,h=u<(I|B|D),g=l==D&&i==V||l==D&&i==ue&&e[7].length<=t[8]||l==(D|ue)&&t[7].length<=t[8]&&i==V;if(!(h||g))return e;l&I&&(e[2]=t[2],u|=i&I?0:P);var w=t[3];if(w){var x=e[3];e[3]=x?Uc(x,w,t[4]):w,e[4]=x?Kt(e[3],S):t[4]}return w=t[5],w&&(x=e[5],e[5]=x?Hc(x,w,t[6]):w,e[6]=x?Kt(e[5],S):t[6]),w=t[7],w&&(e[7]=w),l&D&&(e[8]=e[8]==null?t[8]:He(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function tw(e){var t=[];if(e!=null)for(var i in ge(e))t.push(i);return t}function nw(e){return Xr.call(e)}function su(e,t,i){return t=Ve(t===o?e.length-1:t,0),function(){for(var l=arguments,u=-1,h=Ve(l.length-t,0),g=N(h);++u<h;)g[u]=l[t+u];u=-1;for(var w=N(t+1);++u<t;)w[u]=l[u];return w[t]=i(g),et(e,this,w)}}function au(e,t){return t.length<2?e:hn(e,mt(t,0,-1))}function rw(e,t){for(var i=e.length,l=He(t.length,i),u=Je(e);l--;){var h=t[l];e[l]=Pt(h,i)?u[h]:o}return e}function hs(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var lu=uu(Vc),gr=yy||function(e,t){return Pe.setTimeout(e,t)},ms=uu(k0);function cu(e,t,i){var l=t+"";return ms(e,Y0(l,ow(G0(l),i)))}function uu(e){var t=0,i=0;return function(){var l=Ey(),u=K-(l-i);if(i=l,u>0){if(++t>=U)return arguments[0]}else t=0;return e.apply(o,arguments)}}function vo(e,t){var i=-1,l=e.length,u=l-1;for(t=t===o?l:t;++i<t;){var h=Zi(i,u),g=e[h];e[h]=e[i],e[i]=g}return e.length=t,e}var fu=j0(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Kg,function(i,l,u,h){t.push(u?h.replace(t_,"$1"):l||i)}),t});function $t(e){if(typeof e=="string"||rt(e))return e;var t=e+"";return t=="0"&&1/e==-Oe?"-0":t}function gn(e){if(e!=null){try{return Yr.call(e)}catch{}try{return e+""}catch{}}return""}function ow(e,t){return ft(Tn,function(i){var l="_."+i[0];t&i[1]&&!Wr(e,l)&&e.push(l)}),e.sort()}function du(e){if(e instanceof le)return e.clone();var t=new pt(e.__wrapped__,e.__chain__);return t.__actions__=Je(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function iw(e,t,i){(i?Ke(e,t,i):t===o)?t=1:t=Ve(re(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var u=0,h=0,g=N(to(l/t));u<l;)g[h++]=mt(e,u,u+=t);return g}function sw(e){for(var t=-1,i=e==null?0:e.length,l=0,u=[];++t<i;){var h=e[t];h&&(u[l++]=h)}return u}function aw(){var e=arguments.length;if(!e)return[];for(var t=N(e-1),i=arguments[0],l=e;l--;)t[l-1]=arguments[l];return qt(te(i)?Je(i):[i],Me(t,1))}var lw=ie(function(e,t){return Re(e)?ur(e,Me(t,1,Re,!0)):[]}),cw=ie(function(e,t){var i=gt(t);return Re(i)&&(i=o),Re(e)?ur(e,Me(t,1,Re,!0),J(i,2)):[]}),uw=ie(function(e,t){var i=gt(t);return Re(i)&&(i=o),Re(e)?ur(e,Me(t,1,Re,!0),o,i):[]});function fw(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:re(t),mt(e,t<0?0:t,l)):[]}function dw(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:re(t),t=l-t,mt(e,0,t<0?0:t)):[]}function pw(e,t){return e&&e.length?fo(e,J(t,3),!0,!0):[]}function hw(e,t){return e&&e.length?fo(e,J(t,3),!0):[]}function mw(e,t,i,l){var u=e==null?0:e.length;return u?(i&&typeof i!="number"&&Ke(e,t,i)&&(i=0,l=u),a0(e,t,i,l)):[]}function pu(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=i==null?0:re(i);return u<0&&(u=Ve(l+u,0)),zr(e,J(t,3),u)}function hu(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=l-1;return i!==o&&(u=re(i),u=i<0?Ve(l+u,0):He(u,l-1)),zr(e,J(t,3),u,!0)}function mu(e){var t=e==null?0:e.length;return t?Me(e,1):[]}function gw(e){var t=e==null?0:e.length;return t?Me(e,Oe):[]}function _w(e,t){var i=e==null?0:e.length;return i?(t=t===o?1:re(t),Me(e,t)):[]}function yw(e){for(var t=-1,i=e==null?0:e.length,l={};++t<i;){var u=e[t];l[u[0]]=u[1]}return l}function gu(e){return e&&e.length?e[0]:o}function ww(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=i==null?0:re(i);return u<0&&(u=Ve(l+u,0)),An(e,t,u)}function vw(e){var t=e==null?0:e.length;return t?mt(e,0,-1):[]}var bw=ie(function(e){var t=xe(e,ns);return t.length&&t[0]===e[0]?qi(t):[]}),Ew=ie(function(e){var t=gt(e),i=xe(e,ns);return t===gt(i)?t=o:i.pop(),i.length&&i[0]===e[0]?qi(i,J(t,2)):[]}),xw=ie(function(e){var t=gt(e),i=xe(e,ns);return t=typeof t=="function"?t:o,t&&i.pop(),i.length&&i[0]===e[0]?qi(i,o,t):[]});function Sw(e,t){return e==null?"":vy.call(e,t)}function gt(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Cw(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var u=l;return i!==o&&(u=re(i),u=u<0?Ve(l+u,0):He(u,l-1)),t===t?oy(e,t,u):zr(e,Jl,u,!0)}function kw(e,t){return e&&e.length?Nc(e,re(t)):o}var Nw=ie(_u);function _u(e,t){return e&&e.length&&t&&t.length?Ji(e,t):e}function Rw(e,t,i){return e&&e.length&&t&&t.length?Ji(e,t,J(i,2)):e}function Tw(e,t,i){return e&&e.length&&t&&t.length?Ji(e,t,o,i):e}var $w=Bt(function(e,t){var i=e==null?0:e.length,l=Hi(e,t);return $c(e,xe(t,function(u){return Pt(u,i)?+u:u}).sort(Fc)),l});function Vw(e,t){var i=[];if(!(e&&e.length))return i;var l=-1,u=[],h=e.length;for(t=J(t,3);++l<h;){var g=e[l];t(g,l,e)&&(i.push(g),u.push(l))}return $c(e,u),i}function gs(e){return e==null?e:Sy.call(e)}function Aw(e,t,i){var l=e==null?0:e.length;return l?(i&&typeof i!="number"&&Ke(e,t,i)?(t=0,i=l):(t=t==null?0:re(t),i=i===o?l:re(i)),mt(e,t,i)):[]}function Ow(e,t){return uo(e,t)}function Dw(e,t,i){return ji(e,t,J(i,2))}function Iw(e,t){var i=e==null?0:e.length;if(i){var l=uo(e,t);if(l<i&&St(e[l],t))return l}return-1}function Lw(e,t){return uo(e,t,!0)}function Bw(e,t,i){return ji(e,t,J(i,2),!0)}function Pw(e,t){var i=e==null?0:e.length;if(i){var l=uo(e,t,!0)-1;if(St(e[l],t))return l}return-1}function Mw(e){return e&&e.length?Ac(e):[]}function Fw(e,t){return e&&e.length?Ac(e,J(t,2)):[]}function Uw(e){var t=e==null?0:e.length;return t?mt(e,1,t):[]}function Hw(e,t,i){return e&&e.length?(t=i||t===o?1:re(t),mt(e,0,t<0?0:t)):[]}function Ww(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:re(t),t=l-t,mt(e,t<0?0:t,l)):[]}function zw(e,t){return e&&e.length?fo(e,J(t,3),!1,!0):[]}function Gw(e,t){return e&&e.length?fo(e,J(t,3)):[]}var qw=ie(function(e){return Jt(Me(e,1,Re,!0))}),Kw=ie(function(e){var t=gt(e);return Re(t)&&(t=o),Jt(Me(e,1,Re,!0),J(t,2))}),Yw=ie(function(e){var t=gt(e);return t=typeof t=="function"?t:o,Jt(Me(e,1,Re,!0),o,t)});function Xw(e){return e&&e.length?Jt(e):[]}function Jw(e,t){return e&&e.length?Jt(e,J(t,2)):[]}function Zw(e,t){return t=typeof t=="function"?t:o,e&&e.length?Jt(e,o,t):[]}function _s(e){if(!(e&&e.length))return[];var t=0;return e=Gt(e,function(i){if(Re(i))return t=Ve(i.length,t),!0}),Di(t,function(i){return xe(e,Vi(i))})}function yu(e,t){if(!(e&&e.length))return[];var i=_s(e);return t==null?i:xe(i,function(l){return et(t,o,l)})}var Qw=ie(function(e,t){return Re(e)?ur(e,t):[]}),jw=ie(function(e){return ts(Gt(e,Re))}),ev=ie(function(e){var t=gt(e);return Re(t)&&(t=o),ts(Gt(e,Re),J(t,2))}),tv=ie(function(e){var t=gt(e);return t=typeof t=="function"?t:o,ts(Gt(e,Re),o,t)}),nv=ie(_s);function rv(e,t){return Lc(e||[],t||[],cr)}function ov(e,t){return Lc(e||[],t||[],pr)}var iv=ie(function(e){var t=e.length,i=t>1?e[t-1]:o;return i=typeof i=="function"?(e.pop(),i):o,yu(e,i)});function wu(e){var t=d(e);return t.__chain__=!0,t}function sv(e,t){return t(e),e}function bo(e,t){return t(e)}var av=Bt(function(e){var t=e.length,i=t?e[0]:0,l=this.__wrapped__,u=function(h){return Hi(h,e)};return t>1||this.__actions__.length||!(l instanceof le)||!Pt(i)?this.thru(u):(l=l.slice(i,+i+(t?1:0)),l.__actions__.push({func:bo,args:[u],thisArg:o}),new pt(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(o),h}))});function lv(){return wu(this)}function cv(){return new pt(this.value(),this.__chain__)}function uv(){this.__values__===o&&(this.__values__=Ou(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function fv(){return this}function dv(e){for(var t,i=this;i instanceof io;){var l=du(i);l.__index__=0,l.__values__=o,t?u.__wrapped__=l:t=l;var u=l;i=i.__wrapped__}return u.__wrapped__=e,t}function pv(){var e=this.__wrapped__;if(e instanceof le){var t=e;return this.__actions__.length&&(t=new le(this)),t=t.reverse(),t.__actions__.push({func:bo,args:[gs],thisArg:o}),new pt(t,this.__chain__)}return this.thru(gs)}function hv(){return Ic(this.__wrapped__,this.__actions__)}var mv=po(function(e,t,i){he.call(e,i)?++e[i]:It(e,i,1)});function gv(e,t,i){var l=te(e)?Yl:s0;return i&&Ke(e,t,i)&&(t=o),l(e,J(t,3))}function _v(e,t){var i=te(e)?Gt:yc;return i(e,J(t,3))}var yv=qc(pu),wv=qc(hu);function vv(e,t){return Me(Eo(e,t),1)}function bv(e,t){return Me(Eo(e,t),Oe)}function Ev(e,t,i){return i=i===o?1:re(i),Me(Eo(e,t),i)}function vu(e,t){var i=te(e)?ft:Xt;return i(e,J(t,3))}function bu(e,t){var i=te(e)?U_:_c;return i(e,J(t,3))}var xv=po(function(e,t,i){he.call(e,i)?e[i].push(t):It(e,i,[t])});function Sv(e,t,i,l){e=Ze(e)?e:zn(e),i=i&&!l?re(i):0;var u=e.length;return i<0&&(i=Ve(u+i,0)),No(e)?i<=u&&e.indexOf(t,i)>-1:!!u&&An(e,t,i)>-1}var Cv=ie(function(e,t,i){var l=-1,u=typeof t=="function",h=Ze(e)?N(e.length):[];return Xt(e,function(g){h[++l]=u?et(t,g,i):fr(g,t,i)}),h}),kv=po(function(e,t,i){It(e,i,t)});function Eo(e,t){var i=te(e)?xe:Sc;return i(e,J(t,3))}function Nv(e,t,i,l){return e==null?[]:(te(t)||(t=t==null?[]:[t]),i=l?o:i,te(i)||(i=i==null?[]:[i]),Rc(e,t,i))}var Rv=po(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function Tv(e,t,i){var l=te(e)?Ti:Ql,u=arguments.length<3;return l(e,J(t,4),i,u,Xt)}function $v(e,t,i){var l=te(e)?H_:Ql,u=arguments.length<3;return l(e,J(t,4),i,u,_c)}function Vv(e,t){var i=te(e)?Gt:yc;return i(e,Co(J(t,3)))}function Av(e){var t=te(e)?pc:S0;return t(e)}function Ov(e,t,i){(i?Ke(e,t,i):t===o)?t=1:t=re(t);var l=te(e)?t0:C0;return l(e,t)}function Dv(e){var t=te(e)?n0:N0;return t(e)}function Iv(e){if(e==null)return 0;if(Ze(e))return No(e)?Dn(e):e.length;var t=We(e);return t==vt||t==bt?e.size:Yi(e).length}function Lv(e,t,i){var l=te(e)?$i:R0;return i&&Ke(e,t,i)&&(t=o),l(e,J(t,3))}var Bv=ie(function(e,t){if(e==null)return[];var i=t.length;return i>1&&Ke(e,t[0],t[1])?t=[]:i>2&&Ke(t[0],t[1],t[2])&&(t=[t[0]]),Rc(e,Me(t,1),[])}),xo=_y||function(){return Pe.Date.now()};function Pv(e,t){if(typeof t!="function")throw new dt(p);return e=re(e),function(){if(--e<1)return t.apply(this,arguments)}}function Eu(e,t,i){return t=i?o:t,t=e&&t==null?e.length:t,Lt(e,D,o,o,o,o,t)}function xu(e,t){var i;if(typeof t!="function")throw new dt(p);return e=re(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=o),i}}var ys=ie(function(e,t,i){var l=I;if(i.length){var u=Kt(i,Hn(ys));l|=G}return Lt(e,l,t,i,u)}),Su=ie(function(e,t,i){var l=I|B;if(i.length){var u=Kt(i,Hn(Su));l|=G}return Lt(t,l,e,i,u)});function Cu(e,t,i){t=i?o:t;var l=Lt(e,V,o,o,o,o,o,t);return l.placeholder=Cu.placeholder,l}function ku(e,t,i){t=i?o:t;var l=Lt(e,F,o,o,o,o,o,t);return l.placeholder=ku.placeholder,l}function Nu(e,t,i){var l,u,h,g,w,x,A=0,O=!1,L=!1,z=!0;if(typeof e!="function")throw new dt(p);t=_t(t)||0,Se(i)&&(O=!!i.leading,L="maxWait"in i,h=L?Ve(_t(i.maxWait)||0,t):h,z="trailing"in i?!!i.trailing:z);function Y(Te){var Ct=l,Ut=u;return l=u=o,A=Te,g=e.apply(Ut,Ct),g}function Z(Te){return A=Te,w=gr(ae,t),O?Y(Te):g}function oe(Te){var Ct=Te-x,Ut=Te-A,qu=t-Ct;return L?He(qu,h-Ut):qu}function Q(Te){var Ct=Te-x,Ut=Te-A;return x===o||Ct>=t||Ct<0||L&&Ut>=h}function ae(){var Te=xo();if(Q(Te))return ce(Te);w=gr(ae,oe(Te))}function ce(Te){return w=o,z&&l?Y(Te):(l=u=o,g)}function ot(){w!==o&&Bc(w),A=0,l=x=u=w=o}function Ye(){return w===o?g:ce(xo())}function it(){var Te=xo(),Ct=Q(Te);if(l=arguments,u=this,x=Te,Ct){if(w===o)return Z(x);if(L)return Bc(w),w=gr(ae,t),Y(x)}return w===o&&(w=gr(ae,t)),g}return it.cancel=ot,it.flush=Ye,it}var Mv=ie(function(e,t){return gc(e,1,t)}),Fv=ie(function(e,t,i){return gc(e,_t(t)||0,i)});function Uv(e){return Lt(e,Ee)}function So(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new dt(p);var i=function(){var l=arguments,u=t?t.apply(this,l):l[0],h=i.cache;if(h.has(u))return h.get(u);var g=e.apply(this,l);return i.cache=h.set(u,g)||h,g};return i.cache=new(So.Cache||Dt),i}So.Cache=Dt;function Co(e){if(typeof e!="function")throw new dt(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Hv(e){return xu(2,e)}var Wv=T0(function(e,t){t=t.length==1&&te(t[0])?xe(t[0],tt(J())):xe(Me(t,1),tt(J()));var i=t.length;return ie(function(l){for(var u=-1,h=He(l.length,i);++u<h;)l[u]=t[u].call(this,l[u]);return et(e,this,l)})}),ws=ie(function(e,t){var i=Kt(t,Hn(ws));return Lt(e,G,o,t,i)}),Ru=ie(function(e,t){var i=Kt(t,Hn(Ru));return Lt(e,X,o,t,i)}),zv=Bt(function(e,t){return Lt(e,ue,o,o,o,t)});function Gv(e,t){if(typeof e!="function")throw new dt(p);return t=t===o?t:re(t),ie(e,t)}function qv(e,t){if(typeof e!="function")throw new dt(p);return t=t==null?0:Ve(re(t),0),ie(function(i){var l=i[t],u=Qt(i,0,t);return l&&qt(u,l),et(e,this,u)})}function Kv(e,t,i){var l=!0,u=!0;if(typeof e!="function")throw new dt(p);return Se(i)&&(l="leading"in i?!!i.leading:l,u="trailing"in i?!!i.trailing:u),Nu(e,t,{leading:l,maxWait:t,trailing:u})}function Yv(e){return Eu(e,1)}function Xv(e,t){return ws(rs(t),e)}function Jv(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function Zv(e){return ht(e,T)}function Qv(e,t){return t=typeof t=="function"?t:o,ht(e,T,t)}function jv(e){return ht(e,k|T)}function eb(e,t){return t=typeof t=="function"?t:o,ht(e,k|T,t)}function tb(e,t){return t==null||mc(e,t,De(t))}function St(e,t){return e===t||e!==e&&t!==t}var nb=_o(Gi),rb=_o(function(e,t){return e>=t}),_n=bc(function(){return arguments}())?bc:function(e){return ke(e)&&he.call(e,"callee")&&!ac.call(e,"callee")},te=N.isArray,ob=Hl?tt(Hl):d0;function Ze(e){return e!=null&&ko(e.length)&&!Mt(e)}function Re(e){return ke(e)&&Ze(e)}function ib(e){return e===!0||e===!1||ke(e)&&qe(e)==Jn}var jt=wy||$s,sb=Wl?tt(Wl):p0;function ab(e){return ke(e)&&e.nodeType===1&&!_r(e)}function lb(e){if(e==null)return!0;if(Ze(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||jt(e)||Wn(e)||_n(e)))return!e.length;var t=We(e);if(t==vt||t==bt)return!e.size;if(mr(e))return!Yi(e).length;for(var i in e)if(he.call(e,i))return!1;return!0}function cb(e,t){return dr(e,t)}function ub(e,t,i){i=typeof i=="function"?i:o;var l=i?i(e,t):o;return l===o?dr(e,t,o,i):!!l}function vs(e){if(!ke(e))return!1;var t=qe(e);return t==Br||t==Og||typeof e.message=="string"&&typeof e.name=="string"&&!_r(e)}function fb(e){return typeof e=="number"&&cc(e)}function Mt(e){if(!Se(e))return!1;var t=qe(e);return t==Pr||t==gl||t==ml||t==Ig}function Tu(e){return typeof e=="number"&&e==re(e)}function ko(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_e}function Se(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ke(e){return e!=null&&typeof e=="object"}var $u=zl?tt(zl):m0;function db(e,t){return e===t||Ki(e,t,us(t))}function pb(e,t,i){return i=typeof i=="function"?i:o,Ki(e,t,us(t),i)}function hb(e){return Vu(e)&&e!=+e}function mb(e){if(Q0(e))throw new ee(f);return Ec(e)}function gb(e){return e===null}function _b(e){return e==null}function Vu(e){return typeof e=="number"||ke(e)&&qe(e)==Qn}function _r(e){if(!ke(e)||qe(e)!=At)return!1;var t=Qr(e);if(t===null)return!0;var i=he.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Yr.call(i)==py}var bs=Gl?tt(Gl):g0;function yb(e){return Tu(e)&&e>=-_e&&e<=_e}var Au=ql?tt(ql):_0;function No(e){return typeof e=="string"||!te(e)&&ke(e)&&qe(e)==er}function rt(e){return typeof e=="symbol"||ke(e)&&qe(e)==Mr}var Wn=Kl?tt(Kl):y0;function wb(e){return e===o}function vb(e){return ke(e)&&We(e)==tr}function bb(e){return ke(e)&&qe(e)==Bg}var Eb=_o(Xi),xb=_o(function(e,t){return e<=t});function Ou(e){if(!e)return[];if(Ze(e))return No(e)?Et(e):Je(e);if(or&&e[or])return ty(e[or]());var t=We(e),i=t==vt?Li:t==bt?Gr:zn;return i(e)}function Ft(e){if(!e)return e===0?e:0;if(e=_t(e),e===Oe||e===-Oe){var t=e<0?-1:1;return t*Rn}return e===e?e:0}function re(e){var t=Ft(e),i=t%1;return t===t?i?t-i:t:0}function Du(e){return e?pn(re(e),0,Ce):0}function _t(e){if(typeof e=="number")return e;if(rt(e))return ye;if(Se(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Se(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=jl(e);var i=o_.test(e);return i||s_.test(e)?P_(e.slice(2),i?2:8):r_.test(e)?ye:+e}function Iu(e){return Tt(e,Qe(e))}function Sb(e){return e?pn(re(e),-_e,_e):e===0?e:0}function pe(e){return e==null?"":nt(e)}var Cb=Fn(function(e,t){if(mr(t)||Ze(t)){Tt(t,De(t),e);return}for(var i in t)he.call(t,i)&&cr(e,i,t[i])}),Lu=Fn(function(e,t){Tt(t,Qe(t),e)}),Ro=Fn(function(e,t,i,l){Tt(t,Qe(t),e,l)}),kb=Fn(function(e,t,i,l){Tt(t,De(t),e,l)}),Nb=Bt(Hi);function Rb(e,t){var i=Mn(e);return t==null?i:hc(i,t)}var Tb=ie(function(e,t){e=ge(e);var i=-1,l=t.length,u=l>2?t[2]:o;for(u&&Ke(t[0],t[1],u)&&(l=1);++i<l;)for(var h=t[i],g=Qe(h),w=-1,x=g.length;++w<x;){var A=g[w],O=e[A];(O===o||St(O,Ln[A])&&!he.call(e,A))&&(e[A]=h[A])}return e}),$b=ie(function(e){return e.push(o,jc),et(Bu,o,e)});function Vb(e,t){return Xl(e,J(t,3),Rt)}function Ab(e,t){return Xl(e,J(t,3),zi)}function Ob(e,t){return e==null?e:Wi(e,J(t,3),Qe)}function Db(e,t){return e==null?e:wc(e,J(t,3),Qe)}function Ib(e,t){return e&&Rt(e,J(t,3))}function Lb(e,t){return e&&zi(e,J(t,3))}function Bb(e){return e==null?[]:lo(e,De(e))}function Pb(e){return e==null?[]:lo(e,Qe(e))}function Es(e,t,i){var l=e==null?o:hn(e,t);return l===o?i:l}function Mb(e,t){return e!=null&&nu(e,t,l0)}function xs(e,t){return e!=null&&nu(e,t,c0)}var Fb=Yc(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Xr.call(t)),e[t]=i},Cs(je)),Ub=Yc(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Xr.call(t)),he.call(e,t)?e[t].push(i):e[t]=[i]},J),Hb=ie(fr);function De(e){return Ze(e)?dc(e):Yi(e)}function Qe(e){return Ze(e)?dc(e,!0):w0(e)}function Wb(e,t){var i={};return t=J(t,3),Rt(e,function(l,u,h){It(i,t(l,u,h),l)}),i}function zb(e,t){var i={};return t=J(t,3),Rt(e,function(l,u,h){It(i,u,t(l,u,h))}),i}var Gb=Fn(function(e,t,i){co(e,t,i)}),Bu=Fn(function(e,t,i,l){co(e,t,i,l)}),qb=Bt(function(e,t){var i={};if(e==null)return i;var l=!1;t=xe(t,function(h){return h=Zt(h,e),l||(l=h.length>1),h}),Tt(e,ls(e),i),l&&(i=ht(i,k|C|T,F0));for(var u=t.length;u--;)es(i,t[u]);return i});function Kb(e,t){return Pu(e,Co(J(t)))}var Yb=Bt(function(e,t){return e==null?{}:b0(e,t)});function Pu(e,t){if(e==null)return{};var i=xe(ls(e),function(l){return[l]});return t=J(t),Tc(e,i,function(l,u){return t(l,u[0])})}function Xb(e,t,i){t=Zt(t,e);var l=-1,u=t.length;for(u||(u=1,e=o);++l<u;){var h=e==null?o:e[$t(t[l])];h===o&&(l=u,h=i),e=Mt(h)?h.call(e):h}return e}function Jb(e,t,i){return e==null?e:pr(e,t,i)}function Zb(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:pr(e,t,i,l)}var Mu=Zc(De),Fu=Zc(Qe);function Qb(e,t,i){var l=te(e),u=l||jt(e)||Wn(e);if(t=J(t,4),i==null){var h=e&&e.constructor;u?i=l?new h:[]:Se(e)?i=Mt(h)?Mn(Qr(e)):{}:i={}}return(u?ft:Rt)(e,function(g,w,x){return t(i,g,w,x)}),i}function jb(e,t){return e==null?!0:es(e,t)}function eE(e,t,i){return e==null?e:Dc(e,t,rs(i))}function tE(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:Dc(e,t,rs(i),l)}function zn(e){return e==null?[]:Ii(e,De(e))}function nE(e){return e==null?[]:Ii(e,Qe(e))}function rE(e,t,i){return i===o&&(i=t,t=o),i!==o&&(i=_t(i),i=i===i?i:0),t!==o&&(t=_t(t),t=t===t?t:0),pn(_t(e),t,i)}function oE(e,t,i){return t=Ft(t),i===o?(i=t,t=0):i=Ft(i),e=_t(e),u0(e,t,i)}function iE(e,t,i){if(i&&typeof i!="boolean"&&Ke(e,t,i)&&(t=i=o),i===o&&(typeof t=="boolean"?(i=t,t=o):typeof e=="boolean"&&(i=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Ft(e),t===o?(t=e,e=0):t=Ft(t)),e>t){var l=e;e=t,t=l}if(i||e%1||t%1){var u=uc();return He(e+u*(t-e+B_("1e-"+((u+"").length-1))),t)}return Zi(e,t)}var sE=Un(function(e,t,i){return t=t.toLowerCase(),e+(i?Uu(t):t)});function Uu(e){return Ss(pe(e).toLowerCase())}function Hu(e){return e=pe(e),e&&e.replace(l_,J_).replace(N_,"")}function aE(e,t,i){e=pe(e),t=nt(t);var l=e.length;i=i===o?l:pn(re(i),0,l);var u=i;return i-=t.length,i>=0&&e.slice(i,u)==t}function lE(e){return e=pe(e),e&&Hg.test(e)?e.replace(wl,Z_):e}function cE(e){return e=pe(e),e&&Yg.test(e)?e.replace(wi,"\\$&"):e}var uE=Un(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),fE=Un(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),dE=Gc("toLowerCase");function pE(e,t,i){e=pe(e),t=re(t);var l=t?Dn(e):0;if(!t||l>=t)return e;var u=(t-l)/2;return go(no(u),i)+e+go(to(u),i)}function hE(e,t,i){e=pe(e),t=re(t);var l=t?Dn(e):0;return t&&l<t?e+go(t-l,i):e}function mE(e,t,i){e=pe(e),t=re(t);var l=t?Dn(e):0;return t&&l<t?go(t-l,i)+e:e}function gE(e,t,i){return i||t==null?t=0:t&&(t=+t),xy(pe(e).replace(vi,""),t||0)}function _E(e,t,i){return(i?Ke(e,t,i):t===o)?t=1:t=re(t),Qi(pe(e),t)}function yE(){var e=arguments,t=pe(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var wE=Un(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function vE(e,t,i){return i&&typeof i!="number"&&Ke(e,t,i)&&(t=i=o),i=i===o?Ce:i>>>0,i?(e=pe(e),e&&(typeof t=="string"||t!=null&&!bs(t))&&(t=nt(t),!t&&On(e))?Qt(Et(e),0,i):e.split(t,i)):[]}var bE=Un(function(e,t,i){return e+(i?" ":"")+Ss(t)});function EE(e,t,i){return e=pe(e),i=i==null?0:pn(re(i),0,e.length),t=nt(t),e.slice(i,i+t.length)==t}function xE(e,t,i){var l=d.templateSettings;i&&Ke(e,t,i)&&(t=o),e=pe(e),t=Ro({},t,l,Qc);var u=Ro({},t.imports,l.imports,Qc),h=De(u),g=Ii(u,h),w,x,A=0,O=t.interpolate||Fr,L="__p += '",z=Bi((t.escape||Fr).source+"|"+O.source+"|"+(O===vl?n_:Fr).source+"|"+(t.evaluate||Fr).source+"|$","g"),Y="//# sourceURL="+(he.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++A_+"]")+`
`;e.replace(z,function(Q,ae,ce,ot,Ye,it){return ce||(ce=ot),L+=e.slice(A,it).replace(c_,Q_),ae&&(w=!0,L+=`' +
__e(`+ae+`) +
'`),Ye&&(x=!0,L+=`';
`+Ye+`;
__p += '`),ce&&(L+=`' +
((__t = (`+ce+`)) == null ? '' : __t) +
'`),A=it+Q.length,Q}),L+=`';
`;var Z=he.call(t,"variable")&&t.variable;if(!Z)L=`with (obj) {
`+L+`
}
`;else if(e_.test(Z))throw new ee(m);L=(x?L.replace(Pg,""):L).replace(Mg,"$1").replace(Fg,"$1;"),L="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var oe=zu(function(){return de(h,Y+"return "+L).apply(o,g)});if(oe.source=L,vs(oe))throw oe;return oe}function SE(e){return pe(e).toLowerCase()}function CE(e){return pe(e).toUpperCase()}function kE(e,t,i){if(e=pe(e),e&&(i||t===o))return jl(e);if(!e||!(t=nt(t)))return e;var l=Et(e),u=Et(t),h=ec(l,u),g=tc(l,u)+1;return Qt(l,h,g).join("")}function NE(e,t,i){if(e=pe(e),e&&(i||t===o))return e.slice(0,rc(e)+1);if(!e||!(t=nt(t)))return e;var l=Et(e),u=tc(l,Et(t))+1;return Qt(l,0,u).join("")}function RE(e,t,i){if(e=pe(e),e&&(i||t===o))return e.replace(vi,"");if(!e||!(t=nt(t)))return e;var l=Et(e),u=ec(l,Et(t));return Qt(l,u).join("")}function TE(e,t){var i=H,l=W;if(Se(t)){var u="separator"in t?t.separator:u;i="length"in t?re(t.length):i,l="omission"in t?nt(t.omission):l}e=pe(e);var h=e.length;if(On(e)){var g=Et(e);h=g.length}if(i>=h)return e;var w=i-Dn(l);if(w<1)return l;var x=g?Qt(g,0,w).join(""):e.slice(0,w);if(u===o)return x+l;if(g&&(w+=x.length-w),bs(u)){if(e.slice(w).search(u)){var A,O=x;for(u.global||(u=Bi(u.source,pe(bl.exec(u))+"g")),u.lastIndex=0;A=u.exec(O);)var L=A.index;x=x.slice(0,L===o?w:L)}}else if(e.indexOf(nt(u),w)!=w){var z=x.lastIndexOf(u);z>-1&&(x=x.slice(0,z))}return x+l}function $E(e){return e=pe(e),e&&Ug.test(e)?e.replace(yl,iy):e}var VE=Un(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Ss=Gc("toUpperCase");function Wu(e,t,i){return e=pe(e),t=i?o:t,t===o?ey(e)?ly(e):G_(e):e.match(t)||[]}var zu=ie(function(e,t){try{return et(e,o,t)}catch(i){return vs(i)?i:new ee(i)}}),AE=Bt(function(e,t){return ft(t,function(i){i=$t(i),It(e,i,ys(e[i],e))}),e});function OE(e){var t=e==null?0:e.length,i=J();return e=t?xe(e,function(l){if(typeof l[1]!="function")throw new dt(p);return[i(l[0]),l[1]]}):[],ie(function(l){for(var u=-1;++u<t;){var h=e[u];if(et(h[0],this,l))return et(h[1],this,l)}})}function DE(e){return i0(ht(e,k))}function Cs(e){return function(){return e}}function IE(e,t){return e==null||e!==e?t:e}var LE=Kc(),BE=Kc(!0);function je(e){return e}function ks(e){return xc(typeof e=="function"?e:ht(e,k))}function PE(e){return Cc(ht(e,k))}function ME(e,t){return kc(e,ht(t,k))}var FE=ie(function(e,t){return function(i){return fr(i,e,t)}}),UE=ie(function(e,t){return function(i){return fr(e,i,t)}});function Ns(e,t,i){var l=De(t),u=lo(t,l);i==null&&!(Se(t)&&(u.length||!l.length))&&(i=t,t=e,e=this,u=lo(t,De(t)));var h=!(Se(i)&&"chain"in i)||!!i.chain,g=Mt(e);return ft(u,function(w){var x=t[w];e[w]=x,g&&(e.prototype[w]=function(){var A=this.__chain__;if(h||A){var O=e(this.__wrapped__),L=O.__actions__=Je(this.__actions__);return L.push({func:x,args:arguments,thisArg:e}),O.__chain__=A,O}return x.apply(e,qt([this.value()],arguments))})}),e}function HE(){return Pe._===this&&(Pe._=hy),this}function Rs(){}function WE(e){return e=re(e),ie(function(t){return Nc(t,e)})}var zE=is(xe),GE=is(Yl),qE=is($i);function Gu(e){return ds(e)?Vi($t(e)):E0(e)}function KE(e){return function(t){return e==null?o:hn(e,t)}}var YE=Xc(),XE=Xc(!0);function Ts(){return[]}function $s(){return!1}function JE(){return{}}function ZE(){return""}function QE(){return!0}function jE(e,t){if(e=re(e),e<1||e>_e)return[];var i=Ce,l=He(e,Ce);t=J(t),e-=Ce;for(var u=Di(l,t);++i<e;)t(i);return u}function e1(e){return te(e)?xe(e,$t):rt(e)?[e]:Je(fu(pe(e)))}function t1(e){var t=++dy;return pe(e)+t}var n1=mo(function(e,t){return e+t},0),r1=ss("ceil"),o1=mo(function(e,t){return e/t},1),i1=ss("floor");function s1(e){return e&&e.length?ao(e,je,Gi):o}function a1(e,t){return e&&e.length?ao(e,J(t,2),Gi):o}function l1(e){return Zl(e,je)}function c1(e,t){return Zl(e,J(t,2))}function u1(e){return e&&e.length?ao(e,je,Xi):o}function f1(e,t){return e&&e.length?ao(e,J(t,2),Xi):o}var d1=mo(function(e,t){return e*t},1),p1=ss("round"),h1=mo(function(e,t){return e-t},0);function m1(e){return e&&e.length?Oi(e,je):0}function g1(e,t){return e&&e.length?Oi(e,J(t,2)):0}return d.after=Pv,d.ary=Eu,d.assign=Cb,d.assignIn=Lu,d.assignInWith=Ro,d.assignWith=kb,d.at=Nb,d.before=xu,d.bind=ys,d.bindAll=AE,d.bindKey=Su,d.castArray=Jv,d.chain=wu,d.chunk=iw,d.compact=sw,d.concat=aw,d.cond=OE,d.conforms=DE,d.constant=Cs,d.countBy=mv,d.create=Rb,d.curry=Cu,d.curryRight=ku,d.debounce=Nu,d.defaults=Tb,d.defaultsDeep=$b,d.defer=Mv,d.delay=Fv,d.difference=lw,d.differenceBy=cw,d.differenceWith=uw,d.drop=fw,d.dropRight=dw,d.dropRightWhile=pw,d.dropWhile=hw,d.fill=mw,d.filter=_v,d.flatMap=vv,d.flatMapDeep=bv,d.flatMapDepth=Ev,d.flatten=mu,d.flattenDeep=gw,d.flattenDepth=_w,d.flip=Uv,d.flow=LE,d.flowRight=BE,d.fromPairs=yw,d.functions=Bb,d.functionsIn=Pb,d.groupBy=xv,d.initial=vw,d.intersection=bw,d.intersectionBy=Ew,d.intersectionWith=xw,d.invert=Fb,d.invertBy=Ub,d.invokeMap=Cv,d.iteratee=ks,d.keyBy=kv,d.keys=De,d.keysIn=Qe,d.map=Eo,d.mapKeys=Wb,d.mapValues=zb,d.matches=PE,d.matchesProperty=ME,d.memoize=So,d.merge=Gb,d.mergeWith=Bu,d.method=FE,d.methodOf=UE,d.mixin=Ns,d.negate=Co,d.nthArg=WE,d.omit=qb,d.omitBy=Kb,d.once=Hv,d.orderBy=Nv,d.over=zE,d.overArgs=Wv,d.overEvery=GE,d.overSome=qE,d.partial=ws,d.partialRight=Ru,d.partition=Rv,d.pick=Yb,d.pickBy=Pu,d.property=Gu,d.propertyOf=KE,d.pull=Nw,d.pullAll=_u,d.pullAllBy=Rw,d.pullAllWith=Tw,d.pullAt=$w,d.range=YE,d.rangeRight=XE,d.rearg=zv,d.reject=Vv,d.remove=Vw,d.rest=Gv,d.reverse=gs,d.sampleSize=Ov,d.set=Jb,d.setWith=Zb,d.shuffle=Dv,d.slice=Aw,d.sortBy=Bv,d.sortedUniq=Mw,d.sortedUniqBy=Fw,d.split=vE,d.spread=qv,d.tail=Uw,d.take=Hw,d.takeRight=Ww,d.takeRightWhile=zw,d.takeWhile=Gw,d.tap=sv,d.throttle=Kv,d.thru=bo,d.toArray=Ou,d.toPairs=Mu,d.toPairsIn=Fu,d.toPath=e1,d.toPlainObject=Iu,d.transform=Qb,d.unary=Yv,d.union=qw,d.unionBy=Kw,d.unionWith=Yw,d.uniq=Xw,d.uniqBy=Jw,d.uniqWith=Zw,d.unset=jb,d.unzip=_s,d.unzipWith=yu,d.update=eE,d.updateWith=tE,d.values=zn,d.valuesIn=nE,d.without=Qw,d.words=Wu,d.wrap=Xv,d.xor=jw,d.xorBy=ev,d.xorWith=tv,d.zip=nv,d.zipObject=rv,d.zipObjectDeep=ov,d.zipWith=iv,d.entries=Mu,d.entriesIn=Fu,d.extend=Lu,d.extendWith=Ro,Ns(d,d),d.add=n1,d.attempt=zu,d.camelCase=sE,d.capitalize=Uu,d.ceil=r1,d.clamp=rE,d.clone=Zv,d.cloneDeep=jv,d.cloneDeepWith=eb,d.cloneWith=Qv,d.conformsTo=tb,d.deburr=Hu,d.defaultTo=IE,d.divide=o1,d.endsWith=aE,d.eq=St,d.escape=lE,d.escapeRegExp=cE,d.every=gv,d.find=yv,d.findIndex=pu,d.findKey=Vb,d.findLast=wv,d.findLastIndex=hu,d.findLastKey=Ab,d.floor=i1,d.forEach=vu,d.forEachRight=bu,d.forIn=Ob,d.forInRight=Db,d.forOwn=Ib,d.forOwnRight=Lb,d.get=Es,d.gt=nb,d.gte=rb,d.has=Mb,d.hasIn=xs,d.head=gu,d.identity=je,d.includes=Sv,d.indexOf=ww,d.inRange=oE,d.invoke=Hb,d.isArguments=_n,d.isArray=te,d.isArrayBuffer=ob,d.isArrayLike=Ze,d.isArrayLikeObject=Re,d.isBoolean=ib,d.isBuffer=jt,d.isDate=sb,d.isElement=ab,d.isEmpty=lb,d.isEqual=cb,d.isEqualWith=ub,d.isError=vs,d.isFinite=fb,d.isFunction=Mt,d.isInteger=Tu,d.isLength=ko,d.isMap=$u,d.isMatch=db,d.isMatchWith=pb,d.isNaN=hb,d.isNative=mb,d.isNil=_b,d.isNull=gb,d.isNumber=Vu,d.isObject=Se,d.isObjectLike=ke,d.isPlainObject=_r,d.isRegExp=bs,d.isSafeInteger=yb,d.isSet=Au,d.isString=No,d.isSymbol=rt,d.isTypedArray=Wn,d.isUndefined=wb,d.isWeakMap=vb,d.isWeakSet=bb,d.join=Sw,d.kebabCase=uE,d.last=gt,d.lastIndexOf=Cw,d.lowerCase=fE,d.lowerFirst=dE,d.lt=Eb,d.lte=xb,d.max=s1,d.maxBy=a1,d.mean=l1,d.meanBy=c1,d.min=u1,d.minBy=f1,d.stubArray=Ts,d.stubFalse=$s,d.stubObject=JE,d.stubString=ZE,d.stubTrue=QE,d.multiply=d1,d.nth=kw,d.noConflict=HE,d.noop=Rs,d.now=xo,d.pad=pE,d.padEnd=hE,d.padStart=mE,d.parseInt=gE,d.random=iE,d.reduce=Tv,d.reduceRight=$v,d.repeat=_E,d.replace=yE,d.result=Xb,d.round=p1,d.runInContext=b,d.sample=Av,d.size=Iv,d.snakeCase=wE,d.some=Lv,d.sortedIndex=Ow,d.sortedIndexBy=Dw,d.sortedIndexOf=Iw,d.sortedLastIndex=Lw,d.sortedLastIndexBy=Bw,d.sortedLastIndexOf=Pw,d.startCase=bE,d.startsWith=EE,d.subtract=h1,d.sum=m1,d.sumBy=g1,d.template=xE,d.times=jE,d.toFinite=Ft,d.toInteger=re,d.toLength=Du,d.toLower=SE,d.toNumber=_t,d.toSafeInteger=Sb,d.toString=pe,d.toUpper=CE,d.trim=kE,d.trimEnd=NE,d.trimStart=RE,d.truncate=TE,d.unescape=$E,d.uniqueId=t1,d.upperCase=VE,d.upperFirst=Ss,d.each=vu,d.eachRight=bu,d.first=gu,Ns(d,function(){var e={};return Rt(d,function(t,i){he.call(d.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),d.VERSION=a,ft(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),ft(["drop","take"],function(e,t){le.prototype[e]=function(i){i=i===o?1:Ve(re(i),0);var l=this.__filtered__&&!t?new le(this):this.clone();return l.__filtered__?l.__takeCount__=He(i,l.__takeCount__):l.__views__.push({size:He(i,Ce),type:e+(l.__dir__<0?"Right":"")}),l},le.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),ft(["filter","map","takeWhile"],function(e,t){var i=t+1,l=i==se||i==Nt;le.prototype[e]=function(u){var h=this.clone();return h.__iteratees__.push({iteratee:J(u,3),type:i}),h.__filtered__=h.__filtered__||l,h}}),ft(["head","last"],function(e,t){var i="take"+(t?"Right":"");le.prototype[e]=function(){return this[i](1).value()[0]}}),ft(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");le.prototype[e]=function(){return this.__filtered__?new le(this):this[i](1)}}),le.prototype.compact=function(){return this.filter(je)},le.prototype.find=function(e){return this.filter(e).head()},le.prototype.findLast=function(e){return this.reverse().find(e)},le.prototype.invokeMap=ie(function(e,t){return typeof e=="function"?new le(this):this.map(function(i){return fr(i,e,t)})}),le.prototype.reject=function(e){return this.filter(Co(J(e)))},le.prototype.slice=function(e,t){e=re(e);var i=this;return i.__filtered__&&(e>0||t<0)?new le(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==o&&(t=re(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},le.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},le.prototype.toArray=function(){return this.take(Ce)},Rt(le.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),u=d[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);u&&(d.prototype[t]=function(){var g=this.__wrapped__,w=l?[1]:arguments,x=g instanceof le,A=w[0],O=x||te(g),L=function(ae){var ce=u.apply(d,qt([ae],w));return l&&z?ce[0]:ce};O&&i&&typeof A=="function"&&A.length!=1&&(x=O=!1);var z=this.__chain__,Y=!!this.__actions__.length,Z=h&&!z,oe=x&&!Y;if(!h&&O){g=oe?g:new le(this);var Q=e.apply(g,w);return Q.__actions__.push({func:bo,args:[L],thisArg:o}),new pt(Q,z)}return Z&&oe?e.apply(this,w):(Q=this.thru(L),Z?l?Q.value()[0]:Q.value():Q)})}),ft(["pop","push","shift","sort","splice","unshift"],function(e){var t=qr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var u=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(te(h)?h:[],u)}return this[i](function(g){return t.apply(te(g)?g:[],u)})}}),Rt(le.prototype,function(e,t){var i=d[t];if(i){var l=i.name+"";he.call(Pn,l)||(Pn[l]=[]),Pn[l].push({name:t,func:i})}}),Pn[ho(o,B).name]=[{name:"wrapper",func:o}],le.prototype.clone=$y,le.prototype.reverse=Vy,le.prototype.value=Ay,d.prototype.at=av,d.prototype.chain=lv,d.prototype.commit=cv,d.prototype.next=uv,d.prototype.plant=dv,d.prototype.reverse=pv,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=hv,d.prototype.first=d.prototype.head,or&&(d.prototype[or]=fv),d},In=cy();cn?((cn.exports=In)._=In,ki._=In):Pe._=In}).call(rn)}(Cr,Cr.exports);var Ie=Cr.exports;function oa(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function Mo(r,s){r===void 0&&(r={}),s===void 0&&(s={}),Object.keys(s).forEach(function(o){typeof r[o]>"u"?r[o]=s[o]:oa(s[o])&&oa(r[o])&&Object.keys(s[o]).length>0&&Mo(r[o],s[o])})}var ia={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Fo(){var r=typeof document<"u"?document:{};return Mo(r,ia),r}var Rf={document:ia,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame:function(r){typeof setTimeout>"u"||clearTimeout(r)}};function sa(){var r=typeof window<"u"?window:{};return Mo(r,Rf),r}function Tf(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s}function Uo(r){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Uo(r)}function kr(r,s){return kr=Object.setPrototypeOf||function(a,c){return a.__proto__=c,a},kr(r,s)}function $f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Nr(r,s,o){return $f()?Nr=Reflect.construct:Nr=function(c,f,p){var m=[null];m.push.apply(m,f);var _=Function.bind.apply(c,m),y=new _;return p&&kr(y,p.prototype),y},Nr.apply(null,arguments)}function Vf(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Ho(r){var s=typeof Map=="function"?new Map:void 0;return Ho=function(a){if(a===null||!Vf(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(a))return s.get(a);s.set(a,c)}function c(){return Nr(a,arguments,Uo(this).constructor)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),kr(c,a)},Ho(r)}function Af(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Of(r){var s=r.__proto__;Object.defineProperty(r,"__proto__",{get:function(){return s},set:function(a){s.__proto__=a}})}var on=function(r){Tf(s,r);function s(o){var a;return a=r.call.apply(r,[this].concat(o))||this,Of(Af(a)),a}return s}(Ho(Array));function Wo(r){r===void 0&&(r=[]);var s=[];return r.forEach(function(o){Array.isArray(o)?s.push.apply(s,Wo(o)):s.push(o)}),s}function Df(r){for(var s=[],o=0;o<r.length;o+=1)s.indexOf(r[o])===-1&&s.push(r[o]);return s}function If(r){return r.toLowerCase().replace(/-(.)/g,function(s,o){return o.toUpperCase()})}function Lf(r,s){if(typeof r!="string")return[r];for(var o=[],a=s.querySelectorAll(r),c=0;c<a.length;c+=1)o.push(a[c]);return o}function me(r,s){var o=sa(),a=Fo(),c=[];if(!s&&r instanceof on)return r;if(!r)return new on(c);if(typeof r=="string"){var f=r.trim();if(f.indexOf("<")>=0&&f.indexOf(">")>=0){var p="div";f.indexOf("<li")===0&&(p="ul"),f.indexOf("<tr")===0&&(p="tbody"),(f.indexOf("<td")===0||f.indexOf("<th")===0)&&(p="tr"),f.indexOf("<tbody")===0&&(p="table"),f.indexOf("<option")===0&&(p="select");var m=a.createElement(p);m.innerHTML=f;for(var _=0;_<m.childNodes.length;_+=1)c.push(m.childNodes[_])}else c=Lf(r.trim(),s||a)}else if(r.nodeType||r===o||r===a)c.push(r);else if(Array.isArray(r)){if(r instanceof on)return r;c=r}return new on(Df(c))}me.fn=on.prototype;function aa(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=Wo(s.map(function(c){return c.split(" ")}));return this.forEach(function(c){var f;(f=c.classList).add.apply(f,a)}),this}function la(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=Wo(s.map(function(c){return c.split(" ")}));return this.forEach(function(c){var f;(f=c.classList).remove.apply(f,a)}),this}function ca(r,s){if(arguments.length===1&&typeof r=="string")return this[0]?this[0].getAttribute(r):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(r,s);else for(var a in r)this[o][a]=r[a],this[o].setAttribute(a,r[a]);return this}function ua(){var r=this[0];if(r){var s={};if(r.dataset)for(var o in r.dataset)s[o]=r.dataset[o];else for(var a=0;a<r.attributes.length;a+=1){var c=r.attributes[a];c.name.indexOf("data-")>=0&&(s[If(c.name.split("data-")[1])]=c.value)}for(var f in s)s[f]==="false"?s[f]=!1:s[f]==="true"?s[f]=!0:parseFloat(s[f])===s[f]*1&&(s[f]*=1);return s}}function fa(r){if(typeof r>"u"){var s=this[0];if(!s)return;if(s.multiple&&s.nodeName.toLowerCase()==="select"){for(var o=[],a=0;a<s.selectedOptions.length;a+=1)o.push(s.selectedOptions[a].value);return o}return s.value}for(var c=0;c<this.length;c+=1){var f=this[c];if(Array.isArray(r)&&f.multiple&&f.nodeName.toLowerCase()==="select")for(var p=0;p<f.options.length;p+=1)f.options[p].selected=r.indexOf(f.options[p].value)>=0;else f.value=r}return this}function da(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],c=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],c=void 0),p||(p=!1);function m(v){var I=v.target;if(I){var B=v.target.dom7EventData||[];if(B.indexOf(v)<0&&B.unshift(v),me(I).is(c))f.apply(I,B);else for(var P=me(I).parents(),V=0;V<P.length;V+=1)me(P[V]).is(c)&&f.apply(P[V],B)}}function _(v){var I=v&&v.target?v.target.dom7EventData||[]:[];I.indexOf(v)<0&&I.unshift(v),f.apply(this,I)}for(var y=a.split(" "),S,k=0;k<this.length;k+=1){var C=this[k];if(c)for(S=0;S<y.length;S+=1){var E=y[S];C.dom7LiveListeners||(C.dom7LiveListeners={}),C.dom7LiveListeners[E]||(C.dom7LiveListeners[E]=[]),C.dom7LiveListeners[E].push({listener:f,proxyListener:m}),C.addEventListener(E,m,p)}else for(S=0;S<y.length;S+=1){var T=y[S];C.dom7Listeners||(C.dom7Listeners={}),C.dom7Listeners[T]||(C.dom7Listeners[T]=[]),C.dom7Listeners[T].push({listener:f,proxyListener:_}),C.addEventListener(T,_,p)}}return this}function pa(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],c=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],c=void 0),p||(p=!1);for(var m=a.split(" "),_=0;_<m.length;_+=1)for(var y=m[_],S=0;S<this.length;S+=1){var k=this[S],C=void 0;if(!c&&k.dom7Listeners?C=k.dom7Listeners[y]:c&&k.dom7LiveListeners&&(C=k.dom7LiveListeners[y]),C&&C.length)for(var T=C.length-1;T>=0;T-=1){var E=C[T];f&&E.listener===f||f&&E.listener&&E.listener.dom7proxy&&E.listener.dom7proxy===f?(k.removeEventListener(y,E.proxyListener,p),C.splice(T,1)):f||(k.removeEventListener(y,E.proxyListener,p),C.splice(T,1))}}return this}function ha(){for(var r=0;r<this.length;r+=1)this[r].style.display="none";return this}function ma(r){return r?(this.forEach(function(s,o){r.apply(s,[s,o])}),this):this}function ga(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(var s=0;s<this.length;s+=1)this[s].innerHTML=r;return this}function _a(r){var s=sa(),o=Fo(),a=this[0],c,f;if(!a||typeof r>"u")return!1;if(typeof r=="string"){if(a.matches)return a.matches(r);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(r);if(a.msMatchesSelector)return a.msMatchesSelector(r);for(c=me(r),f=0;f<c.length;f+=1)if(c[f]===a)return!0;return!1}if(r===o)return a===o;if(r===s)return a===s;if(r.nodeType||r instanceof on){for(c=r.nodeType?[r]:r,f=0;f<c.length;f+=1)if(c[f]===a)return!0;return!1}return!1}function ya(){for(var r,s=Fo(),o=0;o<arguments.length;o+=1){r=o<0||arguments.length<=o?void 0:arguments[o];for(var a=0;a<this.length;a+=1)if(typeof r=="string"){var c=s.createElement("div");for(c.innerHTML=r;c.firstChild;)this[a].appendChild(c.firstChild)}else if(r instanceof on)for(var f=0;f<r.length;f+=1)this[a].appendChild(r[f]);else this[a].appendChild(r)}return this}function wa(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].parentNode;a;)r?me(a).is(r)&&s.push(a):s.push(a),a=a.parentNode;return me(s)}function va(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].querySelectorAll(r),c=0;c<a.length;c+=1)s.push(a[c]);return me(s)}function ba(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].children,c=0;c<a.length;c+=1)(!r||me(a[c]).is(r))&&s.push(a[c]);return me(s)}var Bf="resize scroll".split(" ");function Ea(r){function s(){for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];if(typeof a[0]>"u"){for(var f=0;f<this.length;f+=1)Bf.indexOf(r)<0&&(r in this[f]?this[f][r]():me(this[f]).trigger(r));return this}return this.on.apply(this,[r].concat(a))}return s}var xa=Ea("click"),Sa=Ea("focus");ha&&(me.fn.hide=ha),ya&&(me.fn.append=ya),xa&&(me.fn.click=xa),da&&(me.fn.on=da),pa&&(me.fn.off=pa),Sa&&(me.fn.focus=Sa),ca&&(me.fn.attr=ca),fa&&(me.fn.val=fa),ga&&(me.fn.html=ga),ua&&(me.fn.dataset=ua),aa&&(me.fn.addClass=aa),la&&(me.fn.removeClass=la),ba&&(me.fn.children=ba),ma&&(me.fn.each=ma),va&&(me.fn.find=va),_a&&(me.fn.is=_a),wa&&(me.fn.parents=wa);const Pf=globalThis.Node,Mf=globalThis.Comment,Ff=globalThis.Element,Uf=globalThis.Text,Hf=globalThis.Range,Wf=globalThis.Selection,zf=globalThis.StaticRange;let Gf=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((s,o)=>(o&=63,o<36?s+=o.toString(36):o<62?s+=(o-26).toString(36).toUpperCase():o>62?s+="-":s+="_",s),"");function qf(r="r"){return`${r}-${Gf()}`}let Ca=class{constructor(){Ne(this,"audio");Ne(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(s){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=s,this.src=s,document.body.appendChild(this.audio),this.audio.play()}stop(s){s&&s!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}};const sn=new Ca;function zo(r){const s=Math.floor(r/60),o=r%60,a=String(s).padStart(2,"0"),c=String(o).padStart(2,"0");return`${a}:${c}`}class ka{constructor(s){Ne(this,"accept");Ne(this,"dom");Ne(this,"isdestroy",!1);Ne(this,"resolve");Ne(this,"reject");this.accept=s,this.dom=null,this.resolve=null,this.reject=null}createInputElement(){const s=document.createElement("input");return s.type="file",s.accept=this.accept,s.hidden=!0,s}change(s){var o,a;if(this.dom&&this.dom.files&&this.dom.files.length>0){const c=this.dom.files.item(0);if(c){(o=this.resolve)==null||o.call(this,c),this.dom.value="";return}this.dom.value=""}return(a=this.reject)==null?void 0:a.call(this,s)}cancel(s){var o;return this.dom&&(this.dom.value=""),(o=this.reject)==null?void 0:o.call(this,s)}open(){if(this.isdestroy)throw Error("对象已经销毁");this.dom||(this.dom=this.createInputElement(),this.dom.addEventListener("change",this.change.bind(this)),this.dom.addEventListener("cancel",this.cancel.bind(this)),document.body.appendChild(this.dom)),this.dom.click();const s=this;return new Promise((o,a)=>{s.resolve=o,s.reject=a})}destroy(){this.isdestroy||(this.dom&&document.body.removeChild(this.dom),this.dom=null,this.isdestroy=!0)}}class Go{constructor(s){Ne(this,"cancelled",!1);Ne(this,"timeoutId",null);this.timeoutMilliseconds=s}get token(){return{isCancellationRequested:()=>this.cancelled,throwIfRequested:()=>{if(this.cancelled)throw new Error("Operation canceled")}}}cancel(){this.cancelled=!0,this.clearTimeout()}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}startTimeout(){this.timeoutId=setTimeout(()=>{this.cancel()},this.timeoutMilliseconds)}}class Na{constructor(s=60){Ne(this,"isStop",!1);Ne(this,"count",n.ref(0));Ne(this,"timeoutId",null);this.timeoutSeconds=s}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get state(){return n.computed(()=>this.count.value)}start(s){s&&(this.timeoutSeconds=s),this.isStop=!1,this.count.value=0,this.clearTimeout(),this.timeoutId=setInterval(()=>{!this.isStop&&this.count.value<this.timeoutSeconds?this.count.value++:this.clearTimeout()},1e3)}stop(){this.isStop=!0,this.clearTimeout()}}function Kf(r){const{selection:s}=r;if(s){const[o,a]=R.SlateRange.edges(s),c=R.SlateEditor.range(r,o,a),f=R.SlateEditor.string(r,c),p=f.trimEnd();if(p!==f){const m=f.length-p.length,_={...a,offset:a.offset-m},y={...s,anchor:o,focus:_};R.SlateTransforms.select(r,y)}}}function Ra(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.start(r,s),a=R.SlateEditor.end(r,s);R.SlateTransforms.insertText(r," ",{at:o}),R.SlateTransforms.insertText(r," ",{at:{path:a.path,offset:a.offset+1}}),R.SlateTransforms.select(r,{anchor:{path:o.path,offset:o.offset+1},focus:{path:a.path,offset:a.offset+1}})})}function En(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.before(r,s),a=R.SlateEditor.after(r,s);if(!o||!a)return;const c={anchor:{path:o.path,offset:o.offset-1},focus:{path:o.path,offset:o.offset}},f={anchor:{path:a.path,offset:a.offset},focus:{path:a.path,offset:a.offset+1}};R.SlateEditor.string(r,c)===" "&&R.SlateTransforms.delete(r,{at:c}),R.SlateEditor.string(r,f)===" "&&R.SlateTransforms.delete(r,{at:f})})}const Yf={type:"ssml-audio",renderElem:(r,s,o)=>s?Xf(r,s,o):Jf(r,o)};function Xf(r,s,o){const{remark:a,src:c}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(f=>{f.preventDefault(),sn.stop(c);const p=R.DomEditor.findPath(o,r);En(o,p),R.SlateTransforms.unwrapNodes(o,{at:p})})}}),M("span.iconfont.icon-play",{on:{click:Ie.throttle(f=>{f.preventDefault(),sn.play(c)})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-audio)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-audio)"}})])}function Jf(r,s){const{remark:o,src:a}=r;return M("span.ssml-wrapper",{props:{contentEditable:!1}},[M("span.remark",{style:{backgroundColor:"var(--ssml-audio)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault(),sn.stop(a);const f=R.DomEditor.findPath(s,r);R.SlateTransforms.delete(s,{at:f})})}}),M("span.iconfont.icon-play",{on:{click:Ie.throttle(c=>{c.preventDefault(),sn.play(a)})}}),M("span.data-content",{attrs:{"data-content":o}})]),M("span.iconfont.icon-music",{style:{color:"var(--ssml-audio)"}})])}const Zf={editorPlugin:Nf,renderElems:[Yf],elemsToHtml:[{type:"ssml-audio",elemToHtml:(r,s)=>{const{remark:o,src:a}=r;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${a}"
          data-ow-remark="${o}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-src")||"",a=r.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:a,children:s}}}]},Qf={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-break"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-break"?!0:o(c),a},renderElems:[{type:"ssml-break",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",{props:{contentEditable:!1}},[M("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.delete(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.iconfont.icon-tingdun",{style:{color:"var(--ssml-break)"}})])}}],elemsToHtml:[{type:"ssml-break",elemToHtml:r=>{const{remark:s,time:o,strength:a}=r;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${s}"
          data-ow-time="${o??""}"
          data-ow-strength="${a??"medium"}"
        ></span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:r=>{const s=r.getAttribute("data-ow-remark")||"",o=r.getAttribute("data-ow-time")||"",a=r.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:s,time:o,strength:a,children:[{text:""}]}}}]},jf={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-emphasis"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-emphasis"?!1:o(c),a},renderElems:[{type:"ssml-emphasis",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-emphasis)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-emphasis)"}})])}}],elemsToHtml:[{type:"ssml-emphasis",elemToHtml:(r,s)=>{const{remark:o,level:a}=r;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${a??"none"}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:a,children:s}}}]},ed={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-mstts:express-as"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-mstts:express-as"?!1:o(c),a},renderElems:[{type:"ssml-mstts:express-as",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-mstts--express-as)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-mstts--express-as)"}})])}}],elemsToHtml:[{type:"ssml-mstts:express-as",elemToHtml:(r,s)=>{const{remark:o,style:a,role:c,styledegree:f}=r;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-styledegree="${f??""}"
          data-ow-role="${c??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-style")||"",c=r.getAttribute("data-ow-styledegree")||"",f=r.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:a,remark:o,styledegree:c,role:f,children:s}}}]},td={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-p"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-p"?!1:o(c),a},renderElems:[{type:"ssml-p",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-p)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-p)"}})])}}],elemsToHtml:[{type:"ssml-p",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(r,s)=>({type:"ssml-p",remark:r.getAttribute("data-ow-remark")||"",children:s})}]},nd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-phoneme"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-phoneme"?!1:o(c),a},renderElems:[{type:"ssml-phoneme",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-phoneme)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-phoneme)"}})])}}],elemsToHtml:[{type:"ssml-phoneme",elemToHtml:(r,s)=>{const{remark:o,alphabet:a,ph:c}=r;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${a??""}"
          data-ow-ph="${c}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alphabet")||"",c=r.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:a,ph:c,children:s}}}]},rd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-prosody"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-prosody"?!1:o(c),a},renderElems:[{type:"ssml-prosody",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-prosody)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-prosody)"}})])}}],elemsToHtml:[{type:"ssml-prosody",elemToHtml:(r,s)=>{const{remark:o,contour:a,pitch:c,range:f,rate:p,volume:m}=r;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${a??""}"
          data-ow-pitch="${c??""}"
          data-ow-range="${f??""}"
          data-ow-rate="${p??""}"
          data-ow-volume="${m??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-contour")||"",c=r.getAttribute("data-ow-pitch ")||"",f=r.getAttribute("data-ow-range")||"",p=r.getAttribute("data-ow-rate")||void 0,m=r.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:a,pitch:c,range:f,rate:p,volume:m,children:s}}}]},od={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-s"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-s"?!1:o(c),a},renderElems:[{type:"ssml-s",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-s)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-s)"}})])}}],elemsToHtml:[{type:"ssml-s",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(r,s)=>({type:"ssml-s",remark:r.getAttribute("data-ow-remark")||"",children:s})}]},id={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-say-as"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-say-as"?!1:o(c),a},renderElems:[{type:"ssml-say-as",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-say-as)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-say-as)"}})])}}],elemsToHtml:[{type:"ssml-say-as",elemToHtml:(r,s)=>{const{remark:o,interpretAs:a,detail:c,format:f}=r;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${a}"
          data-ow-detail="${c??""}"
          data-ow-format="${f??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-interpretAs")||"",c=r.getAttribute("data-ow-format")||"",f=r.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:a,detail:f,format:c,children:s}}}]},sd={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-sub"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-sub"?!1:o(c),a},renderElems:[{type:"ssml-sub",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-sub)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-sub)"}})])}}],elemsToHtml:[{type:"ssml-sub",elemToHtml:(r,s)=>{const{remark:o,alias:a}=r;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${a}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:a,children:s}}}]},ad={editorPlugin:r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="ssml-voice"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="ssml-voice"?!1:o(c),a},renderElems:[{type:"ssml-voice",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-voice)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-voice)"}})])}}],elemsToHtml:[{type:"ssml-voice",elemToHtml:(r,s)=>{const{remark:o,name:a,effect:c}=r;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${a}"
          data-ow-effect="${c??""}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",c=r.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:a,effect:c,children:s}}}]},ld=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=c=>R.DomEditor.getNodeType(c)==="custom-management"?!0:s(c),a.isVoid=c=>R.DomEditor.getNodeType(c)==="custom-management"?!1:o(c),a},be={ERROR:"wangeditor-error",SSML_ELEMENT_CLICK:"ssml-element-click"},Le={ERROR:"emitter-error",VIEW_CLICK:"emitter-view-click",VIEW_KEYDOWN:"emitter-view-keydown",EDITOR_CREATED:"emitter-editor-created"},cd={editorPlugin:ld,renderElems:[{type:"custom-management",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--custom-management)"},on:{mousedown:c=>c.preventDefault(),click:Ie.throttle(c=>{c.preventDefault(),o.select(R.DomEditor.findPath(o,r)),o.emit(be.SSML_ELEMENT_CLICK,o,r)})}},[M("span.iconfont.icon-roundclosefill",{on:{click:Ie.throttle(c=>{c.preventDefault();const f=R.DomEditor.findPath(o,r);En(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{{"},style:{color:"var(--custom-management)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}}"},style:{color:"var(--custom-management)"}})])}}],elemsToHtml:[{type:"custom-management",elemToHtml:(r,s)=>{const{remark:o,style:a,role:c,name:f,pitch:p,rate:m,custom:_}=r;return`<span
          data-w-e-type="custom-management"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-name="${f}"
          data-ow-role="${c}"
          data-ow-pitch="${p}"
          data-ow-rate="${m}"
          data-ow-custom="${JSON.stringify(_)}"
        >${s}</span>`}}],parseElemsHtml:[{selector:'span[data-w-e-type="custom-management"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",c=r.getAttribute("data-ow-role")||"",f=r.getAttribute("data-ow-style")||"",p=r.getAttribute("data-ow-pitch")||"",m=r.getAttribute("data-ow-rate")||"",_=r.getAttribute("data-ow-custom")||"{}";return{type:"custom-management",remark:o,name:a,role:c,style:f,pitch:p,rate:m,custom:JSON.parse(_),children:s}}}]},ud=r=>{const{deleteBackward:s,deleteForward:o,insertBreak:a,apply:c,normalizeNode:f,insertText:p,insertData:m,setFragmentData:_,insertNode:y}=r,S=r;S.deleteBackward=C=>{s(C)},S.deleteForward=C=>{o(C)},S.insertBreak=()=>{a()},S.normalizeNode=C=>{f(C)},S.apply=C=>{c(C)},S.insertData=C=>{if(C.types.includes("application/x-slate-fragment"))return m(C);{const T=new DataTransfer;return T.setData("text/plain",C.getData("text/plain").trim()),m(T)}},S.setFragmentData=C=>{_(C);const T=C.getData("text/plain").replaceAll(/[\s]/gi,"");C.setData("text/plain",T)},S.insertText=C=>{p(C)};const k=["ssml-prosody","ssml-sub","custom-management","ssml-phoneme","ssml-say-as"];return S.insertNode=C=>{const T=R.DomEditor.getNodeType(C);return k.includes(T)||T==="ssml-audio"&&R.SlateNode.string(C)?(r.selection&&Ra(r,r.selection),R.SlateTransforms.insertNodes(r,C)):R.SlateEditor.isVoid(r,C)?(y(C),r.move(1)):y(C)},S},yx="",fd={install(){R.Boot.registerModule(Zf),R.Boot.registerModule(Qf),R.Boot.registerModule(jf),R.Boot.registerModule(ed),R.Boot.registerModule(td),R.Boot.registerModule(nd),R.Boot.registerModule(rd),R.Boot.registerModule(od),R.Boot.registerModule(id),R.Boot.registerModule(sd),R.Boot.registerModule(ad),R.Boot.registerModule(cd),R.Boot.registerPlugin(ud)}},an=Sr("--editor-ssml",()=>{const r=n.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),s=n.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=n.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),a=n.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]}),c=n.shallowReactive({type:"ssml-prosody",remark:"",children:[]});return{rootSpeak:r,rootVoice:s,rootBackgroundaudio:o,rootExpressAs:a,rootProsody:c}});function dd(){return{label:"",value:""}}function Ta(){return{id:"",category:"",avatar:"",isFree:!1,isStar:!1,isSupper24K:!1,roles:[],styles:[],name:"",displayName:""}}function Rr(){return{word:"",topFlag:"",category:"",gender:"",tag:""}}class $a{constructor(){Ne(this,"audio");Ne(this,"isPlaying",n.ref(!1));Ne(this,"isLoading",n.ref(!1));Ne(this,"loadResolve");Ne(this,"loadReject");this.audio=new Audio,this.audio.addEventListener("canplaythrough",()=>{var s;this.isLoading.value=!1,(s=this.loadResolve)==null||s.call(this)}),this.audio.addEventListener("play",()=>{this.isPlaying.value=!0}),this.audio.addEventListener("pause",()=>{this.isPlaying.value=!1}),this.audio.addEventListener("error",()=>{var s;this.isLoading.value=!1,this.isPlaying.value=!1,(s=this.loadReject)==null||s.call(this)})}load(s){return this.pause(),this.isPlaying.value=!1,this.isLoading.value=!0,this.audio.src=s,this.audio.load(),new Promise((o,a)=>{this.loadResolve=o,this.loadReject=a})}play(){this.audio.play()}pause(){this.audio.pause()}togglePlayPause(){this.isPlaying.value?this.pause():this.play()}get playState(){return n.computed(()=>this.isPlaying.value?"playing":"paused")}get loadState(){return n.computed(()=>this.isLoading.value?"loading":"complete")}}const Tr=Sr("--editor-try-play",()=>{const r=an(),s=n.shallowRef(new $a),o=n.ref(Ta()),a=n.computed(()=>o.value),c=n.computed(()=>s.value);return{speaker:a,setSpeaker:p=>{o.value=p,r.rootVoice.name=p.name},audioPlayer:c}}),Va=Sr("--editor-management-menu",()=>({contentData:n.reactive(Zs())})),pd={class:"bar-button-icon"},hd={class:"fw-normal",style:{"font-size":"0.85rem"}},md=n.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(r,{emit:s}){const o=r,a=()=>{if(!o.disabled){const{editor:c}=ze();c&&s("click",c)}};return(c,f)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["bar-button px-2 py-1",{disabled:c.disabled}]),onClick:a,onMousedown:f[0]||(f[0]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",pd,[n.createElementVNode("span",{class:n.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${c.icon}`]])},null,2)]),n.createElementVNode("div",hd,n.toDisplayString(c.text),1)],34))}}),wx="",Xe=(r,s)=>{const o=r.__vccOpts||r;for(const[a,c]of s)o[a]=c;return o},Ge=Xe(md,[["__scopeId","data-v-2da9a7ca"]]),vx="",bx="",Ex="",qo=n.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(r,{expose:s,emit:o}){const a=n.ref(""),c=n.ref();function f(){n.nextTick(()=>{c.value.input.focus()})}function p(){o("submit",a.value),a.value=""}return s({focus:f}),(m,_)=>(n.openBlock(),n.createBlock(n.unref(j.ElForm),{onSubmit:n.withModifiers(p,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{type:m.type,ref_key:"inputRef",ref:c,modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=y=>a.value=y)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}}),xx="",Sx="",gd=n.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(r){return(s,o)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{hideAfter:s.hideAfter,width:s.width,visible:s.visible,trigger:s.trigger,"onUpdate:visible":o[0]||(o[0]=a=>s.$emit("update:visible",a))},{reference:n.withCtx(()=>[n.renderSlot(s.$slots,"reference")]),default:n.withCtx(()=>[n.renderSlot(s.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}}),Cx="",kx="",Nx="",Rx="",Tx="",$x="",Vx="",Ax="",Ox="";function $r(r){return n.getCurrentScope()?(n.onScopeDispose(r),!0):!1}function lt(r){return typeof r=="function"?r():n.unref(r)}const Aa=typeof window<"u"&&typeof document<"u",_d=r=>r!=null,yd=Object.prototype.toString,wd=r=>yd.call(r)==="[object Object]",Vr=()=>{};function vd(r,s={}){if(!n.isRef(r))return n.toRefs(r);const o=Array.isArray(r.value)?Array.from({length:r.value.length}):{};for(const a in r.value)o[a]=n.customRef(()=>({get(){return r.value[a]},set(c){var f;if((f=lt(s.replaceRef))!=null?f:!0)if(Array.isArray(r.value)){const m=[...r.value];m[a]=c,r.value=m}else{const m={...r.value,[a]:c};Object.setPrototypeOf(m,Object.getPrototypeOf(r.value)),r.value=m}else r.value[a]=c}}));return o}function Oa(r,s=!0){n.getCurrentInstance()?n.onMounted(r):s?r():n.nextTick(r)}function wt(r){var s;const o=lt(r);return(s=o==null?void 0:o.$el)!=null?s:o}const Wt=Aa?window:void 0;function xn(...r){let s,o,a,c;if(typeof r[0]=="string"||Array.isArray(r[0])?([o,a,c]=r,s=Wt):[s,o,a,c]=r,!s)return Vr;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const f=[],p=()=>{f.forEach(S=>S()),f.length=0},m=(S,k,C,T)=>(S.addEventListener(k,C,T),()=>S.removeEventListener(k,C,T)),_=n.watch(()=>[wt(s),lt(c)],([S,k])=>{if(p(),!S)return;const C=wd(k)?{...k}:k;f.push(...o.flatMap(T=>a.map(E=>m(S,T,E,C))))},{immediate:!0,flush:"post"}),y=()=>{_(),p()};return $r(y),y}function bd(){const r=n.ref(!1);return n.getCurrentInstance()&&n.onMounted(()=>{r.value=!0}),r}function Ko(r){const s=bd();return n.computed(()=>(s.value,!!r()))}function Ed(r,s={}){const{window:o=Wt}=s,a=Ko(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let c;const f=n.ref(!1),p=y=>{f.value=y.matches},m=()=>{c&&("removeEventListener"in c?c.removeEventListener("change",p):c.removeListener(p))},_=n.watchEffect(()=>{a.value&&(m(),c=o.matchMedia(lt(r)),"addEventListener"in c?c.addEventListener("change",p):c.addListener(p),f.value=c.matches)});return $r(()=>{_(),m(),c=void 0}),f}function Yo(r,s={}){var o,a;const{pointerTypes:c,preventDefault:f,stopPropagation:p,exact:m,onMove:_,onEnd:y,onStart:S,initialValue:k,axis:C="both",draggingElement:T=Wt,containerElement:E,handle:v=r}=s,I=n.ref((o=lt(k))!=null?o:{x:0,y:0}),B=n.ref(),P=D=>c?c.includes(D.pointerType):!0,V=D=>{lt(f)&&D.preventDefault(),lt(p)&&D.stopPropagation()},F=D=>{var ue;if(!P(D)||lt(m)&&D.target!==lt(r))return;const H=((ue=lt(E))!=null?ue:lt(r)).getBoundingClientRect(),W={x:D.clientX-H.left,y:D.clientY-H.top};(S==null?void 0:S(W,D))!==!1&&(B.value=W,V(D))},G=D=>{if(!P(D)||!B.value)return;let{x:ue,y:Ee}=I.value;(C==="x"||C==="both")&&(ue=D.clientX-B.value.x),(C==="y"||C==="both")&&(Ee=D.clientY-B.value.y),I.value={x:ue,y:Ee},_==null||_(I.value,D),V(D)},X=D=>{P(D)&&B.value&&(B.value=void 0,y==null||y(I.value,D),V(D))};if(Aa){const D={capture:(a=s.capture)!=null?a:!0};xn(v,"pointerdown",F,D),xn(T,"pointermove",G,D),xn(T,"pointerup",X,D)}return{...vd(I),position:I,isDragging:n.computed(()=>!!B.value),style:n.computed(()=>`left:${I.value.x}px;top:${I.value.y}px;`)}}function Da(r,s,o={}){const{window:a=Wt,...c}=o;let f;const p=Ko(()=>a&&"ResizeObserver"in a),m=()=>{f&&(f.disconnect(),f=void 0)},_=n.computed(()=>Array.isArray(r)?r.map(k=>wt(k)):[wt(r)]),y=n.watch(_,k=>{if(m(),p.value&&a){f=new ResizeObserver(s);for(const C of k)C&&f.observe(C,c)}},{immediate:!0,flush:"post",deep:!0}),S=()=>{m(),y()};return $r(S),{isSupported:p,stop:S}}function Yn(r,s={}){const{reset:o=!0,windowResize:a=!0,windowScroll:c=!0,immediate:f=!0}=s,p=n.ref(0),m=n.ref(0),_=n.ref(0),y=n.ref(0),S=n.ref(0),k=n.ref(0),C=n.ref(0),T=n.ref(0);function E(){const v=wt(r);if(!v){o&&(p.value=0,m.value=0,_.value=0,y.value=0,S.value=0,k.value=0,C.value=0,T.value=0);return}const I=v.getBoundingClientRect();p.value=I.height,m.value=I.bottom,_.value=I.left,y.value=I.right,S.value=I.top,k.value=I.width,C.value=I.x,T.value=I.y}return Da(r,E),n.watch(()=>wt(r),v=>!v&&E()),c&&xn("scroll",E,{capture:!0,passive:!0}),a&&xn("resize",E,{passive:!0}),Oa(()=>{f&&E()}),{height:p,bottom:m,left:_,right:y,top:S,width:k,x:C,y:T,update:E}}function xd(r,s={width:0,height:0},o={}){const{window:a=Wt,box:c="content-box"}=o,f=n.computed(()=>{var _,y;return(y=(_=wt(r))==null?void 0:_.namespaceURI)==null?void 0:y.includes("svg")}),p=n.ref(s.width),m=n.ref(s.height);return Da(r,([_])=>{const y=c==="border-box"?_.borderBoxSize:c==="content-box"?_.contentBoxSize:_.devicePixelContentBoxSize;if(a&&f.value){const S=wt(r);if(S){const k=a.getComputedStyle(S);p.value=Number.parseFloat(k.width),m.value=Number.parseFloat(k.height)}}else if(y){const S=Array.isArray(y)?y:[y];p.value=S.reduce((k,{inlineSize:C})=>k+C,0),m.value=S.reduce((k,{blockSize:C})=>k+C,0)}else p.value=_.contentRect.width,m.value=_.contentRect.height},o),n.watch(()=>wt(r),_=>{p.value=_?s.width:0,m.value=_?s.height:0}),{width:p,height:m}}function Sd(r,s,o={}){const{root:a,rootMargin:c="0px",threshold:f=.1,window:p=Wt,immediate:m=!0}=o,_=Ko(()=>p&&"IntersectionObserver"in p),y=n.computed(()=>{const E=lt(r);return(Array.isArray(E)?E:[E]).map(wt).filter(_d)});let S=Vr;const k=n.ref(m),C=_.value?n.watch(()=>[y.value,wt(a),k.value],([E,v])=>{if(S(),!k.value||!E.length)return;const I=new IntersectionObserver(s,{root:wt(v),rootMargin:c,threshold:f});E.forEach(B=>B&&I.observe(B)),S=()=>{I.disconnect(),S=Vr}},{immediate:m,flush:"post"}):Vr,T=()=>{S(),C(),k.value=!1};return $r(T),{isSupported:_,isActive:k,pause(){S(),k.value=!1},resume(){k.value=!0},stop:T}}function Ar(r,{window:s=Wt,scrollTarget:o}={}){const a=n.ref(!1);return Sd(r,([{isIntersecting:c}])=>{a.value=c},{root:o,window:s,threshold:0}),a}function Cd(r={}){const{window:s=Wt,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:c=!0,includeScrollbar:f=!0}=r,p=n.ref(o),m=n.ref(a),_=()=>{s&&(f?(p.value=s.innerWidth,m.value=s.innerHeight):(p.value=s.document.documentElement.clientWidth,m.value=s.document.documentElement.clientHeight))};if(_(),Oa(_),xn("resize",_,{passive:!0}),c){const y=Ed("(orientation: portrait)");n.watch(y,()=>_())}return{width:p,height:m}}const kd={class:"search-content w-100"},Nd={class:"ps-2 w-75"},Rd={class:"menu ps-2"},Td={class:"flex flex-row pt-1"},$d={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},Vd=["onClick"],Ad=n.createElementVNode("span",{class:"iconfont icon-play"},null,-1),Od={class:"ps-2"},Xo=n.defineComponent({__name:"bar-search",props:{menus:{},fetchScene:{type:Function},fetchStyle:{type:Function},fetchData:{type:Function},sceneList:{},styleList:{},dataList:{}},emits:["submit"],setup(r,{emit:s}){const o=r,a=n.ref(),c=n.ref(""),f=n.ref(""),p=n.ref(""),m=n.ref(""),_=n.ref(o.dataList||[]),y=n.ref(o.sceneList||[]),S=n.ref(o.styleList||[]),k=Ar(a);n.watch(k,v=>{v&&n.nextTick(()=>{var I,B;(B=(I=a.value)==null?void 0:I.input)==null||B.focus()})}),n.onMounted(async()=>{_.value.length||await C(),y.value.length||(y.value=await o.fetchScene()),S.value.length||(S.value=await o.fetchStyle())});async function C(){_.value=await o.fetchData({word:c.value,menu:m.value,scene:f.value,style:p.value})}function T(v){m.value=v,C()}function E(v){s("submit",v)}return(v,I)=>(n.openBlock(),n.createElementBlock("div",kd,[n.createElementVNode("div",Nd,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(C,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{ref_key:"searchInputRef",ref:a,placeholder:"搜索",modelValue:c.value,"onUpdate:modelValue":I[0]||(I[0]=B=>c.value=B),"suffix-icon":n.unref(en.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),n.createElementVNode("div",Rd,[n.createVNode(n.unref(j.ElMenu),{mode:"horizontal","default-active":v.menus.length>0?v.menus[0].value:"",onSelect:I[1]||(I[1]=B=>T(B))},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(v.menus,(B,P)=>(n.openBlock(),n.createBlock(n.unref(j.ElMenuItem),{index:B.value,key:P},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(B.label),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),n.createElementVNode("div",Td,[n.createVNode(n.unref(j.ElSelect),{modelValue:f.value,"onUpdate:modelValue":I[2]||(I[2]=B=>f.value=B),onChange:C,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(y.value,B=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:B.value,label:B.label,value:B.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n.createVNode(n.unref(j.ElSelect),{modelValue:p.value,"onUpdate:modelValue":I[3]||(I[3]=B=>p.value=B),onChange:C,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(S.value,B=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:B.value,label:B.label,value:B.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n.createElementVNode("ul",$d,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(_.value,(B,P)=>(n.openBlock(),n.createElementBlock("li",{onClick:V=>E(n.toRaw(B)),class:"content-list-item clickable ps-2 py-2",key:P},[Ad,n.createElementVNode("span",Od,n.toDisplayString(B.label),1)],8,Vd))),128))])]))}}),Dx="",Dd={},Id={class:"content"};function Ld(r,s){return n.openBlock(),n.createElementBlock("div",Id,[n.renderSlot(r.$slots,"default",{},void 0,!0)])}const Ia=Xe(Dd,[["render",Ld],["__scopeId","data-v-7beae5b9"]]),Bd={},Pd={class:"bar-wrapper-item"};function Md(r,s){return n.openBlock(),n.createElementBlock("div",Pd,[n.renderSlot(r.$slots,"default")])}const Fd=Xe(Bd,[["render",Md]]),Ud={class:"bar-wrapper-group"},Hd={class:"group-items"},Wd=n.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",Ud,[n.createElementVNode("div",Hd,[n.renderSlot(s.$slots,"default",{},void 0,!0)]),n.createElementVNode("div",{class:n.normalizeClass(["divider",[s.divider]])},null,2)]))}}),Ix="",Sn=Xe(Wd,[["__scopeId","data-v-be31f837"]]);function zd(r,s){return`left:${r}px;top:${s}px`}function Jo(r,s){const{width:o,height:a}=xd(r),{width:c,height:f}=Cd(),p=n.computed(()=>({x:c.value-o.value,y:f.value-a.value}));return{style:n.computed(()=>{const _=s.value.x,y=s.value.y,S=_<5?5:_>p.value.x?p.value.x-5:_,k=y<5?5:y>p.value.y?p.value.y-5:y;return zd(S,k)})}}var Zo={exports:{}},La={exports:{}},Gd=void 0,Ba=function(r){return r!==Gd&&r!==null},qd=Ba,Kd={object:!0,function:!0,undefined:!0},Yd=function(r){return qd(r)?hasOwnProperty.call(Kd,typeof r):!1},Xd=Yd,Jd=function(r){if(!Xd(r))return!1;try{return r.constructor?r.constructor.prototype===r:!1}catch{return!1}},Zd=Jd,Qd=function(r){if(typeof r!="function"||!hasOwnProperty.call(r,"length"))return!1;try{if(typeof r.length!="number"||typeof r.call!="function"||typeof r.apply!="function")return!1}catch{return!1}return!Zd(r)},jd=Qd,ep=/^\s*class[\s{/}]/,tp=Function.prototype.toString,np=function(r){return!(!jd(r)||ep.test(tp.call(r)))},rp=function(){var r=Object.assign,s;return typeof r!="function"?!1:(s={foo:"raz"},r(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")},Qo,Pa;function op(){return Pa||(Pa=1,Qo=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Qo}var ip=function(){},sp=ip(),jo=function(r){return r!==sp&&r!==null},ei,Ma;function ap(){if(Ma)return ei;Ma=1;var r=jo,s=Object.keys;return ei=function(o){return s(r(o)?Object(o):o)},ei}var ti,Fa;function lp(){return Fa||(Fa=1,ti=op()()?Object.keys:ap()),ti}var ni,Ua;function cp(){if(Ua)return ni;Ua=1;var r=jo;return ni=function(s){if(!r(s))throw new TypeError("Cannot use null or undefined");return s},ni}var ri,Ha;function up(){if(Ha)return ri;Ha=1;var r=lp(),s=cp(),o=Math.max;return ri=function(a,c){var f,p,m=o(arguments.length,2),_;for(a=Object(s(a)),_=function(y){try{a[y]=c[y]}catch(S){f||(f=S)}},p=1;p<m;++p)c=arguments[p],r(c).forEach(_);if(f!==void 0)throw f;return a},ri}var fp=rp()?Object.assign:up(),dp=jo,pp=Array.prototype.forEach,hp=Object.create,mp=function(r,s){var o;for(o in r)s[o]=r[o]},gp=function(r){var s=hp(null);return pp.call(arguments,function(o){dp(o)&&mp(Object(o),s)}),s},oi="razdwatrzy",_p=function(){return typeof oi.contains!="function"?!1:oi.contains("dwa")===!0&&oi.contains("foo")===!1},ii,Wa;function yp(){if(Wa)return ii;Wa=1;var r=String.prototype.indexOf;return ii=function(s){return r.call(this,s,arguments[1])>-1},ii}var wp=_p()?String.prototype.contains:yp(),Or=Ba,za=np,Ga=fp,qa=gp,Xn=wp,vp=La.exports=function(r,s){var o,a,c,f,p;return arguments.length<2||typeof r!="string"?(f=s,s=r,r=null):f=arguments[2],Or(r)?(o=Xn.call(r,"c"),a=Xn.call(r,"e"),c=Xn.call(r,"w")):(o=c=!0,a=!1),p={value:s,configurable:o,enumerable:a,writable:c},f?Ga(qa(f),p):p};vp.gs=function(r,s,o){var a,c,f,p;return typeof r!="string"?(f=o,o=s,s=r,r=null):f=arguments[3],Or(s)?za(s)?Or(o)?za(o)||(f=o,o=void 0):o=void 0:(f=s,s=o=void 0):s=void 0,Or(r)?(a=Xn.call(r,"c"),c=Xn.call(r,"e")):(a=!0,c=!1),p={get:s,set:o,configurable:a,enumerable:c},f?Ga(qa(f),p):p};var bp=La.exports,Ep=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r};(function(r,s){var o=bp,a=Ep,c=Function.prototype.apply,f=Function.prototype.call,p=Object.create,m=Object.defineProperty,_=Object.defineProperties,y=Object.prototype.hasOwnProperty,S={configurable:!0,enumerable:!1,writable:!0},k,C,T,E,v,I,B;k=function(P,V){var F;return a(V),y.call(this,"__ee__")?F=this.__ee__:(F=S.value=p(null),m(this,"__ee__",S),S.value=null),F[P]?typeof F[P]=="object"?F[P].push(V):F[P]=[F[P],V]:F[P]=V,this},C=function(P,V){var F,G;return a(V),G=this,k.call(this,P,F=function(){T.call(G,P,F),c.call(V,this,arguments)}),F.__eeOnceListener__=V,this},T=function(P,V){var F,G,X,D;if(a(V),!y.call(this,"__ee__"))return this;if(F=this.__ee__,!F[P])return this;if(G=F[P],typeof G=="object")for(D=0;X=G[D];++D)(X===V||X.__eeOnceListener__===V)&&(G.length===2?F[P]=G[D?0:1]:G.splice(D,1));else(G===V||G.__eeOnceListener__===V)&&delete F[P];return this},E=function(P){var V,F,G,X,D;if(y.call(this,"__ee__")&&(X=this.__ee__[P],!!X))if(typeof X=="object"){for(F=arguments.length,D=new Array(F-1),V=1;V<F;++V)D[V-1]=arguments[V];for(X=X.slice(),V=0;G=X[V];++V)c.call(G,this,D)}else switch(arguments.length){case 1:f.call(X,this);break;case 2:f.call(X,this,arguments[1]);break;case 3:f.call(X,this,arguments[1],arguments[2]);break;default:for(F=arguments.length,D=new Array(F-1),V=1;V<F;++V)D[V-1]=arguments[V];c.call(X,this,D)}},v={on:k,once:C,off:T,emit:E},I={on:o(k),once:o(C),off:o(T),emit:o(E)},B=_({},I),r.exports=s=function(P){return P==null?p(B):_(Object(P),I)},s.methods=v})(Zo,Zo.exports);var xp=Zo.exports;const Ue=ra(xp)(),Sp={class:"w-100 d-flex flex-row align-items-center"},Cn=n.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(r,{expose:s,emit:o}){const a=r,c=n.ref(),f=n.ref(),p=n.ref(),{position:m}=Yo(f,{initialValue:a.initialValue}),{style:_}=Jo(c,m);function y(E){m.value=E}s({setPosition:y}),n.onMounted(()=>{Ue.on(Le.VIEW_CLICK,S),document.addEventListener("keydown",T)}),n.onUnmounted(()=>{Ue.off(Le.VIEW_CLICK,S),document.removeEventListener("keydown",T)});function S(E){k(E)&&C()}function k(E){const v=E.target;return!(!c.value||!p.value||p.value.contains(v)||c.value.contains(v))}function C(){o("update:visible",!1),o("close")}function T(E){E.code==="Escape"&&C()}return(E,v)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",{ref_key:"referenceRef",ref:p,onMousedown:v[0]||(v[0]=n.withModifiers(()=>{},["prevent"]))},[n.renderSlot(E.$slots,"reference")],544),(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.withDirectives(n.createElementVNode("div",{ref_key:"boxRef",ref:c,class:"demotestname card shadow brag-box user-select-none z-2",style:n.normalizeStyle([{position:"fixed"},n.unref(_)]),onMousedown:v[1]||(v[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Sp,[n.createElementVNode("div",{ref_key:"dragRef",ref:f,class:"w-100",style:{height:"40px",cursor:"move"}},null,512),n.createElementVNode("span",{onClick:C,class:"btn iconfont icon-close fs-5"})]),n.renderSlot(E.$slots,"default")],36),[[n.vShow,E.visible]])]))],64))}}),Cp={install(r){r.component("BarButton",Ge),r.component("BarInput",qo),r.component("BarPopover",gd),r.component("BarSearch",Xo),r.component("BarWrapper",Ia),r.component("BarWrapperItem",Fd),r.component("BarWrapperGroup",Sn),r.component("DragBox",Cn)}};function kp(r){return r.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function Np(r,s){return s?`<audio src="${r.src}">${s}</audio>`:`<audio src="${r.src}"/>`}function Rp(r){return r.time?`<break time="${r.time}"/>`:r.strength?`<break strength="${r.strength}"/>`:"<break/>"}function Tp(r,s){return r.level?`<emphasis level="${r.level}">${s}</emphasis>`:`<emphasis>${s}</emphasis>`}function $p(r,s){if(!r.style)return s;const o=r.role?` role="${r.role}"`:"",a=r.styledegree?` styledegree="${r.styledegree}"`:"";return`<mstts:express-as style="${r.style}"${o}${a}>${s}</mstts:express-as>`}function Vp(r){if(!r.src)return"";const s=r.volume?` volume="${r.volume}"`:"",o=r.fadein?` fadein="${r.fadein}"`:"",a=r.fadeout?` fadeout="${r.fadeout}"`:"";return`<mstts:backgroundaudio src="${r.src}"${s}${o}${a}/>`}function Ap(r){return!r.attrType||!r.value?"":`<mstts:silence type="${r.attrType}" value="${r.value}"/>`}function Op(r,s){return`<p>${s}</p>`}function Dp(r,s){const o=r.alphabet?`alphabet="${r.alphabet}"`:"";return`<phoneme ph="${r.ph}"${o}>${s}</phoneme>`}function Ip(r,s){if(!r.contour&&!r.pitch&&!r.range&&!r.rate&&!r.volume)return s;const o=r.contour?` contour="${r.contour}"`:"",a=r.pitch?` pitch="${r.pitch}"`:"",c=r.range?` range="${r.range}"`:"",f=r.volume?` volume="${r.volume}"`:"",p=r.rate?` rate="${r.rate}"`:"";return`<prosody${o}${a}${c}${f}${p}>${s}</prosody>`}function Lp(r,s){const o=r.interpretAs?` interpret-as="${r.interpretAs}"`:"",a=r.format?` format="${r.format}"`:"",c=r.detail?` detail="${r.detail}"`:"";return`<say-as${o}${a}${c}>${s}</say-as>`}function Bp(r,s){return`<s>${s}</s>`}function Pp(r,s){return`<sub alias="${r.alias}">${s}</sub>`}function Mp(r,s){const o=r.effect?` effect="${r.effect}"`:"";return`<voice name="${r.name}${o}">${s}</voice>`}function Fp(r,s){return`<speak version="${r.version}" xml:lang="${r.xmlLang}" xmlns="${r.xmlns}" xmlns:mstts="${r["xmlns:mstts"]}" xmlns:emo="${r["xmlns:emo"]}">${s}</speak>`}function Ka(r){if(R.SlateText.isText(r))return kp(r.text.trim());if(R.SlateElement.isElement(r)){const s=r.children.map(a=>Ka(a)).join("");switch(R.DomEditor.getNodeType(r)){case"paragraph":return`<p>${s}</p>`;case"ssml-speak":return Fp(r,s);case"ssml-mstts:backgroundaudio":return Vp(r);case"ssml-audio":return Np(r,s);case"ssml-break":return Rp(r);case"ssml-emphasis":return Tp(r,s);case"ssml-mstts:express-as":return $p(r,s);case"ssml-p":return Op(r,s);case"ssml-phoneme":return Dp(r,s);case"ssml-prosody":return Ip(r,s);case"ssml-s":return Bp(r,s);case"ssml-say-as":return Lp(r,s);case"ssml-sub":return Pp(r,s);case"ssml-voice":return Mp(r,s);case"ssml-mstts:silence":return Ap(r);default:return s}}return""}function Up(r,s){const o={type:"ssml-voice",remark:"",name:s.name,children:[]},a=Ya(),c={type:"ssml-mstts:express-as",remark:"",style:s.style,role:s.role,children:[]},f=()=>({type:"ssml-prosody",remark:"",rate:s.rate,pitch:s.pitch,children:[]});o.children.push(...a),o.children.push(c);function p(){const _=f();c.children.push(_);function y(S){_.children.push(S)}return{prosody:_,pushNode:y}}let m;for(let _=0;_<s.children.length;_++){const y=s.children[_];if(!(R.SlateText.isText(y)&&!y.text.trim()))if(R.SlateText.isText(y)){m??(m=p()),m.pushNode(y);continue}else if(R.SlateEditor.isVoid(r,y)){m=void 0,c.children.push(y);continue}else{const S=R.DomEditor.findPath(r,y),[k]=R.SlateEditor.nodes(r,{at:S,mode:"lowest",voids:!1,match:C=>R.DomEditor.checkNodeType(C,"ssml-prosody")});if(k){m=void 0,c.children.push(y);continue}else m??(m=p()),m.pushNode(y)}}return o}function Ya(){return[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"200ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"200ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"200ms",remark:"顿号静音",children:[]}]}function Hp(){const{rootVoice:r,rootExpressAs:s}=an(),o={...r,children:[]},a=Ya(),c={...s,children:[]};o.children.push(...a),o.children.push(c);function f(p){c.children.push(p)}return{voice:o,pushNode:f}}function Xa(r){const{rootProsody:s}=an(),o={...s,children:[]};r(o);function a(c){o.children.push(c)}return{prosody:o,pushNode:a}}function Wp(){return{type:"ssml-break",time:"200ms",children:[{text:""}],remark:"paragraphBreak"}}function zp(r){const s=r.children.filter(o=>R.DomEditor.checkNodeType(o,"paragraph")).filter(o=>!!R.SlateNode.string(o).trim()).map((o,a,c)=>{const p=o.children;return a<c.length-1?p.concat([Wp()]):p});return[].concat(...s)}function Gp(r){const s=zp(r),o=[];let a,c;for(let f=0;f<s.length;f++){const p=s[f];if(!(R.SlateText.isText(p)&&!p.text.trim())){if(R.DomEditor.checkNodeType(p,"custom-management")){a&&(o.push(a.voice),a=void 0,c=void 0),o.push(Up(r,p));continue}if(a??(a=Hp()),R.SlateText.isText(p)){c??(c=Xa(a.pushNode)),c.pushNode(p);continue}else if(R.SlateEditor.isVoid(r,p)){c=void 0,a.pushNode(p);continue}else{const m=R.DomEditor.findPath(r,p),[_]=R.SlateEditor.nodes(r,{at:m,mode:"lowest",voids:!1,match:y=>R.DomEditor.checkNodeType(y,"ssml-prosody")});if(_){c=void 0,a.pushNode(p);continue}else{c??(c=Xa(a.pushNode)),c.pushNode(p);continue}}}}return a&&o.push(a.voice),o}function Dr(){const{editor:r}=ze();if(!r)throw Error("没有找到 editor 对象");const{rootSpeak:s,rootBackgroundaudio:o}=an(),a={...s,children:[]},c={...o};return a.children.push(c,...Gp(r)),Ka(a)}const Bx="",qp=r=>(n.pushScopeId("data-v-f485fb08"),r=r(),n.popScopeId(),r),Kp={class:"play-menu-icon d-flex justify-content-center align-items-center"},Yp={key:0,class:"fs-3 iconfont-moyin moyin-icon_play"},Xp={key:2,class:"iconfont icon-pause"},Jp=qp(()=>n.createElementVNode("div",{class:"fw-normal",style:{"font-size":"0.85rem"}},"24K高清音质",-1)),Zp=n.defineComponent({__name:"play-menu",props:{disabled:{type:Boolean,default:!1}},setup(r){const s=Tr(),{audioPlayer:o}=s,a=o.playState,c=o.loadState,f=ze(),{globalEditConfig:p}=f;async function m(){if(a.value==="playing"){o.pause();return}try{const _=Dr(),y=await p.tryPlay.play(_);await o.load(y.src),o.play()}catch{o.pause()}}return(_,y)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["play-menu px-2 py-1",{disabled:_.disabled}]),onClick:y[0]||(y[0]=S=>!_.disabled&&m()),onMousedown:y[1]||(y[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Kp,[n.unref(c)==="complete"&&n.unref(a)==="paused"?(n.openBlock(),n.createElementBlock("span",Yp)):n.unref(c)==="loading"?(n.openBlock(),n.createBlock(n.unref(j.ElIcon),{key:1,class:"is-loading"},{default:n.withCtx(()=>[n.createVNode(n.unref(en.Loading))]),_:1})):(n.openBlock(),n.createElementBlock("span",Xp))]),Jp],34))}}),Px="",Ja=Xe(Zp,[["__scopeId","data-v-f485fb08"]]);class ct{constructor(s){Ne(this,"editor");this.editor=s}getValue(){const{selection:s}=this.editor;return s==null?"":R.SlateEditor.string(this.editor,s)}isDisabled(){const{selection:s}=this.editor;return s==null?(this.editor.emit(be.ERROR,"未选中编辑器"),!0):!1}}class Qp extends ct{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(be.ERROR,"请框选一个中文字符"),!0;const o=this.getValue();return o.length!=1?(this.editor.emit(be.ERROR,"请框选一个中文字符"),!0):/^[\u4E00-\u9FA5]$/gi.test(o)?!1:(this.editor.emit(be.ERROR,"请框选一个中文字符"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"sapi",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const Za=n.defineComponent({setup(){const{globalEditConfig:r}=ze(),s=n.shallowRef(),o=n.ref([]),a=n.ref(!1);function c(){a.value||(a.value=!0)}function f(){a.value&&(a.value=!1)}async function p(m){var y;if(s.value??(s.value=new Qp(m)),(y=s.value)!=null&&y.isDisabled())return;const _=s.value.getValue();if(_?o.value=await r.pinyin.fetchData(_):o.value=[],o.value.length==0)return m.emit(be.ERROR,"选中的字符没有不是多音字");c()}return()=>n.createVNode(j.ElPopover,{visible:a.value,"onUpdate:visible":m=>a.value=m,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ge,{text:"多音字",icon:"speaker",onClick:p},null),default:()=>n.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-auto",style:"max-height: 300px"},[o.value.map(({label:m,value:_})=>n.createVNode("div",{key:_,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{s.value&&!s.value.isDisabled()&&s.value.exec({label:m,value:_}),f()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[m]))])})}});class jp extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isCollapsed(s)?(this.editor.emit(be.ERROR,"请框选要连读的词或句子"),!0):R.SlateEditor.string(this.editor,s).length<2:!0}exec(){if(this.isDisabled())return;const s=this.getValue();if(s==null)return;const o={type:"ssml-prosody",rate:"medium",remark:"连读",children:[{text:s}]};this.editor.insertNode(o)}}const Qa=n.defineComponent({setup(){const r=n.shallowRef();function s(o){r.value??(r.value=new jp(o)),!r.value.isDisabled()&&r.value.exec()}return()=>n.createVNode(Ge,{text:"连读",icon:"continuous",onClick:s},null)}}),eh=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],th={z:{pitch:"x-high",rate:void 0},t:{pitch:void 0,rate:"medium"},"z+t":{pitch:"x-high",rate:"medium"}};class nh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return!s||s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(be.ERROR,"请框选词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const{pitch:a,rate:c}=th[s.value],f={type:"ssml-prosody",remark:s.label,pitch:a,rate:c,children:[{text:o}]};this.editor.insertNode(f)}}const ja=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value||(s.value=!0)}function a(){s.value&&(s.value=!1)}function c(f){r.value??(r.value=new nh(f)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":f=>s.value=f,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ge,{text:"重音",icon:"read",onClick:c},null),default:()=>n.createVNode("div",{class:"d-flex flex-column",onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[eh.map(({label:f,value:p})=>n.createVNode("div",{key:p,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{r.value&&!r.value.isDisabled()&&r.value.exec({label:f,value:p}),a()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[f]))])})}});class rh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(be.ERROR,"请框选纯数字"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(be.ERROR,"请框选纯数字"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-say-as",interpretAs:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const oh=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],el=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value=!s.value}function a(c){r.value??(r.value=new rh(c)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":c=>s.value=c,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ge,{text:"数字符号",icon:"digital",onClick:a},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[oh.map(({label:c,value:f})=>n.createVNode("div",{key:f,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{r.value&&!r.value.isDisabled()&&r.value.exec({label:c,value:f}),o()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[c]))])})}});class ih extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(be.ERROR,"请框选要设置别名的词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-sub",remark:s.value,alias:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const tl=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function c(){o.value&&(o.value=!1)}async function f(m){var _;r.value??(r.value=new ih(m)),!r.value.isDisabled()&&(a(),(_=s.value)==null||_.focus())}function p(m){var _;c(),m&&((_=r.value)==null||_.exec({value:m,label:m}))}return()=>n.createVNode(j.ElPopover,{visible:o.value,"onUpdate:visible":m=>o.value=m,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>n.createVNode(Ge,{text:"别名",icon:"alias",onClick:f},null),default:()=>n.createVNode(qo,{ref:s,onSubmit:p},null)})}});class sh extends ct{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(be.ERROR,"请框选英文单词"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(be.ERROR,"请框选英文单词"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"ipa",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const nl=n.defineComponent({setup(){const{globalEditConfig:r}=ze(),s=n.shallowRef(),o=n.ref([]),a=n.ref(!1);function c(){a.value||(a.value=!0)}function f(){a.value&&(a.value=!1)}async function p(m){if(s.value??(s.value=new sh(m)),Kf(m),s.value.isDisabled())return;const _=s.value.getValue();if(_){if(o.value=await r.english.fetchData(_),o.value.length<=0)return m.emit(be.ERROR,"找不到单词的音标");c()}}return()=>n.createVNode(j.ElPopover,{visible:a.value,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ge,{text:"音标",icon:"english",onClick:p},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:m,value:_})=>n.createVNode("div",{key:_,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{s.value&&!s.value.isDisabled()&&s.value.exec({label:m,value:_}),f()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[m]))])})}});class ah extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(be.ERROR,"请框选要变速的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-prosody",remark:s.label,rate:s.value,children:[{text:o}]};this.editor.insertNode(a)}}function fe(r){return`${((r-1)*100).toFixed(0)}%`}const lh=[{value:fe(.5),label:"0.5x"},{value:fe(.55),label:"0.55x"},{value:fe(.6),label:"0.6x"},{value:fe(.65),label:"0.65x"},{value:fe(.7),label:"0.7x"},{value:fe(.75),label:"0.75x"},{value:fe(.8),label:"0.8x"},{value:fe(.85),label:"0.85x"},{value:fe(.9),label:"0.9x"},{value:fe(.95),label:"0.95x"},{value:fe(1),label:"1x"},{value:fe(1.05),label:"1.05x"},{value:fe(1.1),label:"1.1x"},{value:fe(1.15),label:"1.15x"},{value:fe(1.2),label:"1.2x"},{value:fe(1.25),label:"1.25x"},{value:fe(1.3),label:"1.3x"},{value:fe(1.35),label:"1.35x"},{value:fe(1.4),label:"1.4x"},{value:fe(1.45),label:"1.45x"},{value:fe(1.5),label:"1.5x"},{value:fe(1.55),label:"1.55x"},{value:fe(1.6),label:"1.6x"},{value:fe(1.65),label:"1.65x"},{value:fe(1.7),label:"1.7x"},{value:fe(1.75),label:"1.75x"},{value:fe(1.8),label:"1.8x"},{value:fe(1.85),label:"1.85x"},{value:fe(1.9),label:"1.9x"},{value:fe(1.95),label:"1.95x"},{value:fe(2),label:"2x"}],rl=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value||(s.value=!0)}function a(){s.value&&(s.value=!1)}async function c(f){r.value??(r.value=new ah(f)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{style:{padding:"0px"},visible:s.value,"onUpdate:visible":f=>s.value=f,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ge,{text:"局部变速",icon:"changespeed",onClick:c},null),default:()=>n.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[lh.map(({label:f,value:p})=>n.createVNode("div",{key:p,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var m;(m=r.value)==null||m.exec({label:f,value:p}),a()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[f]))])})}});class ch extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(be.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const uh=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],ol=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value||(s.value=!0)}function a(){s.value&&(s.value=!1)}function c(f){r.value??(r.value=new ch(f)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":f=>s.value=f,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ge,{text:"停顿调节",icon:"rhythm",onClick:c},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[uh.map(({label:f,value:p})=>n.createVNode("div",{key:p,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{r.value&&!r.value.isDisabled()&&r.value.exec({label:f,value:p}),a()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[f]))])})}});class fh extends ct{constructor(s){super(s)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(be.ERROR,"不能框选文字"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const a={type:"ssml-audio",src:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(a)}}const il=n.defineComponent({__name:"special-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:c}=ze(),{special:f}=c,p=n.ref(!1),{x:m,y:_,height:y}=Yn(o),S=C=>{a.value??(a.value=new fh(C)),!a.value.isDisabled()&&(s.value.setPosition({x:m.value-200,y:_.value+y.value}),p.value=!0)};function k(C){var T;(T=a.value)==null||T.restoreSelection(),a.value&&!a.value.isDisabled()&&a.value.exec(C),p.value=!1}return(C,T)=>(n.openBlock(),n.createBlock(n.unref(Cn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":T[0]||(T[0]=E=>p.value=E)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:S},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Xo),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:k},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}});class dh extends ct{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(be.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const ph=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],sl=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1),o=n.ref();function a(){s.value||(s.value=!0)}function c(){s.value&&(s.value=!1)}function f(m){var _;r.value??(r.value=new dh(m)),!r.value.isDisabled()&&(a(),(_=o.value)==null||_.focus())}function p(m){var _;c(),m&&((_=r.value)==null||_.exec({value:m,label:m}))}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":m=>s.value=m,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>n.createVNode(Ge,{text:"插入静音",icon:"mute",onClick:f},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[ph.map(({value:m,label:_})=>n.createVNode("div",{key:m,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>p(m),onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[_])),n.createVNode(qo,{type:"text",ref:o,onSubmit:p},null)])})}}),al=n.defineComponent({__name:"bgm-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:c}=ze(),{bgm:f}=c,p=n.ref(!1),{x:m,y:_,height:y}=Yn(o),S=async C=>{const T={x:m.value-300,y:_.value+y.value};a.value=C,s.value.setPosition(T),p.value=!0};function k(C){const{rootBackgroundaudio:T}=an();T.src=C.value,T.remark=C.label,p.value=!1}return(C,T)=>(n.openBlock(),n.createBlock(n.unref(Cn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":T[0]||(T[0]=E=>p.value=E)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:S},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Xo),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:k},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}}),ll=n.defineComponent({__name:"sensitive-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),c=n.ref(!1),{x:f,y:p,height:m}=Yn(o),_=y=>{a.value=y,s.value.setPosition({x:f.value-200,y:p.value+m.value}),c.value=!0};return(y,S)=>(n.openBlock(),n.createBlock(n.unref(Cn),{ref_key:"dragRef",ref:s,visible:c.value,"onUpdate:visible":S[0]||(S[0]=k=>c.value=k)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:_},null,512)]),default:n.withCtx(()=>[n.createVNode(ll)]),_:1},8,["visible"]))}}),Mx="",hh={class:"select-list",style:{width:"120px"}},mh={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},gh=["onClick"],_h=n.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(r,{expose:s,emit:o}){const a=r,c=n.ref();function f(m){o("update:modelValue",m.value)}function p(){var m;if(c.value){for(let _=0;_<a.dataList.length;_++)if(a.dataList[_].value===a.modelValue){(m=c.value.children[_])==null||m.scrollIntoView({behavior:"smooth"});return}}}return s({scrollIntoViewTheItem:p}),(m,_)=>(n.openBlock(),n.createElementBlock("div",hh,[n.createElementVNode("div",mh,[n.renderSlot(m.$slots,"default",{},void 0,!0)]),n.createElementVNode("ul",{ref_key:"listRef",ref:c,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(m.dataList,(y,S)=>(n.openBlock(),n.createElementBlock("li",{class:n.normalizeClass(["clickable select-item py-1",{activate:y.value===m.modelValue}]),key:S,onClick:k=>f(y)},n.toDisplayString(y.label),11,gh))),128))],512)]))}}),Fx="",kn=Xe(_h,[["__scopeId","data-v-e0f0259e"]]),yh={class:"position-relative"},wh={class:"position-absolute top-0 end-0"},vh=n.createElementVNode("li",null,[n.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),bh=["onClick"],Eh=n.createElementVNode("span",{class:"my-3"},"类型",-1),xh=n.createElementVNode("span",{class:"my-3"},"配音师",-1),Sh=n.createElementVNode("span",{class:"my-3"},"角色",-1),Ch=n.createElementVNode("span",{class:"my-3"},"风格",-1),kh=n.createElementVNode("span",{class:"my-3"},"语速",-1),Nh=n.createElementVNode("span",{class:"my-3"},"语调",-1),Rh={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},Th=n.defineComponent({__name:"management-content",emits:["submit"],setup(r,{emit:s}){const{globalEditConfig:o}=ze(),{tryPlay:a,management:c}=o,f=n.ref(),p=n.ref(!1),m=n.ref(""),_=Va(),{contentData:y}=Js(_),S=n.shallowRef([]),k=n.ref([]),C=n.ref([{label:"全部类型",value:""},...a.category]),T=n.ref([]),E=n.ref([]),v=n.ref([]),I=n.ref(Ef()),B=n.ref(xf()),P=Ar(f);n.onMounted(async()=>{y.value.category=C.value[0].value,await F(),await D()}),n.watch(P,U=>{U||(m.value="",p.value=!1)});async function V(U){y.value.category=U,await F()}async function F(){const U=await a.fetchData({...Rr(),...y.value});S.value=U,T.value=U.map(K=>({label:K.displayName,value:K.name})),U.length>0&&(E.value=U[0].roles,v.value=U[0].styles,y.value.name=U[0].name),E.value.length>0&&(y.value.role=E.value[0].value),v.value.length>0&&(y.value.style=v.value[0].value)}function G(U){const K=S.value.find(se=>se.name===U);K&&(E.value=K.roles,v.value=K.styles,E.value.length>0&&(y.value.role=E.value[0].value),v.value.length>0&&(y.value.style=v.value[0].value))}async function X(){var Oe,_e,Rn,ye;const U=((Oe=T.value.find(Ce=>Ce.value===y.value.name))==null?void 0:Oe.label)||"",K=((_e=E.value.find(Ce=>Ce.value===y.value.role))==null?void 0:_e.label)||"",se=((Rn=v.value.find(Ce=>Ce.value===y.value.style))==null?void 0:Rn.label)||"",Be=((ye=I.value.find(Ce=>Ce.value===y.value.speed))==null?void 0:ye.label)||"",Nt={category:y.value.category,name:y.value.name,label:`${U}|${K}|${se}|${Be}`,value:y.value.name,role:y.value.role,style:y.value.style,speed:Cf(Number(y.value.speed)),pitch:Sf(Number(y.value.pitch))};s("submit",Nt),await ue(Nt)}async function D(){try{k.value=await c.fetchRecentUsage()}catch(U){Ue.emit(Le.ERROR,`${U}`,U)}}async function ue(U){try{const K={...y.value,label:U.label,id:""},se=await c.recordRecentUsage(K);k.value.splice(0,0,se),k.value=Ie.sortedUniqBy(k.value,Be=>`${Be.name}+${Be.role}+${Be.style}+${Be.pitch}+${Be.speed}`)}catch(K){Ue.emit(Le.ERROR,`${K}`,K)}}function Ee(U){y.value.category=U.category,y.value.name=U.name,y.value.pitch=U.pitch,y.value.role=U.role,y.value.speed=U.speed,y.value.style=U.style,X()}async function H(U){try{const K=k.value[U];await c.deleteRecentUsage(K.id),k.value.splice(U,1)}catch(K){Ue.emit(Le.ERROR,`${K}`,K)}}async function W(){try{await c.deleteRecentUsage(),k.value=[]}catch(U){Ue.emit(Le.ERROR,`${U}`,U)}}return(U,K)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(F,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{modelValue:m.value,"onUpdate:modelValue":K[0]||(K[0]=se=>m.value=se),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),n.createElementVNode("div",yh,[n.createElementVNode("div",wh,[n.createVNode(n.unref(j.ElButton),{size:"small",icon:n.unref(en.More),onClick:K[1]||(K[1]=()=>p.value=!p.value)},null,8,["icon"])]),n.createElementVNode("ul",{class:n.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":p.value}])},[vh,(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(k.value,(se,Be)=>(n.openBlock(),n.createElementBlock("li",{class:"btn m-0 p-0",onClick:Nt=>Ee(se),key:Be},[n.createVNode(n.unref(j.ElTag),{type:"info",onClose:Nt=>H(Be),closable:""},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(se.label),1)]),_:2},1032,["onClose"])],8,bh))),128))],2),n.withDirectives(n.createElementVNode("div",{class:n.normalizeClass({"d-flex flex-row":!p.value})},[n.createVNode(kn,{"onUpdate:modelValue":[V,K[2]||(K[2]=se=>n.unref(y).category=se)],modelValue:n.unref(y).category,dataList:C.value},{default:n.withCtx(()=>[Eh]),_:1},8,["modelValue","dataList"]),n.createVNode(kn,{"onUpdate:modelValue":[G,K[3]||(K[3]=se=>n.unref(y).name=se)],modelValue:n.unref(y).name,dataList:T.value},{default:n.withCtx(()=>[xh]),_:1},8,["modelValue","dataList"]),n.createVNode(kn,{modelValue:n.unref(y).role,"onUpdate:modelValue":K[4]||(K[4]=se=>n.unref(y).role=se),dataList:E.value},{default:n.withCtx(()=>[Sh]),_:1},8,["modelValue","dataList"]),n.createVNode(kn,{modelValue:n.unref(y).style,"onUpdate:modelValue":K[5]||(K[5]=se=>n.unref(y).style=se),dataList:v.value},{default:n.withCtx(()=>[Ch]),_:1},8,["modelValue","dataList"]),n.createVNode(kn,{modelValue:n.unref(y).speed,"onUpdate:modelValue":K[6]||(K[6]=se=>n.unref(y).speed=se),dataList:I.value},{default:n.withCtx(()=>[kh]),_:1},8,["modelValue","dataList"]),n.createVNode(kn,{modelValue:n.unref(y).pitch,"onUpdate:modelValue":K[7]||(K[7]=se=>n.unref(y).pitch=se),dataList:B.value},{default:n.withCtx(()=>[Nh]),_:1},8,["modelValue","dataList"])],2),[[n.vShow,!p.value]])]),n.createElementVNode("div",Rh,[n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:X,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("确定")]),_:1},512),[[n.vShow,!p.value]]),n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:W,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("全部清空")]),_:1},512),[[n.vShow,p.value]])])],512))}});class cl extends ct{constructor(o){super(o);Ne(this,"contentData")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(o==null)return!0;if(R.DomEditor.getSelectedNodeByType(this.editor,"custom-management"))return!1;if(R.SlateRange.isCollapsed(o))return this.editor.emit(be.ERROR,"请框选句子"),!0;const[a]=R.SlateEditor.node(this.editor,o),c=this.editor.getParentNode(a);return!c||!R.DomEditor.checkNodeType(c,"paragraph")?(this.editor.emit(be.ERROR,"多人配音需要在最外层使用"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const a=this.getValue();if(a==null)return;const c=R.DomEditor.getSelectedNodeByType(this.editor,"custom-management");if(c)R.SlateTransforms.setNodes(this.editor,{custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch},{at:R.DomEditor.findPath(this.editor,c)});else{const f={type:"custom-management",custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch,children:[{text:a}]};this.editor.insertNode(f)}}}const ul=n.defineComponent({__name:"management-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!1),c=n.shallowRef(),f=Va(),{contentData:p}=Js(f),{x:m,y:_,height:y}=Yn(o);n.onMounted(()=>{Ue.on(Le.EDITOR_CREATED,E=>{E.on(be.SSML_ELEMENT_CLICK,(v,I)=>{var B;if(I.type==="custom-management"){c.value??(c.value=new cl(v));const V=((B=I.custom)==null?void 0:B.contentData)||{};V&&(p.value.category=V.category,p.value.name=V.name,p.value.pitch=V.pitch,p.value.role=V.role,p.value.speed=V.speed,p.value.style=V.style),setTimeout(()=>{S()},200)}})})});function S(){var v;const E={x:m.value-200,y:_.value+y.value};(v=s.value)==null||v.setPosition(E),a.value=!0}function k(){a.value=!1}function C(E){c.value??(c.value=new cl(E)),!c.value.isDisabled()&&S()}function T(E){var v;c.value&&!c.value.isDisabled()&&(c.value.contentData={...p.value},(v=c.value)==null||v.exec(E)),k()}return(E,v)=>(n.openBlock(),n.createBlock(n.unref(Cn),{ref_key:"dragRef",ref:s,visible:a.value,"onUpdate:visible":v[0]||(v[0]=I=>a.value=I)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:C},null,512)]),default:n.withCtx(()=>[n.createVNode(Th,{onSubmit:T})]),_:1},8,["visible"]))}}),$h={class:"speaker-head"},Vh=["src"],Ah={class:"speaker-name"},Oh=n.defineComponent({__name:"speaker-item",props:{label:{},value:{},avatar:{},activated:{type:Boolean}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",{class:"speaker-item",onClick:o[0]||(o[0]=a=>s.$emit("click",s.value||""))},[n.createElementVNode("div",$h,[n.createElementVNode("img",{src:s.avatar||n.unref(bn)(),class:n.normalizeClass([{"border border-warning":s.activated},"rounded-circle"]),style:{height:"40px"}},null,10,Vh)]),n.createElementVNode("div",Ah,n.toDisplayString(s.label),1)]))}}),Ux="",Dh=Xe(Oh,[["__scopeId","data-v-b043c1a6"]]);class Ih{constructor(){Ne(this,"mediaRecorder",null);Ne(this,"isRecording",n.ref(!1))}get recorderState(){return n.computed(()=>this.isRecording.value?"recording":"paused")}async start(s){if(navigator.mediaDevices.getUserMedia){const o=[];try{const a=await navigator.mediaDevices.getUserMedia({audio:!0}),c=new MediaRecorder(a);return this.mediaRecorder=c,new Promise((f,p)=>{c.ondataavailable=m=>{s.isCancellationRequested()?(c.stop(),this.isRecording.value=!1,s.throwIfRequested()):o.push(m.data)},c.onstart=()=>{this.isRecording.value=!0},c.onpause=()=>{this.isRecording.value=!1},c.onstop=()=>{this.isRecording.value=!1;const m=new Blob(o,{type:"audio/wav"});f(m)},c.onerror=m=>{this.isRecording.value=!1,p(m)},s.throwIfRequested(),c.start()})}catch(a){throw console.error(a),new Error("授权失败！",{cause:a})}}throw Error("浏览器不支持 getUserMedia")}stop(){this.mediaRecorder&&this.mediaRecorder.stop()}}const Lh={class:"d-flex flex-row justify-content-between border rounded-pill border-secondary my-3 py-1 px-2"},Bh={class:"text-secondary d-flex flex-row align-items-center",style:{"font-size":"0.5rem"}},Ph={key:0,class:"iconfont icon-pause"},Mh={key:1,class:"iconfont icon-play"},Fh=[n.createElementVNode("span",{class:"iconfont icon-delete"},null,-1)],Uh={key:1,style:{"font-size":"0.5rem"}},Hh=n.createElementVNode("p",null,"选择需要转换的配音师",-1),Wh={class:"speakers-container border rounded d-flex flex-row flex-wrap row-gap-1 column-gap-2 overflow-y-auto overflow-x-hidden",style:{height:"150px"}},zh=["disabled"],Gh=n.defineComponent({__name:"audio-upload",emits:["submit"],setup(r,{expose:s,emit:o}){const{globalEditConfig:a}=ze(),{audioUpload:c,transfer:f,fetchSpeaker:p,timeoutMilliseconds:m}=a.conversion,_=n.ref(),y=n.ref(),S=n.ref(),k=n.ref(!0),C=n.ref([]),T=n.ref(),E=n.shallowRef(),v=n.shallowRef(),I=new $a,{playState:B}=I;let P;const V=new Ih,F=new ka("audio/*"),G=new Na(60),{state:X}=G,{recorderState:D}=V,ue=Ar(_),Ee=n.inject("reopen");n.watch(ue,ye=>{ye||H()}),n.onMounted(async()=>{C.value=await p()}),n.watch(ue,ye=>{ye||(k.value=!0,P==null||P.cancel())}),s({openInputFile:Be});function H(){k.value=!0,W()}function W(){I.pause(),y.value=void 0,S.value=void 0,T.value=void 0,E.value=void 0,v.value=void 0,P==null||P.cancel()}function U(){V.stop(),G.stop()}async function K(){P=new Go(6e4),G.start();try{P.startTimeout(),E.value=await V.start(P.token)}catch(ye){Ue.emit(Le.ERROR,`${ye}`,ye)}finally{P.cancel(),G.stop()}}function se(){if(B.value==="playing")I.pause();else if(E.value){const ye=window.URL.createObjectURL(E.value);I.load(ye),I.play()}else if(v.value){const ye=window.URL.createObjectURL(v.value);I.load(ye),I.play()}}async function Be(){try{return v.value=await F.open(),k.value=!1,!0}catch{return!1}}async function Nt(){try{if(P=new Go(m),k.value&&E.value)P.startTimeout(),y.value=await c(E.value,P.token);else if(!k.value&&v.value)P.startTimeout(),y.value=await c(v.value,P.token);else throw new Error("请选则文件或实时录音")}catch(ye){Ue.emit(Le.ERROR,`${ye}`,ye)}}async function Oe(ye){try{y.value?(T.value=ye,S.value=await f({audioId:y.value.id,speakerId:ye.id})):Ue.emit(Le.ERROR,"请先上传音频文件")}catch(Ce){Ue.emit(Le.ERROR,`${Ce}`,Ce)}}function _e(){S.value&&T.value&&(o("submit",{label:T.value.displayName,value:S.value.src}),H())}function Rn(){P==null||P.cancel(),Ee==null||Ee()}return(ye,Ce)=>{var Ir,Lr;return n.openBlock(),n.createElementBlock("div",{class:"audio-upload",ref_key:"boxRef",ref:_},[n.createElementVNode("div",Lh,[n.createElementVNode("div",Bh,[E.value||v.value?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:se,class:"btn btn-sm rounded-pill"},[n.unref(B)==="playing"||n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("span",Ph)):(n.openBlock(),n.createElementBlock("span",Mh))])):n.createCommentVNode("",!0),n.createElementVNode("span",null,n.toDisplayString(((Ir=v.value)==null?void 0:Ir.name)||((Lr=E.value)==null?void 0:Lr.name)),1)]),n.createElementVNode("div",null,[!y.value&&(E.value||v.value)?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:W,class:"btn btn-sm rounded-pill"},Fh)):n.createCommentVNode("",!0),y.value?(n.openBlock(),n.createElementBlock("span",Uh,"已上传")):n.createCommentVNode("",!0),k.value&&!E.value?(n.openBlock(),n.createElementBlock(n.Fragment,{key:2},[n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:U,class:"btn btn-primary btn-sm rounded-pill"}," 结束录音("+n.toDisplayString(n.unref(X))+")s ",1)):(n.openBlock(),n.createElementBlock("button",{key:1,onClick:K,class:"btn btn-primary btn-sm rounded-pill"}," 开始录音 "))],64)):n.createCommentVNode("",!0),!k.value&&!v.value?(n.openBlock(),n.createElementBlock("button",{key:3,onClick:Be,class:"btn btn-primary btn-sm rounded-pill"}," 选择文件 ")):n.createCommentVNode("",!0),y.value?(n.openBlock(),n.createElementBlock("button",{key:4,onClick:Rn,class:"btn btn-primary btn-sm rounded-pill"}," 重传音频 ")):n.createCommentVNode("",!0),!y.value&&(v.value||E.value)?(n.openBlock(),n.createElementBlock("button",{key:5,onClick:Nt,class:"btn btn-primary btn-sm rounded-pill"}," 上传音频 ")):n.createCommentVNode("",!0)])]),n.createElementVNode("div",null,[Hh,n.createElementVNode("div",Wh,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(C.value,(Tn,zt)=>{var ln;return n.openBlock(),n.createBlock(Dh,{onClick:ml=>Oe(Tn),key:zt,label:Tn.displayName,avatar:Tn.avatar,activated:Tn.name===((ln=T.value)==null?void 0:ln.name)},null,8,["onClick","label","avatar","activated"])}),128))])]),n.createElementVNode("button",{class:"btn btn-primary mt-1",onClick:_e,disabled:!S.value}," 完成录音并上传完成后，可选择配音师转换 ",8,zh)],512)}}}),qh={class:"fw-bold",style:{"font-size":"0.5rem"}},Kh=n.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),Yh={class:"border border-secondary rounded p-2 w-100",style:{height:"100px"}},Xh={class:"mt-2"},Jh=n.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),Zh=n.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!0),c=n.ref(!1),f=Ar(s);n.provide("reopen",()=>{a.value=!0,c.value=!1}),n.watch(f,_=>{_||(a.value=!0,c.value=!1)});function p(){a.value=!0,c.value=!0}async function m(){var _;await((_=o.value)==null?void 0:_.openInputFile())&&(a.value=!1,c.value=!0)}return(_,y)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:s,class:"px-2 py-1",style:{width:"410px"}},[n.withDirectives(n.createElementVNode("section",qh,[Kh,n.createElementVNode("div",Yh,n.toDisplayString(_.text),1)],512),[[n.vShow,a.value]]),n.withDirectives(n.createElementVNode("section",Xh,[n.createElementVNode("div",{class:"w-100 d-flex flex-column row-gap-1"},[n.createElementVNode("button",{onClick:p,class:"btn btn-success"},"实时录音"),n.createElementVNode("button",{onClick:m,class:"btn btn-primary"},"上传录音")]),Jh],512),[[n.vShow,!c.value]]),n.withDirectives(n.createElementVNode("section",null,[n.createVNode(Gh,{ref_key:"audioUploadRef",ref:o,onSubmit:y[0]||(y[0]=S=>_.$emit("submit",S))},null,512)],512),[[n.vShow,c.value]])],512))}});class Qh extends ct{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(be.ERROR,"请框选要变音的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-audio",remark:s.label,src:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const fl=n.defineComponent({__name:"conversion-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),c=n.shallowRef(),f=n.ref(!1),p=n.ref(""),{x:m,y:_,height:y}=Yn(o),S=C=>{if(c.value??(c.value=new Qh(C)),c.value.isDisabled())return;p.value=c.value.getValue();const T={x:m.value-200,y:_.value+y.value};a.value=C,s.value.setPosition(T),f.value=!0};function k(C){var T;(T=c.value)==null||T.exec(C),f.value=!1}return(C,T)=>(n.openBlock(),n.createBlock(n.unref(Cn),{ref_key:"dragRef",ref:s,visible:f.value,"onUpdate:visible":T[0]||(T[0]=E=>f.value=E)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ge),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:S},null,512)]),default:n.withCtx(()=>[n.createVNode(Zh,{text:p.value,onSubmit:k},null,8,["text"])]),_:1},8,["visible"]))}}),jh={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},em={class:"position-relative"},tm=["src"],nm={key:0,class:"iconfont icon-play1"},rm={key:1,class:"iconfont icon-pause1"},om={class:"anchor-avatar-name text-white"},im=n.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=n.ref(),a=n.ref(),c=n.ref(0),f=n.ref(0),p=Tr(),{globalEditConfig:m}=ze(),{audioPlayer:_}=p,y=_.playState,{position:S}=Yo(o,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(P,V)=>v(V.clientX,V.clientY)?!1:void 0}),{style:k}=Jo(o,S);function C(P){(()=>{if(v(P.clientX,P.clientY))return I(P)?B():s("update:visible",!1)})(),T()}function T(){c.value=0,f.value=0}function E(P){c.value=P.clientX,f.value=P.clientY}function v(P,V){return P>c.value-10&&P<c.value+10&&V>f.value-10&&V<f.value+10}function I(P){var F;const V=P.target;return((F=a.value)==null?void 0:F.contains(V))||!1}async function B(){if(y.value==="playing")_.pause();else try{const P=Dr(),V=await m.tryPlay.play(P);_.load(V.src),_.play()}catch{_.pause()}}return(P,V)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:n.normalizeStyle([n.unref(k),{position:"fixed"}]),onMousedown:E,onMouseup:C},[n.createElementVNode("div",jh,[n.createElementVNode("div",em,[n.createElementVNode("img",{src:n.unref(p).speaker.avatar||n.unref(bn)(),class:"rounded-circle"},null,8,tm),n.createElementVNode("button",{ref_key:"btnPlayRef",ref:a,class:"btn w-100 h-100 position-absolute top-50 start-50 translate-middle bg-black bg-opacity-50 text-white rounded-circle"},[n.unref(y)==="paused"?(n.openBlock(),n.createElementBlock("span",nm)):(n.openBlock(),n.createElementBlock("span",rm))],512)]),n.createElementVNode("div",om,n.toDisplayString(n.unref(p).speaker.displayName),1)])],36)),[[n.vShow,P.visible]])}}),Wx="",sm=Xe(im,[["__scopeId","data-v-0f55dd94"]]),am={key:0,class:"position-absolute top-0 start-100 translate-middle text-bg-danger text-nowrap rounded px-1",style:{"font-size":"0.5rem"}},lm=["src"],cm={class:"anchor-avatar-name text-white"},um=n.defineComponent({__name:"anchor-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,c,f;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=p=>{var m;return s.$emit("click",(m=s.data)==null?void 0:m.value)})},[(a=s.data)!=null&&a.isFree?n.createCommentVNode("",!0):(n.openBlock(),n.createElementBlock("span",am,"付费")),n.createElementVNode("img",{src:((c=s.data)==null?void 0:c.src)??n.unref(bn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"40px"}},null,10,lm),n.createElementVNode("div",cm,n.toDisplayString((f=s.data)==null?void 0:f.label),1)])}}}),zx="",dl=Xe(um,[["__scopeId","data-v-845325c9"]]),fm={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},dm=n.defineComponent({__name:"anchor-list",props:{filter:{}},setup(r){const s=r,{globalEditConfig:o}=ze(),{fetchData:a}=o.tryPlay,c=Tr(),f=n.ref([]),p=n.shallowRef([]);n.watch(()=>s.filter,async _=>{const y=await a(n.toRaw(_));p.value=y,f.value=y.map(S=>({label:S.displayName,value:S.name}))});function m(_){const y=p.value.find(S=>S.name===_);y&&c.setSpeaker(y)}return n.onMounted(async()=>{const _=await a(n.toRaw(s.filter));p.value=_,f.value=_.map(y=>({label:y.displayName,value:y.name})),f.value.length>0&&m(f.value[0].value)}),(_,y)=>(n.openBlock(),n.createElementBlock("div",fm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(f.value,(S,k)=>(n.openBlock(),n.createElementBlock("div",{class:"m-3",key:k},[n.createVNode(dl,{data:S,activate:S.value===n.unref(c).speaker.name,onClick:C=>m(S.value)},null,8,["data","activate","onClick"])]))),128))]))}}),si=n.defineComponent({__name:"tag-item",props:{activate:{type:Boolean},value:{}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("span",{class:n.normalizeClass(["tag-item d-inline-block text-white text-center text-nowrap text-truncate",{"border border-white rounded-pill":s.activate}]),onClick:o[0]||(o[0]=a=>s.$emit("click",s.value)),style:{height:"20px","min-width":"60px","max-width":"160px","font-size":"0.5rem",cursor:"pointer"}},[n.renderSlot(s.$slots,"default")],2))}}),pm={class:"tag-list w-100"},hm={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},mm={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},gm={style:{height:"100px"},class:"w-100 pt-2 d-flex flex-row flex-wrap align-content-start row-gap-2 overflow-y-auto overflow-x-hidden scrollbar-none"},_m=n.defineComponent({__name:"tag-list",props:{filter:{}},emits:["update:filter"],setup(r,{emit:s}){const o=r,{globalEditConfig:a}=ze(),{topFlag:c,gender:f,featchTag:p}=a.tryPlay,m=n.ref([]);n.onMounted(async()=>{m.value=await p()});function _(k){s("update:filter",{...n.toRaw(o.filter),topFlag:k})}function y(k){s("update:filter",{...n.toRaw(o.filter),gender:k})}function S(k){s("update:filter",{...n.toRaw(o.filter),tag:k})}return(k,C)=>(n.openBlock(),n.createElementBlock("div",pm,[n.createElementVNode("div",hm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(c),(T,E)=>(n.openBlock(),n.createBlock(si,{onClick:_,key:E,value:T.value,activate:k.filter.topFlag===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",mm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(T,E)=>(n.openBlock(),n.createBlock(si,{onClick:y,key:E,value:T.value,activate:k.filter.gender===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",gm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(m.value,(T,E)=>(n.openBlock(),n.createBlock(si,{onClick:S,key:E,value:T.value,activate:k.filter.tag===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))])]))}}),Gx="",qx="",ym=["src"],wm={class:"anchor-avatar-name text-white",style:{"font-size":"0.5rem"}},vm=n.defineComponent({__name:"style-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,c;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=f=>{var p;return s.$emit("click",(p=s.data)==null?void 0:p.value)})},[n.createElementVNode("img",{src:((a=s.data)==null?void 0:a.src)||n.unref(bn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"30px"}},null,10,ym),n.createElementVNode("div",wm,n.toDisplayString((c=s.data)==null?void 0:c.label),1)])}}}),Kx="",bm=Xe(vm,[["__scopeId","data-v-71aedb65"]]);function Em(r){return`${(.05*r*100).toFixed(0)}%`}function xm(r){return`${((r-1)*100).toFixed(0)}%`}const ai=r=>(n.pushScopeId("data-v-0210af00"),r=r(),n.popScopeId(),r),Sm={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},Cm={class:"mt-2 d-flex text-center justify-content-between align-items-center"},km={class:"me-auto d-flex flex-row align-items-center"},Nm=["src"],Rm={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},Tm={class:"d-flex dlex-row column-gap-2 align-items-end"},$m={class:"fs-6"},Vm={style:{"font-size":"0.5rem"}},Am={class:"d-flex flex-row column-gap-2 align-items-center"},Om={key:0,class:"badge text-bg-primary px-2"},Dm={class:"d-flex flex-column align-items-end"},Im=ai(()=>n.createElementVNode("div",{class:"text-info"},"音频时长，请以生成后的为准",-1)),Lm={class:"mt-1"},Bm=ai(()=>n.createElementVNode("span",null,"/",-1)),Pm={class:"role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3"},Mm=["onClick"],Fm={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},Um=["onClick"],Hm=ai(()=>n.createElementVNode("div",{class:"my-3"},[n.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),Wm={class:"slider-box"},zm={class:"slider-box"},Gm={class:"d-flex flex-row gap-3 my-3"},qm=["onClick"],Km={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3",style:{"min-height":"100px"}},Ym=["onClick"],Xm=n.defineComponent({__name:"slider-panle",setup(r){const{globalEditConfig:s}=ze(),{rootProsody:o,rootExpressAs:a}=an(),{fetchStar:c,category:f,fetchData:p}=s.tryPlay,m=Tr(),_=n.ref(m.speaker.isStar),y=n.ref(10),S=n.ref(0),k=n.ref([0,2]),C=n.ref(1),T=n.ref([-10,10]),E=n.ref(0),v=n.computed(()=>zo(y.value)),I=n.computed(()=>zo(S.value)),B=n.reactive(Qs()),P=n.reactive(js()),V=n.ref(""),F=n.ref([]);n.onMounted(async()=>{await ue(f[0].value)}),n.watch(()=>m.speaker,H=>{H.roles.length>0&&X(H.roles[0].value),H.styles.length>0&&D(H.styles[0].value)},{immediate:!0}),n.watch(E,H=>{o.pitch=Em(H)},{immediate:!0}),n.watch(C,H=>{o.rate=xm(H)},{immediate:!0});async function G(){_.value=await c(m.speaker.name,!_.value)}function X(H){a.role=H}function D(H){a.style=H}async function ue(H){V.value=H;try{F.value=await p({...Rr(),category:H})}catch(W){Ue.emit(Le.ERROR,`${W}`,W)}}function Ee(H){m.setSpeaker(n.toRaw(H))}return(H,W)=>(n.openBlock(),n.createElementBlock("div",Sm,[n.createElementVNode("div",Cm,[n.createElementVNode("div",km,[n.createElementVNode("img",{src:n.unref(bn)(),class:"rounded-circle",style:{height:"50px"}},null,8,Nm),n.createElementVNode("div",Rm,[n.createElementVNode("div",Tm,[n.createElementVNode("span",$m,n.toDisplayString(n.unref(m).speaker.displayName),1),n.createElementVNode("span",Vm,n.toDisplayString(C.value)+"x",1)]),n.createElementVNode("div",Am,[n.createVNode(n.unref(j.ElIcon),{onClick:G,class:"fs-6",style:n.normalizeStyle({color:_.value?"red":"white"})},{default:n.withCtx(()=>[_.value?(n.openBlock(),n.createBlock(n.unref(en.StarFilled),{key:0})):(n.openBlock(),n.createBlock(n.unref(en.Star),{key:1}))]),_:1},8,["style"]),n.unref(m).speaker.isSupper24K?(n.openBlock(),n.createElementBlock("span",Om," 24K ")):n.createCommentVNode("",!0)])])]),n.createElementVNode("div",Dm,[Im,n.createElementVNode("div",Lm,[n.createElementVNode("span",null,n.toDisplayString(I.value),1),Bm,n.createElementVNode("span",null,n.toDisplayString(v.value),1)]),n.createVNode(n.unref(j.ElSlider),{max:y.value,modelValue:S.value,"onUpdate:modelValue":W[0]||(W[0]=U=>S.value=U),size:"small"},null,8,["max","modelValue"])])]),n.createElementVNode("div",Pm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(m).speaker.roles,(U,K)=>(n.openBlock(),n.createElementBlock("div",{onClick:se=>X(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===(n.unref(a).role||"")}])},n.toDisplayString(U.label),11,Mm))),128))]),n.createElementVNode("ul",Fm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(m).speaker.styles,(U,K)=>(n.openBlock(),n.createElementBlock("li",{class:"mx-2",onClick:se=>D(U.value),key:K},[n.createVNode(bm,{activate:U.value===(n.unref(a).style||""),data:U},null,8,["activate","data"])],8,Um))),128))]),Hm,n.createElementVNode("div",Wm,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语速："+n.toDisplayString(C.value)+"x",1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:C.value,"onUpdate:modelValue":W[1]||(W[1]=U=>C.value=U),min:k.value[0],max:k.value[1],step:.05,marks:B},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",zm,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语调："+n.toDisplayString(E.value),1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:E.value,"onUpdate:modelValue":W[2]||(W[2]=U=>E.value=U),min:T.value[0],max:T.value[1],step:.2,marks:P},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",null,[n.createElementVNode("ul",Gm,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:se=>ue(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===V.value}])},n.toDisplayString(U.label),11,qm))),128))]),n.createElementVNode("ul",Km,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(F.value,(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:se=>Ee(U),key:K},[n.createVNode(dl,{activate:U.name===n.unref(m).speaker.name,data:{...U,label:U.displayName,value:U.name}},null,8,["activate","data"])],8,Ym))),128))])])]))}}),Yx="",Jm=Xe(Xm,[["__scopeId","data-v-0210af00"]]),Zm=r=>(n.pushScopeId("data-v-b9c1f88f"),r=r(),n.popScopeId(),r),Qm={class:"box ms-2"},jm={class:"try-play-header text-center d-flex flex-row justify-content-between"},eg={class:"try-play-body d-flex flex-row"},tg={class:"try-play-left w-50 border-right border-secondary"},ng={class:"pe-1"},rg=Zm(()=>n.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),og={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},ig=n.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=r,a=n.ref(),c=n.ref(""),f=n.ref(),p=n.ref(),m=n.ref(Rr());n.onMounted(()=>{window.addEventListener("keydown",_)}),n.onUnmounted(()=>{window.addEventListener("keydown",_)}),n.watch(()=>o.visible,E=>{E&&C()});function _(E){E.code==="Escape"&&o.visible&&k()}const{position:y}=Yo(p,{initialValue:{x:40,y:40}}),{style:S}=Jo(f,y);n.onMounted(()=>{y.value.x=(window.innerWidth-890)/2,y.value.y=(window.innerHeight-390)/2});function k(){s("update:visible",!1)}function C(){n.nextTick(()=>{var E,v;(v=(E=a.value)==null?void 0:E.input)==null||v.focus()})}function T(){m.value={...m.value,word:c.value}}return(E,v)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:n.normalizeStyle([n.unref(S),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[n.createElementVNode("div",Qm,[n.createElementVNode("div",jm,[n.createElementVNode("div",{ref_key:"handleRef",ref:p,class:"col-11 try-play-move"},null,512),n.createElementVNode("div",{onClick:k,class:"col-1 try-play-menu-close"},[n.createVNode(n.unref(j.ElIcon),{color:"white"},{default:n.withCtx(()=>[n.createVNode(n.unref(en.Minus))]),_:1})])]),n.createElementVNode("div",eg,[n.createElementVNode("div",tg,[n.createElementVNode("div",ng,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(T,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{"input-style":{color:"white"},ref_key:"searchInputRef",ref:a,modelValue:c.value,"onUpdate:modelValue":v[0]||(v[0]=I=>c.value=I),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),n.createVNode(_m,{filter:m.value,"onUpdate:filter":v[1]||(v[1]=I=>m.value=I)},null,8,["filter"]),rg,n.createVNode(dm,{filter:m.value},null,8,["filter"])]),n.createElementVNode("div",og,[n.createVNode(Jm)])])])],4)),[[n.vShow,E.visible]])}}),Xx="",sg=Xe(ig,[["__scopeId","data-v-b9c1f88f"]]),pl=n.defineComponent({__name:"try-play",setup(r){const s=n.ref(!0);function o(a){a||(s.value=!0)}return(a,c)=>(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.createVNode(sm,{visible:s.value,"onUpdate:visible":c[0]||(c[0]=f=>s.value=f)},null,8,["visible"]),n.createVNode(sg,{visible:!s.value,"onUpdate:visible":o},null,8,["visible"])]))}}),Jx="",ag={install:r=>{r.component("PlayMenu",Ja),r.component("PinyinMenu",Za),r.component("ContinuousMenu",Qa),r.component("ReadMenu",ja),r.component("DigitalMenu",el),r.component("AliasMenu",tl),r.component("EnglishMenu",nl),r.component("ChangespeedMenu",rl),r.component("RhythmMenu",ol),r.component("SpecialMenu",il),r.component("MuteMenu",sl),r.component("BgmMenu",al),r.component("SensitiveMenu",ll),r.component("ManagementMenu",ul),r.component("ConversionMenu",fl),r.component("TryPlay",pl)}},Zx="",Qx="";var li={exports:{}},ci={exports:{}};(function(r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ParsingError=void 0;class o extends Error{constructor(F,G){super(F),this.cause=G}}s.ParsingError=o;let a;function c(){return _(!1)||C()||k()||S()}function f(){return v(/\s*/),_(!0)||k()||y()||m(!1)}function p(){const V=m(!0),F=[];let G,X=f();for(;X;){if(X.node.type==="Element"){if(G)throw new Error("Found multiple root nodes");G=X.node}X.excluded||F.push(X.node),X=f()}if(!G)throw new o("Failed to parse XML","Root Element not found");if(a.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:V?V.node:null,root:G,children:F}}function m(V){const F=v(V?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!F)return;const G={name:F[1],type:"ProcessingInstruction",attributes:{}};for(;!(I()||B("?>"));){const X=T();if(X)G.attributes[X.name]=X.value;else return}return v(/\?>/),{excluded:V?!1:a.options.filter(G)===!1,node:G}}function _(V){const F=v(/^<([^?!</>\s]+)\s*/);if(!F)return;const G={type:"Element",name:F[1],attributes:{},children:[]},X=V?!1:a.options.filter(G)===!1;for(;!(I()||B(">")||B("?>")||B("/>"));){const ue=T();if(ue)G.attributes[ue.name]=ue.value;else return}if(v(/^\s*\/>/))return G.children=null,{excluded:X,node:G};v(/\??>/);let D=c();for(;D;)D.excluded||G.children.push(D.node),D=c();if(a.options.strictMode){const ue=`</${G.name}>`;if(a.xml.startsWith(ue))a.xml=a.xml.slice(ue.length);else throw new o("Failed to parse XML",`Closing tag not matching "${ue}"`)}else v(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:X,node:G}}function y(){const V=v(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||v(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||v(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||v(/^<!DOCTYPE\s+\S+\s*>/);if(V){const F={type:"DocumentType",content:V[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function S(){if(a.xml.startsWith("<![CDATA[")){const V=a.xml.indexOf("]]>");if(V>-1){const F=V+3,G={type:"CDATA",content:a.xml.substring(0,F)};return a.xml=a.xml.slice(F),{excluded:a.options.filter(G)===!1,node:G}}}}function k(){const V=v(/^<!--[\s\S]*?-->/);if(V){const F={type:"Comment",content:V[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function C(){const V=v(/^([^<]+)/);if(V){const F={type:"Text",content:V[1]};return{excluded:a.options.filter(F)===!1,node:F}}}function T(){const V=v(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(V)return{name:V[1].trim(),value:E(V[2].trim())}}function E(V){return V.replace(/^['"]|['"]$/g,"")}function v(V){const F=a.xml.match(V);if(F)return a.xml=a.xml.slice(F[0].length),F}function I(){return a.xml.length===0}function B(V){return a.xml.indexOf(V)===0}function P(V,F={}){V=V.trim();const G=F.filter||(()=>!0);return a={xml:V,options:Object.assign(Object.assign({},F),{filter:G,strictMode:F.strictMode===!0})},p()}r.exports=P,s.default=P})(ci,ci.exports);var lg=ci.exports;(function(r,s){var o=rn&&rn.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(s,"__esModule",{value:!0});const a=o(lg);function c(E){if(!E.options.indentation&&!E.options.lineSeparator)return;E.content+=E.options.lineSeparator;let v;for(v=0;v<E.level;v++)E.content+=E.options.indentation}function f(E){E.content=E.content.replace(/ +$/,"");let v;for(v=0;v<E.level;v++)E.content+=E.options.indentation}function p(E,v){E.content+=v}function m(E,v,I){if(typeof E.content=="string")_(E.content,v,I);else if(E.type==="Element")S(E,v,I);else if(E.type==="ProcessingInstruction")C(E,v);else throw new Error("Unknown node type: "+E.type)}function _(E,v,I){if(!I){const B=E.trim();(v.options.lineSeparator||B.length===0)&&(E=B)}E.length>0&&(!I&&v.content.length>0&&c(v),p(v,E))}function y(E,v){const I="/"+E.join("/"),B=E[E.length-1];return v.includes(B)||v.includes(I)}function S(E,v,I){if(v.path.push(E.name),!I&&v.content.length>0&&c(v),p(v,"<"+E.name),k(v,E.attributes),E.children===null||v.options.forceSelfClosingEmptyTag&&E.children.length===0){const B=v.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";p(v,B)}else if(E.children.length===0)p(v,"></"+E.name+">");else{const B=E.children;p(v,">"),v.level++;let P=E.attributes["xml:space"]==="preserve",V=!1;if(!P&&v.options.ignoredPaths&&(V=y(v.path,v.options.ignoredPaths),P=V),!P&&v.options.collapseContent){let F=!1,G=!1,X=!1;B.forEach(function(D,ue){D.type==="Text"?(D.content.includes(`
`)?(G=!0,D.content=D.content.trim()):(ue===0||ue===B.length-1)&&D.content.trim().length===0&&(D.content=""),D.content.trim().length>0&&(F=!0)):D.type==="CDATA"?F=!0:X=!0}),F&&(!X||!G)&&(P=!0)}B.forEach(function(F){m(F,v,I||P)}),v.level--,!I&&!P&&c(v),V&&f(v),p(v,"</"+E.name+">")}v.path.pop()}function k(E,v){Object.keys(v).forEach(function(I){const B=v[I].replace(/"/g,"&quot;");p(E," "+I+'="'+B+'"')})}function C(E,v){v.content.length>0&&c(v),p(v,"<?"+E.name),k(v,E.attributes),p(v,"?>")}function T(E,v={}){v.indentation="indentation"in v?v.indentation:"    ",v.collapseContent=v.collapseContent===!0,v.lineSeparator="lineSeparator"in v?v.lineSeparator:`\r
`,v.whiteSpaceAtEndOfSelfclosingTag=v.whiteSpaceAtEndOfSelfclosingTag===!0,v.throwOnFailure=v.throwOnFailure!==!1;try{const I=(0,a.default)(E,{filter:v.filter,strictMode:v.strictMode}),B={content:"",level:0,options:v,path:[]};return I.declaration&&C(I.declaration,B),I.children.forEach(function(P){m(P,B,!1)}),v.lineSeparator?B.content.replace(/\r\n/g,`
`).replace(/\n/g,v.lineSeparator):B.content}catch(I){if(v.throwOnFailure)throw I;return E}}T.minify=(E,v={})=>T(E,Object.assign(Object.assign({},v),{indentation:"",lineSeparator:""})),r.exports=T,s.default=T})(li,li.exports);var cg=li.exports;const ug=ra(cg),Nn=r=>(n.pushScopeId("data-v-fb2870b0"),r=r(),n.popScopeId(),r),fg={class:"editor-title d-flex flex-row align-item-center justify-content-between"},dg={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},pg=Nn(()=>n.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),hg={class:"author d-flex flex-row align-items-center justify-content-start"},mg=Nn(()=>n.createElementVNode("div",null,"未保存",-1)),gg=Nn(()=>n.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),_g=Nn(()=>n.createElementVNode("div",{class:"d-inline-block"},null,-1)),yg={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},wg=Nn(()=>n.createElementVNode("div",{class:"menu-divider"},null,-1)),vg=Nn(()=>n.createElementVNode("div",{class:"px-1"},null,-1)),bg={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},Eg={class:"dialog-footer"},xg=n.defineComponent({__name:"editor-title",setup(r){const s=n.ref(!1),o=n.ref(""),{rootBackgroundaudio:a}=an(),c=n.computed(()=>ug(o.value,{indentation:"    ",filter:y=>y.type!=="Comment",collapseContent:!0,lineSeparator:`
`})),f=()=>{o.value=Dr(),s.value=!0},p=()=>{a.src&&sn.play(a.src)},m=()=>{sn.stop(a.src),a.src="",a.remark=""};async function _(y){await navigator.clipboard.writeText(y?c.value:o.value),s.value=!1}return(y,S)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",fg,[n.createElementVNode("div",dg,[pg,n.createElementVNode("div",hg,[mg,n.unref(a).src?(n.openBlock(),n.createBlock(n.unref(j.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:p,onClose:m},{default:n.withCtx(()=>[gg,_g,n.createElementVNode("span",null,n.toDisplayString(n.unref(a).remark),1)]),_:1})):n.createCommentVNode("",!0)])]),n.createElementVNode("div",yg,[n.createVNode(n.unref(j.ElButton),{type:"primary",icon:n.unref(en.Share),disabled:""},{default:n.withCtx(()=>[n.createTextVNode("分享")]),_:1},8,["icon"]),wg,n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:f},{default:n.withCtx(()=>[n.createTextVNode("查看SSML")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载音频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载视频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载字幕")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("声音转换")]),_:1}),vg])]),n.createVNode(n.unref(j.ElDialog),{modelValue:s.value,"onUpdate:modelValue":S[4]||(S[4]=k=>s.value=k),title:"查看SSML",width:"80%"},{header:n.withCtx(()=>[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:S[0]||(S[0]=k=>_(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:S[1]||(S[1]=k=>_(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})]),footer:n.withCtx(()=>[n.createElementVNode("span",Eg,[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:S[2]||(S[2]=k=>_(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:S[3]||(S[3]=k=>_(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})])]),default:n.withCtx(()=>[n.createElementVNode("pre",bg,n.toDisplayString(c.value),1)]),_:1},8,["modelValue"])],64))}}),jx="",Sg=Xe(xg,[["__scopeId","data-v-fb2870b0"]]),Cg=n.defineComponent({__name:"editor-core",emits:["created","change"],setup(r,{emit:s}){const{editor:o,setEditor:a,globalEditConfig:c}=ze(),f=n.ref(null);n.onMounted(()=>{p()}),n.onUnmounted(()=>{o==null||o.destroy()});function p(){if(!f.value)return;const m=R.createEditor({selector:f.value,mode:"simple",config:{...n.toRaw(c.editorConfig),onCreated(_){s("created",_),Ue.emit(Le.EDITOR_CREATED,_)},onChange(_){s("change",_)}}});a(m),m.on(be.ERROR,c.handleError)}return(m,_)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),kg={class:"bar-view border-bottom border-1"},Ng=n.defineComponent({__name:"bar-view",setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",kg,[n.createVNode(n.unref(Ia),null,{default:n.withCtx(()=>[n.createVNode(n.unref(Sn),{divider:"green"},{default:n.withCtx(()=>[n.createVNode(n.unref(Ja))]),_:1}),n.createVNode(n.unref(Sn),{divider:"cyan"},{default:n.withCtx(()=>[n.createVNode(n.unref(Za)),n.createVNode(n.unref(ja)),n.createVNode(n.unref(el)),n.createVNode(n.unref(Qa)),n.createVNode(n.unref(tl)),n.createVNode(n.unref(nl))]),_:1}),n.createVNode(n.unref(Sn),{divider:"orange"},{default:n.withCtx(()=>[n.createVNode(n.unref(rl)),n.createVNode(n.unref(ul)),n.createVNode(n.unref(fl))]),_:1}),n.createVNode(n.unref(Sn),{divider:"purple"},{default:n.withCtx(()=>[n.createVNode(n.unref(ol)),n.createVNode(n.unref(sl))]),_:1}),n.createVNode(n.unref(Sn),{divider:"yellow"},{default:n.withCtx(()=>[n.createVNode(n.unref(il)),n.createVNode(n.unref(al))]),_:1})]),_:1})]),n.createVNode(n.unref(pl))],64))}}),Rg={class:"editor-box"},Tg={class:"editor-core-container shadow pt-1"},$g=n.defineComponent({__name:"editor-view",emits:["created","change"],setup(r,{emit:s}){const o=p=>{s("created",p)},a=p=>{s("change",p)};function c(p){Ue.emit(Le.VIEW_CLICK,p)}function f(p){Ue.emit(Le.VIEW_KEYDOWN,p)}return(p,m)=>(n.openBlock(),n.createElementBlock("div",{class:"editor-view",onClick:c,onKeydown:f},[n.renderSlot(p.$slots,"default",{},()=>[n.createVNode(Sg)],!0),n.createElementVNode("div",Rg,[n.createVNode(Ng),n.createElementVNode("div",Tg,[n.createVNode(Cg,{onChange:a,onCreated:o})])])],32))}}),eS="",hl=Xe($g,[["__scopeId","data-v-b5e6df8c"]]),Vg={install(r){r.component("EditorView",hl)}},Ag={install(r,s){r.use(yf()),r.use(()=>{const{setGlobalEditConfig:o}=ze(),a=Bo(s);o(a),Ue.on(Le.ERROR,a.handleError)}),r.use(fd),r.use(Cp),r.use(ag),r.use(Vg)}};ne.AudioPlayer=Ca,ne.CancellationTokenSource=Go,ne.DOMComment=Mf,ne.DOMElement=Ff,ne.DOMNode=Pf,ne.DOMRange=Hf,ne.DOMSelection=Wf,ne.DOMStaticRange=zf,ne.DOMText=Uf,ne.EMITTER_EVENT=Le,ne.EditorView=hl,ne.FileSelector=ka,ne.Timer=Na,ne.WANGEDITOR_EVENT=be,ne.audioPlayer=sn,ne.createGlobalEditorConfig=Bo,ne.default=Ag,ne.defaultFilterSpeaker=Rr,ne.defaultLabelValue=dd,ne.defaultSpeaker=Ta,ne.demoAvatar=bn,ne.formatTime=zo,ne.genRandomStr=qf,ne.pitch=js,ne.serializeToSSML=Dr,ne.speed=Qs,Object.defineProperties(ne,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
