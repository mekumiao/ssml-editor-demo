"use strict";var un=Object.defineProperty;var cn=(t,o,n)=>o in t?un(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;var M=(t,o,n)=>(cn(t,typeof o!="symbol"?o+"":o,n),n);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const g=require("@wangeditor/editor"),e=require("vue"),N=require("element-plus"),oe=require("@element-plus/icons-vue"),dn="ssml-editor",fn="ssml-editor-config",A={EDITOR:dn,EDITORCONFIG:fn},pn="emitter-ediror-error",I={ERROR:pn},mn="wangeditor-update-bgm",vn="wangeditor-remove-bgm",hn="wangeditor-update-speak",H={UPDATE_BGM:mn,REMOVE_BGM:vn,UPDATE_SPEAK:hn},gn={class:"bar-button-icon"},_n={class:"fw-normal",style:{"font-size":"0.85rem"}},yn=e.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:o}){const n=t,r=e.inject(A.EDITOR),l=()=>{n.disabled||o("click",r.value)};return(i,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bar-button px-2 py-1",{disabled:i.disabled}]),onClick:l,onMousedown:s[0]||(s[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",gn,[e.createElementVNode("span",{class:e.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${i.icon}`]])},null,2)]),e.createElementVNode("div",_n,e.toDisplayString(i.text),1)],34))}});const B=(t,o)=>{const n=t.__vccOpts||t;for(const[r,l]of o)n[r]=l;return n},D=B(yn,[["__scopeId","data-v-7741060a"]]);const Pe=e.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(t,{expose:o,emit:n}){const r=e.ref(""),l=e.ref();function i(){l.value.focus()}function s(){n("submit",r.value),r.value=""}return o({focus:i}),(a,c)=>(e.openBlock(),e.createBlock(e.unref(N.ElForm),{class:"flex flex-row",onSubmit:e.withModifiers(s,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{type:a.type,ref_key:"inputRef",ref:l,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}});const xn=e.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(t){return(o,n)=>(e.openBlock(),e.createBlock(e.unref(N.ElPopover),{hideAfter:o.hideAfter,width:o.width,visible:o.visible,trigger:o.trigger,"onUpdate:visible":n[0]||(n[0]=r=>o.$emit("update:visible",r))},{reference:e.withCtx(()=>[e.renderSlot(o.$slots,"reference")]),default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}});function pe(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function P(t){return typeof t=="function"?t():e.unref(t)}const ue=typeof window<"u",bn=t=>t!=null,ie=()=>{};var wn=Object.defineProperty,Vn=Object.defineProperties,En=Object.getOwnPropertyDescriptors,qe=Object.getOwnPropertySymbols,Nn=Object.prototype.hasOwnProperty,Cn=Object.prototype.propertyIsEnumerable,Ge=(t,o,n)=>o in t?wn(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,Sn=(t,o)=>{for(var n in o||(o={}))Nn.call(o,n)&&Ge(t,n,o[n]);if(qe)for(var n of qe(o))Cn.call(o,n)&&Ge(t,n,o[n]);return t},Tn=(t,o)=>Vn(t,En(o));function kn(t,o={}){if(!e.isRef(t))return e.toRefs(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=e.customRef(()=>({get(){return t.value[r]},set(l){var i;if((i=P(o.replaceRef))!=null?i:!0)if(Array.isArray(t.value)){const a=[...t.value];a[r]=l,t.value=a}else{const a=Tn(Sn({},t.value),{[r]:l});Object.setPrototypeOf(a,Object.getPrototypeOf(t.value)),t.value=a}else t.value[r]=l}}));return n}function Tt(t,o=!0){e.getCurrentInstance()?e.onMounted(t):o?t():e.nextTick(t)}function L(t){var o;const n=P(t);return(o=n==null?void 0:n.$el)!=null?o:n}const z=ue?window:void 0;function Y(...t){let o,n,r,l;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,l]=t,o=z):[o,n,r,l]=t,!o)return ie;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],s=()=>{i.forEach(m=>m()),i.length=0},a=(m,p,v,h)=>(m.addEventListener(p,v,h),()=>m.removeEventListener(p,v,h)),c=e.watch(()=>[L(o),P(l)],([m,p])=>{s(),m&&i.push(...n.flatMap(v=>r.map(h=>a(m,v,h,p))))},{immediate:!0,flush:"post"}),f=()=>{c(),s()};return pe(f),f}function $n(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function Le(t){const o=$n();return e.computed(()=>(o.value,!!t()))}function On(t,o={}){const{window:n=z}=o,r=Le(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let l;const i=e.ref(!1),s=f=>{i.value=f.matches},a=()=>{l&&("removeEventListener"in l?l.removeEventListener("change",s):l.removeListener(s))},c=e.watchEffect(()=>{r.value&&(a(),l=n.matchMedia(P(t)),"addEventListener"in l?l.addEventListener("change",s):l.addListener(s),i.value=l.matches)});return pe(()=>{c(),a(),l=void 0}),i}var In=Object.defineProperty,Rn=Object.defineProperties,Dn=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Bn=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Ke=(t,o,n)=>o in t?In(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,Pn=(t,o)=>{for(var n in o||(o={}))Bn.call(o,n)&&Ke(t,n,o[n]);if(Ye)for(var n of Ye(o))Mn.call(o,n)&&Ke(t,n,o[n]);return t},Ln=(t,o)=>Rn(t,Dn(o));function me(t,o={}){var n,r;const{pointerTypes:l,preventDefault:i,stopPropagation:s,exact:a,onMove:c,onEnd:f,onStart:m,initialValue:p,axis:v="both",draggingElement:h=z,handle:d=t}=o,u=e.ref((n=P(p))!=null?n:{x:0,y:0}),_=e.ref(),b=x=>l?l.includes(x.pointerType):!0,V=x=>{P(i)&&x.preventDefault(),P(s)&&x.stopPropagation()},y=x=>{if(!b(x)||P(a)&&x.target!==P(t))return;const S=P(t).getBoundingClientRect(),$={x:x.clientX-S.left,y:x.clientY-S.top};(m==null?void 0:m($,x))!==!1&&(_.value=$,V(x))},w=x=>{if(!b(x)||!_.value)return;let{x:S,y:$}=u.value;(v==="x"||v==="both")&&(S=x.clientX-_.value.x),(v==="y"||v==="both")&&($=x.clientY-_.value.y),u.value={x:S,y:$},c==null||c(u.value,x),V(x)},C=x=>{b(x)&&_.value&&(_.value=void 0,f==null||f(u.value,x),V(x))};if(ue){const x={capture:(r=o.capture)!=null?r:!0};Y(d,"pointerdown",y,x),Y(h,"pointermove",w,x),Y(h,"pointerup",C,x)}return Ln(Pn({},kn(u)),{position:u,isDragging:e.computed(()=>!!_.value),style:e.computed(()=>`left:${u.value.x}px;top:${u.value.y}px;`)})}var Xe=Object.getOwnPropertySymbols,An=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable,Fn=(t,o)=>{var n={};for(var r in t)An.call(t,r)&&o.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xe)for(var r of Xe(t))o.indexOf(r)<0&&jn.call(t,r)&&(n[r]=t[r]);return n};function kt(t,o,n={}){const r=n,{window:l=z}=r,i=Fn(r,["window"]);let s;const a=Le(()=>l&&"ResizeObserver"in l),c=()=>{s&&(s.disconnect(),s=void 0)},f=e.computed(()=>Array.isArray(t)?t.map(v=>L(v)):[L(t)]),m=e.watch(f,v=>{if(c(),a.value&&l){s=new ResizeObserver(o);for(const h of v)h&&s.observe(h,i)}},{immediate:!0,flush:"post",deep:!0}),p=()=>{c(),m()};return pe(p),{isSupported:a,stop:p}}function re(t,o={}){const{reset:n=!0,windowResize:r=!0,windowScroll:l=!0,immediate:i=!0}=o,s=e.ref(0),a=e.ref(0),c=e.ref(0),f=e.ref(0),m=e.ref(0),p=e.ref(0),v=e.ref(0),h=e.ref(0);function d(){const u=L(t);if(!u){n&&(s.value=0,a.value=0,c.value=0,f.value=0,m.value=0,p.value=0,v.value=0,h.value=0);return}const _=u.getBoundingClientRect();s.value=_.height,a.value=_.bottom,c.value=_.left,f.value=_.right,m.value=_.top,p.value=_.width,v.value=_.x,h.value=_.y}return kt(t,d),e.watch(()=>L(t),u=>!u&&d()),l&&Y("scroll",d,{capture:!0,passive:!0}),r&&Y("resize",d,{passive:!0}),Tt(()=>{i&&d()}),{height:s,bottom:a,left:c,right:f,top:m,width:p,x:v,y:h,update:d}}function $t(t,o={width:0,height:0},n={}){const{window:r=z,box:l="content-box"}=n,i=e.computed(()=>{var c,f;return(f=(c=L(t))==null?void 0:c.namespaceURI)==null?void 0:f.includes("svg")}),s=e.ref(o.width),a=e.ref(o.height);return kt(t,([c])=>{const f=l==="border-box"?c.borderBoxSize:l==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(r&&i.value){const m=L(t);if(m){const p=r.getComputedStyle(m);s.value=Number.parseFloat(p.width),a.value=Number.parseFloat(p.height)}}else if(f){const m=Array.isArray(f)?f:[f];s.value=m.reduce((p,{inlineSize:v})=>p+v,0),a.value=m.reduce((p,{blockSize:v})=>p+v,0)}else s.value=c.contentRect.width,a.value=c.contentRect.height},n),e.watch(()=>L(t),c=>{s.value=c?o.width:0,a.value=c?o.height:0}),{width:s,height:a}}function Hn(t,o,n={}){const{root:r,rootMargin:l="0px",threshold:i=.1,window:s=z,immediate:a=!0}=n,c=Le(()=>s&&"IntersectionObserver"in s),f=e.computed(()=>{const d=P(t);return(Array.isArray(d)?d:[d]).map(L).filter(bn)});let m=ie;const p=e.ref(a),v=c.value?e.watch(()=>[f.value,L(r),p.value],([d,u])=>{if(m(),!p.value||!d.length)return;const _=new IntersectionObserver(o,{root:L(u),rootMargin:l,threshold:i});d.forEach(b=>b&&_.observe(b)),m=()=>{_.disconnect(),m=ie}},{immediate:a,flush:"post"}):ie,h=()=>{m(),v(),p.value=!1};return pe(h),{isSupported:c,isActive:p,pause(){m(),p.value=!1},resume(){p.value=!0},stop:h}}function zn(t,{window:o=z,scrollTarget:n}={}){const r=e.ref(!1);return Hn(t,([{isIntersecting:l}])=>{r.value=l},{root:n,window:o}),r}function Ot(t={}){const{window:o=z,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:l=!0,includeScrollbar:i=!0}=t,s=e.ref(n),a=e.ref(r),c=()=>{o&&(i?(s.value=o.innerWidth,a.value=o.innerHeight):(s.value=o.document.documentElement.clientWidth,a.value=o.document.documentElement.clientHeight))};if(c(),Tt(c),Y("resize",c,{passive:!0}),l){const f=On("(orientation: portrait)");e.watch(f,()=>c())}return{width:s,height:a}}const Un=t=>(e.pushScopeId("data-v-fd90240d"),t=t(),e.popScopeId(),t),Wn={class:"search-content vh-50"},qn={class:"ps-2 w-75"},Gn={class:"menu"},Yn={class:"flex flex-row pt-1"},Kn={class:"content-list pt-1 w-90"},Xn=["onClick"],Qn=Un(()=>e.createElementVNode("span",{class:"iconfont icon-play"},null,-1)),Jn=e.defineComponent({__name:"bar-search",props:{menuItemLabel:{},scenes:{},styles:{},dataList:{},fetch:{type:Function}},emits:["submit"],setup(t,{emit:o}){const n=t,r=e.ref(),l=e.ref(""),i=e.ref(""),s=e.ref(""),a=e.ref(n.dataList||[]),c=e.ref("first"),f=zn(r);e.watch(f,h=>{h&&setTimeout(()=>{var d;(d=r.value)==null||d.focus()},100)}),e.onMounted(async()=>{await m()});async function m(){a.value=await n.fetch({search:l.value,menuKey:c.value,scene:i.value,style:s.value})}function p(h){c.value=h,m()}function v(h){o("submit",h)}return(h,d)=>(e.openBlock(),e.createElementBlock("div",Wn,[e.createElementVNode("div",qn,[e.createVNode(e.unref(N.ElForm),{onSubmit:e.withModifiers(m,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{ref_key:"searchInputRef",ref:r,placeholder:"搜索",modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=u=>l.value=u),"suffix-icon":e.unref(oe.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),e.createElementVNode("div",Gn,[e.createVNode(e.unref(N.ElMenu),{mode:"horizontal","default-active":"first",onSelect:d[1]||(d[1]=u=>p(u))},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElMenuItem),{index:"first"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h.menuItemLabel.first),1)]),_:1}),e.createVNode(e.unref(N.ElMenuItem),{index:"second"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h.menuItemLabel.second),1)]),_:1}),e.createVNode(e.unref(N.ElMenuItem),{index:"last"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h.menuItemLabel.last),1)]),_:1})]),_:1})]),e.createElementVNode("div",Yn,[e.createVNode(e.unref(N.ElSelect),{modelValue:i.value,"onUpdate:modelValue":d[2]||(d[2]=u=>i.value=u),onChange:m,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.scenes,u=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(e.unref(N.ElSelect),{modelValue:s.value,"onUpdate:modelValue":d[3]||(d[3]=u=>s.value=u),onChange:m,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.styles,u=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.createElementVNode("div",Kn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(u,_)=>(e.openBlock(),e.createElementBlock("div",{onClick:b=>v(u),class:"content-list-item clickable ps-3",key:_},[Qn,e.createElementVNode("span",null,e.toDisplayString(u.label),1)],8,Xn))),128))])]))}});const ve=B(Jn,[["__scopeId","data-v-fd90240d"]]),Zn=e.defineComponent({__name:"fixed-panel",emits:["dragging"],setup(t,{emit:o}){const n=e.ref(),r=ue?window.innerWidth:200,l=ue?window.innerHeight:200,{x:i,y:s}=me(n,{initialValue:{x:r-100,y:l/2},preventDefault:!0,onStart:()=>{o("dragging",!0)},onEnd:()=>{o("dragging",!1)}}),{width:a,height:c}=$t(n),{width:f,height:m}=Ot(),p=e.computed(()=>({x:f.value-a.value,y:m.value-c.value})),v=e.computed(()=>{if(!p.value)return h(i.value,s.value);const d=i.value<5?5:i.value>p.value.x?p.value.x-5:i.value,u=s.value<5?5:s.value>p.value.y?p.value.y-5:s.value;return h(d,u)});function h(d,u){return`left:${d}px;top:${u}px`}return(d,u)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{ref_key:"boxRef",ref:n,class:"fixed-panel z-3 user-select-none",style:e.normalizeStyle([{position:"fixed"},v.value])},[e.renderSlot(d.$slots,"default")],4)]))}});function Qe(t,o){return`left:${t}px;top:${o}px`}function Ae(t,o){const{width:n,height:r}=$t(t),{width:l,height:i}=Ot(),s=e.computed(()=>({x:l.value-n.value,y:i.value-r.value}));return{style:e.computed(()=>{const c=o.value.x,f=o.value.y;if(!s.value)return Qe(c,f);const m=c<5?5:c>s.value.x?s.value.x-5:c,p=f<5?5:f>s.value.y?s.value.y-5:f;return Qe(m,p)})}}const eo={},to={class:"content"};function no(t,o){return e.openBlock(),e.createElementBlock("div",to,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const It=B(eo,[["render",no],["__scopeId","data-v-7beae5b9"]]),oo={},ro={class:"bar-wrapper-item"};function lo(t,o){return e.openBlock(),e.createElementBlock("div",ro,[e.renderSlot(t.$slots,"default")])}const io=B(oo,[["render",lo]]),so={class:"bar-wrapper-group"},ao={class:"group-items"},uo=e.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",so,[e.createElementVNode("div",ao,[e.renderSlot(o.$slots,"default",{},void 0,!0)]),e.createElementVNode("div",{class:e.normalizeClass(["divider",[o.divider]])},null,2)]))}});const U=B(uo,[["__scopeId","data-v-3a7abad9"]]),co=e.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(t,{expose:o,emit:n}){const r=t,l=e.ref(),i=e.ref(),{position:s}=me(l,{initialValue:r.initialValue}),{style:a}=Ae(l,s);function c(h){s.value=h}o({setPosition:c}),e.onMounted(()=>{window.addEventListener("click",f),window.addEventListener("keydown",v)}),e.onUnmounted(()=>{window.addEventListener("click",f),window.addEventListener("keydown",v)});function f(h){m(h)&&p()}function m(h){const d=h.target;return!(!l.value||!i.value||i.value.contains(d)||l.value.contains(d))}function p(){n("update:visible",!1),n("close")}function v(h){h.code==="Escape"&&p()}return(h,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"referenceRef",ref:i},[e.renderSlot(h.$slots,"reference",{},void 0,!0)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{ref_key:"boxRef",ref:l,class:"demotestname card shadow brag-box user-select-none",style:e.normalizeStyle([{position:"fixed"},e.unref(a)])},[e.createElementVNode("div",{class:"w-100 text-end me-2"},[e.createElementVNode("span",{onClick:p,class:"btn iconfont icon-close fs-5"})]),e.renderSlot(h.$slots,"default",{},void 0,!0)],4),[[e.vShow,h.visible]])]))],64))}});const X=B(co,[["__scopeId","data-v-015e58d3"]]),fo={install(t){t.component("BarButton",D),t.component("BarInput",Pe),t.component("BarPopover",xn),t.component("BarSearch",ve),t.component("FixedPanel",Zn),t.component("BarWrapper",It),t.component("BarWrapperItem",io),t.component("BarWrapperGroup",U),t.component("DragBox",X)}};var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function je(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ie={exports:{}},Rt={exports:{}},po=void 0,Dt=function(t){return t!==po&&t!==null},mo=Dt,vo={object:!0,function:!0,undefined:!0},ho=function(t){return mo(t)?hasOwnProperty.call(vo,typeof t):!1},go=ho,_o=function(t){if(!go(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},yo=_o,xo=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!yo(t)},bo=xo,wo=/^\s*class[\s{/}]/,Vo=Function.prototype.toString,Eo=function(t){return!(!bo(t)||wo.test(Vo.call(t)))},No=function(){var t=Object.assign,o;return typeof t!="function"?!1:(o={foo:"raz"},t(o,{bar:"dwa"},{trzy:"trzy"}),o.foo+o.bar+o.trzy==="razdwatrzy")},Ve,Je;function Co(){return Je||(Je=1,Ve=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Ve}var So=function(){},To=So(),Fe=function(t){return t!==To&&t!==null},Ee,Ze;function ko(){if(Ze)return Ee;Ze=1;var t=Fe,o=Object.keys;return Ee=function(n){return o(t(n)?Object(n):n)},Ee}var Ne,et;function $o(){return et||(et=1,Ne=Co()()?Object.keys:ko()),Ne}var Ce,tt;function Oo(){if(tt)return Ce;tt=1;var t=Fe;return Ce=function(o){if(!t(o))throw new TypeError("Cannot use null or undefined");return o},Ce}var Se,nt;function Io(){if(nt)return Se;nt=1;var t=$o(),o=Oo(),n=Math.max;return Se=function(r,l){var i,s,a=n(arguments.length,2),c;for(r=Object(o(r)),c=function(f){try{r[f]=l[f]}catch(m){i||(i=m)}},s=1;s<a;++s)l=arguments[s],t(l).forEach(c);if(i!==void 0)throw i;return r},Se}var Ro=No()?Object.assign:Io(),Do=Fe,Bo=Array.prototype.forEach,Mo=Object.create,Po=function(t,o){var n;for(n in t)o[n]=t[n]},Lo=function(t){var o=Mo(null);return Bo.call(arguments,function(n){Do(n)&&Po(Object(n),o)}),o},Te="razdwatrzy",Ao=function(){return typeof Te.contains!="function"?!1:Te.contains("dwa")===!0&&Te.contains("foo")===!1},ke,ot;function jo(){if(ot)return ke;ot=1;var t=String.prototype.indexOf;return ke=function(o){return t.call(this,o,arguments[1])>-1},ke}var Fo=Ao()?String.prototype.contains:jo(),se=Dt,rt=Eo,Bt=Ro,Mt=Lo,ee=Fo,Ho=Rt.exports=function(t,o){var n,r,l,i,s;return arguments.length<2||typeof t!="string"?(i=o,o=t,t=null):i=arguments[2],se(t)?(n=ee.call(t,"c"),r=ee.call(t,"e"),l=ee.call(t,"w")):(n=l=!0,r=!1),s={value:o,configurable:n,enumerable:r,writable:l},i?Bt(Mt(i),s):s};Ho.gs=function(t,o,n){var r,l,i,s;return typeof t!="string"?(i=n,n=o,o=t,t=null):i=arguments[3],se(o)?rt(o)?se(n)?rt(n)||(i=n,n=void 0):n=void 0:(i=o,o=n=void 0):o=void 0,se(t)?(r=ee.call(t,"c"),l=ee.call(t,"e")):(r=!0,l=!1),s={get:o,set:n,configurable:r,enumerable:l},i?Bt(Mt(i),s):s};var zo=Rt.exports,Uo=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,o){var n=zo,r=Uo,l=Function.prototype.apply,i=Function.prototype.call,s=Object.create,a=Object.defineProperty,c=Object.defineProperties,f=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0},p,v,h,d,u,_,b;p=function(V,y){var w;return r(y),f.call(this,"__ee__")?w=this.__ee__:(w=m.value=s(null),a(this,"__ee__",m),m.value=null),w[V]?typeof w[V]=="object"?w[V].push(y):w[V]=[w[V],y]:w[V]=y,this},v=function(V,y){var w,C;return r(y),C=this,p.call(this,V,w=function(){h.call(C,V,w),l.call(y,this,arguments)}),w.__eeOnceListener__=y,this},h=function(V,y){var w,C,x,S;if(r(y),!f.call(this,"__ee__"))return this;if(w=this.__ee__,!w[V])return this;if(C=w[V],typeof C=="object")for(S=0;x=C[S];++S)(x===y||x.__eeOnceListener__===y)&&(C.length===2?w[V]=C[S?0:1]:C.splice(S,1));else(C===y||C.__eeOnceListener__===y)&&delete w[V];return this},d=function(V){var y,w,C,x,S;if(f.call(this,"__ee__")&&(x=this.__ee__[V],!!x))if(typeof x=="object"){for(w=arguments.length,S=new Array(w-1),y=1;y<w;++y)S[y-1]=arguments[y];for(x=x.slice(),y=0;C=x[y];++y)l.call(C,this,S)}else switch(arguments.length){case 1:i.call(x,this);break;case 2:i.call(x,this,arguments[1]);break;case 3:i.call(x,this,arguments[1],arguments[2]);break;default:for(w=arguments.length,S=new Array(w-1),y=1;y<w;++y)S[y-1]=arguments[y];l.call(x,this,S)}},u={on:p,once:v,off:h,emit:d},_={on:n(p),once:n(v),off:n(h),emit:n(d)},b=c({},_),t.exports=o=function(V){return V==null?s(b):c(Object(V),_)},o.methods=u})(Ie,Ie.exports);var Wo=Ie.exports;const qo=je(Wo),R=qo();function j(t,o,n){const[r]=g.SlateEditor.nodes(t,{at:[],match:l=>!g.SlateElement.isElement(l)||!g.DomEditor.checkNodeType(l,o)?!1:l.domId===n});return r}function Q(t,o,n){const r=g.SlateEditor.previous(t,{at:o[1],match:l=>g.SlateText.isText(l)});r!=null&&(g.SlateTransforms.insertText(t,n(o[0]),{at:g.SlateEditor.end(t,r[1])}),g.SlateTransforms.delete(t,{at:g.SlatePath.next(r[1])}))}function lt(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function He(t,o){t===void 0&&(t={}),o===void 0&&(o={}),Object.keys(o).forEach(function(n){typeof t[n]>"u"?t[n]=o[n]:lt(o[n])&&lt(t[n])&&Object.keys(o[n]).length>0&&He(t[n],o[n])})}var Pt={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ze(){var t=typeof document<"u"?document:{};return He(t,Pt),t}var Go={document:Pt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){typeof setTimeout>"u"||clearTimeout(t)}};function Lt(){var t=typeof window<"u"?window:{};return He(t,Go),t}function Yo(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o}function Re(t){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Re(t)}function ce(t,o){return ce=Object.setPrototypeOf||function(r,l){return r.__proto__=l,r},ce(t,o)}function Ko(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ae(t,o,n){return Ko()?ae=Reflect.construct:ae=function(l,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(l,a),f=new c;return s&&ce(f,s.prototype),f},ae.apply(null,arguments)}function Xo(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function De(t){var o=typeof Map=="function"?new Map:void 0;return De=function(r){if(r===null||!Xo(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(r))return o.get(r);o.set(r,l)}function l(){return ae(r,arguments,Re(this).constructor)}return l.prototype=Object.create(r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),ce(l,r)},De(t)}function Qo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jo(t){var o=t.__proto__;Object.defineProperty(t,"__proto__",{get:function(){return o},set:function(r){o.__proto__=r}})}var W=function(t){Yo(o,t);function o(n){var r;return r=t.call.apply(t,[this].concat(n))||this,Jo(Qo(r)),r}return o}(De(Array));function Ue(t){t===void 0&&(t=[]);var o=[];return t.forEach(function(n){Array.isArray(n)?o.push.apply(o,Ue(n)):o.push(n)}),o}function Zo(t){for(var o=[],n=0;n<t.length;n+=1)o.indexOf(t[n])===-1&&o.push(t[n]);return o}function er(t){return t.toLowerCase().replace(/-(.)/g,function(o,n){return n.toUpperCase()})}function tr(t,o){if(typeof t!="string")return[t];for(var n=[],r=o.querySelectorAll(t),l=0;l<r.length;l+=1)n.push(r[l]);return n}function T(t,o){var n=Lt(),r=ze(),l=[];if(!o&&t instanceof W)return t;if(!t)return new W(l);if(typeof t=="string"){var i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){var s="div";i.indexOf("<li")===0&&(s="ul"),i.indexOf("<tr")===0&&(s="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(s="tr"),i.indexOf("<tbody")===0&&(s="table"),i.indexOf("<option")===0&&(s="select");var a=r.createElement(s);a.innerHTML=i;for(var c=0;c<a.childNodes.length;c+=1)l.push(a.childNodes[c])}else l=tr(t.trim(),o||r)}else if(t.nodeType||t===n||t===r)l.push(t);else if(Array.isArray(t)){if(t instanceof W)return t;l=t}return new W(Zo(l))}T.fn=W.prototype;function it(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=Ue(o.map(function(l){return l.split(" ")}));return this.forEach(function(l){var i;(i=l.classList).add.apply(i,r)}),this}function st(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=Ue(o.map(function(l){return l.split(" ")}));return this.forEach(function(l){var i;(i=l.classList).remove.apply(i,r)}),this}function at(t,o){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,o);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function ut(){var t=this[0];if(t){var o={};if(t.dataset)for(var n in t.dataset)o[n]=t.dataset[n];else for(var r=0;r<t.attributes.length;r+=1){var l=t.attributes[r];l.name.indexOf("data-")>=0&&(o[er(l.name.split("data-")[1])]=l.value)}for(var i in o)o[i]==="false"?o[i]=!1:o[i]==="true"?o[i]=!0:parseFloat(o[i])===o[i]*1&&(o[i]*=1);return o}}function ct(t){if(typeof t>"u"){var o=this[0];if(!o)return;if(o.multiple&&o.nodeName.toLowerCase()==="select"){for(var n=[],r=0;r<o.selectedOptions.length;r+=1)n.push(o.selectedOptions[r].value);return n}return o.value}for(var l=0;l<this.length;l+=1){var i=this[l];if(Array.isArray(t)&&i.multiple&&i.nodeName.toLowerCase()==="select")for(var s=0;s<i.options.length;s+=1)i.options[s].selected=t.indexOf(i.options[s].value)>=0;else i.value=t}return this}function dt(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=o[0],l=o[1],i=o[2],s=o[3];typeof o[1]=="function"&&(r=o[0],i=o[1],s=o[2],l=void 0),s||(s=!1);function a(u){var _=u.target;if(_){var b=u.target.dom7EventData||[];if(b.indexOf(u)<0&&b.unshift(u),T(_).is(l))i.apply(_,b);else for(var V=T(_).parents(),y=0;y<V.length;y+=1)T(V[y]).is(l)&&i.apply(V[y],b)}}function c(u){var _=u&&u.target?u.target.dom7EventData||[]:[];_.indexOf(u)<0&&_.unshift(u),i.apply(this,_)}for(var f=r.split(" "),m,p=0;p<this.length;p+=1){var v=this[p];if(l)for(m=0;m<f.length;m+=1){var d=f[m];v.dom7LiveListeners||(v.dom7LiveListeners={}),v.dom7LiveListeners[d]||(v.dom7LiveListeners[d]=[]),v.dom7LiveListeners[d].push({listener:i,proxyListener:a}),v.addEventListener(d,a,s)}else for(m=0;m<f.length;m+=1){var h=f[m];v.dom7Listeners||(v.dom7Listeners={}),v.dom7Listeners[h]||(v.dom7Listeners[h]=[]),v.dom7Listeners[h].push({listener:i,proxyListener:c}),v.addEventListener(h,c,s)}}return this}function ft(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var r=o[0],l=o[1],i=o[2],s=o[3];typeof o[1]=="function"&&(r=o[0],i=o[1],s=o[2],l=void 0),s||(s=!1);for(var a=r.split(" "),c=0;c<a.length;c+=1)for(var f=a[c],m=0;m<this.length;m+=1){var p=this[m],v=void 0;if(!l&&p.dom7Listeners?v=p.dom7Listeners[f]:l&&p.dom7LiveListeners&&(v=p.dom7LiveListeners[f]),v&&v.length)for(var h=v.length-1;h>=0;h-=1){var d=v[h];i&&d.listener===i||i&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===i?(p.removeEventListener(f,d.proxyListener,s),v.splice(h,1)):i||(p.removeEventListener(f,d.proxyListener,s),v.splice(h,1))}}return this}function pt(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this}function mt(t){return t?(this.forEach(function(o,n){t.apply(o,[o,n])}),this):this}function vt(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(var o=0;o<this.length;o+=1)this[o].innerHTML=t;return this}function ht(t){var o=Lt(),n=ze(),r=this[0],l,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(l=T(t),i=0;i<l.length;i+=1)if(l[i]===r)return!0;return!1}if(t===n)return r===n;if(t===o)return r===o;if(t.nodeType||t instanceof W){for(l=t.nodeType?[t]:t,i=0;i<l.length;i+=1)if(l[i]===r)return!0;return!1}return!1}function gt(){for(var t,o=ze(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if(typeof t=="string"){var l=o.createElement("div");for(l.innerHTML=t;l.firstChild;)this[r].appendChild(l.firstChild)}else if(t instanceof W)for(var i=0;i<t.length;i+=1)this[r].appendChild(t[i]);else this[r].appendChild(t)}return this}function _t(t){for(var o=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?T(r).is(t)&&o.push(r):o.push(r),r=r.parentNode;return T(o)}function yt(t){for(var o=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),l=0;l<r.length;l+=1)o.push(r[l]);return T(o)}function xt(t){for(var o=[],n=0;n<this.length;n+=1)for(var r=this[n].children,l=0;l<r.length;l+=1)(!t||T(r[l]).is(t))&&o.push(r[l]);return T(o)}var nr="resize scroll".split(" ");function At(t){function o(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];if(typeof r[0]>"u"){for(var i=0;i<this.length;i+=1)nr.indexOf(t)<0&&(t in this[i]?this[i][t]():T(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(r))}return o}var bt=At("click"),wt=At("focus");pt&&(T.fn.hide=pt);gt&&(T.fn.append=gt);bt&&(T.fn.click=bt);dt&&(T.fn.on=dt);ft&&(T.fn.off=ft);wt&&(T.fn.focus=wt);at&&(T.fn.attr=at);ct&&(T.fn.val=ct);vt&&(T.fn.html=vt);ut&&(T.fn.dataset=ut);it&&(T.fn.addClass=it);st&&(T.fn.removeClass=st);xt&&(T.fn.children=xt);mt&&(T.fn.each=mt);yt&&(T.fn.find=yt);ht&&(T.fn.is=ht);_t&&(T.fn.parents=_t);let or=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((o,n)=>(n&=63,n<36?o+=n.toString(36):n<62?o+=(n-26).toString(36).toUpperCase():n>62?o+="-":o+="_",o),"");function rr(t="r"){return`${t}-${or()}`}function jt(t){if(window.navigator.userAgent.toLowerCase().indexOf("ie")>=0){const n=`<embed name="embedPlay" src="${t}"></embed>`;T("body").find("embed").length<=0&&T("body").append(n);const r=document.embedPlay;r.volume=50}else{const n=`<audio id='audioPlay' src='${t}' hidden='true'>`;T("body").find("audio").length<=0&&T("body").append(n),document.getElementById("audioPlay").play()}}function Vt(t){const o=Math.floor(t/60),n=t%60,r=String(o).padStart(2,"0"),l=String(n).padStart(2,"0");return`${r}:${l}`}const Ft="--editor-vdata";function lr(t){const o=JSON.stringify(t);window.localStorage.setItem(Ft,o)}function ir(){const t=window.localStorage.getItem(Ft);if(t){const o=JSON.parse(t);if(o instanceof Array)return o}}const de=e.ref();function sr(t){t.selection&&(console.log(t.selection),de.value=t.selection)}function ar(){de.value=null}function ur(){return de.value?de.value:null}class F{constructor(o){M(this,"editor");this.editor=o}genDomID(){return rr(`w-e-dom-${this.key}`)}selection(){const{selection:o}=this.editor;return o??ur()}getValue(){const o=this.selection();return o==null?"":g.SlateEditor.string(this.editor,o)}record(){sr(this.editor)}unrecord(){ar()}reselect(){const o=this.selection();o&&this.editor.select(o)}isDisabled(){return this.selection()==null?(R.emit(I.ERROR,"未选中编辑器"),!0):!1}}class he extends F{constructor(n){super(n);M(this,"key","speaker");n.on("ssml-speaker-close",he.handleClose)}static handleClose(n,r){const l=j(n,"ssml-speaker",r.domId);l&&Q(n,l,i=>i.word)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();if(g.SlateRange.isCollapsed(n))return R.emit(I.ERROR,"请选中文本"),!0;const r=this.getValue();return r.length!=1?!0:/^[\u4E00-\u9FA5]+$/gi.test(r)?!1:(R.emit(I.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0)}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-speaker",domId:this.genDomID(),word:r,phoneme:n.value,remark:n.label,bgColor:"speaker",children:[{text:""}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Ht=e.defineComponent({setup(){const t=e.inject(A.EDITORCONFIG),o=e.shallowRef(),n=e.ref([]),r=e.ref(!1);function l(){r.value||(r.value=!0)}function i(){r.value&&(r.value=!1)}async function s(a){var f;if(o.value??(o.value=new he(a)),(f=o.value)!=null&&f.isDisabled())return;o.value.record();const c=o.value.getValue();if(c?n.value=await t.fetchSpeaker(c):n.value=[],n.value.length==0)return o.value.unrecord(),R.emit(I.ERROR,"选中的字符没有不是多音字");l()}return()=>e.createVNode(N.ElPopover,{visible:r.value,"onUpdate:visible":a=>r.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"多音字",icon:"speaker",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[n.value.map(({label:a,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{o.value&&!o.value.isDisabled()&&(o.value.reselect(),o.value.exec({label:a,value:c}),o.value.unrecord()),i()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class ge extends F{constructor(n){super(n);M(this,"key","continuous");n.on("ssml-continuous-close",ge.handleClose)}static handleClose(n,r){const l=j(n,"ssml-continuous",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return g.SlateRange.isCollapsed(n)?(R.emit(I.ERROR,"请选择多个中文字符或者多个多个英文单词"),!0):g.SlateEditor.string(this.editor,n).length<2}exec(){if(this.isDisabled())return;const n=this.getValue();if(n==null)return;const r={type:"ssml-continuous",domId:this.genDomID(),children:[{text:""}],remark:"连读",value:n,bgColor:"continuous"};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,r),this.editor.move(1)}}const zt=e.defineComponent({setup(){const t=e.shallowRef();function o(n){t.value??(t.value=new ge(n)),!t.value.isDisabled()&&(t.value.exec(),t.value.unrecord())}return()=>e.createVNode(D,{text:"连读",icon:"continuous",onClick:o},null)}});class Ut extends F{constructor(n){super(n);M(this,"key","read")}static handleClose(n,r){const l=j(n,"ssml-read",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return n==null?!0:g.SlateRange.isCollapsed(n)?(R.emit(I.ERROR,"请先选择文本"),!0):!1}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-read",domId:this.genDomID(),phoneme:n.value,remark:n.label,value:r,bgColor:"read",children:[{text:""}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const cr=[{label:"重音",value:"重"},{label:"拖音",value:"拖"},{label:"重音+拖音",value:"重+拖"}],Wt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value||(o.value=!0)}function r(){o.value&&(o.value=!1)}function l(i){t.value??(t.value=new Ut(i)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(N.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"重音",icon:"read",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column",onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[cr.map(({label:i,value:s})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:i,value:s}),t.value.unrecord()),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class _e extends F{constructor(n){super(n);M(this,"key","digital");n.on("ssml-digital-close",_e.handleClose)}static handleClose(n,r){const l=j(n,"ssml-digital",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();if(g.SlateRange.isCollapsed(n))return R.emit(I.ERROR,"请选择纯数字文本"),!0;const r=g.SlateEditor.string(this.editor,n);return!!(r.length<=0||Number.isNaN(Number(r)))}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-digital",domId:this.genDomID(),interpretAs:n.value,remark:n.label,value:r,bgColor:"digital",children:[{text:""}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const dr=[{value:"value",label:"读数值"},{value:"digits",label:"读数字"},{value:"telephone",label:"读手机号"}],qt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value=!o.value}function r(l){t.value??(t.value=new _e(l)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(N.ElPopover,{visible:o.value,"onUpdate:visible":l=>o.value=l,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"数字符号",icon:"digital",onClick:r},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[dr.map(({label:l,value:i})=>e.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:l,value:i}),t.value.unrecord()),n()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[l]))])})}});class Gt extends F{constructor(n){super(n);M(this,"key","alias")}static handleClose(n,r){const l=j(n,"ssml-alias",r.domId);l&&Q(n,l,i=>i.value)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return g.SlateRange.isCollapsed(n)?(R.emit(I.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0):g.SlateEditor.string(this.editor,n).length<=0}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-alias",domId:this.genDomID(),remark:`(${n.value})`,alias:n.value,value:r,bgColor:"alias",children:[{text:""}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Yt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(),n=e.ref(!1);function r(){n.value||(n.value=!0)}function l(){n.value&&(n.value=!1)}async function i(a){t.value??(t.value=new Gt(a)),!t.value.isDisabled()&&(t.value.record(),r(),o.value.focus())}function s(a){var c,f,m;l(),a&&((c=t.value)==null||c.reselect(),(f=t.value)==null||f.exec({value:a,label:a}),(m=t.value)==null||m.unrecord())}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>e.createVNode(D,{text:"别名",icon:"alias",onClick:i},null),default:()=>e.createVNode(Pe,{ref:o,onSubmit:s},null)})}});function fr(t){const{selection:o}=t;if(o){const[n,r]=g.SlateRange.edges(o),l=g.SlateEditor.range(t,n,r),i=g.SlateEditor.string(t,l),s=i.trimEnd();if(s!==i){const a=i.length-s.length,c={...r,offset:r.offset-a},f={...o,anchor:n,focus:c};g.SlateTransforms.select(t,f)}}}class ye extends F{constructor(n){super(n);M(this,"key","english");n.on("ssml-english-close",ye.handleClose)}static handleClose(n,r){const l=j(n,"ssml-english",r.domId);l&&Q(n,l,i=>i.word)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();if(g.SlateRange.isCollapsed(n))return R.emit(I.ERROR,"请选择英文单词"),!0;const r=g.SlateEditor.string(this.editor,n);return r.length<=0?!0:/^[A-Za-z]+$/gi.test(r)?!1:(R.emit(I.ERROR,"请选择英文单词"),!0)}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-english",domId:this.genDomID(),word:r,phoneme:n.value,remark:n.label,bgColor:"english",children:[{text:""}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Kt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.inject(A.EDITORCONFIG),n=e.ref([]),r=e.ref(!1);function l(){r.value||(r.value=!0)}function i(){r.value&&(r.value=!1)}async function s(a){if(t.value??(t.value=new ye(a)),fr(a),t.value.isDisabled())return;t.value.record();const c=t.value.getValue();if(c){if(n.value=await o.fetchEnglish(c),n.value.length<=0)return R.emit(I.ERROR,"找不到单词的音标");l()}else t.value.unrecord()}return()=>e.createVNode(N.ElPopover,{visible:r.value,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"音标",icon:"english",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[n.value.map(({label:a,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:a,value:c}),t.value.unrecord()),i()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class xe extends F{constructor(n){super(n);M(this,"key","changespeed");n.on("ssml-changespeed-close",xe.handleClose)}static handleClose(n,r){const l=j(n,"ssml-changespeed",r.domId);l&&g.SlateTransforms.unwrapNodes(n,{at:l[1]})}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return n==null?!0:g.SlateRange.isCollapsed(n)?(R.emit(I.ERROR,"请框选要变速的句子"),!0):!1}exec(n){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const l={type:"ssml-changespeed",domId:this.genDomID(),remark:n.label,rate:n.value,bgColor:"changespeed",children:[{text:r}]};g.SlateTransforms.delete(this.editor),g.SlateTransforms.insertNodes(this.editor,l)}}const pr=[{value:"0.1x",label:"0.1x"},{value:"0.15x",label:"0.15x"},{value:"0.2x",label:"0.2x"},{value:"0.25x",label:"0.25x"},{value:"0.3x",label:"0.3x"},{value:"0.35x",label:"0.35x"},{value:"0.4x",label:"0.4x"}],Xt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value||(o.value=!0)}function r(){o.value&&(o.value=!1)}async function l(i){t.value??(t.value=new xe(i)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(N.ElPopover,{style:{padding:"0px"},visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"局部变速",icon:"changespeed",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[pr.map(({label:i,value:s})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var a,c,f;(a=t.value)==null||a.reselect(),(c=t.value)==null||c.exec({label:i,value:s}),(f=t.value)==null||f.unrecord(),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class be extends F{constructor(n){super(n);M(this,"key","rhythm");n.on("ssml-rhythm-close",be.handleClose)}static handleClose(n,r){const l=j(n,"ssml-rhythm",r.domId);l&&g.SlateTransforms.delete(n,{at:l[1]})}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return g.SlateRange.isExpanded(n)?(R.emit(I.ERROR,"不能选中文本"),!0):!1}exec(n){if(this.isDisabled())return;const r={type:"ssml-rhythm",domId:this.genDomID(),time:n.value,remark:n.label,bgColor:"rhythm",children:[{text:""}]};g.SlateTransforms.insertNodes(this.editor,r),this.editor.move(1)}}const mr=[{value:"200ms",label:"短"},{value:"300ms",label:"中"},{value:"500ms",label:"长"}],Qt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1);function n(){o.value||(o.value=!0)}function r(){o.value&&(o.value=!1)}function l(i){t.value??(t.value=new be(i)),!t.value.isDisabled()&&(t.value.record(),n())}return()=>e.createVNode(N.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(D,{text:"停顿调节",icon:"rhythm",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[mr.map(({label:i,value:s})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&(t.value.reselect(),t.value.exec({label:i,value:s}),t.value.unrecord()),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class te extends F{constructor(n){super(n);M(this,"key","special");n.on("ssml-special-close",te.handleClose),n.on("ssml-special-play",te.handlePlay)}static handleClose(n,r){const l=j(n,"ssml-special",r.domId);l&&g.SlateTransforms.delete(n,{at:l[1]})}static handlePlay(n,r){jt(r.src)}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return g.SlateRange.isExpanded(n)?(R.emit(I.ERROR,"不能框选文字"),!0):!1}exec(n){if(this.isDisabled()||this.getValue()==null)return;const l={type:"ssml-special",domId:this.genDomID(),src:n.value,remark:n.label,bgColor:"special",children:[{text:""}]};g.SlateTransforms.insertNodes(this.editor,l),this.editor.move(1)}}const Jt=e.defineComponent({__name:"special-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),i=e.inject(A.EDITORCONFIG),s={first:"默认音效",second:"自定义音效",last:"最近音效"},a=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],f=e.ref(),{x:m,y:p,height:v}=re(n),h=u=>{if(r.value??(r.value=new te(u)),r.value.isDisabled())return!1;r.value.record(),o.value.setPosition({x:m.value-200,y:p.value+v.value}),l.value=!0};function d(u){r.value&&!r.value.isDisabled()&&(r.value.reselect(),r.value.exec(u),r.value.unrecord()),l.value=!1}return(u,_)=>(e.openBlock(),e.createBlock(e.unref(X),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":_[0]||(_[0]=b=>l.value=b)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"音效",icon:"special",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(ve),{menuItemLabel:s,scenes:a,styles:c,dataList:f.value,fetch:e.unref(i).fetchSpecial,onSubmit:d},null,8,["dataList","fetch"])]),_:1},8,["visible"]))}});class we extends F{constructor(n){super(n);M(this,"key","mute");n.on("ssml-mute-close",we.handleClose)}static handleClose(n,r){const l=j(n,"ssml-mute",r.domId);l&&g.SlateTransforms.delete(n,{at:l[1]})}isDisabled(){if(super.isDisabled())return!0;const n=this.selection();return g.SlateRange.isExpanded(n)?(R.emit(I.ERROR,"不能选中文本"),!0):!1}exec(n){if(this.isDisabled())return;const r={type:"ssml-mute",domId:this.genDomID(),time:n.value,remark:n.label,bgColor:"mute",children:[{text:""}]};g.SlateTransforms.insertNodes(this.editor,r),this.editor.move(1)}}const vr=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],Zt=e.defineComponent({setup(){const t=e.shallowRef(),o=e.ref(!1),n=e.ref();function r(){o.value||(o.value=!0)}function l(){o.value&&(o.value=!1)}function i(a){t.value??(t.value=new we(a)),!t.value.isDisabled()&&(t.value.record(),r(),n.value.focus())}function s(a){var c,f,m;l(),a&&((c=t.value)==null||c.reselect(),(f=t.value)==null||f.exec({value:a,label:a}),(m=t.value)==null||m.unrecord())}return()=>e.createVNode(N.ElPopover,{visible:o.value,"onUpdate:visible":a=>o.value=a,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>e.createVNode(D,{text:"插入静音",icon:"mute",onClick:i},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[vr.map(({value:a,label:c})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>s(a),onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[c])),e.createVNode(Pe,{type:"number",ref:n,onSubmit:s},null)])})}}),en=e.defineComponent({__name:"bgm-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),i=e.inject(A.EDITORCONFIG),s={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},a=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],f=e.ref(),{x:m,y:p,height:v}=re(n),h=async u=>{const _={x:m.value-300,y:p.value+v.value};r.value=u,o.value.setPosition(_),l.value=!0,f.value??(f.value=await i.fetchBgm({search:"",menuKey:"first",scene:"",style:""}))};function d(u){var _;(_=r.value)==null||_.emit(H.UPDATE_BGM,u),l.value=!1}return(u,_)=>(e.openBlock(),e.createBlock(e.unref(X),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":_[0]||(_[0]=b=>l.value=b)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"配乐",icon:"bgm",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(ve),{menuItemLabel:s,scenes:a,styles:c,dataList:f.value,fetch:e.unref(i).fetchBgm,onSubmit:d},null,8,["dataList","fetch"])]),_:1},8,["visible"]))}}),tn=e.defineComponent({__name:"sensitive-menu",setup(t){const o=e.inject(A.EDITORCONFIG),n=e.ref(),r=e.ref(),l=e.shallowRef(),i=e.ref(!1),s={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},a=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],f=e.ref(),{x:m,y:p,height:v}=re(r),h=u=>{const _={x:m.value-200,y:p.value+v.value};l.value=u,n.value.setPosition(_)};function d(u){console.log(u)}return(u,_)=>(e.openBlock(),e.createBlock(e.unref(X),{ref_key:"dragRef",ref:n,visible:i.value,"onUpdate:visible":_[0]||(_[0]=b=>i.value=b)},{refenence:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:r,text:"敏感词",icon:"sensitive",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(ve),{menuItemLabel:s,scenes:a,styles:c,dataList:f.value,fetch:e.unref(o).fetchBgm,onSubmit:d},null,8,["dataList","fetch"])]),_:1},8,["visible"]))}});const hr={class:"select-list",style:{width:"120px"}},gr={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},_r={class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},yr=["onClick"],xr=e.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",hr,[e.createElementVNode("div",gr,[e.renderSlot(o.$slots,"default",{},void 0,!0)]),e.createElementVNode("ul",_r,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.dataList,(r,l)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["clickable select-item py-1",{activate:r.value===o.modelValue}]),key:l,onClick:i=>o.$emit("update:modelValue",r.value)},e.toDisplayString(r.label),11,yr))),128))])]))}});const Z=B(xr,[["__scopeId","data-v-8c60f94f"]]),br={style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},wr={class:"position-relative"},Vr={class:"position-absolute top-0 end-0"},Er=e.createElementVNode("li",null,[e.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),Nr=e.createElementVNode("span",{class:"my-3"},"角色",-1),Cr=e.createElementVNode("span",{class:"my-3"},"风格",-1),Sr=e.createElementVNode("span",{class:"my-3"},"语速",-1),Tr=e.createElementVNode("span",{class:"my-3"},"语调",-1),kr={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},$r=e.defineComponent({__name:"management-content",setup(t){const o=e.ref(!1),n=e.ref(""),r=e.ref(""),l=e.ref(""),i=e.ref(""),s=e.ref(""),a=e.ref(""),c=e.ref(""),f=e.ref([]),m=e.ref([]),p=e.ref([]),v=e.ref([]),h=e.ref([]),d=e.ref([]);f.value=[{label:"全部类型",value:""},{label:"常规",value:"2"},{label:"已购",value:"3"},{label:"收藏",value:"4"},{label:"我的",value:"5"},{label:"SVIP",value:"6"},{label:"付费",value:"7"}],m.value=f.value,p.value=f.value,v.value=f.value,h.value=f.value,d.value=f.value;function u(){}return(_,b)=>(e.openBlock(),e.createElementBlock("div",br,[e.createVNode(e.unref(N.ElForm),{onSubmit:e.withModifiers(u,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=V=>n.value=V),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),e.createElementVNode("div",wr,[e.createElementVNode("div",Vr,[e.createVNode(e.unref(N.ElButton),{size:"small",icon:e.unref(oe.More),onClick:b[1]||(b[1]=()=>o.value=!o.value)},null,8,["icon"])]),e.createElementVNode("ul",{class:e.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":o.value}])},[Er,e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})])],2),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"d-flex flex-row":!o.value})},[e.createVNode(Z,{modelValue:l.value,"onUpdate:modelValue":b[3]||(b[3]=V=>l.value=V),dataList:m.value},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElSelect),{modelValue:r.value,"onUpdate:modelValue":b[2]||(b[2]=V=>r.value=V)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value,(V,y)=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{value:V.value,label:V.label,key:y},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{modelValue:i.value,"onUpdate:modelValue":b[4]||(b[4]=V=>i.value=V),dataList:p.value},{default:e.withCtx(()=>[Nr]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{modelValue:s.value,"onUpdate:modelValue":b[5]||(b[5]=V=>s.value=V),dataList:v.value},{default:e.withCtx(()=>[Cr]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{modelValue:a.value,"onUpdate:modelValue":b[6]||(b[6]=V=>a.value=V),dataList:h.value},{default:e.withCtx(()=>[Sr]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{modelValue:c.value,"onUpdate:modelValue":b[7]||(b[7]=V=>c.value=V),dataList:d.value},{default:e.withCtx(()=>[Tr]),_:1},8,["modelValue","dataList"])],2),[[e.vShow,!o.value]])]),e.createElementVNode("div",kr,[e.withDirectives(e.createVNode(e.unref(N.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1},512),[[e.vShow,!o.value]]),e.withDirectives(e.createVNode(e.unref(N.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("全部清空")]),_:1},512),[[e.vShow,o.value]])])]))}}),nn=e.defineComponent({__name:"management-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),{x:i,y:s,height:a}=re(n),c=m=>{const p={x:i.value-200,y:s.value+a.value};r.value=m,o.value.setPosition(p),l.value=!0};function f(m){console.log(m)}return(m,p)=>(e.openBlock(),e.createBlock(e.unref(X),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":p[0]||(p[0]=v=>l.value=v)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"多人配音",icon:"management",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode($r,{onSubmit:f})]),_:1},8,["visible"]))}}),Or=e.defineComponent({__name:"conversion-content",emits:["submit"],setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("button",{onClick:n[0]||(n[0]=r=>o.$emit("submit",{value:"局部变音",label:"局部变音"}))},"局部变音")]))}}),on=e.defineComponent({__name:"conversion-menu",setup(t){const o=e.ref(),n=e.ref(),r=e.shallowRef(),l=e.ref(!1),{x:i,y:s,height:a}=re(n),c=m=>{const p={x:i.value-200,y:s.value+a.value};r.value=m,o.value.setPosition(p),l.value=!0};function f(m){console.log(m)}return(m,p)=>(e.openBlock(),e.createBlock(e.unref(X),{ref_key:"dragRef",ref:o,visible:l.value,"onUpdate:visible":p[0]||(p[0]=v=>l.value=v)},{reference:e.withCtx(()=>[e.createVNode(e.unref(D),{ref_key:"menuRef",ref:n,text:"局部变音",icon:"conversion",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(Or,{onSubmit:f})]),_:1},8,["visible"]))}}),Ir=t=>(e.pushScopeId("data-v-631743dd"),t=t(),e.popScopeId(),t),Rr={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},Dr=["src"],Br=Ir(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),Mr=e.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:o}){const n=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),r=e.ref(),l=e.ref(0),i=e.ref(0),{position:s}=me(r,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(p,v)=>m(v.clientX,v.clientY)?!1:void 0}),{style:a}=Ae(r,s);function c(p){m(p.clientX,p.clientY)&&o("update:visible",!1)}function f(p){l.value=p.clientX,i.value=p.clientY}function m(p,v){return p>l.value-10&&p<l.value+10&&v>i.value-10&&v<i.value+10}return(p,v)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:e.normalizeStyle([e.unref(a),{position:"fixed"}]),onMousedown:f,onMouseup:c},[e.createElementVNode("div",Rr,[e.createElementVNode("img",{src:n.value,class:"rounded-circle"},null,8,Dr),Br])],36)),[[e.vShow,p.visible]])}});const Pr=B(Mr,[["__scopeId","data-v-631743dd"]]),Lr=t=>(e.pushScopeId("data-v-e8c67559"),t=t(),e.popScopeId(),t),Ar={class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center"},jr=["src"],Fr=Lr(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),Hr=e.defineComponent({__name:"anchor-avatar",setup(t){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png");return(n,r)=>(e.openBlock(),e.createElementBlock("div",Ar,[e.createElementVNode("img",{src:o.value,class:"rounded-circle",style:{height:"40px"}},null,8,jr),Fr]))}});const O=B(Hr,[["__scopeId","data-v-e8c67559"]]),zr={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},Ur=e.defineComponent({__name:"anchor-list",setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",zr,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(100,(r,l)=>e.createElementVNode("div",{class:"m-2",key:l},[e.createVNode(O)])),64))]))}}),Wr=e.defineComponent({__name:"tag-item",props:{isActivate:{type:Boolean}},setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag-item p-2 text-white text-center",[o.isActivate?"activate":null]])},[e.renderSlot(o.$slots,"default",{},void 0,!0)],2))}});const E=B(Wr,[["__scopeId","data-v-80dc8a64"]]),qr={class:"tag-list w-100"},Gr={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},Yr={style:{height:"100px"},class:"w-100 d-flex flex-row flex-wrap align-items-start overflow-y-auto overflow-x-hidden scrollbar-none"},Kr=e.defineComponent({__name:"tag-list",setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock("div",qr,[e.createElementVNode("div",Gr,[e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("男声")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("女声")]),_:1})]),e.createElementVNode("div",Yr,[e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1})])]))}});const le=t=>(e.pushScopeId("data-v-00254d87"),t=t(),e.popScopeId(),t),Xr={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},Qr={class:"mt-2 row text-center justify-content-between align-items-center"},Jr={class:"col-auto me-auto d-flex flex-row align-items-center"},Zr=["src"],el={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},tl=le(()=>e.createElementVNode("div",{class:"d-flex dlex-row column-gap-2 align-items-end"},[e.createElementVNode("span",{class:"fs-6"},"魔云猫"),e.createElementVNode("span",{style:{"font-size":"0.5rem"}},"0.55x")],-1)),nl={class:"d-flex flex-row column-gap-2 align-items-center"},ol=le(()=>e.createElementVNode("span",{class:"badge text-bg-primary px-2"},"24K",-1)),rl={class:"col-7 d-flex flex-column align-items-end"},ll=le(()=>e.createElementVNode("div",null,"音频时长，请以生成后的为准",-1)),il={class:"mt-1"},sl=le(()=>e.createElementVNode("span",null,"/",-1)),al=e.createStaticVNode('<div class="role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3" data-v-00254d87><div class="rounded-pill px-1 border" data-v-00254d87>女青年(默认)</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男孩儿</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男青少年</div><div class="rounded-pill px-1" data-v-00254d87>男中年</div></div>',1),ul={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},cl=le(()=>e.createElementVNode("div",{class:"my-3"},[e.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),dl={class:"slider-box"},fl={class:"slider-box"},pl=e.createStaticVNode('<ul class="d-flex flex-row gap-3 my-3" data-v-00254d87><li class="rounded-pill px-1 border" data-v-00254d87>常用</li><li class="rounded-pill px-1" data-v-00254d87>已购</li><li class="rounded-pill px-1" data-v-00254d87>收藏</li><li class="rounded-pill px-1" data-v-00254d87>我的</li></ul>',1),ml={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3"},vl=e.defineComponent({__name:"slider-panle",setup(t){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),n=e.ref(10),r=e.ref(0),l=e.ref([0,2]),i=e.ref(0),s=e.ref([-10,10]),a=e.ref(0),c=e.computed(()=>Vt(n.value)),f=e.computed(()=>Vt(r.value)),m=e.reactive({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),p=e.reactive({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"});return(v,h)=>(e.openBlock(),e.createElementBlock("div",Xr,[e.createElementVNode("div",Qr,[e.createElementVNode("div",Jr,[e.createElementVNode("img",{src:o.value,class:"rounded-circle",style:{height:"50px"}},null,8,Zr),e.createElementVNode("div",el,[tl,e.createElementVNode("div",nl,[e.createVNode(e.unref(N.ElIcon),{class:"fs-6"},{default:e.withCtx(()=>[e.createVNode(e.unref(oe.Star))]),_:1}),ol])])]),e.createElementVNode("div",rl,[ll,e.createElementVNode("div",il,[e.createElementVNode("span",null,e.toDisplayString(f.value),1),sl,e.createElementVNode("span",null,e.toDisplayString(c.value),1)]),e.createVNode(e.unref(N.ElSlider),{max:n.value,modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=d=>r.value=d),size:"small"},null,8,["max","modelValue"])])]),al,e.createElementVNode("ul",ul,[e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)])]),cl,e.createElementVNode("div",dl,[e.createElementVNode("div",null,[e.createElementVNode("span",null," 语速："+e.toDisplayString(i.value)+"x ",1)]),e.createVNode(e.unref(N.ElSlider),{modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=d=>i.value=d),min:l.value[0],max:l.value[1],step:.05,marks:m},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",fl,[e.createElementVNode("div",null,[e.createElementVNode("span",null," 语调："+e.toDisplayString(a.value),1)]),e.createVNode(e.unref(N.ElSlider),{modelValue:a.value,"onUpdate:modelValue":h[2]||(h[2]=d=>a.value=d),min:s.value[0],max:s.value[1],step:.2,marks:p},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",null,[pl,e.createElementVNode("ul",ml,[e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)]),e.createElementVNode("li",null,[e.createVNode(O)])])])]))}});const hl=B(vl,[["__scopeId","data-v-00254d87"]]),gl=t=>(e.pushScopeId("data-v-2d1e47a4"),t=t(),e.popScopeId(),t),_l={class:"box ms-2"},yl={class:"try-play-header text-center d-flex flex-row justify-content-between"},xl={class:"try-play-body d-flex flex-row"},bl={class:"try-play-left w-50 border-right border-secondary"},wl={class:"pe-1"},Vl={class:"type-list d-flex flex-row border-bottom border-secondary"},El=gl(()=>e.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),Nl={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},Cl=e.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:o}){const n=t,r=e.ref(),l=e.ref(""),i=e.ref(),s=e.ref();e.onMounted(()=>{window.addEventListener("keydown",a)}),e.onUnmounted(()=>{window.addEventListener("keydown",a)}),e.watch(()=>n.visible,v=>{v&&setTimeout(()=>{p()},200)});function a(v){v.code==="Escape"&&n.visible&&m()}const{position:c}=me(s,{initialValue:{x:100,y:100}}),{style:f}=Ae(i,c);function m(){o("update:visible",!1)}function p(){var v;(v=r.value)==null||v.focus()}return(v,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:i,style:e.normalizeStyle([e.unref(f),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[e.createElementVNode("div",_l,[e.createElementVNode("div",yl,[e.createElementVNode("div",{ref_key:"handleRef",ref:s,class:"col-11 try-play-move"},null,512),e.createElementVNode("div",{onClick:m,class:"col-1 try-play-menu-close"},[e.createVNode(e.unref(N.ElIcon),{color:"white"},{default:e.withCtx(()=>[e.createVNode(e.unref(oe.Minus))]),_:1})])]),e.createElementVNode("div",xl,[e.createElementVNode("div",bl,[e.createElementVNode("div",wl,[e.createVNode(e.unref(N.ElForm),{onSubmit:h[1]||(h[1]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{"input-style":{},ref_key:"searchInputRef",ref:r,modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=d=>l.value=d),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1})]),e.createElementVNode("div",Vl,[e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("热榜")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("SVIP")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("付费")]),_:1})]),e.createVNode(Kr),El,e.createVNode(Ur)]),e.createElementVNode("div",Nl,[e.createVNode(hl)])])])],4)),[[e.vShow,v.visible]])}});const Sl=B(Cl,[["__scopeId","data-v-2d1e47a4"]]),rn=e.defineComponent({__name:"try-play",setup(t){const o=e.ref(!0);function n(r){r||(o.value=!0)}return(r,l)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(Pr,{visible:o.value,"onUpdate:visible":l[0]||(l[0]=i=>o.value=i)},null,8,["visible"]),e.createVNode(Sl,{visible:!o.value,"onUpdate:visible":n},null,8,["visible"])]))}});const Tl={install:t=>{t.component("SpeakerMenu",Ht),t.component("ContinuousMenu",zt),t.component("ReadMenu",Wt),t.component("DigitalMenu",qt),t.component("AliasMenu",Yt),t.component("EnglishMenu",Kt),t.component("ChangespeedMenu",Xt),t.component("RhythmMenu",Qt),t.component("SpecialMenu",Jt),t.component("MuteMenu",Zt),t.component("BgmMenu",en),t.component("SensitiveMenu",tn),t.component("ManagementMenu",nn),t.component("ConversionMenu",on),t.component("TryPlay",rn)}};var Be={exports:{}},Me={exports:{}};(function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ParsingError=void 0;class n extends Error{constructor(w,C){super(w),this.cause=C}}o.ParsingError=n;let r;function l(){return c(!1)||v()||p()||m()}function i(){return u(/\s*/),c(!0)||p()||f()||a(!1)}function s(){const y=a(!0),w=[];let C,x=i();for(;x;){if(x.node.type==="Element"){if(C)throw new Error("Found multiple root nodes");C=x.node}x.excluded||w.push(x.node),x=i()}if(!C)throw new n("Failed to parse XML","Root Element not found");if(r.xml.length!==0)throw new n("Failed to parse XML","Not Well-Formed XML");return{declaration:y?y.node:null,root:C,children:w}}function a(y){const w=u(y?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!w)return;const C={name:w[1],type:"ProcessingInstruction",attributes:{}};for(;!(_()||b("?>"));){const x=h();if(x)C.attributes[x.name]=x.value;else return}return u(/\?>/),{excluded:y?!1:r.options.filter(C)===!1,node:C}}function c(y){const w=u(/^<([^?!</>\s]+)\s*/);if(!w)return;const C={type:"Element",name:w[1],attributes:{},children:[]},x=y?!1:r.options.filter(C)===!1;for(;!(_()||b(">")||b("?>")||b("/>"));){const $=h();if($)C.attributes[$.name]=$.value;else return}if(u(/^\s*\/>/))return C.children=null,{excluded:x,node:C};u(/\??>/);let S=l();for(;S;)S.excluded||C.children.push(S.node),S=l();if(r.options.strictMode){const $=`</${C.name}>`;if(r.xml.startsWith($))r.xml=r.xml.slice($.length);else throw new n("Failed to parse XML",`Closing tag not matching "${$}"`)}else u(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:x,node:C}}function f(){const y=u(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||u(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||u(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||u(/^<!DOCTYPE\s+\S+\s*>/);if(y){const w={type:"DocumentType",content:y[0]};return{excluded:r.options.filter(w)===!1,node:w}}}function m(){if(r.xml.startsWith("<![CDATA[")){const y=r.xml.indexOf("]]>");if(y>-1){const w=y+3,C={type:"CDATA",content:r.xml.substring(0,w)};return r.xml=r.xml.slice(w),{excluded:r.options.filter(C)===!1,node:C}}}}function p(){const y=u(/^<!--[\s\S]*?-->/);if(y){const w={type:"Comment",content:y[0]};return{excluded:r.options.filter(w)===!1,node:w}}}function v(){const y=u(/^([^<]+)/);if(y){const w={type:"Text",content:y[1]};return{excluded:r.options.filter(w)===!1,node:w}}}function h(){const y=u(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(y)return{name:y[1].trim(),value:d(y[2].trim())}}function d(y){return y.replace(/^['"]|['"]$/g,"")}function u(y){const w=r.xml.match(y);if(w)return r.xml=r.xml.slice(w[0].length),w}function _(){return r.xml.length===0}function b(y){return r.xml.indexOf(y)===0}function V(y,w={}){y=y.trim();const C=w.filter||(()=>!0);return r={xml:y,options:Object.assign(Object.assign({},w),{filter:C,strictMode:w.strictMode===!0})},s()}t.exports=V,o.default=V})(Me,Me.exports);var kl=Me.exports;(function(t,o){var n=G&&G.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(o,"__esModule",{value:!0});const r=n(kl);function l(d){if(!d.options.indentation&&!d.options.lineSeparator)return;d.content+=d.options.lineSeparator;let u;for(u=0;u<d.level;u++)d.content+=d.options.indentation}function i(d){d.content=d.content.replace(/ +$/,"");let u;for(u=0;u<d.level;u++)d.content+=d.options.indentation}function s(d,u){d.content+=u}function a(d,u,_){if(typeof d.content=="string")c(d.content,u,_);else if(d.type==="Element")m(d,u,_);else if(d.type==="ProcessingInstruction")v(d,u);else throw new Error("Unknown node type: "+d.type)}function c(d,u,_){if(!_){const b=d.trim();(u.options.lineSeparator||b.length===0)&&(d=b)}d.length>0&&(!_&&u.content.length>0&&l(u),s(u,d))}function f(d,u){const _="/"+d.join("/"),b=d[d.length-1];return u.includes(b)||u.includes(_)}function m(d,u,_){if(u.path.push(d.name),!_&&u.content.length>0&&l(u),s(u,"<"+d.name),p(u,d.attributes),d.children===null||u.options.forceSelfClosingEmptyTag&&d.children.length===0){const b=u.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";s(u,b)}else if(d.children.length===0)s(u,"></"+d.name+">");else{const b=d.children;s(u,">"),u.level++;let V=d.attributes["xml:space"]==="preserve",y=!1;if(!V&&u.options.ignoredPaths&&(y=f(u.path,u.options.ignoredPaths),V=y),!V&&u.options.collapseContent){let w=!1,C=!1,x=!1;b.forEach(function(S,$){S.type==="Text"?(S.content.includes(`
`)?(C=!0,S.content=S.content.trim()):($===0||$===b.length-1)&&S.content.trim().length===0&&(S.content=""),S.content.trim().length>0&&(w=!0)):S.type==="CDATA"?w=!0:x=!0}),w&&(!x||!C)&&(V=!0)}b.forEach(function(w){a(w,u,_||V)}),u.level--,!_&&!V&&l(u),y&&i(u),s(u,"</"+d.name+">")}u.path.pop()}function p(d,u){Object.keys(u).forEach(function(_){const b=u[_].replace(/"/g,"&quot;");s(d," "+_+'="'+b+'"')})}function v(d,u){u.content.length>0&&l(u),s(u,"<?"+d.name),p(u,d.attributes),s(u,"?>")}function h(d,u={}){u.indentation="indentation"in u?u.indentation:"    ",u.collapseContent=u.collapseContent===!0,u.lineSeparator="lineSeparator"in u?u.lineSeparator:`\r
`,u.whiteSpaceAtEndOfSelfclosingTag=u.whiteSpaceAtEndOfSelfclosingTag===!0,u.throwOnFailure=u.throwOnFailure!==!1;try{const _=(0,r.default)(d,{filter:u.filter,strictMode:u.strictMode}),b={content:"",level:0,options:u,path:[]};return _.declaration&&v(_.declaration,b),_.children.forEach(function(V){a(V,b,!1)}),u.lineSeparator?b.content.replace(/\r\n/g,`
`).replace(/\n/g,u.lineSeparator):b.content}catch(_){if(u.throwOnFailure)throw _;return d}}h.minify=(d,u={})=>h(d,Object.assign(Object.assign({},u),{indentation:"",lineSeparator:""})),t.exports=h,o.default=h})(Be,Be.exports);var $l=Be.exports;const Ol=je($l),q=t=>(e.pushScopeId("data-v-71fe7760"),t=t(),e.popScopeId(),t),Il={class:"editor-title d-flex flex-row align-item-center justify-content-between"},Rl={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},Dl=q(()=>e.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),Bl={class:"author d-flex flex-row align-items-center justify-content-start"},Ml=q(()=>e.createElementVNode("div",null,"已保存",-1)),Pl=q(()=>e.createElementVNode("div",null,"|",-1)),Ll=q(()=>e.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),Al=q(()=>e.createElementVNode("div",{class:"d-inline-block"},null,-1)),jl={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},Fl=q(()=>e.createElementVNode("div",{class:"menu-divider"},null,-1)),Hl=q(()=>e.createElementVNode("div",{class:"px-1"},null,-1)),zl={class:"ssml-code"},Ul={class:"dialog-footer"},Wl=e.defineComponent({__name:"editor-title",props:{characterTotal:{},characterMax:{},bgm:{}},setup(t){const o=e.inject(A.EDITOR),n=e.ref(!1),r=e.ref(""),l=e.computed(()=>Ol(r.value,{indentation:"    ",filter:a=>a.type!=="Comment",collapseContent:!1,lineSeparator:`
`})),i=()=>{o&&(r.value=o.value.getHtml(),n.value=!0)},s=()=>{o==null||o.value.emit(H.REMOVE_BGM)};return(a,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Il,[e.createElementVNode("div",Rl,[Dl,e.createElementVNode("div",Bl,[Ml,Pl,e.createElementVNode("div",null,e.toDisplayString(a.characterTotal)+"/"+e.toDisplayString(a.characterMax)+"字",1),a.bgm?(e.openBlock(),e.createBlock(e.unref(N.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:c[0]||(c[0]=()=>a.bgm&&a.bgm.value&&e.unref(jt)(a.bgm.value)),onClose:s},{default:e.withCtx(()=>[Ll,Al,e.createElementVNode("span",null,e.toDisplayString(a.bgm.label),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",jl,[e.createVNode(e.unref(N.ElButton),{type:"primary",icon:e.unref(oe.Share),disabled:""},{default:e.withCtx(()=>[e.createTextVNode("分享")]),_:1},8,["icon"]),Fl,e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:i},{default:e.withCtx(()=>[e.createTextVNode("查看SSML")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载音频")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载视频")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载字幕")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("声音转换")]),_:1}),Hl])]),e.createVNode(e.unref(N.ElDialog),{modelValue:n.value,"onUpdate:modelValue":c[2]||(c[2]=f=>n.value=f),title:"查看SSML",width:"50%"},{footer:e.withCtx(()=>[e.createElementVNode("span",Ul,[e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:c[1]||(c[1]=f=>n.value=!1)},{default:e.withCtx(()=>[e.createTextVNode(" 确定 ")]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("pre",zl,e.toDisplayString(l.value),1)]),_:1},8,["modelValue"])],64))}});const ql=B(Wl,[["__scopeId","data-v-71fe7760"]]),Gl=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-alias"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-alias"?!0:n(l),r};function Et(t,o,n,r,l){const i=o===void 0?void 0:o.key;return{sel:t,data:o,children:n,text:r,elm:l,key:i}}const Nt=Array.isArray;function $e(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function ln(t,o,n){if(t.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&o!==void 0)for(let r=0;r<o.length;++r){const l=o[r];if(typeof l=="string")continue;const i=l.data;i!==void 0&&ln(i,l.children,l.sel)}}function k(t,o,n){let r={},l,i,s;if(n!==void 0?(o!==null&&(r=o),Nt(n)?l=n:$e(n)?i=n.toString():n&&n.sel&&(l=[n])):o!=null&&(Nt(o)?l=o:$e(o)?i=o.toString():o&&o.sel?l=[o]:r=o),l!==void 0)for(s=0;s<l.length;++s)$e(l[s])&&(l[s]=Et(void 0,void 0,void 0,l[s],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&ln(r,l,t),Et(t,r,l,i,void 0)}var sn="Expected a function",Ct=0/0,Yl="[object Symbol]",Kl=/^\s+|\s+$/g,Xl=/^[-+]0x[0-9a-f]+$/i,Ql=/^0b[01]+$/i,Jl=/^0o[0-7]+$/i,Zl=parseInt,ei=typeof G=="object"&&G&&G.Object===Object&&G,ti=typeof self=="object"&&self&&self.Object===Object&&self,ni=ei||ti||Function("return this")(),oi=Object.prototype,ri=oi.toString,li=Math.max,ii=Math.min,Oe=function(){return ni.Date.now()};function si(t,o,n){var r,l,i,s,a,c,f=0,m=!1,p=!1,v=!0;if(typeof t!="function")throw new TypeError(sn);o=St(o)||0,fe(n)&&(m=!!n.leading,p="maxWait"in n,i=p?li(St(n.maxWait)||0,o):i,v="trailing"in n?!!n.trailing:v);function h(x){var S=r,$=l;return r=l=void 0,f=x,s=t.apply($,S),s}function d(x){return f=x,a=setTimeout(b,o),m?h(x):s}function u(x){var S=x-c,$=x-f,We=o-S;return p?ii(We,i-$):We}function _(x){var S=x-c,$=x-f;return c===void 0||S>=o||S<0||p&&$>=i}function b(){var x=Oe();if(_(x))return V(x);a=setTimeout(b,u(x))}function V(x){return a=void 0,v&&r?h(x):(r=l=void 0,s)}function y(){a!==void 0&&clearTimeout(a),f=0,r=c=l=a=void 0}function w(){return a===void 0?s:V(Oe())}function C(){var x=Oe(),S=_(x);if(r=arguments,l=this,c=x,S){if(a===void 0)return d(c);if(p)return a=setTimeout(b,o),h(c)}return a===void 0&&(a=setTimeout(b,o)),s}return C.cancel=y,C.flush=w,C}function ai(t,o,n){var r=!0,l=!0;if(typeof t!="function")throw new TypeError(sn);return fe(n)&&(r="leading"in n?!!n.leading:r,l="trailing"in n?!!n.trailing:l),si(t,o,{leading:r,maxWait:o,trailing:l})}function fe(t){var o=typeof t;return!!t&&(o=="object"||o=="function")}function ui(t){return!!t&&typeof t=="object"}function ci(t){return typeof t=="symbol"||ui(t)&&ri.call(t)==Yl}function St(t){if(typeof t=="number")return t;if(ci(t))return Ct;if(fe(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=fe(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=t.replace(Kl,"");var n=Ql.test(t);return n||Jl.test(t)?Zl(t.slice(2),n?2:8):Xl.test(t)?Ct:+t}var di=ai;const ne=je(di),K={style:{userSelect:"none"},contentEditable:!1};function J(t,o){return k("span.ssml-wrap",{...K},[k(`span.tag.bg-color.${t.bgColor}`,[k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-close",{on:{click:ne(n=>{n.preventDefault(),o()})}},k("span.iconfont.icon-roundclosefill"))]),k(`span.boundary.start.ft-color.${t.bgColor}`),k("span",t.plain),k(`span.boundary.end.ft-color.${t.bgColor}`)])}function fi(t,o,n){return k("span.ssml-wrap",[k(`span.tag.bg-color.${t.bgColor}`,{...K},[k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-close",{on:{click:ne(r=>{r.preventDefault(),n()})}},k("span.iconfont.icon-roundclosefill",null))]),k(`span.boundary.start.ft-color.${t.bgColor}`,{...K}),k("span",o),k(`span.boundary.end.ft-color.${t.bgColor}`,{...K})])}function an(t,o){return k("span.ssml-wrap",{...K},[k(`span.tag.bg-color.${t.bgColor}`,[k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-close",{on:{click:ne(n=>{n.preventDefault(),o()})}},k("span.iconfont.icon-roundclosefill",null))])])}function pi(t,o){return k("span.ssml-wrap",{...K},[k(`span.tag.bg-color.${t.bgColor}`,[k("span.btn-text",{on:{click:ne(n=>{n.preventDefault(),o==null||o.play()})}},k("span.iconfont.icon-play",null)),k("span.tag-remark",{attrs:{"data-tag-remark":t.remark}}),k("span.btn-text",{on:{click:ne(n=>{n.preventDefault(),o==null||o.close()})}},k("span.iconfont.icon-roundclosefill",null))])])}const mi={type:"ssml-alias",renderElem:(t,o,n)=>{const r=t;return J({...r,plain:r.value},()=>n.emit("ssml-alias-close",n,r))}},vi={type:"ssml-alias",elemToHtml:t=>{const{alias:o,value:n}=t;return`<sub alias="${o}">${n}</sub>`}},hi={editorPlugin:Gl,renderElems:[mi],elemsToHtml:[vi]},gi=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-changespeed"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-changespeed"?!1:n(l),r},_i={type:"ssml-changespeed",renderElem:(t,o,n)=>{const r=t;return fi(r,o,()=>n.emit("ssml-changespeed-close",n,r))}},yi={type:"ssml-changespeed",elemToHtml:(t,o)=>{const{rate:n}=t;return`<prosody rate="${n}">${o}</prosody>`}},xi={editorPlugin:gi,renderElems:[_i],elemsToHtml:[yi]},bi=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-continuous"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-continuous"?!0:n(l),r},wi={type:"ssml-continuous",renderElem:(t,o,n)=>{const r=t;return J({...r,plain:r.value},()=>n.emit("ssml-continuous-close",n,r))}},Vi={type:"ssml-continuous",elemToHtml:t=>`<w>${t.value}</w>`},Ei={editorPlugin:bi,renderElems:[wi],elemsToHtml:[Vi]},Ni=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-digital"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-digital"?!0:n(l),r},Ci={type:"ssml-digital",renderElem:(t,o,n)=>{const r=t;return J({...r,plain:r.value},()=>n.emit("ssml-digital-close",n,r))}},Si={type:"ssml-digital",elemToHtml:t=>{const{interpretAs:o,value:n}=t;return`<say-as interpret-as="${o}">${n}</say-as>`}},Ti={editorPlugin:Ni,renderElems:[Ci],elemsToHtml:[Si]},ki=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-english"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-english"?!0:n(l),r},$i={type:"ssml-english",renderElem:(t,o,n)=>{const r=t;return J({...r,plain:r.word},()=>n.emit("ssml-english-close",n,r))}},Oi={type:"ssml-english",elemToHtml:t=>{const{phoneme:o,word:n}=t;return`<p ph="${o}">${n}</p>`}},Ii={editorPlugin:ki,renderElems:[$i],elemsToHtml:[Oi]},Ri=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-mute"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-mute"?!0:n(l),r},Di={type:"ssml-mute",renderElem:(t,o,n)=>{const r=t;return an(r,()=>n.emit("ssml-mute-close",n,r))}},Bi={type:"ssml-mute",elemToHtml:t=>{const{time:o}=t;return`<break time="${o}" />`}},Mi={editorPlugin:Ri,renderElems:[Di],elemsToHtml:[Bi]},Pi=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-read"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-read"?!0:n(l),r},Li={type:"ssml-read",renderElem:(t,o,n)=>{const r=t;return J({...r,plain:r.value},()=>{n.emit("ssml-read-close",n,r)})}},Ai={type:"ssml-read",elemToHtml:t=>{const{phoneme:o,value:n}=t;return`<w phoneme="${o}">${n}</w>`}},ji={editorPlugin:Pi,renderElems:[Li],elemsToHtml:[Ai]},Fi=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-rhythm"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-rhythm"?!0:n(l),r},Hi={type:"ssml-rhythm",renderElem:(t,o,n)=>{const r=t;return an(r,()=>n.emit("ssml-rhythm-close",n,r))}},zi={type:"ssml-rhythm",elemToHtml:t=>{const{time:o}=t;return`<break time="${o}" />`}},Ui={editorPlugin:Fi,renderElems:[Hi],elemsToHtml:[zi]},Wi=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-speaker"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-speaker"?!0:n(l),r},qi={type:"ssml-speaker",renderElem:(t,o,n)=>{const r=t;return J({...r,plain:r.word},()=>n.emit("ssml-speaker-close",n,r))}},Gi={type:"ssml-speaker",elemToHtml:t=>{const{phoneme:o,word:n}=t;return`<p ph="${o}">${n}</p>`}},Yi={editorPlugin:Wi,renderElems:[qi],elemsToHtml:[Gi]},Ki=t=>{const{isInline:o,isVoid:n}=t,r=t;return r.isInline=l=>g.DomEditor.getNodeType(l)==="ssml-special"?!0:o(l),r.isVoid=l=>g.DomEditor.getNodeType(l)==="ssml-special"?!0:n(l),r},Xi={type:"ssml-special",renderElem:(t,o,n)=>{const r=t;return pi(r,{close:()=>n.emit("ssml-special-close",n,r),play:()=>n.emit("ssml-special-play",n,r)})}},Qi={type:"ssml-special",elemToHtml:t=>{const{src:o}=t;return`<audio src="${o}" />`}},Ji={editorPlugin:Ki,renderElems:[Xi],elemsToHtml:[Qi]},Zi=t=>{const{getHtml:o}=t,n=t,r={volume:"",pitch:"",rate:"",voice:"",bgm:"",bgmRemark:"",backgroundMusicVolume:""};return t.on(H.UPDATE_SPEAK,l=>{Object.assign(r,l)}),t.on(H.UPDATE_BGM,l=>{r.bgm=l.value,r.bgmRemark=l.label}),t.on(H.REMOVE_BGM,()=>{r.bgm=void 0,r.bgmRemark=void 0}),n.getHtml=()=>{const l=["bgmRemark"],i=[];for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)){const a=r[s];a&&!l.includes(s)&&i.push(`${s}=${a}`)}return`<speak ${i.join(" ")}>${o()}</speak>`},n},es={editorPlugin:Zi},ts=t=>{const{deleteBackward:o,deleteForward:n,insertBreak:r,apply:l,normalizeNode:i}=t,s=t;return s.deleteBackward=a=>{o(a)},s.deleteForward=a=>{n(a)},s.insertBreak=()=>{r()},s.normalizeNode=a=>{i(a)},s.apply=a=>{l(a)},s},ns={editorPlugin:ts};function os(t){t.on("ssml-alias-close",Gt.handleClose),t.on("ssml-changespeed-close",xe.handleClose),t.on("ssml-continuous-close",ge.handleClose),t.on("ssml-digital-close",_e.handleClose),t.on("ssml-english-close",ye.handleClose),t.on("ssml-mute-close",we.handleClose),t.on("ssml-read-close",Ut.handleClose),t.on("ssml-rhythm-close",be.handleClose),t.on("ssml-speaker-close",he.handleClose),t.on("ssml-special-close",te.handleClose)}const rs=e.defineComponent({__name:"editor-core",props:{editorConfig:{}},emits:["created","change"],setup(t,{emit:o}){const n=t,r=e.ref(null);e.onMounted(()=>{l()});const l=()=>{if(!r.value)return;const i=ir();g.createEditor({selector:r.value,mode:"simple",content:i??[],config:{...e.toRaw(n.editorConfig),onCreated(s){os(s),o("created",s),s.focus(!0);const a=s.getConfig();a.hoverbarKeys=void 0},onChange(s){o("change",s),lr(s.children)}}})};return(i,s)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),ls={class:"bar-view border-bottom border-1"},is=e.defineComponent({__name:"bar-view",setup(t){return(o,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",ls,[e.createVNode(e.unref(It),null,{default:e.withCtx(()=>[e.createVNode(e.unref(U),{divider:"green"},{default:e.withCtx(()=>[e.createVNode(e.unref(D),{text:"24K高清音质",icon:"play",disabled:""})]),_:1}),e.createVNode(e.unref(U),{divider:"cyan"},{default:e.withCtx(()=>[e.createVNode(e.unref(Ht)),e.createVNode(e.unref(Wt)),e.createVNode(e.unref(qt)),e.createVNode(e.unref(zt)),e.createVNode(e.unref(Yt)),e.createVNode(e.unref(Kt))]),_:1}),e.createVNode(e.unref(U),{divider:"orange"},{default:e.withCtx(()=>[e.createVNode(e.unref(Xt)),e.createVNode(e.unref(nn)),e.createVNode(e.unref(on))]),_:1}),e.createVNode(e.unref(U),{divider:"purple"},{default:e.withCtx(()=>[e.createVNode(e.unref(Qt)),e.createVNode(e.unref(Zt))]),_:1}),e.createVNode(e.unref(U),{divider:"yellow"},{default:e.withCtx(()=>[e.createVNode(e.unref(Jt)),e.createVNode(e.unref(en))]),_:1}),e.createVNode(e.unref(U),null,{default:e.withCtx(()=>[e.createVNode(e.unref(tn))]),_:1})]),_:1})]),e.createVNode(e.unref(rn))],64))}}),ss={class:"editor-view"},as={class:"editor-box"},us={class:"editor-core-container shadow pt-1"},cs=e.defineComponent({__name:"editor-view",emits:["onCreated","onChange"],setup(t,{emit:o}){const n=e.ref(0),r=e.shallowRef(),l=e.ref(null);e.provide(A.EDITOR,r);const i={maxLength:5e3,placeholder:"请输入内容..."};e.onUnmounted(()=>{var c;(c=r.value)==null||c.destroy()});const s=c=>{r.value=c,o("onCreated",c),c.on(H.UPDATE_BGM,f=>{l.value=f}),c.on(H.REMOVE_BGM,()=>{l.value=null})},a=c=>{n.value=c.getText().length,o("onChange",c)};return(c,f)=>(e.openBlock(),e.createElementBlock("div",ss,[e.createVNode(ql,{bgm:l.value,"character-total":n.value,"character-max":i.maxLength||0},null,8,["bgm","character-total","character-max"]),e.createElementVNode("div",as,[e.createVNode(is),e.createElementVNode("div",us,[e.createVNode(rs,{"editor-config":i,onChange:a,onCreated:s})])])]))}});const ds=B(cs,[["__scopeId","data-v-bc09f735"]]),fs={install(t){t.component("EditorView",ds)}};const ps={install(t,o){const n=o??{};t.provide(A.EDITORCONFIG,n),R.on(I.ERROR,n.handleError),g.Boot.registerModule(hi),g.Boot.registerModule(xi),g.Boot.registerModule(Ei),g.Boot.registerModule(Ti),g.Boot.registerModule(Ii),g.Boot.registerModule(Mi),g.Boot.registerModule(ji),g.Boot.registerModule(Ui),g.Boot.registerModule(Yi),g.Boot.registerModule(Ji),g.Boot.registerModule(es),g.Boot.registerModule(ns),t.use(fo),t.use(Tl),t.use(fs)}};exports.EMITTER_EVENT=I;exports.PROVIDER_KEY=A;exports.WANGEDITOR_EVENT=H;exports.default=ps;
