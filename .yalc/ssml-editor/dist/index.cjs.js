"use strict";var O_=Object.defineProperty;var D_=(r,s,o)=>s in r?O_(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o;var Ce=(r,s,o)=>(D_(r,typeof s!="symbol"?s+"":s,o),o);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),R=require("@wangeditor/editor"),j=require("element-plus"),pn=require("@element-plus/icons-vue");var zu=!1;function co(r,s,o){return Array.isArray(r)?(r.length=Math.max(r.length,s),r.splice(s,1,o),o):(r[s]=o,o)}function Xi(r,s){if(Array.isArray(r)){r.splice(s,1);return}delete r[s]}function I_(){return Gu().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Gu(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const B_=typeof Proxy=="function",L_="devtools-plugin:setup",P_="plugin:settings:set";let Dn,ss;function M_(){var r;return Dn!==void 0||(typeof window<"u"&&window.performance?(Dn=!0,ss=window.performance):typeof global<"u"&&(!((r=global.perf_hooks)===null||r===void 0)&&r.performance)?(Dn=!0,ss=global.perf_hooks.performance):Dn=!1),Dn}function F_(){return M_()?ss.now():Date.now()}class U_{constructor(s,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=o;const a={};if(s.settings)for(const p in s.settings){const v=s.settings[p];a[p]=v.defaultValue}const u=`__vue-devtools-plugin-settings__${s.id}`;let f=Object.assign({},a);try{const p=localStorage.getItem(u),v=JSON.parse(p);Object.assign(f,v)}catch{}this.fallbacks={getSettings(){return f},setSettings(p){try{localStorage.setItem(u,JSON.stringify(p))}catch{}f=p},now(){return F_()}},o&&o.on(P_,(p,v)=>{p===this.plugin.id&&this.fallbacks.setSettings(v)}),this.proxiedOn=new Proxy({},{get:(p,v)=>this.target?this.target.on[v]:(...g)=>{this.onQueue.push({method:v,args:g})}}),this.proxiedTarget=new Proxy({},{get:(p,v)=>this.target?this.target[v]:v==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(v)?(...g)=>(this.targetQueue.push({method:v,args:g,resolve:()=>{}}),this.fallbacks[v](...g)):(...g)=>new Promise(m=>{this.targetQueue.push({method:v,args:g,resolve:m})})})}async setRealTarget(s){this.target=s;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function qu(r,s){const o=r,a=Gu(),u=I_(),f=B_&&o.enableEarlyProxy;if(u&&(a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!f))u.emit(L_,r,s);else{const p=f?new U_(o,u):null;(a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:s,proxy:p}),p&&s(p.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let dr;const mr=r=>dr=r,Ku=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function hn(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Tt;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Tt||(Tt={}));const bo=typeof window<"u",pr=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&bo,uu=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function H_(r,{autoBom:s=!1}={}){return s&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}function _s(r,s,o){const a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){Ju(a.response,s,o)},a.onerror=function(){console.error("could not download file")},a.send()}function Yu(r){const s=new XMLHttpRequest;s.open("HEAD",r,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function fo(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}}const po=typeof navigator=="object"?navigator:{userAgent:""},Xu=(()=>/Macintosh/.test(po.userAgent)&&/AppleWebKit/.test(po.userAgent)&&!/Safari/.test(po.userAgent))(),Ju=bo?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Xu?W_:"msSaveOrOpenBlob"in po?z_:G_:()=>{};function W_(r,s="download",o){const a=document.createElement("a");a.download=s,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Yu(a.href)?_s(r,s,o):(a.target="_blank",fo(a)):fo(a)):(a.href=URL.createObjectURL(r),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){fo(a)},0))}function z_(r,s="download",o){if(typeof r=="string")if(Yu(r))_s(r,s,o);else{const a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){fo(a)})}else navigator.msSaveOrOpenBlob(H_(r,o),s)}function G_(r,s,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return _s(r,s,o);const u=r.type==="application/octet-stream",f=/constructor/i.test(String(uu.HTMLElement))||"safari"in uu,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||u&&f||Xu)&&typeof FileReader<"u"){const v=new FileReader;v.onloadend=function(){let g=v.result;if(typeof g!="string")throw a=null,new Error("Wrong reader.result type");g=p?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=g:location.assign(g),a=null},v.readAsDataURL(r)}else{const v=URL.createObjectURL(r);a?a.location.assign(v):location.href=v,a=null,setTimeout(function(){URL.revokeObjectURL(v)},4e4)}}function Oe(r,s){const o="🍍 "+r;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,s):s==="error"?console.error(o):s==="warn"?console.warn(o):console.log(o)}function ys(r){return"_a"in r&&"install"in r}function Zu(){if(!("clipboard"in navigator))return Oe("Your browser doesn't support the Clipboard API","error"),!0}function Qu(r){return r instanceof Error&&r.message.toLowerCase().includes("document is not focused")?(Oe('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function q_(r){if(!Zu())try{await navigator.clipboard.writeText(JSON.stringify(r.state.value)),Oe("Global state copied to clipboard.")}catch(s){if(Qu(s))return;Oe("Failed to serialize the state. Check the console for more details.","error"),console.error(s)}}async function K_(r){if(!Zu())try{ju(r,JSON.parse(await navigator.clipboard.readText())),Oe("Global state pasted from clipboard.")}catch(s){if(Qu(s))return;Oe("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(s)}}async function Y_(r){try{Ju(new Blob([JSON.stringify(r.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(s){Oe("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}let Ft;function X_(){Ft||(Ft=document.createElement("input"),Ft.type="file",Ft.accept=".json");function r(){return new Promise((s,o)=>{Ft.onchange=async()=>{const a=Ft.files;if(!a)return s(null);const u=a.item(0);return s(u?{text:await u.text(),file:u}:null)},Ft.oncancel=()=>s(null),Ft.onerror=o,Ft.click()})}return r}async function J_(r){try{const o=await X_()();if(!o)return;const{text:a,file:u}=o;ju(r,JSON.parse(a)),Oe(`Global state imported from "${u.name}".`)}catch(s){Oe("Failed to import the state from JSON. Check the console for more details.","error"),console.error(s)}}function ju(r,s){for(const o in s){const a=r.state.value[o];a&&Object.assign(a,s[o])}}function xt(r){return{_custom:{display:r}}}const ec="🍍 Pinia (root)",as="_root";function Z_(r){return ys(r)?{id:as,label:ec}:{id:r.$id,label:r.$id}}function Q_(r){if(ys(r)){const o=Array.from(r._s.keys()),a=r._s;return{state:o.map(f=>({editable:!0,key:f,value:r.state.value[f]})),getters:o.filter(f=>a.get(f)._getters).map(f=>{const p=a.get(f);return{editable:!1,key:f,value:p._getters.reduce((v,g)=>(v[g]=p[g],v),{})}})}}const s={state:Object.keys(r.$state).map(o=>({editable:!0,key:o,value:r.$state[o]}))};return r._getters&&r._getters.length&&(s.getters=r._getters.map(o=>({editable:!1,key:o,value:r[o]}))),r._customProperties.size&&(s.customProperties=Array.from(r._customProperties).map(o=>({editable:!0,key:o,value:r[o]}))),s}function j_(r){return r?Array.isArray(r)?r.reduce((s,o)=>(s.keys.push(o.key),s.operations.push(o.type),s.oldValue[o.key]=o.oldValue,s.newValue[o.key]=o.newValue,s),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:xt(r.type),key:xt(r.key),oldValue:r.oldValue,newValue:r.newValue}:{}}function ey(r){switch(r){case Tt.direct:return"mutation";case Tt.patchFunction:return"$patch";case Tt.patchObject:return"$patch";default:return"unknown"}}let Pn=!0;const ho=[],cn="pinia:mutations",Ue="pinia",{assign:ty}=Object,_o=r=>"🍍 "+r;function ny(r,s){qu({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ho,app:r},o=>{typeof o.now!="function"&&Oe("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:cn,label:"Pinia 🍍",color:15064968}),o.addInspector({id:Ue,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{q_(s)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await K_(s),o.sendInspectorTree(Ue),o.sendInspectorState(Ue)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Y_(s)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await J_(s),o.sendInspectorTree(Ue),o.sendInspectorState(Ue)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:a=>{const u=s._s.get(a);u?typeof u.$reset!="function"?Oe(`Cannot reset "${a}" store because it doesn't have a "$reset" method implemented.`,"warn"):(u.$reset(),Oe(`Store "${a}" reset.`)):Oe(`Cannot reset "${a}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((a,u)=>{const f=a.componentInstance&&a.componentInstance.proxy;if(f&&f._pStores){const p=a.componentInstance.proxy._pStores;Object.values(p).forEach(v=>{a.instanceData.state.push({type:_o(v.$id),key:"state",editable:!0,value:v._isOptionsAPI?{_custom:{value:n.toRaw(v.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>v.$reset()}]}}:Object.keys(v.$state).reduce((g,m)=>(g[m]=v.$state[m],g),{})}),v._getters&&v._getters.length&&a.instanceData.state.push({type:_o(v.$id),key:"getters",editable:!1,value:v._getters.reduce((g,m)=>{try{g[m]=v[m]}catch(w){g[m]=w}return g},{})})})}}),o.on.getInspectorTree(a=>{if(a.app===r&&a.inspectorId===Ue){let u=[s];u=u.concat(Array.from(s._s.values())),a.rootNodes=(a.filter?u.filter(f=>"$id"in f?f.$id.toLowerCase().includes(a.filter.toLowerCase()):ec.toLowerCase().includes(a.filter.toLowerCase())):u).map(Z_)}}),o.on.getInspectorState(a=>{if(a.app===r&&a.inspectorId===Ue){const u=a.nodeId===as?s:s._s.get(a.nodeId);if(!u)return;u&&(a.state=Q_(u))}}),o.on.editInspectorState((a,u)=>{if(a.app===r&&a.inspectorId===Ue){const f=a.nodeId===as?s:s._s.get(a.nodeId);if(!f)return Oe(`store "${a.nodeId}" not found`,"error");const{path:p}=a;ys(f)?p.unshift("state"):(p.length!==1||!f._customProperties.has(p[0])||p[0]in f.$state)&&p.unshift("$state"),Pn=!1,a.set(f,p,a.state.value),Pn=!0}}),o.on.editComponentState(a=>{if(a.type.startsWith("🍍")){const u=a.type.replace(/^🍍\s*/,""),f=s._s.get(u);if(!f)return Oe(`store "${u}" not found`,"error");const{path:p}=a;if(p[0]!=="state")return Oe(`Invalid path for store "${u}":
${p}
Only state can be modified.`);p[0]="$state",Pn=!1,a.set(f,p,a.state.value),Pn=!0}})})}function ry(r,s){ho.includes(_o(s.$id))||ho.push(_o(s.$id)),qu({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ho,app:r,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const a=typeof o.now=="function"?o.now.bind(o):Date.now;s.$onAction(({after:p,onError:v,name:g,args:m})=>{const w=tc++;o.addTimelineEvent({layerId:cn,event:{time:a(),title:"🛫 "+g,subtitle:"start",data:{store:xt(s.$id),action:xt(g),args:m},groupId:w}}),p(k=>{Zt=void 0,o.addTimelineEvent({layerId:cn,event:{time:a(),title:"🛬 "+g,subtitle:"end",data:{store:xt(s.$id),action:xt(g),args:m,result:k},groupId:w}})}),v(k=>{Zt=void 0,o.addTimelineEvent({layerId:cn,event:{time:a(),logType:"error",title:"💥 "+g,subtitle:"end",data:{store:xt(s.$id),action:xt(g),args:m,error:k},groupId:w}})})},!0),s._customProperties.forEach(p=>{n.watch(()=>n.unref(s[p]),(v,g)=>{o.notifyComponentUpdate(),o.sendInspectorState(Ue),Pn&&o.addTimelineEvent({layerId:cn,event:{time:a(),title:"Change",subtitle:p,data:{newValue:v,oldValue:g},groupId:Zt}})},{deep:!0})}),s.$subscribe(({events:p,type:v},g)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(Ue),!Pn)return;const m={time:a(),title:ey(v),data:ty({store:xt(s.$id)},j_(p)),groupId:Zt};v===Tt.patchFunction?m.subtitle="⤵️":v===Tt.patchObject?m.subtitle="🧩":p&&!Array.isArray(p)&&(m.subtitle=p.type),p&&(m.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:p}}),o.addTimelineEvent({layerId:cn,event:m})},{detached:!0,flush:"sync"});const u=s._hotUpdate;s._hotUpdate=n.markRaw(p=>{u(p),o.addTimelineEvent({layerId:cn,event:{time:a(),title:"🔥 "+s.$id,subtitle:"HMR update",data:{store:xt(s.$id),info:xt("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(Ue),o.sendInspectorState(Ue)});const{$dispose:f}=s;s.$dispose=()=>{f(),o.notifyComponentUpdate(),o.sendInspectorTree(Ue),o.sendInspectorState(Ue),o.getSettings().logStoreChanges&&Oe(`Disposed "${s.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(Ue),o.sendInspectorState(Ue),o.getSettings().logStoreChanges&&Oe(`"${s.$id}" store installed 🆕`)})}let tc=0,Zt;function cu(r,s,o){const a=s.reduce((u,f)=>(u[f]=n.toRaw(r)[f],u),{});for(const u in a)r[u]=function(){const f=tc,p=o?new Proxy(r,{get(...g){return Zt=f,Reflect.get(...g)},set(...g){return Zt=f,Reflect.set(...g)}}):r;Zt=f;const v=a[u].apply(p,arguments);return Zt=void 0,v}}function oy({app:r,store:s,options:o}){if(s.$id.startsWith("__hot:"))return;s._isOptionsAPI=!!o.state,cu(s,Object.keys(o.actions),s._isOptionsAPI);const a=s._hotUpdate;n.toRaw(s)._hotUpdate=function(u){a.apply(this,arguments),cu(s,Object.keys(u._hmrPayload.actions),!!s._isOptionsAPI)},ry(r,s)}function iy(){const r=n.effectScope(!0),s=r.run(()=>n.ref({}));let o=[],a=[];const u=n.markRaw({install(f){mr(u),u._a=f,f.provide(Ku,u),f.config.globalProperties.$pinia=u,pr&&ny(f,u),a.forEach(p=>o.push(p)),a=[]},use(f){return!this._a&&!zu?a.push(f):o.push(f),this},_p:o,_a:null,_e:r,_s:new Map,state:s});return pr&&typeof Proxy<"u"&&u.use(oy),u}function nc(r,s){for(const o in s){const a=s[o];if(!(o in r))continue;const u=r[o];hn(u)&&hn(a)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=nc(u,a):r[o]=a}return r}const rc=()=>{};function fu(r,s,o,a=rc){r.push(s);const u=()=>{const f=r.indexOf(s);f>-1&&(r.splice(f,1),a())};return!o&&n.getCurrentScope()&&n.onScopeDispose(u),u}function In(r,...s){r.slice().forEach(o=>{o(...s)})}const sy=r=>r();function ls(r,s){r instanceof Map&&s instanceof Map&&s.forEach((o,a)=>r.set(a,o)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const o in s){if(!s.hasOwnProperty(o))continue;const a=s[o],u=r[o];hn(u)&&hn(a)&&r.hasOwnProperty(o)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=ls(u,a):r[o]=a}return r}const ay=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function ly(r){return!hn(r)||!r.hasOwnProperty(ay)}const{assign:ht}=Object;function du(r){return!!(n.isRef(r)&&r.effect)}function pu(r,s,o,a){const{state:u,actions:f,getters:p}=s,v=o.state.value[r];let g;function m(){!v&&(process.env.NODE_ENV==="production"||!a)&&(o.state.value[r]=u?u():{});const w=process.env.NODE_ENV!=="production"&&a?n.toRefs(n.ref(u?u():{}).value):n.toRefs(o.state.value[r]);return ht(w,f,Object.keys(p||{}).reduce((k,C)=>(process.env.NODE_ENV!=="production"&&C in w&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${C}" in store "${r}".`),k[C]=n.markRaw(n.computed(()=>{mr(o);const T=o._s.get(r);return p[C].call(T,T)})),k),{}))}return g=us(r,m,s,o,a,!0),g}function us(r,s,o={},a,u,f){let p;const v=ht({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!a._e.active)throw new Error("Pinia destroyed");const g={deep:!0};process.env.NODE_ENV!=="production"&&!zu&&(g.onTrigger=H=>{m?T=H:m==!1&&!D._hotUpdating&&(Array.isArray(T)?T.push(H):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let m,w,k=[],C=[],T;const x=a.state.value[r];!f&&!x&&(process.env.NODE_ENV==="production"||!u)&&(a.state.value[r]={});const b=n.ref({});let I;function P(H){let W;m=w=!1,process.env.NODE_ENV!=="production"&&(T=[]),typeof H=="function"?(H(a.state.value[r]),W={type:Tt.patchFunction,storeId:r,events:T}):(ls(a.state.value[r],H),W={type:Tt.patchObject,payload:H,storeId:r,events:T});const U=I=Symbol();n.nextTick().then(()=>{I===U&&(m=!0)}),w=!0,In(k,W,a.state.value[r])}const M=f?function(){const{state:W}=o,U=W?W():{};this.$patch(K=>{ht(K,U)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${r}" is built using the setup syntax and does not implement $reset().`)}:rc;function V(){p.stop(),k=[],C=[],a._s.delete(r)}function F(H,W){return function(){mr(a);const U=Array.from(arguments),K=[],ie=[];function De(ve){K.push(ve)}function kt(ve){ie.push(ve)}In(C,{args:U,name:H,store:D,after:De,onError:kt});let Ve;try{Ve=W.apply(this&&this.$id===r?this:D,U)}catch(ve){throw In(ie,ve),ve}return Ve instanceof Promise?Ve.then(ve=>(In(K,ve),ve)).catch(ve=>(In(ie,ve),Promise.reject(ve))):(In(K,Ve),Ve)}}const G=n.markRaw({actions:{},getters:{},state:[],hotState:b}),X={_p:a,$id:r,$onAction:fu.bind(null,C),$patch:P,$reset:M,$subscribe(H,W={}){const U=fu(k,H,W.detached,()=>K()),K=p.run(()=>n.watch(()=>a.state.value[r],ie=>{(W.flush==="sync"?w:m)&&H({storeId:r,type:Tt.direct,events:T},ie)},ht({},g,W)));return U},$dispose:V},D=n.reactive(process.env.NODE_ENV!=="production"||pr?ht({_hmrPayload:G,_customProperties:n.markRaw(new Set)},X):X);a._s.set(r,D);const ue=a._a&&a._a.runWithContext||sy,we=a._e.run(()=>(p=n.effectScope(),ue(()=>p.run(s))));for(const H in we){const W=we[H];if(n.isRef(W)&&!du(W)||n.isReactive(W))process.env.NODE_ENV!=="production"&&u?co(b.value,H,n.toRef(we,H)):f||(x&&ly(W)&&(n.isRef(W)?W.value=x[H]:ls(W,x[H])),a.state.value[r][H]=W),process.env.NODE_ENV!=="production"&&G.state.push(H);else if(typeof W=="function"){const U=process.env.NODE_ENV!=="production"&&u?W:F(H,W);we[H]=U,process.env.NODE_ENV!=="production"&&(G.actions[H]=W),v.actions[H]=W}else process.env.NODE_ENV!=="production"&&du(W)&&(G.getters[H]=f?o.getters[H]:W,bo&&(we._getters||(we._getters=n.markRaw([]))).push(H))}if(ht(D,we),ht(n.toRaw(D),we),Object.defineProperty(D,"$state",{get:()=>process.env.NODE_ENV!=="production"&&u?b.value:a.state.value[r],set:H=>{if(process.env.NODE_ENV!=="production"&&u)throw new Error("cannot set hotState");P(W=>{ht(W,H)})}}),process.env.NODE_ENV!=="production"&&(D._hotUpdate=n.markRaw(H=>{D._hotUpdating=!0,H._hmrPayload.state.forEach(W=>{if(W in D.$state){const U=H.$state[W],K=D.$state[W];typeof U=="object"&&hn(U)&&hn(K)?nc(U,K):H.$state[W]=K}co(D,W,n.toRef(H.$state,W))}),Object.keys(D.$state).forEach(W=>{W in H.$state||Xi(D,W)}),m=!1,w=!1,a.state.value[r]=n.toRef(H._hmrPayload,"hotState"),w=!0,n.nextTick().then(()=>{m=!0});for(const W in H._hmrPayload.actions){const U=H[W];co(D,W,F(W,U))}for(const W in H._hmrPayload.getters){const U=H._hmrPayload.getters[W],K=f?n.computed(()=>(mr(a),U.call(D,D))):U;co(D,W,K)}Object.keys(D._hmrPayload.getters).forEach(W=>{W in H._hmrPayload.getters||Xi(D,W)}),Object.keys(D._hmrPayload.actions).forEach(W=>{W in H._hmrPayload.actions||Xi(D,W)}),D._hmrPayload=H._hmrPayload,D._getters=H._getters,D._hotUpdating=!1})),pr){const H={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(W=>{Object.defineProperty(D,W,ht({value:D[W]},H))})}return a._p.forEach(H=>{if(pr){const W=p.run(()=>H({store:D,app:a._a,pinia:a,options:v}));Object.keys(W||{}).forEach(U=>D._customProperties.add(U)),ht(D,W)}else ht(D,p.run(()=>H({store:D,app:a._a,pinia:a,options:v})))}),process.env.NODE_ENV!=="production"&&D.$state&&typeof D.$state=="object"&&typeof D.$state.constructor=="function"&&!D.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${D.$id}".`),x&&f&&o.hydrate&&o.hydrate(D.$state,x),m=!0,w=!0,D}function Eo(r,s,o){let a,u;const f=typeof s=="function";if(typeof r=="string")a=r,u=f?o:s;else if(u=r,a=r.id,process.env.NODE_ENV!=="production"&&typeof a!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function p(v,g){const m=n.hasInjectionContext();if(v=(process.env.NODE_ENV==="test"&&dr&&dr._testing?null:v)||(m?n.inject(Ku,null):null),v&&mr(v),process.env.NODE_ENV!=="production"&&!dr)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);v=dr,v._s.has(a)||(f?us(a,s,u,v):pu(a,u,v),process.env.NODE_ENV!=="production"&&(p._pinia=v));const w=v._s.get(a);if(process.env.NODE_ENV!=="production"&&g){const k="__hot:"+a,C=f?us(k,s,u,v,!0):pu(k,ht({},u),v,!0);g._hotUpdate(C),delete v.state.value[k],v._s.delete(k)}if(process.env.NODE_ENV!=="production"&&bo){const k=n.getCurrentInstance();if(k&&k.proxy&&!g){const C=k.proxy,T="_pStores"in C?C._pStores:C._pStores={};T[a]=w}}return w}return p.$id=a,p}function oc(r){{r=n.toRaw(r);const s={};for(const o in r){const a=r[o];(n.isRef(a)||n.isReactive(a))&&(s[o]=n.toRef(r,o))}return s}}function Ji(){return{id:"",src:""}}const uy=()=>[{value:"0.5",label:"0.5x"},{value:"0.6",label:"0.6x"},{value:"0.7",label:"0.7x"},{value:"0.8",label:"0.8x"},{value:"0.9",label:"0.9x"},{value:"1.0",label:"1.0x"},{value:"1.1",label:"1.1x"},{value:"1.2",label:"1.2x"},{value:"1.4",label:"1.4x"},{value:"1.5",label:"1.5x"},{value:"1.75",label:"1.75x"},{value:"2.0",label:"2.0x"}],cy=()=>[{value:"-10",label:"-10"},{value:"-9",label:"-9"},{value:"-8",label:"-8"},{value:"-7",label:"-7"},{value:"-6",label:"-6"},{value:"-5",label:"-5"},{value:"-4",label:"-4"},{value:"-3",label:"-3"},{value:"-2",label:"-2"},{value:"-1",label:"-1"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"}];function fy(r){return`${(.05*r*100).toFixed(0)}%`}function dy(r){return`${((r-1)*100).toFixed(0)}%`}function ic(){return{category:"",name:"",role:"",style:"",speed:"1.0",pitch:"0"}}function py(){return{...ic(),id:"",label:""}}function pt(){return()=>Promise.resolve([])}function ws(r){const s=(r==null?void 0:r.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(r==null?void 0:r.handleError)||(()=>{}),a=(r==null?void 0:r.pinyin)||{fetchData:pt()},u=(r==null?void 0:r.english)||{fetchData:pt()},f=(r==null?void 0:r.special)||{fetchData:pt(),fetchScene:pt(),fetchStyle:pt()},p=(r==null?void 0:r.bgm)||{fetchData:pt(),fetchScene:pt(),fetchStyle:pt()},v=(r==null?void 0:r.tryPlay)||{play:()=>Promise.resolve(Ji()),fetchData:pt(),featchTag:pt(),fetchStar:()=>Promise.resolve(!0)},g=(r==null?void 0:r.conversion)||{timeoutMilliseconds:2e4,audioUpload:()=>Promise.resolve(Ji()),transfer:()=>Promise.resolve(Ji()),fetchSpeaker:pt()},m=(r==null?void 0:r.management)||{recordRecentUsage:()=>Promise.resolve(py()),fetchRecentUsage:pt(),deleteRecentUsage:()=>Promise.resolve()},w=f,k=p,C=v;return w.menus??(w.menus=[{label:"默认音效",value:""},{label:"自定义音效",value:"custom"},{label:"最近音效",value:"history"}]),k.menus??(k.menus=[{label:"默认配乐",value:""},{label:"自定义配乐",value:"custom"},{label:"最近配乐",value:"history"}]),C.gender??(C.gender=[{label:"全部",value:""},{label:"男声",value:"Male"},{label:"女声",value:"Female"}]),C.topFlag??(C.topFlag=[{label:"热榜",value:""},{label:"SVIP",value:"SVIP"},{label:"付费",value:"付费"}]),C.category??(C.category=[{label:"常用",value:"常用"},{label:"已购",value:"已购"},{label:"收藏",value:"收藏"},{label:"我的",value:"我的"}]),{editorConfig:s,handleError:o,pinyin:a,english:u,bgm:k,special:w,tryPlay:C,conversion:g,management:m}}const sc=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),ac=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),Fn=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png",qe=Eo("--editor-config",()=>{const r=n.shallowRef(),s=n.shallowRef(),o=n.computed(()=>r.value),a=n.computed(()=>{if(s.value)return s.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:a,setEditor:p=>{r.value=p},setGlobalEditConfig:p=>{s.value=p??ws()}}}),hy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-audio"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-audio"?!R.SlateNode.string(u):o(u),a};function cs(r,s,o,a,u){const f=s===void 0?void 0:s.key;return{sel:r,data:s,children:o,text:a,elm:u,key:f}}const hu=Array.isArray;function Zi(r){return typeof r=="string"||typeof r=="number"||r instanceof String||r instanceof Number}function lc(r,s,o){if(r.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&s!==void 0)for(let a=0;a<s.length;++a){const u=s[a];if(typeof u=="string")continue;const f=u.data;f!==void 0&&lc(f,u.children,u.sel)}}function mu(r,s,o){let a={},u,f,p;if(o!==void 0?(s!==null&&(a=s),hu(o)?u=o:Zi(o)?f=o.toString():o&&o.sel&&(u=[o])):s!=null&&(hu(s)?u=s:Zi(s)?f=s.toString():s&&s.sel?u=[s]:a=s),u!==void 0)for(p=0;p<u.length;++p)Zi(u[p])&&(u[p]=cs(void 0,void 0,void 0,u[p],void 0));return r[0]==="s"&&r[1]==="v"&&r[2]==="g"&&(r.length===3||r[3]==="."||r[3]==="#")&&lc(a,u,r),cs(r,a,u,f,void 0)}function uc(r,s){for(const o of r)o!=null&&o!==!1&&o!==""&&(Array.isArray(o)?uc(o,s):typeof o=="string"||typeof o=="number"||typeof o=="boolean"?s.push(cs(void 0,void 0,void 0,String(o),void 0)):s.push(o));return s}function L(r,s,...o){const a=uc(o,[]);return typeof r=="function"?r(s,a):a.length===1&&!a[0].sel&&a[0].text?mu(r,s,a[0].text):mu(r,s,a)}L||(L={});var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */yo.exports;(function(r,s){(function(){var o,a="4.17.21",u=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",v="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",m=500,w="__lodash_placeholder__",k=1,C=2,T=4,x=1,b=2,I=1,P=2,M=4,V=8,F=16,G=32,X=64,D=128,ue=256,we=512,H=30,W="...",U=800,K=16,ie=1,De=2,kt=3,Ve=1/0,ve=9007199254740991,gn=17976931348623157e292,ge=0/0,Se=4294967295,gr=Se-1,_r=Se>>>1,_n=[["ary",D],["bind",I],["bindKey",P],["curry",V],["curryRight",F],["flip",we],["partial",G],["partialRight",X],["rearg",ue]],Ut="[object Arguments]",jt="[object Array]",Vs="[object AsyncFunction]",zn="[object Boolean]",Gn="[object Date]",Yc="[object DOMException]",yr="[object Error]",wr="[object Function]",As="[object GeneratorFunction]",gt="[object Map]",qn="[object Number]",Xc="[object Null]",$t="[object Object]",Os="[object Promise]",Jc="[object Proxy]",Kn="[object RegExp]",_t="[object Set]",Yn="[object String]",br="[object Symbol]",Zc="[object Undefined]",Xn="[object WeakMap]",Qc="[object WeakSet]",Jn="[object ArrayBuffer]",yn="[object DataView]",Ro="[object Float32Array]",To="[object Float64Array]",$o="[object Int8Array]",Vo="[object Int16Array]",Ao="[object Int32Array]",Oo="[object Uint8Array]",Do="[object Uint8ClampedArray]",Io="[object Uint16Array]",Bo="[object Uint32Array]",jc=/\b__p \+= '';/g,ef=/\b(__p \+=) '' \+/g,tf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ds=/&(?:amp|lt|gt|quot|#39);/g,Is=/[&<>"']/g,nf=RegExp(Ds.source),rf=RegExp(Is.source),of=/<%-([\s\S]+?)%>/g,sf=/<%([\s\S]+?)%>/g,Bs=/<%=([\s\S]+?)%>/g,af=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lf=/^\w*$/,uf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lo=/[\\^$.*+?()[\]{}|]/g,cf=RegExp(Lo.source),Po=/^\s+/,ff=/\s/,df=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pf=/\{\n\/\* \[wrapped with (.+)\] \*/,hf=/,? & /,mf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vf=/[()=,{}\[\]\/\s]/,gf=/\\(\\)?/g,_f=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ls=/\w*$/,yf=/^[-+]0x[0-9a-f]+$/i,wf=/^0b[01]+$/i,bf=/^\[object .+?Constructor\]$/,Ef=/^0o[0-7]+$/i,xf=/^(?:0|[1-9]\d*)$/,Sf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Er=/($^)/,kf=/['\n\r\u2028\u2029\\]/g,xr="\\ud800-\\udfff",Cf="\\u0300-\\u036f",Nf="\\ufe20-\\ufe2f",Rf="\\u20d0-\\u20ff",Ps=Cf+Nf+Rf,Ms="\\u2700-\\u27bf",Fs="a-z\\xdf-\\xf6\\xf8-\\xff",Tf="\\xac\\xb1\\xd7\\xf7",$f="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vf="\\u2000-\\u206f",Af=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Us="A-Z\\xc0-\\xd6\\xd8-\\xde",Hs="\\ufe0e\\ufe0f",Ws=Tf+$f+Vf+Af,Mo="['’]",Of="["+xr+"]",zs="["+Ws+"]",Sr="["+Ps+"]",Gs="\\d+",Df="["+Ms+"]",qs="["+Fs+"]",Ks="[^"+xr+Ws+Gs+Ms+Fs+Us+"]",Fo="\\ud83c[\\udffb-\\udfff]",If="(?:"+Sr+"|"+Fo+")",Ys="[^"+xr+"]",Uo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ho="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="["+Us+"]",Xs="\\u200d",Js="(?:"+qs+"|"+Ks+")",Bf="(?:"+wn+"|"+Ks+")",Zs="(?:"+Mo+"(?:d|ll|m|re|s|t|ve))?",Qs="(?:"+Mo+"(?:D|LL|M|RE|S|T|VE))?",js=If+"?",ea="["+Hs+"]?",Lf="(?:"+Xs+"(?:"+[Ys,Uo,Ho].join("|")+")"+ea+js+")*",Pf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ta=ea+js+Lf,Ff="(?:"+[Df,Uo,Ho].join("|")+")"+ta,Uf="(?:"+[Ys+Sr+"?",Sr,Uo,Ho,Of].join("|")+")",Hf=RegExp(Mo,"g"),Wf=RegExp(Sr,"g"),Wo=RegExp(Fo+"(?="+Fo+")|"+Uf+ta,"g"),zf=RegExp([wn+"?"+qs+"+"+Zs+"(?="+[zs,wn,"$"].join("|")+")",Bf+"+"+Qs+"(?="+[zs,wn+Js,"$"].join("|")+")",wn+"?"+Js+"+"+Zs,wn+"+"+Qs,Mf,Pf,Gs,Ff].join("|"),"g"),Gf=RegExp("["+Xs+xr+Ps+Hs+"]"),qf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yf=-1,ye={};ye[Ro]=ye[To]=ye[$o]=ye[Vo]=ye[Ao]=ye[Oo]=ye[Do]=ye[Io]=ye[Bo]=!0,ye[Ut]=ye[jt]=ye[Jn]=ye[zn]=ye[yn]=ye[Gn]=ye[yr]=ye[wr]=ye[gt]=ye[qn]=ye[$t]=ye[Kn]=ye[_t]=ye[Yn]=ye[Xn]=!1;var _e={};_e[Ut]=_e[jt]=_e[Jn]=_e[yn]=_e[zn]=_e[Gn]=_e[Ro]=_e[To]=_e[$o]=_e[Vo]=_e[Ao]=_e[gt]=_e[qn]=_e[$t]=_e[Kn]=_e[_t]=_e[Yn]=_e[br]=_e[Oo]=_e[Do]=_e[Io]=_e[Bo]=!0,_e[yr]=_e[wr]=_e[Xn]=!1;var Xf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Jf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},jf=parseFloat,ed=parseInt,na=typeof fn=="object"&&fn&&fn.Object===Object&&fn,td=typeof self=="object"&&self&&self.Object===Object&&self,Ie=na||td||Function("return this")(),zo=s&&!s.nodeType&&s,en=zo&&!0&&r&&!r.nodeType&&r,ra=en&&en.exports===zo,Go=ra&&na.process,it=function(){try{var E=en&&en.require&&en.require("util").types;return E||Go&&Go.binding&&Go.binding("util")}catch{}}(),oa=it&&it.isArrayBuffer,ia=it&&it.isDate,sa=it&&it.isMap,aa=it&&it.isRegExp,la=it&&it.isSet,ua=it&&it.isTypedArray;function je(E,$,N){switch(N.length){case 0:return E.call($);case 1:return E.call($,N[0]);case 2:return E.call($,N[0],N[1]);case 3:return E.call($,N[0],N[1],N[2])}return E.apply($,N)}function nd(E,$,N,q){for(var ee=-1,ce=E==null?0:E.length;++ee<ce;){var Te=E[ee];$(q,Te,N(Te),E)}return q}function st(E,$){for(var N=-1,q=E==null?0:E.length;++N<q&&$(E[N],N,E)!==!1;);return E}function rd(E,$){for(var N=E==null?0:E.length;N--&&$(E[N],N,E)!==!1;);return E}function ca(E,$){for(var N=-1,q=E==null?0:E.length;++N<q;)if(!$(E[N],N,E))return!1;return!0}function Ht(E,$){for(var N=-1,q=E==null?0:E.length,ee=0,ce=[];++N<q;){var Te=E[N];$(Te,N,E)&&(ce[ee++]=Te)}return ce}function kr(E,$){var N=E==null?0:E.length;return!!N&&bn(E,$,0)>-1}function qo(E,$,N){for(var q=-1,ee=E==null?0:E.length;++q<ee;)if(N($,E[q]))return!0;return!1}function be(E,$){for(var N=-1,q=E==null?0:E.length,ee=Array(q);++N<q;)ee[N]=$(E[N],N,E);return ee}function Wt(E,$){for(var N=-1,q=$.length,ee=E.length;++N<q;)E[ee+N]=$[N];return E}function Ko(E,$,N,q){var ee=-1,ce=E==null?0:E.length;for(q&&ce&&(N=E[++ee]);++ee<ce;)N=$(N,E[ee],ee,E);return N}function od(E,$,N,q){var ee=E==null?0:E.length;for(q&&ee&&(N=E[--ee]);ee--;)N=$(N,E[ee],ee,E);return N}function Yo(E,$){for(var N=-1,q=E==null?0:E.length;++N<q;)if($(E[N],N,E))return!0;return!1}var id=Xo("length");function sd(E){return E.split("")}function ad(E){return E.match(mf)||[]}function fa(E,$,N){var q;return N(E,function(ee,ce,Te){if($(ee,ce,Te))return q=ce,!1}),q}function Cr(E,$,N,q){for(var ee=E.length,ce=N+(q?1:-1);q?ce--:++ce<ee;)if($(E[ce],ce,E))return ce;return-1}function bn(E,$,N){return $===$?yd(E,$,N):Cr(E,da,N)}function ld(E,$,N,q){for(var ee=N-1,ce=E.length;++ee<ce;)if(q(E[ee],$))return ee;return-1}function da(E){return E!==E}function pa(E,$){var N=E==null?0:E.length;return N?Zo(E,$)/N:ge}function Xo(E){return function($){return $==null?o:$[E]}}function Jo(E){return function($){return E==null?o:E[$]}}function ha(E,$,N,q,ee){return ee(E,function(ce,Te,me){N=q?(q=!1,ce):$(N,ce,Te,me)}),N}function ud(E,$){var N=E.length;for(E.sort($);N--;)E[N]=E[N].value;return E}function Zo(E,$){for(var N,q=-1,ee=E.length;++q<ee;){var ce=$(E[q]);ce!==o&&(N=N===o?ce:N+ce)}return N}function Qo(E,$){for(var N=-1,q=Array(E);++N<E;)q[N]=$(N);return q}function cd(E,$){return be($,function(N){return[N,E[N]]})}function ma(E){return E&&E.slice(0,ya(E)+1).replace(Po,"")}function et(E){return function($){return E($)}}function jo(E,$){return be($,function(N){return E[N]})}function Zn(E,$){return E.has($)}function va(E,$){for(var N=-1,q=E.length;++N<q&&bn($,E[N],0)>-1;);return N}function ga(E,$){for(var N=E.length;N--&&bn($,E[N],0)>-1;);return N}function fd(E,$){for(var N=E.length,q=0;N--;)E[N]===$&&++q;return q}var dd=Jo(Xf),pd=Jo(Jf);function hd(E){return"\\"+Qf[E]}function md(E,$){return E==null?o:E[$]}function En(E){return Gf.test(E)}function vd(E){return qf.test(E)}function gd(E){for(var $,N=[];!($=E.next()).done;)N.push($.value);return N}function ei(E){var $=-1,N=Array(E.size);return E.forEach(function(q,ee){N[++$]=[ee,q]}),N}function _a(E,$){return function(N){return E($(N))}}function zt(E,$){for(var N=-1,q=E.length,ee=0,ce=[];++N<q;){var Te=E[N];(Te===$||Te===w)&&(E[N]=w,ce[ee++]=N)}return ce}function Nr(E){var $=-1,N=Array(E.size);return E.forEach(function(q){N[++$]=q}),N}function _d(E){var $=-1,N=Array(E.size);return E.forEach(function(q){N[++$]=[q,q]}),N}function yd(E,$,N){for(var q=N-1,ee=E.length;++q<ee;)if(E[q]===$)return q;return-1}function wd(E,$,N){for(var q=N+1;q--;)if(E[q]===$)return q;return q}function xn(E){return En(E)?Ed(E):id(E)}function yt(E){return En(E)?xd(E):sd(E)}function ya(E){for(var $=E.length;$--&&ff.test(E.charAt($)););return $}var bd=Jo(Zf);function Ed(E){for(var $=Wo.lastIndex=0;Wo.test(E);)++$;return $}function xd(E){return E.match(Wo)||[]}function Sd(E){return E.match(zf)||[]}var kd=function E($){$=$==null?Ie:Sn.defaults(Ie.Object(),$,Sn.pick(Ie,Kf));var N=$.Array,q=$.Date,ee=$.Error,ce=$.Function,Te=$.Math,me=$.Object,ti=$.RegExp,Cd=$.String,at=$.TypeError,Rr=N.prototype,Nd=ce.prototype,kn=me.prototype,Tr=$["__core-js_shared__"],$r=Nd.toString,pe=kn.hasOwnProperty,Rd=0,wa=function(){var e=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Vr=kn.toString,Td=$r.call(me),$d=Ie._,Vd=ti("^"+$r.call(pe).replace(Lo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ar=ra?$.Buffer:o,Gt=$.Symbol,Or=$.Uint8Array,ba=Ar?Ar.allocUnsafe:o,Dr=_a(me.getPrototypeOf,me),Ea=me.create,xa=kn.propertyIsEnumerable,Ir=Rr.splice,Sa=Gt?Gt.isConcatSpreadable:o,Qn=Gt?Gt.iterator:o,tn=Gt?Gt.toStringTag:o,Br=function(){try{var e=an(me,"defineProperty");return e({},"",{}),e}catch{}}(),Ad=$.clearTimeout!==Ie.clearTimeout&&$.clearTimeout,Od=q&&q.now!==Ie.Date.now&&q.now,Dd=$.setTimeout!==Ie.setTimeout&&$.setTimeout,Lr=Te.ceil,Pr=Te.floor,ni=me.getOwnPropertySymbols,Id=Ar?Ar.isBuffer:o,ka=$.isFinite,Bd=Rr.join,Ld=_a(me.keys,me),$e=Te.max,Me=Te.min,Pd=q.now,Md=$.parseInt,Ca=Te.random,Fd=Rr.reverse,ri=an($,"DataView"),jn=an($,"Map"),oi=an($,"Promise"),Cn=an($,"Set"),er=an($,"WeakMap"),tr=an(me,"create"),Mr=er&&new er,Nn={},Ud=ln(ri),Hd=ln(jn),Wd=ln(oi),zd=ln(Cn),Gd=ln(er),Fr=Gt?Gt.prototype:o,nr=Fr?Fr.valueOf:o,Na=Fr?Fr.toString:o;function d(e){if(ke(e)&&!te(e)&&!(e instanceof ae)){if(e instanceof lt)return e;if(pe.call(e,"__wrapped__"))return Rl(e)}return new lt(e)}var Rn=function(){function e(){}return function(t){if(!xe(t))return{};if(Ea)return Ea(t);e.prototype=t;var i=new e;return e.prototype=o,i}}();function Ur(){}function lt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}d.templateSettings={escape:of,evaluate:sf,interpolate:Bs,variable:"",imports:{_:d}},d.prototype=Ur.prototype,d.prototype.constructor=d,lt.prototype=Rn(Ur.prototype),lt.prototype.constructor=lt;function ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function qd(){var e=new ae(this.__wrapped__);return e.__actions__=Ye(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ye(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ye(this.__views__),e}function Kd(){if(this.__filtered__){var e=new ae(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Yd(){var e=this.__wrapped__.value(),t=this.__dir__,i=te(e),l=t<0,c=i?e.length:0,h=sh(0,c,this.__views__),_=h.start,y=h.end,S=y-_,A=l?y:_-1,O=this.__iteratees__,B=O.length,z=0,Y=Me(S,this.__takeCount__);if(!i||!l&&c==S&&Y==S)return Za(e,this.__actions__);var Z=[];e:for(;S--&&z<Y;){A+=t;for(var re=-1,Q=e[A];++re<B;){var se=O[re],le=se.iteratee,rt=se.type,Ge=le(Q);if(rt==De)Q=Ge;else if(!Ge){if(rt==ie)continue e;break e}}Z[z++]=Q}return Z}ae.prototype=Rn(Ur.prototype),ae.prototype.constructor=ae;function nn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Xd(){this.__data__=tr?tr(null):{},this.size=0}function Jd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Zd(e){var t=this.__data__;if(tr){var i=t[e];return i===g?o:i}return pe.call(t,e)?t[e]:o}function Qd(e){var t=this.__data__;return tr?t[e]!==o:pe.call(t,e)}function jd(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=tr&&t===o?g:t,this}nn.prototype.clear=Xd,nn.prototype.delete=Jd,nn.prototype.get=Zd,nn.prototype.has=Qd,nn.prototype.set=jd;function Vt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function ep(){this.__data__=[],this.size=0}function tp(e){var t=this.__data__,i=Hr(t,e);if(i<0)return!1;var l=t.length-1;return i==l?t.pop():Ir.call(t,i,1),--this.size,!0}function np(e){var t=this.__data__,i=Hr(t,e);return i<0?o:t[i][1]}function rp(e){return Hr(this.__data__,e)>-1}function op(e,t){var i=this.__data__,l=Hr(i,e);return l<0?(++this.size,i.push([e,t])):i[l][1]=t,this}Vt.prototype.clear=ep,Vt.prototype.delete=tp,Vt.prototype.get=np,Vt.prototype.has=rp,Vt.prototype.set=op;function At(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function ip(){this.size=0,this.__data__={hash:new nn,map:new(jn||Vt),string:new nn}}function sp(e){var t=eo(this,e).delete(e);return this.size-=t?1:0,t}function ap(e){return eo(this,e).get(e)}function lp(e){return eo(this,e).has(e)}function up(e,t){var i=eo(this,e),l=i.size;return i.set(e,t),this.size+=i.size==l?0:1,this}At.prototype.clear=ip,At.prototype.delete=sp,At.prototype.get=ap,At.prototype.has=lp,At.prototype.set=up;function rn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new At;++t<i;)this.add(e[t])}function cp(e){return this.__data__.set(e,g),this}function fp(e){return this.__data__.has(e)}rn.prototype.add=rn.prototype.push=cp,rn.prototype.has=fp;function wt(e){var t=this.__data__=new Vt(e);this.size=t.size}function dp(){this.__data__=new Vt,this.size=0}function pp(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function hp(e){return this.__data__.get(e)}function mp(e){return this.__data__.has(e)}function vp(e,t){var i=this.__data__;if(i instanceof Vt){var l=i.__data__;if(!jn||l.length<u-1)return l.push([e,t]),this.size=++i.size,this;i=this.__data__=new At(l)}return i.set(e,t),this.size=i.size,this}wt.prototype.clear=dp,wt.prototype.delete=pp,wt.prototype.get=hp,wt.prototype.has=mp,wt.prototype.set=vp;function Ra(e,t){var i=te(e),l=!i&&un(e),c=!i&&!l&&Jt(e),h=!i&&!l&&!c&&An(e),_=i||l||c||h,y=_?Qo(e.length,Cd):[],S=y.length;for(var A in e)(t||pe.call(e,A))&&!(_&&(A=="length"||c&&(A=="offset"||A=="parent")||h&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||Bt(A,S)))&&y.push(A);return y}function Ta(e){var t=e.length;return t?e[mi(0,t-1)]:o}function gp(e,t){return to(Ye(e),on(t,0,e.length))}function _p(e){return to(Ye(e))}function ii(e,t,i){(i!==o&&!bt(e[t],i)||i===o&&!(t in e))&&Ot(e,t,i)}function rr(e,t,i){var l=e[t];(!(pe.call(e,t)&&bt(l,i))||i===o&&!(t in e))&&Ot(e,t,i)}function Hr(e,t){for(var i=e.length;i--;)if(bt(e[i][0],t))return i;return-1}function yp(e,t,i,l){return qt(e,function(c,h,_){t(l,c,i(c),_)}),l}function $a(e,t){return e&&Nt(t,Ae(t),e)}function wp(e,t){return e&&Nt(t,Je(t),e)}function Ot(e,t,i){t=="__proto__"&&Br?Br(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function si(e,t){for(var i=-1,l=t.length,c=N(l),h=e==null;++i<l;)c[i]=h?o:Fi(e,t[i]);return c}function on(e,t,i){return e===e&&(i!==o&&(e=e<=i?e:i),t!==o&&(e=e>=t?e:t)),e}function ut(e,t,i,l,c,h){var _,y=t&k,S=t&C,A=t&T;if(i&&(_=c?i(e,l,c,h):i(e)),_!==o)return _;if(!xe(e))return e;var O=te(e);if(O){if(_=lh(e),!y)return Ye(e,_)}else{var B=Fe(e),z=B==wr||B==As;if(Jt(e))return el(e,y);if(B==$t||B==Ut||z&&!c){if(_=S||z?{}:yl(e),!y)return S?Zp(e,wp(_,e)):Jp(e,$a(_,e))}else{if(!_e[B])return c?e:{};_=uh(e,B,y)}}h||(h=new wt);var Y=h.get(e);if(Y)return Y;h.set(e,_),Yl(e)?e.forEach(function(Q){_.add(ut(Q,t,i,Q,e,h))}):ql(e)&&e.forEach(function(Q,se){_.set(se,ut(Q,t,i,se,e,h))});var Z=A?S?Ci:ki:S?Je:Ae,re=O?o:Z(e);return st(re||e,function(Q,se){re&&(se=Q,Q=e[se]),rr(_,se,ut(Q,t,i,se,e,h))}),_}function bp(e){var t=Ae(e);return function(i){return Va(i,e,t)}}function Va(e,t,i){var l=i.length;if(e==null)return!l;for(e=me(e);l--;){var c=i[l],h=t[c],_=e[c];if(_===o&&!(c in e)||!h(_))return!1}return!0}function Aa(e,t,i){if(typeof e!="function")throw new at(p);return cr(function(){e.apply(o,i)},t)}function or(e,t,i,l){var c=-1,h=kr,_=!0,y=e.length,S=[],A=t.length;if(!y)return S;i&&(t=be(t,et(i))),l?(h=qo,_=!1):t.length>=u&&(h=Zn,_=!1,t=new rn(t));e:for(;++c<y;){var O=e[c],B=i==null?O:i(O);if(O=l||O!==0?O:0,_&&B===B){for(var z=A;z--;)if(t[z]===B)continue e;S.push(O)}else h(t,B,l)||S.push(O)}return S}var qt=il(Ct),Oa=il(li,!0);function Ep(e,t){var i=!0;return qt(e,function(l,c,h){return i=!!t(l,c,h),i}),i}function Wr(e,t,i){for(var l=-1,c=e.length;++l<c;){var h=e[l],_=t(h);if(_!=null&&(y===o?_===_&&!nt(_):i(_,y)))var y=_,S=h}return S}function xp(e,t,i,l){var c=e.length;for(i=ne(i),i<0&&(i=-i>c?0:c+i),l=l===o||l>c?c:ne(l),l<0&&(l+=c),l=i>l?0:Jl(l);i<l;)e[i++]=t;return e}function Da(e,t){var i=[];return qt(e,function(l,c,h){t(l,c,h)&&i.push(l)}),i}function Be(e,t,i,l,c){var h=-1,_=e.length;for(i||(i=fh),c||(c=[]);++h<_;){var y=e[h];t>0&&i(y)?t>1?Be(y,t-1,i,l,c):Wt(c,y):l||(c[c.length]=y)}return c}var ai=sl(),Ia=sl(!0);function Ct(e,t){return e&&ai(e,t,Ae)}function li(e,t){return e&&Ia(e,t,Ae)}function zr(e,t){return Ht(t,function(i){return Lt(e[i])})}function sn(e,t){t=Yt(t,e);for(var i=0,l=t.length;e!=null&&i<l;)e=e[Rt(t[i++])];return i&&i==l?e:o}function Ba(e,t,i){var l=t(e);return te(e)?l:Wt(l,i(e))}function We(e){return e==null?e===o?Zc:Xc:tn&&tn in me(e)?ih(e):_h(e)}function ui(e,t){return e>t}function Sp(e,t){return e!=null&&pe.call(e,t)}function kp(e,t){return e!=null&&t in me(e)}function Cp(e,t,i){return e>=Me(t,i)&&e<$e(t,i)}function ci(e,t,i){for(var l=i?qo:kr,c=e[0].length,h=e.length,_=h,y=N(h),S=1/0,A=[];_--;){var O=e[_];_&&t&&(O=be(O,et(t))),S=Me(O.length,S),y[_]=!i&&(t||c>=120&&O.length>=120)?new rn(_&&O):o}O=e[0];var B=-1,z=y[0];e:for(;++B<c&&A.length<S;){var Y=O[B],Z=t?t(Y):Y;if(Y=i||Y!==0?Y:0,!(z?Zn(z,Z):l(A,Z,i))){for(_=h;--_;){var re=y[_];if(!(re?Zn(re,Z):l(e[_],Z,i)))continue e}z&&z.push(Z),A.push(Y)}}return A}function Np(e,t,i,l){return Ct(e,function(c,h,_){t(l,i(c),h,_)}),l}function ir(e,t,i){t=Yt(t,e),e=xl(e,t);var l=e==null?e:e[Rt(ft(t))];return l==null?o:je(l,e,i)}function La(e){return ke(e)&&We(e)==Ut}function Rp(e){return ke(e)&&We(e)==Jn}function Tp(e){return ke(e)&&We(e)==Gn}function sr(e,t,i,l,c){return e===t?!0:e==null||t==null||!ke(e)&&!ke(t)?e!==e&&t!==t:$p(e,t,i,l,sr,c)}function $p(e,t,i,l,c,h){var _=te(e),y=te(t),S=_?jt:Fe(e),A=y?jt:Fe(t);S=S==Ut?$t:S,A=A==Ut?$t:A;var O=S==$t,B=A==$t,z=S==A;if(z&&Jt(e)){if(!Jt(t))return!1;_=!0,O=!1}if(z&&!O)return h||(h=new wt),_||An(e)?vl(e,t,i,l,c,h):rh(e,t,S,i,l,c,h);if(!(i&x)){var Y=O&&pe.call(e,"__wrapped__"),Z=B&&pe.call(t,"__wrapped__");if(Y||Z){var re=Y?e.value():e,Q=Z?t.value():t;return h||(h=new wt),c(re,Q,i,l,h)}}return z?(h||(h=new wt),oh(e,t,i,l,c,h)):!1}function Vp(e){return ke(e)&&Fe(e)==gt}function fi(e,t,i,l){var c=i.length,h=c,_=!l;if(e==null)return!h;for(e=me(e);c--;){var y=i[c];if(_&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++c<h;){y=i[c];var S=y[0],A=e[S],O=y[1];if(_&&y[2]){if(A===o&&!(S in e))return!1}else{var B=new wt;if(l)var z=l(A,O,S,e,t,B);if(!(z===o?sr(O,A,x|b,l,B):z))return!1}}return!0}function Pa(e){if(!xe(e)||ph(e))return!1;var t=Lt(e)?Vd:bf;return t.test(ln(e))}function Ap(e){return ke(e)&&We(e)==Kn}function Op(e){return ke(e)&&Fe(e)==_t}function Dp(e){return ke(e)&&ao(e.length)&&!!ye[We(e)]}function Ma(e){return typeof e=="function"?e:e==null?Ze:typeof e=="object"?te(e)?Ha(e[0],e[1]):Ua(e):au(e)}function di(e){if(!ur(e))return Ld(e);var t=[];for(var i in me(e))pe.call(e,i)&&i!="constructor"&&t.push(i);return t}function Ip(e){if(!xe(e))return gh(e);var t=ur(e),i=[];for(var l in e)l=="constructor"&&(t||!pe.call(e,l))||i.push(l);return i}function pi(e,t){return e<t}function Fa(e,t){var i=-1,l=Xe(e)?N(e.length):[];return qt(e,function(c,h,_){l[++i]=t(c,h,_)}),l}function Ua(e){var t=Ri(e);return t.length==1&&t[0][2]?bl(t[0][0],t[0][1]):function(i){return i===e||fi(i,e,t)}}function Ha(e,t){return $i(e)&&wl(t)?bl(Rt(e),t):function(i){var l=Fi(i,e);return l===o&&l===t?Ui(i,e):sr(t,l,x|b)}}function Gr(e,t,i,l,c){e!==t&&ai(t,function(h,_){if(c||(c=new wt),xe(h))Bp(e,t,_,i,Gr,l,c);else{var y=l?l(Ai(e,_),h,_+"",e,t,c):o;y===o&&(y=h),ii(e,_,y)}},Je)}function Bp(e,t,i,l,c,h,_){var y=Ai(e,i),S=Ai(t,i),A=_.get(S);if(A){ii(e,i,A);return}var O=h?h(y,S,i+"",e,t,_):o,B=O===o;if(B){var z=te(S),Y=!z&&Jt(S),Z=!z&&!Y&&An(S);O=S,z||Y||Z?te(y)?O=y:Ne(y)?O=Ye(y):Y?(B=!1,O=el(S,!0)):Z?(B=!1,O=tl(S,!0)):O=[]:fr(S)||un(S)?(O=y,un(y)?O=Zl(y):(!xe(y)||Lt(y))&&(O=yl(S))):B=!1}B&&(_.set(S,O),c(O,S,l,h,_),_.delete(S)),ii(e,i,O)}function Wa(e,t){var i=e.length;if(i)return t+=t<0?i:0,Bt(t,i)?e[t]:o}function za(e,t,i){t.length?t=be(t,function(h){return te(h)?function(_){return sn(_,h.length===1?h[0]:h)}:h}):t=[Ze];var l=-1;t=be(t,et(J()));var c=Fa(e,function(h,_,y){var S=be(t,function(A){return A(h)});return{criteria:S,index:++l,value:h}});return ud(c,function(h,_){return Xp(h,_,i)})}function Lp(e,t){return Ga(e,t,function(i,l){return Ui(e,l)})}function Ga(e,t,i){for(var l=-1,c=t.length,h={};++l<c;){var _=t[l],y=sn(e,_);i(y,_)&&ar(h,Yt(_,e),y)}return h}function Pp(e){return function(t){return sn(t,e)}}function hi(e,t,i,l){var c=l?ld:bn,h=-1,_=t.length,y=e;for(e===t&&(t=Ye(t)),i&&(y=be(e,et(i)));++h<_;)for(var S=0,A=t[h],O=i?i(A):A;(S=c(y,O,S,l))>-1;)y!==e&&Ir.call(y,S,1),Ir.call(e,S,1);return e}function qa(e,t){for(var i=e?t.length:0,l=i-1;i--;){var c=t[i];if(i==l||c!==h){var h=c;Bt(c)?Ir.call(e,c,1):_i(e,c)}}return e}function mi(e,t){return e+Pr(Ca()*(t-e+1))}function Mp(e,t,i,l){for(var c=-1,h=$e(Lr((t-e)/(i||1)),0),_=N(h);h--;)_[l?h:++c]=e,e+=i;return _}function vi(e,t){var i="";if(!e||t<1||t>ve)return i;do t%2&&(i+=e),t=Pr(t/2),t&&(e+=e);while(t);return i}function oe(e,t){return Oi(El(e,t,Ze),e+"")}function Fp(e){return Ta(On(e))}function Up(e,t){var i=On(e);return to(i,on(t,0,i.length))}function ar(e,t,i,l){if(!xe(e))return e;t=Yt(t,e);for(var c=-1,h=t.length,_=h-1,y=e;y!=null&&++c<h;){var S=Rt(t[c]),A=i;if(S==="__proto__"||S==="constructor"||S==="prototype")return e;if(c!=_){var O=y[S];A=l?l(O,S,y):o,A===o&&(A=xe(O)?O:Bt(t[c+1])?[]:{})}rr(y,S,A),y=y[S]}return e}var Ka=Mr?function(e,t){return Mr.set(e,t),e}:Ze,Hp=Br?function(e,t){return Br(e,"toString",{configurable:!0,enumerable:!1,value:Wi(t),writable:!0})}:Ze;function Wp(e){return to(On(e))}function ct(e,t,i){var l=-1,c=e.length;t<0&&(t=-t>c?0:c+t),i=i>c?c:i,i<0&&(i+=c),c=t>i?0:i-t>>>0,t>>>=0;for(var h=N(c);++l<c;)h[l]=e[l+t];return h}function zp(e,t){var i;return qt(e,function(l,c,h){return i=t(l,c,h),!i}),!!i}function qr(e,t,i){var l=0,c=e==null?l:e.length;if(typeof t=="number"&&t===t&&c<=_r){for(;l<c;){var h=l+c>>>1,_=e[h];_!==null&&!nt(_)&&(i?_<=t:_<t)?l=h+1:c=h}return c}return gi(e,t,Ze,i)}function gi(e,t,i,l){var c=0,h=e==null?0:e.length;if(h===0)return 0;t=i(t);for(var _=t!==t,y=t===null,S=nt(t),A=t===o;c<h;){var O=Pr((c+h)/2),B=i(e[O]),z=B!==o,Y=B===null,Z=B===B,re=nt(B);if(_)var Q=l||Z;else A?Q=Z&&(l||z):y?Q=Z&&z&&(l||!Y):S?Q=Z&&z&&!Y&&(l||!re):Y||re?Q=!1:Q=l?B<=t:B<t;Q?c=O+1:h=O}return Me(h,gr)}function Ya(e,t){for(var i=-1,l=e.length,c=0,h=[];++i<l;){var _=e[i],y=t?t(_):_;if(!i||!bt(y,S)){var S=y;h[c++]=_===0?0:_}}return h}function Xa(e){return typeof e=="number"?e:nt(e)?ge:+e}function tt(e){if(typeof e=="string")return e;if(te(e))return be(e,tt)+"";if(nt(e))return Na?Na.call(e):"";var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function Kt(e,t,i){var l=-1,c=kr,h=e.length,_=!0,y=[],S=y;if(i)_=!1,c=qo;else if(h>=u){var A=t?null:th(e);if(A)return Nr(A);_=!1,c=Zn,S=new rn}else S=t?[]:y;e:for(;++l<h;){var O=e[l],B=t?t(O):O;if(O=i||O!==0?O:0,_&&B===B){for(var z=S.length;z--;)if(S[z]===B)continue e;t&&S.push(B),y.push(O)}else c(S,B,i)||(S!==y&&S.push(B),y.push(O))}return y}function _i(e,t){return t=Yt(t,e),e=xl(e,t),e==null||delete e[Rt(ft(t))]}function Ja(e,t,i,l){return ar(e,t,i(sn(e,t)),l)}function Kr(e,t,i,l){for(var c=e.length,h=l?c:-1;(l?h--:++h<c)&&t(e[h],h,e););return i?ct(e,l?0:h,l?h+1:c):ct(e,l?h+1:0,l?c:h)}function Za(e,t){var i=e;return i instanceof ae&&(i=i.value()),Ko(t,function(l,c){return c.func.apply(c.thisArg,Wt([l],c.args))},i)}function yi(e,t,i){var l=e.length;if(l<2)return l?Kt(e[0]):[];for(var c=-1,h=N(l);++c<l;)for(var _=e[c],y=-1;++y<l;)y!=c&&(h[c]=or(h[c]||_,e[y],t,i));return Kt(Be(h,1),t,i)}function Qa(e,t,i){for(var l=-1,c=e.length,h=t.length,_={};++l<c;){var y=l<h?t[l]:o;i(_,e[l],y)}return _}function wi(e){return Ne(e)?e:[]}function bi(e){return typeof e=="function"?e:Ze}function Yt(e,t){return te(e)?e:$i(e,t)?[e]:Nl(de(e))}var Gp=oe;function Xt(e,t,i){var l=e.length;return i=i===o?l:i,!t&&i>=l?e:ct(e,t,i)}var ja=Ad||function(e){return Ie.clearTimeout(e)};function el(e,t){if(t)return e.slice();var i=e.length,l=ba?ba(i):new e.constructor(i);return e.copy(l),l}function Ei(e){var t=new e.constructor(e.byteLength);return new Or(t).set(new Or(e)),t}function qp(e,t){var i=t?Ei(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Kp(e){var t=new e.constructor(e.source,Ls.exec(e));return t.lastIndex=e.lastIndex,t}function Yp(e){return nr?me(nr.call(e)):{}}function tl(e,t){var i=t?Ei(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function nl(e,t){if(e!==t){var i=e!==o,l=e===null,c=e===e,h=nt(e),_=t!==o,y=t===null,S=t===t,A=nt(t);if(!y&&!A&&!h&&e>t||h&&_&&S&&!y&&!A||l&&_&&S||!i&&S||!c)return 1;if(!l&&!h&&!A&&e<t||A&&i&&c&&!l&&!h||y&&i&&c||!_&&c||!S)return-1}return 0}function Xp(e,t,i){for(var l=-1,c=e.criteria,h=t.criteria,_=c.length,y=i.length;++l<_;){var S=nl(c[l],h[l]);if(S){if(l>=y)return S;var A=i[l];return S*(A=="desc"?-1:1)}}return e.index-t.index}function rl(e,t,i,l){for(var c=-1,h=e.length,_=i.length,y=-1,S=t.length,A=$e(h-_,0),O=N(S+A),B=!l;++y<S;)O[y]=t[y];for(;++c<_;)(B||c<h)&&(O[i[c]]=e[c]);for(;A--;)O[y++]=e[c++];return O}function ol(e,t,i,l){for(var c=-1,h=e.length,_=-1,y=i.length,S=-1,A=t.length,O=$e(h-y,0),B=N(O+A),z=!l;++c<O;)B[c]=e[c];for(var Y=c;++S<A;)B[Y+S]=t[S];for(;++_<y;)(z||c<h)&&(B[Y+i[_]]=e[c++]);return B}function Ye(e,t){var i=-1,l=e.length;for(t||(t=N(l));++i<l;)t[i]=e[i];return t}function Nt(e,t,i,l){var c=!i;i||(i={});for(var h=-1,_=t.length;++h<_;){var y=t[h],S=l?l(i[y],e[y],y,i,e):o;S===o&&(S=e[y]),c?Ot(i,y,S):rr(i,y,S)}return i}function Jp(e,t){return Nt(e,Ti(e),t)}function Zp(e,t){return Nt(e,gl(e),t)}function Yr(e,t){return function(i,l){var c=te(i)?nd:yp,h=t?t():{};return c(i,e,J(l,2),h)}}function Tn(e){return oe(function(t,i){var l=-1,c=i.length,h=c>1?i[c-1]:o,_=c>2?i[2]:o;for(h=e.length>3&&typeof h=="function"?(c--,h):o,_&&ze(i[0],i[1],_)&&(h=c<3?o:h,c=1),t=me(t);++l<c;){var y=i[l];y&&e(t,y,l,h)}return t})}function il(e,t){return function(i,l){if(i==null)return i;if(!Xe(i))return e(i,l);for(var c=i.length,h=t?c:-1,_=me(i);(t?h--:++h<c)&&l(_[h],h,_)!==!1;);return i}}function sl(e){return function(t,i,l){for(var c=-1,h=me(t),_=l(t),y=_.length;y--;){var S=_[e?y:++c];if(i(h[S],S,h)===!1)break}return t}}function Qp(e,t,i){var l=t&I,c=lr(e);function h(){var _=this&&this!==Ie&&this instanceof h?c:e;return _.apply(l?i:this,arguments)}return h}function al(e){return function(t){t=de(t);var i=En(t)?yt(t):o,l=i?i[0]:t.charAt(0),c=i?Xt(i,1).join(""):t.slice(1);return l[e]()+c}}function $n(e){return function(t){return Ko(iu(ou(t).replace(Hf,"")),e,"")}}function lr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Rn(e.prototype),l=e.apply(i,t);return xe(l)?l:i}}function jp(e,t,i){var l=lr(e);function c(){for(var h=arguments.length,_=N(h),y=h,S=Vn(c);y--;)_[y]=arguments[y];var A=h<3&&_[0]!==S&&_[h-1]!==S?[]:zt(_,S);if(h-=A.length,h<i)return dl(e,t,Xr,c.placeholder,o,_,A,o,o,i-h);var O=this&&this!==Ie&&this instanceof c?l:e;return je(O,this,_)}return c}function ll(e){return function(t,i,l){var c=me(t);if(!Xe(t)){var h=J(i,3);t=Ae(t),i=function(y){return h(c[y],y,c)}}var _=e(t,i,l);return _>-1?c[h?t[_]:_]:o}}function ul(e){return It(function(t){var i=t.length,l=i,c=lt.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new at(p);if(c&&!_&&jr(h)=="wrapper")var _=new lt([],!0)}for(l=_?l:i;++l<i;){h=t[l];var y=jr(h),S=y=="wrapper"?Ni(h):o;S&&Vi(S[0])&&S[1]==(D|V|G|ue)&&!S[4].length&&S[9]==1?_=_[jr(S[0])].apply(_,S[3]):_=h.length==1&&Vi(h)?_[y]():_.thru(h)}return function(){var A=arguments,O=A[0];if(_&&A.length==1&&te(O))return _.plant(O).value();for(var B=0,z=i?t[B].apply(this,A):O;++B<i;)z=t[B].call(this,z);return z}})}function Xr(e,t,i,l,c,h,_,y,S,A){var O=t&D,B=t&I,z=t&P,Y=t&(V|F),Z=t&we,re=z?o:lr(e);function Q(){for(var se=arguments.length,le=N(se),rt=se;rt--;)le[rt]=arguments[rt];if(Y)var Ge=Vn(Q),ot=fd(le,Ge);if(l&&(le=rl(le,l,c,Y)),h&&(le=ol(le,h,_,Y)),se-=ot,Y&&se<A){var Re=zt(le,Ge);return dl(e,t,Xr,Q.placeholder,i,le,Re,y,S,A-se)}var Et=B?i:this,Mt=z?Et[e]:e;return se=le.length,y?le=yh(le,y):Z&&se>1&&le.reverse(),O&&S<se&&(le.length=S),this&&this!==Ie&&this instanceof Q&&(Mt=re||lr(Mt)),Mt.apply(Et,le)}return Q}function cl(e,t){return function(i,l){return Np(i,e,t(l),{})}}function Jr(e,t){return function(i,l){var c;if(i===o&&l===o)return t;if(i!==o&&(c=i),l!==o){if(c===o)return l;typeof i=="string"||typeof l=="string"?(i=tt(i),l=tt(l)):(i=Xa(i),l=Xa(l)),c=e(i,l)}return c}}function xi(e){return It(function(t){return t=be(t,et(J())),oe(function(i){var l=this;return e(t,function(c){return je(c,l,i)})})})}function Zr(e,t){t=t===o?" ":tt(t);var i=t.length;if(i<2)return i?vi(t,e):t;var l=vi(t,Lr(e/xn(t)));return En(t)?Xt(yt(l),0,e).join(""):l.slice(0,e)}function eh(e,t,i,l){var c=t&I,h=lr(e);function _(){for(var y=-1,S=arguments.length,A=-1,O=l.length,B=N(O+S),z=this&&this!==Ie&&this instanceof _?h:e;++A<O;)B[A]=l[A];for(;S--;)B[A++]=arguments[++y];return je(z,c?i:this,B)}return _}function fl(e){return function(t,i,l){return l&&typeof l!="number"&&ze(t,i,l)&&(i=l=o),t=Pt(t),i===o?(i=t,t=0):i=Pt(i),l=l===o?t<i?1:-1:Pt(l),Mp(t,i,l,e)}}function Qr(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=dt(t),i=dt(i)),e(t,i)}}function dl(e,t,i,l,c,h,_,y,S,A){var O=t&V,B=O?_:o,z=O?o:_,Y=O?h:o,Z=O?o:h;t|=O?G:X,t&=~(O?X:G),t&M||(t&=~(I|P));var re=[e,t,c,Y,B,Z,z,y,S,A],Q=i.apply(o,re);return Vi(e)&&Sl(Q,re),Q.placeholder=l,kl(Q,e,t)}function Si(e){var t=Te[e];return function(i,l){if(i=dt(i),l=l==null?0:Me(ne(l),292),l&&ka(i)){var c=(de(i)+"e").split("e"),h=t(c[0]+"e"+(+c[1]+l));return c=(de(h)+"e").split("e"),+(c[0]+"e"+(+c[1]-l))}return t(i)}}var th=Cn&&1/Nr(new Cn([,-0]))[1]==Ve?function(e){return new Cn(e)}:qi;function pl(e){return function(t){var i=Fe(t);return i==gt?ei(t):i==_t?_d(t):cd(t,e(t))}}function Dt(e,t,i,l,c,h,_,y){var S=t&P;if(!S&&typeof e!="function")throw new at(p);var A=l?l.length:0;if(A||(t&=~(G|X),l=c=o),_=_===o?_:$e(ne(_),0),y=y===o?y:ne(y),A-=c?c.length:0,t&X){var O=l,B=c;l=c=o}var z=S?o:Ni(e),Y=[e,t,i,l,c,O,B,h,_,y];if(z&&vh(Y,z),e=Y[0],t=Y[1],i=Y[2],l=Y[3],c=Y[4],y=Y[9]=Y[9]===o?S?0:e.length:$e(Y[9]-A,0),!y&&t&(V|F)&&(t&=~(V|F)),!t||t==I)var Z=Qp(e,t,i);else t==V||t==F?Z=jp(e,t,y):(t==G||t==(I|G))&&!c.length?Z=eh(e,t,i,l):Z=Xr.apply(o,Y);var re=z?Ka:Sl;return kl(re(Z,Y),e,t)}function hl(e,t,i,l){return e===o||bt(e,kn[i])&&!pe.call(l,i)?t:e}function ml(e,t,i,l,c,h){return xe(e)&&xe(t)&&(h.set(t,e),Gr(e,t,o,ml,h),h.delete(t)),e}function nh(e){return fr(e)?o:e}function vl(e,t,i,l,c,h){var _=i&x,y=e.length,S=t.length;if(y!=S&&!(_&&S>y))return!1;var A=h.get(e),O=h.get(t);if(A&&O)return A==t&&O==e;var B=-1,z=!0,Y=i&b?new rn:o;for(h.set(e,t),h.set(t,e);++B<y;){var Z=e[B],re=t[B];if(l)var Q=_?l(re,Z,B,t,e,h):l(Z,re,B,e,t,h);if(Q!==o){if(Q)continue;z=!1;break}if(Y){if(!Yo(t,function(se,le){if(!Zn(Y,le)&&(Z===se||c(Z,se,i,l,h)))return Y.push(le)})){z=!1;break}}else if(!(Z===re||c(Z,re,i,l,h))){z=!1;break}}return h.delete(e),h.delete(t),z}function rh(e,t,i,l,c,h,_){switch(i){case yn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jn:return!(e.byteLength!=t.byteLength||!h(new Or(e),new Or(t)));case zn:case Gn:case qn:return bt(+e,+t);case yr:return e.name==t.name&&e.message==t.message;case Kn:case Yn:return e==t+"";case gt:var y=ei;case _t:var S=l&x;if(y||(y=Nr),e.size!=t.size&&!S)return!1;var A=_.get(e);if(A)return A==t;l|=b,_.set(e,t);var O=vl(y(e),y(t),l,c,h,_);return _.delete(e),O;case br:if(nr)return nr.call(e)==nr.call(t)}return!1}function oh(e,t,i,l,c,h){var _=i&x,y=ki(e),S=y.length,A=ki(t),O=A.length;if(S!=O&&!_)return!1;for(var B=S;B--;){var z=y[B];if(!(_?z in t:pe.call(t,z)))return!1}var Y=h.get(e),Z=h.get(t);if(Y&&Z)return Y==t&&Z==e;var re=!0;h.set(e,t),h.set(t,e);for(var Q=_;++B<S;){z=y[B];var se=e[z],le=t[z];if(l)var rt=_?l(le,se,z,t,e,h):l(se,le,z,e,t,h);if(!(rt===o?se===le||c(se,le,i,l,h):rt)){re=!1;break}Q||(Q=z=="constructor")}if(re&&!Q){var Ge=e.constructor,ot=t.constructor;Ge!=ot&&"constructor"in e&&"constructor"in t&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof ot=="function"&&ot instanceof ot)&&(re=!1)}return h.delete(e),h.delete(t),re}function It(e){return Oi(El(e,o,Vl),e+"")}function ki(e){return Ba(e,Ae,Ti)}function Ci(e){return Ba(e,Je,gl)}var Ni=Mr?function(e){return Mr.get(e)}:qi;function jr(e){for(var t=e.name+"",i=Nn[t],l=pe.call(Nn,t)?i.length:0;l--;){var c=i[l],h=c.func;if(h==null||h==e)return c.name}return t}function Vn(e){var t=pe.call(d,"placeholder")?d:e;return t.placeholder}function J(){var e=d.iteratee||zi;return e=e===zi?Ma:e,arguments.length?e(arguments[0],arguments[1]):e}function eo(e,t){var i=e.__data__;return dh(t)?i[typeof t=="string"?"string":"hash"]:i.map}function Ri(e){for(var t=Ae(e),i=t.length;i--;){var l=t[i],c=e[l];t[i]=[l,c,wl(c)]}return t}function an(e,t){var i=md(e,t);return Pa(i)?i:o}function ih(e){var t=pe.call(e,tn),i=e[tn];try{e[tn]=o;var l=!0}catch{}var c=Vr.call(e);return l&&(t?e[tn]=i:delete e[tn]),c}var Ti=ni?function(e){return e==null?[]:(e=me(e),Ht(ni(e),function(t){return xa.call(e,t)}))}:Ki,gl=ni?function(e){for(var t=[];e;)Wt(t,Ti(e)),e=Dr(e);return t}:Ki,Fe=We;(ri&&Fe(new ri(new ArrayBuffer(1)))!=yn||jn&&Fe(new jn)!=gt||oi&&Fe(oi.resolve())!=Os||Cn&&Fe(new Cn)!=_t||er&&Fe(new er)!=Xn)&&(Fe=function(e){var t=We(e),i=t==$t?e.constructor:o,l=i?ln(i):"";if(l)switch(l){case Ud:return yn;case Hd:return gt;case Wd:return Os;case zd:return _t;case Gd:return Xn}return t});function sh(e,t,i){for(var l=-1,c=i.length;++l<c;){var h=i[l],_=h.size;switch(h.type){case"drop":e+=_;break;case"dropRight":t-=_;break;case"take":t=Me(t,e+_);break;case"takeRight":e=$e(e,t-_);break}}return{start:e,end:t}}function ah(e){var t=e.match(pf);return t?t[1].split(hf):[]}function _l(e,t,i){t=Yt(t,e);for(var l=-1,c=t.length,h=!1;++l<c;){var _=Rt(t[l]);if(!(h=e!=null&&i(e,_)))break;e=e[_]}return h||++l!=c?h:(c=e==null?0:e.length,!!c&&ao(c)&&Bt(_,c)&&(te(e)||un(e)))}function lh(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&pe.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function yl(e){return typeof e.constructor=="function"&&!ur(e)?Rn(Dr(e)):{}}function uh(e,t,i){var l=e.constructor;switch(t){case Jn:return Ei(e);case zn:case Gn:return new l(+e);case yn:return qp(e,i);case Ro:case To:case $o:case Vo:case Ao:case Oo:case Do:case Io:case Bo:return tl(e,i);case gt:return new l;case qn:case Yn:return new l(e);case Kn:return Kp(e);case _t:return new l;case br:return Yp(e)}}function ch(e,t){var i=t.length;if(!i)return e;var l=i-1;return t[l]=(i>1?"& ":"")+t[l],t=t.join(i>2?", ":" "),e.replace(df,`{
/* [wrapped with `+t+`] */
`)}function fh(e){return te(e)||un(e)||!!(Sa&&e&&e[Sa])}function Bt(e,t){var i=typeof e;return t=t??ve,!!t&&(i=="number"||i!="symbol"&&xf.test(e))&&e>-1&&e%1==0&&e<t}function ze(e,t,i){if(!xe(i))return!1;var l=typeof t;return(l=="number"?Xe(i)&&Bt(t,i.length):l=="string"&&t in i)?bt(i[t],e):!1}function $i(e,t){if(te(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||nt(e)?!0:lf.test(e)||!af.test(e)||t!=null&&e in me(t)}function dh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Vi(e){var t=jr(e),i=d[t];if(typeof i!="function"||!(t in ae.prototype))return!1;if(e===i)return!0;var l=Ni(i);return!!l&&e===l[0]}function ph(e){return!!wa&&wa in e}var hh=Tr?Lt:Yi;function ur(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||kn;return e===i}function wl(e){return e===e&&!xe(e)}function bl(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==o||e in me(i))}}function mh(e){var t=io(e,function(l){return i.size===m&&i.clear(),l}),i=t.cache;return t}function vh(e,t){var i=e[1],l=t[1],c=i|l,h=c<(I|P|D),_=l==D&&i==V||l==D&&i==ue&&e[7].length<=t[8]||l==(D|ue)&&t[7].length<=t[8]&&i==V;if(!(h||_))return e;l&I&&(e[2]=t[2],c|=i&I?0:M);var y=t[3];if(y){var S=e[3];e[3]=S?rl(S,y,t[4]):y,e[4]=S?zt(e[3],w):t[4]}return y=t[5],y&&(S=e[5],e[5]=S?ol(S,y,t[6]):y,e[6]=S?zt(e[5],w):t[6]),y=t[7],y&&(e[7]=y),l&D&&(e[8]=e[8]==null?t[8]:Me(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}function gh(e){var t=[];if(e!=null)for(var i in me(e))t.push(i);return t}function _h(e){return Vr.call(e)}function El(e,t,i){return t=$e(t===o?e.length-1:t,0),function(){for(var l=arguments,c=-1,h=$e(l.length-t,0),_=N(h);++c<h;)_[c]=l[t+c];c=-1;for(var y=N(t+1);++c<t;)y[c]=l[c];return y[t]=i(_),je(e,this,y)}}function xl(e,t){return t.length<2?e:sn(e,ct(t,0,-1))}function yh(e,t){for(var i=e.length,l=Me(t.length,i),c=Ye(e);l--;){var h=t[l];e[l]=Bt(h,i)?c[h]:o}return e}function Ai(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Sl=Cl(Ka),cr=Dd||function(e,t){return Ie.setTimeout(e,t)},Oi=Cl(Hp);function kl(e,t,i){var l=t+"";return Oi(e,ch(l,wh(ah(l),i)))}function Cl(e){var t=0,i=0;return function(){var l=Pd(),c=K-(l-i);if(i=l,c>0){if(++t>=U)return arguments[0]}else t=0;return e.apply(o,arguments)}}function to(e,t){var i=-1,l=e.length,c=l-1;for(t=t===o?l:t;++i<t;){var h=mi(i,c),_=e[h];e[h]=e[i],e[i]=_}return e.length=t,e}var Nl=mh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uf,function(i,l,c,h){t.push(c?h.replace(gf,"$1"):l||i)}),t});function Rt(e){if(typeof e=="string"||nt(e))return e;var t=e+"";return t=="0"&&1/e==-Ve?"-0":t}function ln(e){if(e!=null){try{return $r.call(e)}catch{}try{return e+""}catch{}}return""}function wh(e,t){return st(_n,function(i){var l="_."+i[0];t&i[1]&&!kr(e,l)&&e.push(l)}),e.sort()}function Rl(e){if(e instanceof ae)return e.clone();var t=new lt(e.__wrapped__,e.__chain__);return t.__actions__=Ye(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function bh(e,t,i){(i?ze(e,t,i):t===o)?t=1:t=$e(ne(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var c=0,h=0,_=N(Lr(l/t));c<l;)_[h++]=ct(e,c,c+=t);return _}function Eh(e){for(var t=-1,i=e==null?0:e.length,l=0,c=[];++t<i;){var h=e[t];h&&(c[l++]=h)}return c}function xh(){var e=arguments.length;if(!e)return[];for(var t=N(e-1),i=arguments[0],l=e;l--;)t[l-1]=arguments[l];return Wt(te(i)?Ye(i):[i],Be(t,1))}var Sh=oe(function(e,t){return Ne(e)?or(e,Be(t,1,Ne,!0)):[]}),kh=oe(function(e,t){var i=ft(t);return Ne(i)&&(i=o),Ne(e)?or(e,Be(t,1,Ne,!0),J(i,2)):[]}),Ch=oe(function(e,t){var i=ft(t);return Ne(i)&&(i=o),Ne(e)?or(e,Be(t,1,Ne,!0),o,i):[]});function Nh(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:ne(t),ct(e,t<0?0:t,l)):[]}function Rh(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:ne(t),t=l-t,ct(e,0,t<0?0:t)):[]}function Th(e,t){return e&&e.length?Kr(e,J(t,3),!0,!0):[]}function $h(e,t){return e&&e.length?Kr(e,J(t,3),!0):[]}function Vh(e,t,i,l){var c=e==null?0:e.length;return c?(i&&typeof i!="number"&&ze(e,t,i)&&(i=0,l=c),xp(e,t,i,l)):[]}function Tl(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=i==null?0:ne(i);return c<0&&(c=$e(l+c,0)),Cr(e,J(t,3),c)}function $l(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=l-1;return i!==o&&(c=ne(i),c=i<0?$e(l+c,0):Me(c,l-1)),Cr(e,J(t,3),c,!0)}function Vl(e){var t=e==null?0:e.length;return t?Be(e,1):[]}function Ah(e){var t=e==null?0:e.length;return t?Be(e,Ve):[]}function Oh(e,t){var i=e==null?0:e.length;return i?(t=t===o?1:ne(t),Be(e,t)):[]}function Dh(e){for(var t=-1,i=e==null?0:e.length,l={};++t<i;){var c=e[t];l[c[0]]=c[1]}return l}function Al(e){return e&&e.length?e[0]:o}function Ih(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=i==null?0:ne(i);return c<0&&(c=$e(l+c,0)),bn(e,t,c)}function Bh(e){var t=e==null?0:e.length;return t?ct(e,0,-1):[]}var Lh=oe(function(e){var t=be(e,wi);return t.length&&t[0]===e[0]?ci(t):[]}),Ph=oe(function(e){var t=ft(e),i=be(e,wi);return t===ft(i)?t=o:i.pop(),i.length&&i[0]===e[0]?ci(i,J(t,2)):[]}),Mh=oe(function(e){var t=ft(e),i=be(e,wi);return t=typeof t=="function"?t:o,t&&i.pop(),i.length&&i[0]===e[0]?ci(i,o,t):[]});function Fh(e,t){return e==null?"":Bd.call(e,t)}function ft(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Uh(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=l;return i!==o&&(c=ne(i),c=c<0?$e(l+c,0):Me(c,l-1)),t===t?wd(e,t,c):Cr(e,da,c,!0)}function Hh(e,t){return e&&e.length?Wa(e,ne(t)):o}var Wh=oe(Ol);function Ol(e,t){return e&&e.length&&t&&t.length?hi(e,t):e}function zh(e,t,i){return e&&e.length&&t&&t.length?hi(e,t,J(i,2)):e}function Gh(e,t,i){return e&&e.length&&t&&t.length?hi(e,t,o,i):e}var qh=It(function(e,t){var i=e==null?0:e.length,l=si(e,t);return qa(e,be(t,function(c){return Bt(c,i)?+c:c}).sort(nl)),l});function Kh(e,t){var i=[];if(!(e&&e.length))return i;var l=-1,c=[],h=e.length;for(t=J(t,3);++l<h;){var _=e[l];t(_,l,e)&&(i.push(_),c.push(l))}return qa(e,c),i}function Di(e){return e==null?e:Fd.call(e)}function Yh(e,t,i){var l=e==null?0:e.length;return l?(i&&typeof i!="number"&&ze(e,t,i)?(t=0,i=l):(t=t==null?0:ne(t),i=i===o?l:ne(i)),ct(e,t,i)):[]}function Xh(e,t){return qr(e,t)}function Jh(e,t,i){return gi(e,t,J(i,2))}function Zh(e,t){var i=e==null?0:e.length;if(i){var l=qr(e,t);if(l<i&&bt(e[l],t))return l}return-1}function Qh(e,t){return qr(e,t,!0)}function jh(e,t,i){return gi(e,t,J(i,2),!0)}function em(e,t){var i=e==null?0:e.length;if(i){var l=qr(e,t,!0)-1;if(bt(e[l],t))return l}return-1}function tm(e){return e&&e.length?Ya(e):[]}function nm(e,t){return e&&e.length?Ya(e,J(t,2)):[]}function rm(e){var t=e==null?0:e.length;return t?ct(e,1,t):[]}function om(e,t,i){return e&&e.length?(t=i||t===o?1:ne(t),ct(e,0,t<0?0:t)):[]}function im(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:ne(t),t=l-t,ct(e,t<0?0:t,l)):[]}function sm(e,t){return e&&e.length?Kr(e,J(t,3),!1,!0):[]}function am(e,t){return e&&e.length?Kr(e,J(t,3)):[]}var lm=oe(function(e){return Kt(Be(e,1,Ne,!0))}),um=oe(function(e){var t=ft(e);return Ne(t)&&(t=o),Kt(Be(e,1,Ne,!0),J(t,2))}),cm=oe(function(e){var t=ft(e);return t=typeof t=="function"?t:o,Kt(Be(e,1,Ne,!0),o,t)});function fm(e){return e&&e.length?Kt(e):[]}function dm(e,t){return e&&e.length?Kt(e,J(t,2)):[]}function pm(e,t){return t=typeof t=="function"?t:o,e&&e.length?Kt(e,o,t):[]}function Ii(e){if(!(e&&e.length))return[];var t=0;return e=Ht(e,function(i){if(Ne(i))return t=$e(i.length,t),!0}),Qo(t,function(i){return be(e,Xo(i))})}function Dl(e,t){if(!(e&&e.length))return[];var i=Ii(e);return t==null?i:be(i,function(l){return je(t,o,l)})}var hm=oe(function(e,t){return Ne(e)?or(e,t):[]}),mm=oe(function(e){return yi(Ht(e,Ne))}),vm=oe(function(e){var t=ft(e);return Ne(t)&&(t=o),yi(Ht(e,Ne),J(t,2))}),gm=oe(function(e){var t=ft(e);return t=typeof t=="function"?t:o,yi(Ht(e,Ne),o,t)}),_m=oe(Ii);function ym(e,t){return Qa(e||[],t||[],rr)}function wm(e,t){return Qa(e||[],t||[],ar)}var bm=oe(function(e){var t=e.length,i=t>1?e[t-1]:o;return i=typeof i=="function"?(e.pop(),i):o,Dl(e,i)});function Il(e){var t=d(e);return t.__chain__=!0,t}function Em(e,t){return t(e),e}function no(e,t){return t(e)}var xm=It(function(e){var t=e.length,i=t?e[0]:0,l=this.__wrapped__,c=function(h){return si(h,e)};return t>1||this.__actions__.length||!(l instanceof ae)||!Bt(i)?this.thru(c):(l=l.slice(i,+i+(t?1:0)),l.__actions__.push({func:no,args:[c],thisArg:o}),new lt(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(o),h}))});function Sm(){return Il(this)}function km(){return new lt(this.value(),this.__chain__)}function Cm(){this.__values__===o&&(this.__values__=Xl(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Nm(){return this}function Rm(e){for(var t,i=this;i instanceof Ur;){var l=Rl(i);l.__index__=0,l.__values__=o,t?c.__wrapped__=l:t=l;var c=l;i=i.__wrapped__}return c.__wrapped__=e,t}function Tm(){var e=this.__wrapped__;if(e instanceof ae){var t=e;return this.__actions__.length&&(t=new ae(this)),t=t.reverse(),t.__actions__.push({func:no,args:[Di],thisArg:o}),new lt(t,this.__chain__)}return this.thru(Di)}function $m(){return Za(this.__wrapped__,this.__actions__)}var Vm=Yr(function(e,t,i){pe.call(e,i)?++e[i]:Ot(e,i,1)});function Am(e,t,i){var l=te(e)?ca:Ep;return i&&ze(e,t,i)&&(t=o),l(e,J(t,3))}function Om(e,t){var i=te(e)?Ht:Da;return i(e,J(t,3))}var Dm=ll(Tl),Im=ll($l);function Bm(e,t){return Be(ro(e,t),1)}function Lm(e,t){return Be(ro(e,t),Ve)}function Pm(e,t,i){return i=i===o?1:ne(i),Be(ro(e,t),i)}function Bl(e,t){var i=te(e)?st:qt;return i(e,J(t,3))}function Ll(e,t){var i=te(e)?rd:Oa;return i(e,J(t,3))}var Mm=Yr(function(e,t,i){pe.call(e,i)?e[i].push(t):Ot(e,i,[t])});function Fm(e,t,i,l){e=Xe(e)?e:On(e),i=i&&!l?ne(i):0;var c=e.length;return i<0&&(i=$e(c+i,0)),lo(e)?i<=c&&e.indexOf(t,i)>-1:!!c&&bn(e,t,i)>-1}var Um=oe(function(e,t,i){var l=-1,c=typeof t=="function",h=Xe(e)?N(e.length):[];return qt(e,function(_){h[++l]=c?je(t,_,i):ir(_,t,i)}),h}),Hm=Yr(function(e,t,i){Ot(e,i,t)});function ro(e,t){var i=te(e)?be:Fa;return i(e,J(t,3))}function Wm(e,t,i,l){return e==null?[]:(te(t)||(t=t==null?[]:[t]),i=l?o:i,te(i)||(i=i==null?[]:[i]),za(e,t,i))}var zm=Yr(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function Gm(e,t,i){var l=te(e)?Ko:ha,c=arguments.length<3;return l(e,J(t,4),i,c,qt)}function qm(e,t,i){var l=te(e)?od:ha,c=arguments.length<3;return l(e,J(t,4),i,c,Oa)}function Km(e,t){var i=te(e)?Ht:Da;return i(e,so(J(t,3)))}function Ym(e){var t=te(e)?Ta:Fp;return t(e)}function Xm(e,t,i){(i?ze(e,t,i):t===o)?t=1:t=ne(t);var l=te(e)?gp:Up;return l(e,t)}function Jm(e){var t=te(e)?_p:Wp;return t(e)}function Zm(e){if(e==null)return 0;if(Xe(e))return lo(e)?xn(e):e.length;var t=Fe(e);return t==gt||t==_t?e.size:di(e).length}function Qm(e,t,i){var l=te(e)?Yo:zp;return i&&ze(e,t,i)&&(t=o),l(e,J(t,3))}var jm=oe(function(e,t){if(e==null)return[];var i=t.length;return i>1&&ze(e,t[0],t[1])?t=[]:i>2&&ze(t[0],t[1],t[2])&&(t=[t[0]]),za(e,Be(t,1),[])}),oo=Od||function(){return Ie.Date.now()};function ev(e,t){if(typeof t!="function")throw new at(p);return e=ne(e),function(){if(--e<1)return t.apply(this,arguments)}}function Pl(e,t,i){return t=i?o:t,t=e&&t==null?e.length:t,Dt(e,D,o,o,o,o,t)}function Ml(e,t){var i;if(typeof t!="function")throw new at(p);return e=ne(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=o),i}}var Bi=oe(function(e,t,i){var l=I;if(i.length){var c=zt(i,Vn(Bi));l|=G}return Dt(e,l,t,i,c)}),Fl=oe(function(e,t,i){var l=I|P;if(i.length){var c=zt(i,Vn(Fl));l|=G}return Dt(t,l,e,i,c)});function Ul(e,t,i){t=i?o:t;var l=Dt(e,V,o,o,o,o,o,t);return l.placeholder=Ul.placeholder,l}function Hl(e,t,i){t=i?o:t;var l=Dt(e,F,o,o,o,o,o,t);return l.placeholder=Hl.placeholder,l}function Wl(e,t,i){var l,c,h,_,y,S,A=0,O=!1,B=!1,z=!0;if(typeof e!="function")throw new at(p);t=dt(t)||0,xe(i)&&(O=!!i.leading,B="maxWait"in i,h=B?$e(dt(i.maxWait)||0,t):h,z="trailing"in i?!!i.trailing:z);function Y(Re){var Et=l,Mt=c;return l=c=o,A=Re,_=e.apply(Mt,Et),_}function Z(Re){return A=Re,y=cr(se,t),O?Y(Re):_}function re(Re){var Et=Re-S,Mt=Re-A,lu=t-Et;return B?Me(lu,h-Mt):lu}function Q(Re){var Et=Re-S,Mt=Re-A;return S===o||Et>=t||Et<0||B&&Mt>=h}function se(){var Re=oo();if(Q(Re))return le(Re);y=cr(se,re(Re))}function le(Re){return y=o,z&&l?Y(Re):(l=c=o,_)}function rt(){y!==o&&ja(y),A=0,l=S=c=y=o}function Ge(){return y===o?_:le(oo())}function ot(){var Re=oo(),Et=Q(Re);if(l=arguments,c=this,S=Re,Et){if(y===o)return Z(S);if(B)return ja(y),y=cr(se,t),Y(S)}return y===o&&(y=cr(se,t)),_}return ot.cancel=rt,ot.flush=Ge,ot}var tv=oe(function(e,t){return Aa(e,1,t)}),nv=oe(function(e,t,i){return Aa(e,dt(t)||0,i)});function rv(e){return Dt(e,we)}function io(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new at(p);var i=function(){var l=arguments,c=t?t.apply(this,l):l[0],h=i.cache;if(h.has(c))return h.get(c);var _=e.apply(this,l);return i.cache=h.set(c,_)||h,_};return i.cache=new(io.Cache||At),i}io.Cache=At;function so(e){if(typeof e!="function")throw new at(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ov(e){return Ml(2,e)}var iv=Gp(function(e,t){t=t.length==1&&te(t[0])?be(t[0],et(J())):be(Be(t,1),et(J()));var i=t.length;return oe(function(l){for(var c=-1,h=Me(l.length,i);++c<h;)l[c]=t[c].call(this,l[c]);return je(e,this,l)})}),Li=oe(function(e,t){var i=zt(t,Vn(Li));return Dt(e,G,o,t,i)}),zl=oe(function(e,t){var i=zt(t,Vn(zl));return Dt(e,X,o,t,i)}),sv=It(function(e,t){return Dt(e,ue,o,o,o,t)});function av(e,t){if(typeof e!="function")throw new at(p);return t=t===o?t:ne(t),oe(e,t)}function lv(e,t){if(typeof e!="function")throw new at(p);return t=t==null?0:$e(ne(t),0),oe(function(i){var l=i[t],c=Xt(i,0,t);return l&&Wt(c,l),je(e,this,c)})}function uv(e,t,i){var l=!0,c=!0;if(typeof e!="function")throw new at(p);return xe(i)&&(l="leading"in i?!!i.leading:l,c="trailing"in i?!!i.trailing:c),Wl(e,t,{leading:l,maxWait:t,trailing:c})}function cv(e){return Pl(e,1)}function fv(e,t){return Li(bi(t),e)}function dv(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function pv(e){return ut(e,T)}function hv(e,t){return t=typeof t=="function"?t:o,ut(e,T,t)}function mv(e){return ut(e,k|T)}function vv(e,t){return t=typeof t=="function"?t:o,ut(e,k|T,t)}function gv(e,t){return t==null||Va(e,t,Ae(t))}function bt(e,t){return e===t||e!==e&&t!==t}var _v=Qr(ui),yv=Qr(function(e,t){return e>=t}),un=La(function(){return arguments}())?La:function(e){return ke(e)&&pe.call(e,"callee")&&!xa.call(e,"callee")},te=N.isArray,wv=oa?et(oa):Rp;function Xe(e){return e!=null&&ao(e.length)&&!Lt(e)}function Ne(e){return ke(e)&&Xe(e)}function bv(e){return e===!0||e===!1||ke(e)&&We(e)==zn}var Jt=Id||Yi,Ev=ia?et(ia):Tp;function xv(e){return ke(e)&&e.nodeType===1&&!fr(e)}function Sv(e){if(e==null)return!0;if(Xe(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||Jt(e)||An(e)||un(e)))return!e.length;var t=Fe(e);if(t==gt||t==_t)return!e.size;if(ur(e))return!di(e).length;for(var i in e)if(pe.call(e,i))return!1;return!0}function kv(e,t){return sr(e,t)}function Cv(e,t,i){i=typeof i=="function"?i:o;var l=i?i(e,t):o;return l===o?sr(e,t,o,i):!!l}function Pi(e){if(!ke(e))return!1;var t=We(e);return t==yr||t==Yc||typeof e.message=="string"&&typeof e.name=="string"&&!fr(e)}function Nv(e){return typeof e=="number"&&ka(e)}function Lt(e){if(!xe(e))return!1;var t=We(e);return t==wr||t==As||t==Vs||t==Jc}function Gl(e){return typeof e=="number"&&e==ne(e)}function ao(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ve}function xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ke(e){return e!=null&&typeof e=="object"}var ql=sa?et(sa):Vp;function Rv(e,t){return e===t||fi(e,t,Ri(t))}function Tv(e,t,i){return i=typeof i=="function"?i:o,fi(e,t,Ri(t),i)}function $v(e){return Kl(e)&&e!=+e}function Vv(e){if(hh(e))throw new ee(f);return Pa(e)}function Av(e){return e===null}function Ov(e){return e==null}function Kl(e){return typeof e=="number"||ke(e)&&We(e)==qn}function fr(e){if(!ke(e)||We(e)!=$t)return!1;var t=Dr(e);if(t===null)return!0;var i=pe.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&$r.call(i)==Td}var Mi=aa?et(aa):Ap;function Dv(e){return Gl(e)&&e>=-ve&&e<=ve}var Yl=la?et(la):Op;function lo(e){return typeof e=="string"||!te(e)&&ke(e)&&We(e)==Yn}function nt(e){return typeof e=="symbol"||ke(e)&&We(e)==br}var An=ua?et(ua):Dp;function Iv(e){return e===o}function Bv(e){return ke(e)&&Fe(e)==Xn}function Lv(e){return ke(e)&&We(e)==Qc}var Pv=Qr(pi),Mv=Qr(function(e,t){return e<=t});function Xl(e){if(!e)return[];if(Xe(e))return lo(e)?yt(e):Ye(e);if(Qn&&e[Qn])return gd(e[Qn]());var t=Fe(e),i=t==gt?ei:t==_t?Nr:On;return i(e)}function Pt(e){if(!e)return e===0?e:0;if(e=dt(e),e===Ve||e===-Ve){var t=e<0?-1:1;return t*gn}return e===e?e:0}function ne(e){var t=Pt(e),i=t%1;return t===t?i?t-i:t:0}function Jl(e){return e?on(ne(e),0,Se):0}function dt(e){if(typeof e=="number")return e;if(nt(e))return ge;if(xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ma(e);var i=wf.test(e);return i||Ef.test(e)?ed(e.slice(2),i?2:8):yf.test(e)?ge:+e}function Zl(e){return Nt(e,Je(e))}function Fv(e){return e?on(ne(e),-ve,ve):e===0?e:0}function de(e){return e==null?"":tt(e)}var Uv=Tn(function(e,t){if(ur(t)||Xe(t)){Nt(t,Ae(t),e);return}for(var i in t)pe.call(t,i)&&rr(e,i,t[i])}),Ql=Tn(function(e,t){Nt(t,Je(t),e)}),uo=Tn(function(e,t,i,l){Nt(t,Je(t),e,l)}),Hv=Tn(function(e,t,i,l){Nt(t,Ae(t),e,l)}),Wv=It(si);function zv(e,t){var i=Rn(e);return t==null?i:$a(i,t)}var Gv=oe(function(e,t){e=me(e);var i=-1,l=t.length,c=l>2?t[2]:o;for(c&&ze(t[0],t[1],c)&&(l=1);++i<l;)for(var h=t[i],_=Je(h),y=-1,S=_.length;++y<S;){var A=_[y],O=e[A];(O===o||bt(O,kn[A])&&!pe.call(e,A))&&(e[A]=h[A])}return e}),qv=oe(function(e){return e.push(o,ml),je(jl,o,e)});function Kv(e,t){return fa(e,J(t,3),Ct)}function Yv(e,t){return fa(e,J(t,3),li)}function Xv(e,t){return e==null?e:ai(e,J(t,3),Je)}function Jv(e,t){return e==null?e:Ia(e,J(t,3),Je)}function Zv(e,t){return e&&Ct(e,J(t,3))}function Qv(e,t){return e&&li(e,J(t,3))}function jv(e){return e==null?[]:zr(e,Ae(e))}function eg(e){return e==null?[]:zr(e,Je(e))}function Fi(e,t,i){var l=e==null?o:sn(e,t);return l===o?i:l}function tg(e,t){return e!=null&&_l(e,t,Sp)}function Ui(e,t){return e!=null&&_l(e,t,kp)}var ng=cl(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Vr.call(t)),e[t]=i},Wi(Ze)),rg=cl(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Vr.call(t)),pe.call(e,t)?e[t].push(i):e[t]=[i]},J),og=oe(ir);function Ae(e){return Xe(e)?Ra(e):di(e)}function Je(e){return Xe(e)?Ra(e,!0):Ip(e)}function ig(e,t){var i={};return t=J(t,3),Ct(e,function(l,c,h){Ot(i,t(l,c,h),l)}),i}function sg(e,t){var i={};return t=J(t,3),Ct(e,function(l,c,h){Ot(i,c,t(l,c,h))}),i}var ag=Tn(function(e,t,i){Gr(e,t,i)}),jl=Tn(function(e,t,i,l){Gr(e,t,i,l)}),lg=It(function(e,t){var i={};if(e==null)return i;var l=!1;t=be(t,function(h){return h=Yt(h,e),l||(l=h.length>1),h}),Nt(e,Ci(e),i),l&&(i=ut(i,k|C|T,nh));for(var c=t.length;c--;)_i(i,t[c]);return i});function ug(e,t){return eu(e,so(J(t)))}var cg=It(function(e,t){return e==null?{}:Lp(e,t)});function eu(e,t){if(e==null)return{};var i=be(Ci(e),function(l){return[l]});return t=J(t),Ga(e,i,function(l,c){return t(l,c[0])})}function fg(e,t,i){t=Yt(t,e);var l=-1,c=t.length;for(c||(c=1,e=o);++l<c;){var h=e==null?o:e[Rt(t[l])];h===o&&(l=c,h=i),e=Lt(h)?h.call(e):h}return e}function dg(e,t,i){return e==null?e:ar(e,t,i)}function pg(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:ar(e,t,i,l)}var tu=pl(Ae),nu=pl(Je);function hg(e,t,i){var l=te(e),c=l||Jt(e)||An(e);if(t=J(t,4),i==null){var h=e&&e.constructor;c?i=l?new h:[]:xe(e)?i=Lt(h)?Rn(Dr(e)):{}:i={}}return(c?st:Ct)(e,function(_,y,S){return t(i,_,y,S)}),i}function mg(e,t){return e==null?!0:_i(e,t)}function vg(e,t,i){return e==null?e:Ja(e,t,bi(i))}function gg(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:Ja(e,t,bi(i),l)}function On(e){return e==null?[]:jo(e,Ae(e))}function _g(e){return e==null?[]:jo(e,Je(e))}function yg(e,t,i){return i===o&&(i=t,t=o),i!==o&&(i=dt(i),i=i===i?i:0),t!==o&&(t=dt(t),t=t===t?t:0),on(dt(e),t,i)}function wg(e,t,i){return t=Pt(t),i===o?(i=t,t=0):i=Pt(i),e=dt(e),Cp(e,t,i)}function bg(e,t,i){if(i&&typeof i!="boolean"&&ze(e,t,i)&&(t=i=o),i===o&&(typeof t=="boolean"?(i=t,t=o):typeof e=="boolean"&&(i=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Pt(e),t===o?(t=e,e=0):t=Pt(t)),e>t){var l=e;e=t,t=l}if(i||e%1||t%1){var c=Ca();return Me(e+c*(t-e+jf("1e-"+((c+"").length-1))),t)}return mi(e,t)}var Eg=$n(function(e,t,i){return t=t.toLowerCase(),e+(i?ru(t):t)});function ru(e){return Hi(de(e).toLowerCase())}function ou(e){return e=de(e),e&&e.replace(Sf,dd).replace(Wf,"")}function xg(e,t,i){e=de(e),t=tt(t);var l=e.length;i=i===o?l:on(ne(i),0,l);var c=i;return i-=t.length,i>=0&&e.slice(i,c)==t}function Sg(e){return e=de(e),e&&rf.test(e)?e.replace(Is,pd):e}function kg(e){return e=de(e),e&&cf.test(e)?e.replace(Lo,"\\$&"):e}var Cg=$n(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Ng=$n(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Rg=al("toLowerCase");function Tg(e,t,i){e=de(e),t=ne(t);var l=t?xn(e):0;if(!t||l>=t)return e;var c=(t-l)/2;return Zr(Pr(c),i)+e+Zr(Lr(c),i)}function $g(e,t,i){e=de(e),t=ne(t);var l=t?xn(e):0;return t&&l<t?e+Zr(t-l,i):e}function Vg(e,t,i){e=de(e),t=ne(t);var l=t?xn(e):0;return t&&l<t?Zr(t-l,i)+e:e}function Ag(e,t,i){return i||t==null?t=0:t&&(t=+t),Md(de(e).replace(Po,""),t||0)}function Og(e,t,i){return(i?ze(e,t,i):t===o)?t=1:t=ne(t),vi(de(e),t)}function Dg(){var e=arguments,t=de(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Ig=$n(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function Bg(e,t,i){return i&&typeof i!="number"&&ze(e,t,i)&&(t=i=o),i=i===o?Se:i>>>0,i?(e=de(e),e&&(typeof t=="string"||t!=null&&!Mi(t))&&(t=tt(t),!t&&En(e))?Xt(yt(e),0,i):e.split(t,i)):[]}var Lg=$n(function(e,t,i){return e+(i?" ":"")+Hi(t)});function Pg(e,t,i){return e=de(e),i=i==null?0:on(ne(i),0,e.length),t=tt(t),e.slice(i,i+t.length)==t}function Mg(e,t,i){var l=d.templateSettings;i&&ze(e,t,i)&&(t=o),e=de(e),t=uo({},t,l,hl);var c=uo({},t.imports,l.imports,hl),h=Ae(c),_=jo(c,h),y,S,A=0,O=t.interpolate||Er,B="__p += '",z=ti((t.escape||Er).source+"|"+O.source+"|"+(O===Bs?_f:Er).source+"|"+(t.evaluate||Er).source+"|$","g"),Y="//# sourceURL="+(pe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yf+"]")+`
`;e.replace(z,function(Q,se,le,rt,Ge,ot){return le||(le=rt),B+=e.slice(A,ot).replace(kf,hd),se&&(y=!0,B+=`' +
__e(`+se+`) +
'`),Ge&&(S=!0,B+=`';
`+Ge+`;
__p += '`),le&&(B+=`' +
((__t = (`+le+`)) == null ? '' : __t) +
'`),A=ot+Q.length,Q}),B+=`';
`;var Z=pe.call(t,"variable")&&t.variable;if(!Z)B=`with (obj) {
`+B+`
}
`;else if(vf.test(Z))throw new ee(v);B=(S?B.replace(jc,""):B).replace(ef,"$1").replace(tf,"$1;"),B="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+B+`return __p
}`;var re=su(function(){return ce(h,Y+"return "+B).apply(o,_)});if(re.source=B,Pi(re))throw re;return re}function Fg(e){return de(e).toLowerCase()}function Ug(e){return de(e).toUpperCase()}function Hg(e,t,i){if(e=de(e),e&&(i||t===o))return ma(e);if(!e||!(t=tt(t)))return e;var l=yt(e),c=yt(t),h=va(l,c),_=ga(l,c)+1;return Xt(l,h,_).join("")}function Wg(e,t,i){if(e=de(e),e&&(i||t===o))return e.slice(0,ya(e)+1);if(!e||!(t=tt(t)))return e;var l=yt(e),c=ga(l,yt(t))+1;return Xt(l,0,c).join("")}function zg(e,t,i){if(e=de(e),e&&(i||t===o))return e.replace(Po,"");if(!e||!(t=tt(t)))return e;var l=yt(e),c=va(l,yt(t));return Xt(l,c).join("")}function Gg(e,t){var i=H,l=W;if(xe(t)){var c="separator"in t?t.separator:c;i="length"in t?ne(t.length):i,l="omission"in t?tt(t.omission):l}e=de(e);var h=e.length;if(En(e)){var _=yt(e);h=_.length}if(i>=h)return e;var y=i-xn(l);if(y<1)return l;var S=_?Xt(_,0,y).join(""):e.slice(0,y);if(c===o)return S+l;if(_&&(y+=S.length-y),Mi(c)){if(e.slice(y).search(c)){var A,O=S;for(c.global||(c=ti(c.source,de(Ls.exec(c))+"g")),c.lastIndex=0;A=c.exec(O);)var B=A.index;S=S.slice(0,B===o?y:B)}}else if(e.indexOf(tt(c),y)!=y){var z=S.lastIndexOf(c);z>-1&&(S=S.slice(0,z))}return S+l}function qg(e){return e=de(e),e&&nf.test(e)?e.replace(Ds,bd):e}var Kg=$n(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Hi=al("toUpperCase");function iu(e,t,i){return e=de(e),t=i?o:t,t===o?vd(e)?Sd(e):ad(e):e.match(t)||[]}var su=oe(function(e,t){try{return je(e,o,t)}catch(i){return Pi(i)?i:new ee(i)}}),Yg=It(function(e,t){return st(t,function(i){i=Rt(i),Ot(e,i,Bi(e[i],e))}),e});function Xg(e){var t=e==null?0:e.length,i=J();return e=t?be(e,function(l){if(typeof l[1]!="function")throw new at(p);return[i(l[0]),l[1]]}):[],oe(function(l){for(var c=-1;++c<t;){var h=e[c];if(je(h[0],this,l))return je(h[1],this,l)}})}function Jg(e){return bp(ut(e,k))}function Wi(e){return function(){return e}}function Zg(e,t){return e==null||e!==e?t:e}var Qg=ul(),jg=ul(!0);function Ze(e){return e}function zi(e){return Ma(typeof e=="function"?e:ut(e,k))}function e_(e){return Ua(ut(e,k))}function t_(e,t){return Ha(e,ut(t,k))}var n_=oe(function(e,t){return function(i){return ir(i,e,t)}}),r_=oe(function(e,t){return function(i){return ir(e,i,t)}});function Gi(e,t,i){var l=Ae(t),c=zr(t,l);i==null&&!(xe(t)&&(c.length||!l.length))&&(i=t,t=e,e=this,c=zr(t,Ae(t)));var h=!(xe(i)&&"chain"in i)||!!i.chain,_=Lt(e);return st(c,function(y){var S=t[y];e[y]=S,_&&(e.prototype[y]=function(){var A=this.__chain__;if(h||A){var O=e(this.__wrapped__),B=O.__actions__=Ye(this.__actions__);return B.push({func:S,args:arguments,thisArg:e}),O.__chain__=A,O}return S.apply(e,Wt([this.value()],arguments))})}),e}function o_(){return Ie._===this&&(Ie._=$d),this}function qi(){}function i_(e){return e=ne(e),oe(function(t){return Wa(t,e)})}var s_=xi(be),a_=xi(ca),l_=xi(Yo);function au(e){return $i(e)?Xo(Rt(e)):Pp(e)}function u_(e){return function(t){return e==null?o:sn(e,t)}}var c_=fl(),f_=fl(!0);function Ki(){return[]}function Yi(){return!1}function d_(){return{}}function p_(){return""}function h_(){return!0}function m_(e,t){if(e=ne(e),e<1||e>ve)return[];var i=Se,l=Me(e,Se);t=J(t),e-=Se;for(var c=Qo(l,t);++i<e;)t(i);return c}function v_(e){return te(e)?be(e,Rt):nt(e)?[e]:Ye(Nl(de(e)))}function g_(e){var t=++Rd;return de(e)+t}var __=Jr(function(e,t){return e+t},0),y_=Si("ceil"),w_=Jr(function(e,t){return e/t},1),b_=Si("floor");function E_(e){return e&&e.length?Wr(e,Ze,ui):o}function x_(e,t){return e&&e.length?Wr(e,J(t,2),ui):o}function S_(e){return pa(e,Ze)}function k_(e,t){return pa(e,J(t,2))}function C_(e){return e&&e.length?Wr(e,Ze,pi):o}function N_(e,t){return e&&e.length?Wr(e,J(t,2),pi):o}var R_=Jr(function(e,t){return e*t},1),T_=Si("round"),$_=Jr(function(e,t){return e-t},0);function V_(e){return e&&e.length?Zo(e,Ze):0}function A_(e,t){return e&&e.length?Zo(e,J(t,2)):0}return d.after=ev,d.ary=Pl,d.assign=Uv,d.assignIn=Ql,d.assignInWith=uo,d.assignWith=Hv,d.at=Wv,d.before=Ml,d.bind=Bi,d.bindAll=Yg,d.bindKey=Fl,d.castArray=dv,d.chain=Il,d.chunk=bh,d.compact=Eh,d.concat=xh,d.cond=Xg,d.conforms=Jg,d.constant=Wi,d.countBy=Vm,d.create=zv,d.curry=Ul,d.curryRight=Hl,d.debounce=Wl,d.defaults=Gv,d.defaultsDeep=qv,d.defer=tv,d.delay=nv,d.difference=Sh,d.differenceBy=kh,d.differenceWith=Ch,d.drop=Nh,d.dropRight=Rh,d.dropRightWhile=Th,d.dropWhile=$h,d.fill=Vh,d.filter=Om,d.flatMap=Bm,d.flatMapDeep=Lm,d.flatMapDepth=Pm,d.flatten=Vl,d.flattenDeep=Ah,d.flattenDepth=Oh,d.flip=rv,d.flow=Qg,d.flowRight=jg,d.fromPairs=Dh,d.functions=jv,d.functionsIn=eg,d.groupBy=Mm,d.initial=Bh,d.intersection=Lh,d.intersectionBy=Ph,d.intersectionWith=Mh,d.invert=ng,d.invertBy=rg,d.invokeMap=Um,d.iteratee=zi,d.keyBy=Hm,d.keys=Ae,d.keysIn=Je,d.map=ro,d.mapKeys=ig,d.mapValues=sg,d.matches=e_,d.matchesProperty=t_,d.memoize=io,d.merge=ag,d.mergeWith=jl,d.method=n_,d.methodOf=r_,d.mixin=Gi,d.negate=so,d.nthArg=i_,d.omit=lg,d.omitBy=ug,d.once=ov,d.orderBy=Wm,d.over=s_,d.overArgs=iv,d.overEvery=a_,d.overSome=l_,d.partial=Li,d.partialRight=zl,d.partition=zm,d.pick=cg,d.pickBy=eu,d.property=au,d.propertyOf=u_,d.pull=Wh,d.pullAll=Ol,d.pullAllBy=zh,d.pullAllWith=Gh,d.pullAt=qh,d.range=c_,d.rangeRight=f_,d.rearg=sv,d.reject=Km,d.remove=Kh,d.rest=av,d.reverse=Di,d.sampleSize=Xm,d.set=dg,d.setWith=pg,d.shuffle=Jm,d.slice=Yh,d.sortBy=jm,d.sortedUniq=tm,d.sortedUniqBy=nm,d.split=Bg,d.spread=lv,d.tail=rm,d.take=om,d.takeRight=im,d.takeRightWhile=sm,d.takeWhile=am,d.tap=Em,d.throttle=uv,d.thru=no,d.toArray=Xl,d.toPairs=tu,d.toPairsIn=nu,d.toPath=v_,d.toPlainObject=Zl,d.transform=hg,d.unary=cv,d.union=lm,d.unionBy=um,d.unionWith=cm,d.uniq=fm,d.uniqBy=dm,d.uniqWith=pm,d.unset=mg,d.unzip=Ii,d.unzipWith=Dl,d.update=vg,d.updateWith=gg,d.values=On,d.valuesIn=_g,d.without=hm,d.words=iu,d.wrap=fv,d.xor=mm,d.xorBy=vm,d.xorWith=gm,d.zip=_m,d.zipObject=ym,d.zipObjectDeep=wm,d.zipWith=bm,d.entries=tu,d.entriesIn=nu,d.extend=Ql,d.extendWith=uo,Gi(d,d),d.add=__,d.attempt=su,d.camelCase=Eg,d.capitalize=ru,d.ceil=y_,d.clamp=yg,d.clone=pv,d.cloneDeep=mv,d.cloneDeepWith=vv,d.cloneWith=hv,d.conformsTo=gv,d.deburr=ou,d.defaultTo=Zg,d.divide=w_,d.endsWith=xg,d.eq=bt,d.escape=Sg,d.escapeRegExp=kg,d.every=Am,d.find=Dm,d.findIndex=Tl,d.findKey=Kv,d.findLast=Im,d.findLastIndex=$l,d.findLastKey=Yv,d.floor=b_,d.forEach=Bl,d.forEachRight=Ll,d.forIn=Xv,d.forInRight=Jv,d.forOwn=Zv,d.forOwnRight=Qv,d.get=Fi,d.gt=_v,d.gte=yv,d.has=tg,d.hasIn=Ui,d.head=Al,d.identity=Ze,d.includes=Fm,d.indexOf=Ih,d.inRange=wg,d.invoke=og,d.isArguments=un,d.isArray=te,d.isArrayBuffer=wv,d.isArrayLike=Xe,d.isArrayLikeObject=Ne,d.isBoolean=bv,d.isBuffer=Jt,d.isDate=Ev,d.isElement=xv,d.isEmpty=Sv,d.isEqual=kv,d.isEqualWith=Cv,d.isError=Pi,d.isFinite=Nv,d.isFunction=Lt,d.isInteger=Gl,d.isLength=ao,d.isMap=ql,d.isMatch=Rv,d.isMatchWith=Tv,d.isNaN=$v,d.isNative=Vv,d.isNil=Ov,d.isNull=Av,d.isNumber=Kl,d.isObject=xe,d.isObjectLike=ke,d.isPlainObject=fr,d.isRegExp=Mi,d.isSafeInteger=Dv,d.isSet=Yl,d.isString=lo,d.isSymbol=nt,d.isTypedArray=An,d.isUndefined=Iv,d.isWeakMap=Bv,d.isWeakSet=Lv,d.join=Fh,d.kebabCase=Cg,d.last=ft,d.lastIndexOf=Uh,d.lowerCase=Ng,d.lowerFirst=Rg,d.lt=Pv,d.lte=Mv,d.max=E_,d.maxBy=x_,d.mean=S_,d.meanBy=k_,d.min=C_,d.minBy=N_,d.stubArray=Ki,d.stubFalse=Yi,d.stubObject=d_,d.stubString=p_,d.stubTrue=h_,d.multiply=R_,d.nth=Hh,d.noConflict=o_,d.noop=qi,d.now=oo,d.pad=Tg,d.padEnd=$g,d.padStart=Vg,d.parseInt=Ag,d.random=bg,d.reduce=Gm,d.reduceRight=qm,d.repeat=Og,d.replace=Dg,d.result=fg,d.round=T_,d.runInContext=E,d.sample=Ym,d.size=Zm,d.snakeCase=Ig,d.some=Qm,d.sortedIndex=Xh,d.sortedIndexBy=Jh,d.sortedIndexOf=Zh,d.sortedLastIndex=Qh,d.sortedLastIndexBy=jh,d.sortedLastIndexOf=em,d.startCase=Lg,d.startsWith=Pg,d.subtract=$_,d.sum=V_,d.sumBy=A_,d.template=Mg,d.times=m_,d.toFinite=Pt,d.toInteger=ne,d.toLength=Jl,d.toLower=Fg,d.toNumber=dt,d.toSafeInteger=Fv,d.toString=de,d.toUpper=Ug,d.trim=Hg,d.trimEnd=Wg,d.trimStart=zg,d.truncate=Gg,d.unescape=qg,d.uniqueId=g_,d.upperCase=Kg,d.upperFirst=Hi,d.each=Bl,d.eachRight=Ll,d.first=Al,Gi(d,function(){var e={};return Ct(d,function(t,i){pe.call(d.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),d.VERSION=a,st(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),st(["drop","take"],function(e,t){ae.prototype[e]=function(i){i=i===o?1:$e(ne(i),0);var l=this.__filtered__&&!t?new ae(this):this.clone();return l.__filtered__?l.__takeCount__=Me(i,l.__takeCount__):l.__views__.push({size:Me(i,Se),type:e+(l.__dir__<0?"Right":"")}),l},ae.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),st(["filter","map","takeWhile"],function(e,t){var i=t+1,l=i==ie||i==kt;ae.prototype[e]=function(c){var h=this.clone();return h.__iteratees__.push({iteratee:J(c,3),type:i}),h.__filtered__=h.__filtered__||l,h}}),st(["head","last"],function(e,t){var i="take"+(t?"Right":"");ae.prototype[e]=function(){return this[i](1).value()[0]}}),st(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ae.prototype[e]=function(){return this.__filtered__?new ae(this):this[i](1)}}),ae.prototype.compact=function(){return this.filter(Ze)},ae.prototype.find=function(e){return this.filter(e).head()},ae.prototype.findLast=function(e){return this.reverse().find(e)},ae.prototype.invokeMap=oe(function(e,t){return typeof e=="function"?new ae(this):this.map(function(i){return ir(i,e,t)})}),ae.prototype.reject=function(e){return this.filter(so(J(e)))},ae.prototype.slice=function(e,t){e=ne(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ae(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==o&&(t=ne(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ae.prototype.toArray=function(){return this.take(Se)},Ct(ae.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),c=d[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);c&&(d.prototype[t]=function(){var _=this.__wrapped__,y=l?[1]:arguments,S=_ instanceof ae,A=y[0],O=S||te(_),B=function(se){var le=c.apply(d,Wt([se],y));return l&&z?le[0]:le};O&&i&&typeof A=="function"&&A.length!=1&&(S=O=!1);var z=this.__chain__,Y=!!this.__actions__.length,Z=h&&!z,re=S&&!Y;if(!h&&O){_=re?_:new ae(this);var Q=e.apply(_,y);return Q.__actions__.push({func:no,args:[B],thisArg:o}),new lt(Q,z)}return Z&&re?e.apply(this,y):(Q=this.thru(B),Z?l?Q.value()[0]:Q.value():Q)})}),st(["pop","push","shift","sort","splice","unshift"],function(e){var t=Rr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var c=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(te(h)?h:[],c)}return this[i](function(_){return t.apply(te(_)?_:[],c)})}}),Ct(ae.prototype,function(e,t){var i=d[t];if(i){var l=i.name+"";pe.call(Nn,l)||(Nn[l]=[]),Nn[l].push({name:t,func:i})}}),Nn[Xr(o,P).name]=[{name:"wrapper",func:o}],ae.prototype.clone=qd,ae.prototype.reverse=Kd,ae.prototype.value=Yd,d.prototype.at=xm,d.prototype.chain=Sm,d.prototype.commit=km,d.prototype.next=Cm,d.prototype.plant=Rm,d.prototype.reverse=Tm,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=$m,d.prototype.first=d.prototype.head,Qn&&(d.prototype[Qn]=Nm),d},Sn=kd();en?((en.exports=Sn)._=Sn,zo._=Sn):Ie._=Sn}).call(fn)})(yo,yo.exports);var Pe=yo.exports;function vu(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function bs(r,s){r===void 0&&(r={}),s===void 0&&(s={}),Object.keys(s).forEach(function(o){typeof r[o]>"u"?r[o]=s[o]:vu(s[o])&&vu(r[o])&&Object.keys(s[o]).length>0&&bs(r[o],s[o])})}var fc={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Es(){var r=typeof document<"u"?document:{};return bs(r,fc),r}var my={document:fc,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame:function(r){typeof setTimeout>"u"||clearTimeout(r)}};function dc(){var r=typeof window<"u"?window:{};return bs(r,my),r}function vy(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s}function fs(r){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},fs(r)}function wo(r,s){return wo=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},wo(r,s)}function gy(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mo(r,s,o){return gy()?mo=Reflect.construct:mo=function(u,f,p){var v=[null];v.push.apply(v,f);var g=Function.bind.apply(u,v),m=new g;return p&&wo(m,p.prototype),m},mo.apply(null,arguments)}function _y(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function ds(r){var s=typeof Map=="function"?new Map:void 0;return ds=function(a){if(a===null||!_y(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(a))return s.get(a);s.set(a,u)}function u(){return mo(a,arguments,fs(this).constructor)}return u.prototype=Object.create(a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),wo(u,a)},ds(r)}function yy(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wy(r){var s=r.__proto__;Object.defineProperty(r,"__proto__",{get:function(){return s},set:function(a){s.__proto__=a}})}var dn=function(r){vy(s,r);function s(o){var a;return a=r.call.apply(r,[this].concat(o))||this,wy(yy(a)),a}return s}(ds(Array));function xs(r){r===void 0&&(r=[]);var s=[];return r.forEach(function(o){Array.isArray(o)?s.push.apply(s,xs(o)):s.push(o)}),s}function by(r){for(var s=[],o=0;o<r.length;o+=1)s.indexOf(r[o])===-1&&s.push(r[o]);return s}function Ey(r){return r.toLowerCase().replace(/-(.)/g,function(s,o){return o.toUpperCase()})}function xy(r,s){if(typeof r!="string")return[r];for(var o=[],a=s.querySelectorAll(r),u=0;u<a.length;u+=1)o.push(a[u]);return o}function he(r,s){var o=dc(),a=Es(),u=[];if(!s&&r instanceof dn)return r;if(!r)return new dn(u);if(typeof r=="string"){var f=r.trim();if(f.indexOf("<")>=0&&f.indexOf(">")>=0){var p="div";f.indexOf("<li")===0&&(p="ul"),f.indexOf("<tr")===0&&(p="tbody"),(f.indexOf("<td")===0||f.indexOf("<th")===0)&&(p="tr"),f.indexOf("<tbody")===0&&(p="table"),f.indexOf("<option")===0&&(p="select");var v=a.createElement(p);v.innerHTML=f;for(var g=0;g<v.childNodes.length;g+=1)u.push(v.childNodes[g])}else u=xy(r.trim(),s||a)}else if(r.nodeType||r===o||r===a)u.push(r);else if(Array.isArray(r)){if(r instanceof dn)return r;u=r}return new dn(by(u))}he.fn=dn.prototype;function gu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=xs(s.map(function(u){return u.split(" ")}));return this.forEach(function(u){var f;(f=u.classList).add.apply(f,a)}),this}function _u(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=xs(s.map(function(u){return u.split(" ")}));return this.forEach(function(u){var f;(f=u.classList).remove.apply(f,a)}),this}function yu(r,s){if(arguments.length===1&&typeof r=="string")return this[0]?this[0].getAttribute(r):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(r,s);else for(var a in r)this[o][a]=r[a],this[o].setAttribute(a,r[a]);return this}function wu(){var r=this[0];if(r){var s={};if(r.dataset)for(var o in r.dataset)s[o]=r.dataset[o];else for(var a=0;a<r.attributes.length;a+=1){var u=r.attributes[a];u.name.indexOf("data-")>=0&&(s[Ey(u.name.split("data-")[1])]=u.value)}for(var f in s)s[f]==="false"?s[f]=!1:s[f]==="true"?s[f]=!0:parseFloat(s[f])===s[f]*1&&(s[f]*=1);return s}}function bu(r){if(typeof r>"u"){var s=this[0];if(!s)return;if(s.multiple&&s.nodeName.toLowerCase()==="select"){for(var o=[],a=0;a<s.selectedOptions.length;a+=1)o.push(s.selectedOptions[a].value);return o}return s.value}for(var u=0;u<this.length;u+=1){var f=this[u];if(Array.isArray(r)&&f.multiple&&f.nodeName.toLowerCase()==="select")for(var p=0;p<f.options.length;p+=1)f.options[p].selected=r.indexOf(f.options[p].value)>=0;else f.value=r}return this}function Eu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],u=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],u=void 0),p||(p=!1);function v(b){var I=b.target;if(I){var P=b.target.dom7EventData||[];if(P.indexOf(b)<0&&P.unshift(b),he(I).is(u))f.apply(I,P);else for(var M=he(I).parents(),V=0;V<M.length;V+=1)he(M[V]).is(u)&&f.apply(M[V],P)}}function g(b){var I=b&&b.target?b.target.dom7EventData||[]:[];I.indexOf(b)<0&&I.unshift(b),f.apply(this,I)}for(var m=a.split(" "),w,k=0;k<this.length;k+=1){var C=this[k];if(u)for(w=0;w<m.length;w+=1){var x=m[w];C.dom7LiveListeners||(C.dom7LiveListeners={}),C.dom7LiveListeners[x]||(C.dom7LiveListeners[x]=[]),C.dom7LiveListeners[x].push({listener:f,proxyListener:v}),C.addEventListener(x,v,p)}else for(w=0;w<m.length;w+=1){var T=m[w];C.dom7Listeners||(C.dom7Listeners={}),C.dom7Listeners[T]||(C.dom7Listeners[T]=[]),C.dom7Listeners[T].push({listener:f,proxyListener:g}),C.addEventListener(T,g,p)}}return this}function xu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],u=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],u=void 0),p||(p=!1);for(var v=a.split(" "),g=0;g<v.length;g+=1)for(var m=v[g],w=0;w<this.length;w+=1){var k=this[w],C=void 0;if(!u&&k.dom7Listeners?C=k.dom7Listeners[m]:u&&k.dom7LiveListeners&&(C=k.dom7LiveListeners[m]),C&&C.length)for(var T=C.length-1;T>=0;T-=1){var x=C[T];f&&x.listener===f||f&&x.listener&&x.listener.dom7proxy&&x.listener.dom7proxy===f?(k.removeEventListener(m,x.proxyListener,p),C.splice(T,1)):f||(k.removeEventListener(m,x.proxyListener,p),C.splice(T,1))}}return this}function Su(){for(var r=0;r<this.length;r+=1)this[r].style.display="none";return this}function ku(r){return r?(this.forEach(function(s,o){r.apply(s,[s,o])}),this):this}function Cu(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(var s=0;s<this.length;s+=1)this[s].innerHTML=r;return this}function Nu(r){var s=dc(),o=Es(),a=this[0],u,f;if(!a||typeof r>"u")return!1;if(typeof r=="string"){if(a.matches)return a.matches(r);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(r);if(a.msMatchesSelector)return a.msMatchesSelector(r);for(u=he(r),f=0;f<u.length;f+=1)if(u[f]===a)return!0;return!1}if(r===o)return a===o;if(r===s)return a===s;if(r.nodeType||r instanceof dn){for(u=r.nodeType?[r]:r,f=0;f<u.length;f+=1)if(u[f]===a)return!0;return!1}return!1}function Ru(){for(var r,s=Es(),o=0;o<arguments.length;o+=1){r=o<0||arguments.length<=o?void 0:arguments[o];for(var a=0;a<this.length;a+=1)if(typeof r=="string"){var u=s.createElement("div");for(u.innerHTML=r;u.firstChild;)this[a].appendChild(u.firstChild)}else if(r instanceof dn)for(var f=0;f<r.length;f+=1)this[a].appendChild(r[f]);else this[a].appendChild(r)}return this}function Tu(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].parentNode;a;)r?he(a).is(r)&&s.push(a):s.push(a),a=a.parentNode;return he(s)}function $u(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].querySelectorAll(r),u=0;u<a.length;u+=1)s.push(a[u]);return he(s)}function Vu(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].children,u=0;u<a.length;u+=1)(!r||he(a[u]).is(r))&&s.push(a[u]);return he(s)}var Sy="resize scroll".split(" ");function pc(r){function s(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(typeof a[0]>"u"){for(var f=0;f<this.length;f+=1)Sy.indexOf(r)<0&&(r in this[f]?this[f][r]():he(this[f]).trigger(r));return this}return this.on.apply(this,[r].concat(a))}return s}var Au=pc("click"),Ou=pc("focus");Su&&(he.fn.hide=Su);Ru&&(he.fn.append=Ru);Au&&(he.fn.click=Au);Eu&&(he.fn.on=Eu);xu&&(he.fn.off=xu);Ou&&(he.fn.focus=Ou);yu&&(he.fn.attr=yu);bu&&(he.fn.val=bu);Cu&&(he.fn.html=Cu);wu&&(he.fn.dataset=wu);gu&&(he.fn.addClass=gu);_u&&(he.fn.removeClass=_u);Vu&&(he.fn.children=Vu);ku&&(he.fn.each=ku);$u&&(he.fn.find=$u);Nu&&(he.fn.is=Nu);Tu&&(he.fn.parents=Tu);const ky=globalThis.Node,Cy=globalThis.Comment,Ny=globalThis.Element,Ry=globalThis.Text,Ty=globalThis.Range,$y=globalThis.Selection,Vy=globalThis.StaticRange;let Ay=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((s,o)=>(o&=63,o<36?s+=o.toString(36):o<62?s+=(o-26).toString(36).toUpperCase():o>62?s+="-":s+="_",s),"");function Oy(r="r"){return`${r}-${Ay()}`}let hc=class{constructor(){Ce(this,"audio");Ce(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(s){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=s,this.src=s,document.body.appendChild(this.audio),this.audio.play()}stop(s){s&&s!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}};const mn=new hc;function ps(r){const s=Math.floor(r/60),o=r%60,a=String(s).padStart(2,"0"),u=String(o).padStart(2,"0");return`${a}:${u}`}class mc{constructor(s){Ce(this,"accept");Ce(this,"dom");Ce(this,"isdestroy",!1);Ce(this,"resolve");Ce(this,"reject");this.accept=s,this.dom=null,this.resolve=null,this.reject=null}createInputElement(){const s=document.createElement("input");return s.type="file",s.accept=this.accept,s.hidden=!0,s}change(s){var o,a;if(this.dom&&this.dom.files&&this.dom.files.length>0){const u=this.dom.files.item(0);if(u){(o=this.resolve)==null||o.call(this,u),this.dom.value="";return}this.dom.value=""}return(a=this.reject)==null?void 0:a.call(this,s)}cancel(s){var o;return this.dom&&(this.dom.value=""),(o=this.reject)==null?void 0:o.call(this,s)}open(){if(this.isdestroy)throw Error("对象已经销毁");this.dom||(this.dom=this.createInputElement(),this.dom.addEventListener("change",this.change.bind(this)),this.dom.addEventListener("cancel",this.cancel.bind(this)),document.body.appendChild(this.dom)),this.dom.click();const s=this;return new Promise((o,a)=>{s.resolve=o,s.reject=a})}destroy(){this.isdestroy||(this.dom&&document.body.removeChild(this.dom),this.dom=null,this.isdestroy=!0)}}class hs{constructor(s){Ce(this,"cancelled",!1);Ce(this,"timeoutId",null);this.timeoutMilliseconds=s}get token(){return{isCancellationRequested:()=>this.cancelled,throwIfRequested:()=>{if(this.cancelled)throw new Error("Operation canceled")}}}cancel(){this.cancelled=!0,this.clearTimeout()}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}startTimeout(){this.timeoutId=setTimeout(()=>{this.cancel()},this.timeoutMilliseconds)}}class vc{constructor(s=60){Ce(this,"isStop",!1);Ce(this,"count",n.ref(0));Ce(this,"timeoutId",null);this.timeoutSeconds=s}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get state(){return n.computed(()=>this.count.value)}start(s){s&&(this.timeoutSeconds=s),this.isStop=!1,this.count.value=0,this.clearTimeout(),this.timeoutId=setInterval(()=>{!this.isStop&&this.count.value<this.timeoutSeconds?this.count.value++:this.clearTimeout()},1e3)}stop(){this.isStop=!0,this.clearTimeout()}}function Dy(r){const{selection:s}=r;if(s){const[o,a]=R.SlateRange.edges(s),u=R.SlateEditor.range(r,o,a),f=R.SlateEditor.string(r,u),p=f.trimEnd();if(p!==f){const v=f.length-p.length,g={...a,offset:a.offset-v},m={...s,anchor:o,focus:g};R.SlateTransforms.select(r,m)}}}function Du(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.start(r,s),a=R.SlateEditor.end(r,s);R.SlateTransforms.insertText(r," ",{at:o}),R.SlateTransforms.insertText(r," ",{at:{path:a.path,offset:a.offset+1}}),R.SlateTransforms.select(r,{anchor:{path:o.path,offset:o.offset+1},focus:{path:a.path,offset:a.offset+1}})})}function Un(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.before(r,s),a=R.SlateEditor.after(r,s);if(!o||!a)return;const u={anchor:{path:o.path,offset:o.offset-1},focus:{path:o.path,offset:o.offset}},f={anchor:{path:a.path,offset:a.offset},focus:{path:a.path,offset:a.offset+1}};R.SlateEditor.string(r,u)===" "&&R.SlateTransforms.delete(r,{at:u}),R.SlateEditor.string(r,f)===" "&&R.SlateTransforms.delete(r,{at:f})})}const Iy={type:"ssml-audio",renderElem:(r,s,o)=>s?By(r,s,o):Ly(r,o)};function By(r,s,o){const{remark:a,src:u}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-audio)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(f=>{f.preventDefault(),mn.stop(u);const p=R.DomEditor.findPath(o,r);Un(o,p),R.SlateTransforms.unwrapNodes(o,{at:p})})}}),L("span",{className:"iconfont icon-play",on:{click:Pe.throttle(f=>{f.preventDefault(),mn.play(u)})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-audio)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-audio)"}}))}function Ly(r,s){const{remark:o,src:a}=r;return L("span",{className:"ssml-wrapper",contentEditable:"false"},L("span",{className:"remark",style:{"background-color":"var(--ssml-audio)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault(),mn.stop(a);const f=R.DomEditor.findPath(s,r);R.SlateTransforms.delete(s,{at:f})})}}),L("span",{className:"iconfont icon-play",on:{click:Pe.throttle(u=>{u.preventDefault(),mn.play(a)})}}),L("span",{className:"data-content",attrs:{"data-content":o}})),L("span",{className:"iconfont icon-music",style:{color:"var(--ssml-audio)"}}))}const Py={type:"ssml-audio",elemToHtml:(r,s)=>{const{remark:o,src:a}=r;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${a}"
          data-ow-remark="${o}"
        >${s}</span>`}},My={selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-src")||"",a=r.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:a,children:s}}},Fy={editorPlugin:hy,renderElems:[Iy],elemsToHtml:[Py],parseElemsHtml:[My]},Uy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-break"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-break"?!0:o(u),a},Hy={type:"ssml-break",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper",contentEditable:"false"},L("span",{className:"remark",style:{"background-color":"var(--ssml-break)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.delete(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"iconfont icon-tingdun",style:{color:"var(--ssml-break)"}}))}},Wy={type:"ssml-break",elemToHtml:r=>{const{remark:s,time:o,strength:a}=r;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${s}"
          data-ow-time="${o??""}"
          data-ow-strength="${a??"medium"}"
        ></span>`}},zy={selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:r=>{const s=r.getAttribute("data-ow-remark")||"",o=r.getAttribute("data-ow-time")||"",a=r.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:s,time:o,strength:a,children:[{text:""}]}}},Gy={editorPlugin:Uy,renderElems:[Hy],elemsToHtml:[Wy],parseElemsHtml:[zy]},qy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-emphasis"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-emphasis"?!1:o(u),a},Ky={type:"ssml-emphasis",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-emphasis)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-emphasis)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-emphasis)"}}))}},Yy={type:"ssml-emphasis",elemToHtml:(r,s)=>{const{remark:o,level:a}=r;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${a??"none"}"
        >${s}</span>`}},Xy={selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:a,children:s}}},Jy={editorPlugin:qy,renderElems:[Ky],elemsToHtml:[Yy],parseElemsHtml:[Xy]},Zy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-mstts:express-as"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-mstts:express-as"?!1:o(u),a},Qy={type:"ssml-mstts:express-as",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-mstts--express-as)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-mstts--express-as)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-mstts--express-as)"}}))}},jy={type:"ssml-mstts:express-as",elemToHtml:(r,s)=>{const{remark:o,style:a,role:u,styledegree:f}=r;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-styledegree="${f??""}"
          data-ow-role="${u??""}"
        >${s}</span>`}},e0={selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-style")||"",u=r.getAttribute("data-ow-styledegree")||"",f=r.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:a,remark:o,styledegree:u,role:f,children:s}}},t0={editorPlugin:Zy,renderElems:[Qy],elemsToHtml:[jy],parseElemsHtml:[e0]},n0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-p"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-p"?!1:o(u),a},r0={type:"ssml-p",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-p)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-p)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-p)"}}))}},o0={type:"ssml-p",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}},i0={selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(r,s)=>({type:"ssml-p",remark:r.getAttribute("data-ow-remark")||"",children:s})},s0={editorPlugin:n0,renderElems:[r0],elemsToHtml:[o0],parseElemsHtml:[i0]},a0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-phoneme"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-phoneme"?!1:o(u),a},l0={type:"ssml-phoneme",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-phoneme)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-phoneme)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-phoneme)"}}))}},u0={type:"ssml-phoneme",elemToHtml:(r,s)=>{const{remark:o,alphabet:a,ph:u}=r;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${a??""}"
          data-ow-ph="${u}"
        >${s}</span>`}},c0={selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alphabet")||"",u=r.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:a,ph:u,children:s}}},f0={editorPlugin:a0,renderElems:[l0],elemsToHtml:[u0],parseElemsHtml:[c0]},d0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-prosody"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-prosody"?!1:o(u),a},p0={type:"ssml-prosody",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-prosody)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-prosody)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-prosody)"}}))}},h0={type:"ssml-prosody",elemToHtml:(r,s)=>{const{remark:o,contour:a,pitch:u,range:f,rate:p,volume:v}=r;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${a??""}"
          data-ow-pitch="${u??""}"
          data-ow-range="${f??""}"
          data-ow-rate="${p??""}"
          data-ow-volume="${v??""}"
        >${s}</span>`}},m0={selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-contour")||"",u=r.getAttribute("data-ow-pitch ")||"",f=r.getAttribute("data-ow-range")||"",p=r.getAttribute("data-ow-rate")||void 0,v=r.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:a,pitch:u,range:f,rate:p,volume:v,children:s}}},v0={editorPlugin:d0,renderElems:[p0],elemsToHtml:[h0],parseElemsHtml:[m0]},g0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-s"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-s"?!1:o(u),a},_0={type:"ssml-s",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-s)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-s)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-s)"}}))}},y0={type:"ssml-s",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}},w0={selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(r,s)=>({type:"ssml-s",remark:r.getAttribute("data-ow-remark")||"",children:s})},b0={editorPlugin:g0,renderElems:[_0],elemsToHtml:[y0],parseElemsHtml:[w0]},E0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-say-as"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-say-as"?!1:o(u),a},x0={type:"ssml-say-as",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-say-as)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-say-as)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-say-as)"}}))}},S0={type:"ssml-say-as",elemToHtml:(r,s)=>{const{remark:o,interpretAs:a,detail:u,format:f}=r;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${a}"
          data-ow-detail="${u??""}"
          data-ow-format="${f??""}"
        >${s}</span>`}},k0={selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-interpretAs")||"",u=r.getAttribute("data-ow-format")||"",f=r.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:a,detail:f,format:u,children:s}}},C0={editorPlugin:E0,renderElems:[x0],elemsToHtml:[S0],parseElemsHtml:[k0]},N0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-sub"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-sub"?!1:o(u),a},R0={type:"ssml-sub",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-sub)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-sub)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-sub)"}}))}},T0={type:"ssml-sub",elemToHtml:(r,s)=>{const{remark:o,alias:a}=r;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${a}"
        >${s}</span>`}},$0={selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:a,children:s}}},V0={editorPlugin:N0,renderElems:[R0],elemsToHtml:[T0],parseElemsHtml:[$0]},A0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-voice"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-voice"?!1:o(u),a},O0={type:"ssml-voice",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--ssml-voice)"}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{"},style:{color:"var(--ssml-voice)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}"},style:{color:"var(--ssml-voice)"}}))}},D0={type:"ssml-voice",elemToHtml:(r,s)=>{const{remark:o,name:a,effect:u}=r;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${a}"
          data-ow-effect="${u??""}"
        >${s}</span>`}},I0={selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",u=r.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:a,effect:u,children:s}}},B0={editorPlugin:A0,renderElems:[O0],elemsToHtml:[D0],parseElemsHtml:[I0]},L0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="custom-management"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="custom-management"?!1:o(u),a},P0="wangeditor-error",M0="ssml-element-click",Ee={ERROR:P0,SSML_ELEMENT_CLICK:M0},F0="emitter-error",U0="emitter-view-click",H0="emitter-view-keydown",W0="emitter-editor-created",Le={ERROR:F0,VIEW_CLICK:U0,VIEW_KEYDOWN:H0,EDITOR_CREATED:W0},z0={type:"custom-management",renderElem:(r,s,o)=>{const{remark:a}=r;return L("span",{className:"ssml-wrapper"},L("span",{className:"remark",contentEditable:"false",style:{"background-color":"var(--custom-management)"},on:{mousedown:u=>u.preventDefault(),click:Pe.throttle(u=>{u.preventDefault(),o.select(R.DomEditor.findPath(o,r)),o.emit(Ee.SSML_ELEMENT_CLICK,o,r)})}},L("span",{className:"iconfont icon-roundclosefill",on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),L("span",{className:"data-content",attrs:{"data-content":a}})),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"{{"},style:{color:"var(--custom-management)"}}),L("span",null,s),L("span",{className:"data-content",contentEditable:"false",attrs:{"data-content":"}}"},style:{color:"var(--custom-management)"}}))}},G0={type:"custom-management",elemToHtml:(r,s)=>{const{remark:o,style:a,role:u,name:f,pitch:p,rate:v,custom:g}=r;return`<span
          data-w-e-type="custom-management"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-name="${f}"
          data-ow-role="${u}"
          data-ow-pitch="${p}"
          data-ow-rate="${v}"
          data-ow-custom="${JSON.stringify(g)}"
        >${s}</span>`}},q0={selector:'span[data-w-e-type="custom-management"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",u=r.getAttribute("data-ow-role")||"",f=r.getAttribute("data-ow-style")||"",p=r.getAttribute("data-ow-pitch")||"",v=r.getAttribute("data-ow-rate")||"",g=r.getAttribute("data-ow-custom")||"{}";return{type:"custom-management",remark:o,name:a,role:u,style:f,pitch:p,rate:v,custom:JSON.parse(g),children:s}}},K0={editorPlugin:L0,renderElems:[z0],elemsToHtml:[G0],parseElemsHtml:[q0]},Y0=r=>{const{deleteBackward:s,deleteForward:o,insertBreak:a,apply:u,normalizeNode:f,insertText:p,insertData:v,setFragmentData:g,insertNode:m}=r,w=r;w.deleteBackward=C=>{s(C)},w.deleteForward=C=>{o(C)},w.insertBreak=()=>{a()},w.normalizeNode=C=>{f(C)},w.apply=C=>{u(C)},w.insertData=C=>{if(C.types.includes("application/x-slate-fragment"))return v(C);{const T=new DataTransfer;return T.setData("text/plain",C.getData("text/plain").trim()),v(T)}},w.setFragmentData=C=>{g(C);const T=C.getData("text/plain").replaceAll(/[\s]/gi,"");C.setData("text/plain",T)},w.insertText=C=>{p(C)};const k=["ssml-prosody","ssml-sub","custom-management","ssml-phoneme","ssml-say-as"];return w.insertNode=C=>{const T=R.DomEditor.getNodeType(C);return k.includes(T)||T==="ssml-audio"&&R.SlateNode.string(C)?(r.selection&&Du(r,r.selection),R.SlateTransforms.insertNodes(r,C)):R.SlateEditor.isVoid(r,C)?(m(C),r.move(1)):m(C)},w};const X0={install(){R.Boot.registerModule(Fy),R.Boot.registerModule(Gy),R.Boot.registerModule(Jy),R.Boot.registerModule(t0),R.Boot.registerModule(s0),R.Boot.registerModule(f0),R.Boot.registerModule(v0),R.Boot.registerModule(b0),R.Boot.registerModule(C0),R.Boot.registerModule(V0),R.Boot.registerModule(B0),R.Boot.registerModule(K0),R.Boot.registerPlugin(Y0)}},vn=Eo("--editor-ssml",()=>{const r=n.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),s=n.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=n.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),a=n.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]}),u=n.shallowReactive({type:"ssml-prosody",remark:"",children:[]});return{rootSpeak:r,rootVoice:s,rootBackgroundaudio:o,rootExpressAs:a,rootProsody:u}});function J0(){return{label:"",value:""}}function gc(){return{id:"",category:"",avatar:"",isFree:!1,isStar:!1,isSupper24K:!1,roles:[],styles:[],name:"",displayName:""}}function xo(){return{word:"",topFlag:"",category:"",gender:"",tag:""}}class _c{constructor(){Ce(this,"audio");Ce(this,"isPlaying",n.ref(!1));Ce(this,"isLoading",n.ref(!1));Ce(this,"loadResolve");Ce(this,"loadReject");this.audio=new Audio,this.audio.addEventListener("canplaythrough",()=>{var s;this.isLoading.value=!1,(s=this.loadResolve)==null||s.call(this),this.loadResolve=void 0}),this.audio.addEventListener("play",()=>{this.isPlaying.value=!0}),this.audio.addEventListener("pause",()=>{this.isPlaying.value=!1}),this.audio.addEventListener("error",()=>{var s;this.isLoading.value=!1,this.isPlaying.value=!1,(s=this.loadReject)==null||s.call(this),this.loadReject=void 0})}load(s){return this.pause(),this.loadReject&&this.loadReject(),this.isPlaying.value=!1,this.isLoading.value=!0,this.audio.src=s,this.audio.load(),new Promise((o,a)=>{this.loadResolve=o,this.loadReject=a})}play(){this.audio.play()}pause(){this.audio.pause()}togglePlayPause(){this.isPlaying.value?this.pause():this.play()}get playState(){return n.computed(()=>this.isPlaying.value?"playing":"paused")}get loadState(){return n.computed(()=>this.isLoading.value?"loading":"complete")}}const So=Eo("--editor-try-play",()=>{const r=vn(),s=n.shallowRef(new _c),o=n.ref(gc()),a=n.computed(()=>o.value),u=n.computed(()=>s.value);return{speaker:a,setSpeaker:p=>{o.value=p,r.rootVoice.name=p.name},audioPlayer:u}}),yc=Eo("--editor-management-menu",()=>({contentData:n.reactive(ic())})),Z0={class:"bar-button-icon"},Q0={class:"fw-normal",style:{"font-size":"0.85rem"}},j0=n.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(r,{emit:s}){const o=r,a=()=>{if(!o.disabled){const{editor:u}=qe();u&&s("click",u)}};return(u,f)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["bar-button px-2 py-1",{disabled:u.disabled}]),onClick:a,onMousedown:f[0]||(f[0]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Z0,[n.createElementVNode("span",{class:n.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${u.icon}`]])},null,2)]),n.createElementVNode("div",Q0,n.toDisplayString(u.text),1)],34))}});const Qe=(r,s)=>{const o=r.__vccOpts||r;for(const[a,u]of s)o[a]=u;return o},Ke=Qe(j0,[["__scopeId","data-v-2da9a7ca"]]);const Ss=n.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(r,{expose:s,emit:o}){const a=n.ref(""),u=n.ref();function f(){n.nextTick(()=>{u.value.input.focus()})}function p(){o("submit",a.value),a.value=""}return s({focus:f}),(v,g)=>(n.openBlock(),n.createBlock(n.unref(j.ElForm),{onSubmit:n.withModifiers(p,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{type:v.type,ref_key:"inputRef",ref:u,modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=m=>a.value=m)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}});const ew=n.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(r){return(s,o)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{hideAfter:s.hideAfter,width:s.width,visible:s.visible,trigger:s.trigger,"onUpdate:visible":o[0]||(o[0]=a=>s.$emit("update:visible",a))},{reference:n.withCtx(()=>[n.renderSlot(s.$slots,"reference")]),default:n.withCtx(()=>[n.renderSlot(s.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}});function ko(r){return n.getCurrentScope()?(n.onScopeDispose(r),!0):!1}function mt(r){return typeof r=="function"?r():n.unref(r)}const wc=typeof window<"u"&&typeof document<"u",tw=r=>r!=null,nw=Object.prototype.toString,rw=r=>nw.call(r)==="[object Object]",vo=()=>{};function ow(r,s={}){if(!n.isRef(r))return n.toRefs(r);const o=Array.isArray(r.value)?Array.from({length:r.value.length}):{};for(const a in r.value)o[a]=n.customRef(()=>({get(){return r.value[a]},set(u){var f;if((f=mt(s.replaceRef))!=null?f:!0)if(Array.isArray(r.value)){const v=[...r.value];v[a]=u,r.value=v}else{const v={...r.value,[a]:u};Object.setPrototypeOf(v,Object.getPrototypeOf(r.value)),r.value=v}else r.value[a]=u}}));return o}function bc(r,s=!0){n.getCurrentInstance()?n.onMounted(r):s?r():n.nextTick(r)}function St(r){var s;const o=mt(r);return(s=o==null?void 0:o.$el)!=null?s:o}const Qt=wc?window:void 0;function Mn(...r){let s,o,a,u;if(typeof r[0]=="string"||Array.isArray(r[0])?([o,a,u]=r,s=Qt):[s,o,a,u]=r,!s)return vo;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const f=[],p=()=>{f.forEach(w=>w()),f.length=0},v=(w,k,C,T)=>(w.addEventListener(k,C,T),()=>w.removeEventListener(k,C,T)),g=n.watch(()=>[St(s),mt(u)],([w,k])=>{if(p(),!w)return;const C=rw(k)?{...k}:k;f.push(...o.flatMap(T=>a.map(x=>v(w,T,x,C))))},{immediate:!0,flush:"post"}),m=()=>{g(),p()};return ko(m),m}function iw(){const r=n.ref(!1);return n.getCurrentInstance()&&n.onMounted(()=>{r.value=!0}),r}function ks(r){const s=iw();return n.computed(()=>(s.value,!!r()))}function sw(r,s={}){const{window:o=Qt}=s,a=ks(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let u;const f=n.ref(!1),p=m=>{f.value=m.matches},v=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",p):u.removeListener(p))},g=n.watchEffect(()=>{a.value&&(v(),u=o.matchMedia(mt(r)),"addEventListener"in u?u.addEventListener("change",p):u.addListener(p),f.value=u.matches)});return ko(()=>{g(),v(),u=void 0}),f}function Cs(r,s={}){var o,a;const{pointerTypes:u,preventDefault:f,stopPropagation:p,exact:v,onMove:g,onEnd:m,onStart:w,initialValue:k,axis:C="both",draggingElement:T=Qt,containerElement:x,handle:b=r}=s,I=n.ref((o=mt(k))!=null?o:{x:0,y:0}),P=n.ref(),M=D=>u?u.includes(D.pointerType):!0,V=D=>{mt(f)&&D.preventDefault(),mt(p)&&D.stopPropagation()},F=D=>{var ue;if(!M(D)||mt(v)&&D.target!==mt(r))return;const H=((ue=mt(x))!=null?ue:mt(r)).getBoundingClientRect(),W={x:D.clientX-H.left,y:D.clientY-H.top};(w==null?void 0:w(W,D))!==!1&&(P.value=W,V(D))},G=D=>{if(!M(D)||!P.value)return;let{x:ue,y:we}=I.value;(C==="x"||C==="both")&&(ue=D.clientX-P.value.x),(C==="y"||C==="both")&&(we=D.clientY-P.value.y),I.value={x:ue,y:we},g==null||g(I.value,D),V(D)},X=D=>{M(D)&&P.value&&(P.value=void 0,m==null||m(I.value,D),V(D))};if(wc){const D={capture:(a=s.capture)!=null?a:!0};Mn(b,"pointerdown",F,D),Mn(T,"pointermove",G,D),Mn(T,"pointerup",X,D)}return{...ow(I),position:I,isDragging:n.computed(()=>!!P.value),style:n.computed(()=>`left:${I.value.x}px;top:${I.value.y}px;`)}}function Ec(r,s,o={}){const{window:a=Qt,...u}=o;let f;const p=ks(()=>a&&"ResizeObserver"in a),v=()=>{f&&(f.disconnect(),f=void 0)},g=n.computed(()=>Array.isArray(r)?r.map(k=>St(k)):[St(r)]),m=n.watch(g,k=>{if(v(),p.value&&a){f=new ResizeObserver(s);for(const C of k)C&&f.observe(C,u)}},{immediate:!0,flush:"post",deep:!0}),w=()=>{v(),m()};return ko(w),{isSupported:p,stop:w}}function vr(r,s={}){const{reset:o=!0,windowResize:a=!0,windowScroll:u=!0,immediate:f=!0}=s,p=n.ref(0),v=n.ref(0),g=n.ref(0),m=n.ref(0),w=n.ref(0),k=n.ref(0),C=n.ref(0),T=n.ref(0);function x(){const b=St(r);if(!b){o&&(p.value=0,v.value=0,g.value=0,m.value=0,w.value=0,k.value=0,C.value=0,T.value=0);return}const I=b.getBoundingClientRect();p.value=I.height,v.value=I.bottom,g.value=I.left,m.value=I.right,w.value=I.top,k.value=I.width,C.value=I.x,T.value=I.y}return Ec(r,x),n.watch(()=>St(r),b=>!b&&x()),u&&Mn("scroll",x,{capture:!0,passive:!0}),a&&Mn("resize",x,{passive:!0}),bc(()=>{f&&x()}),{height:p,bottom:v,left:g,right:m,top:w,width:k,x:C,y:T,update:x}}function aw(r,s={width:0,height:0},o={}){const{window:a=Qt,box:u="content-box"}=o,f=n.computed(()=>{var g,m;return(m=(g=St(r))==null?void 0:g.namespaceURI)==null?void 0:m.includes("svg")}),p=n.ref(s.width),v=n.ref(s.height);return Ec(r,([g])=>{const m=u==="border-box"?g.borderBoxSize:u==="content-box"?g.contentBoxSize:g.devicePixelContentBoxSize;if(a&&f.value){const w=St(r);if(w){const k=a.getComputedStyle(w);p.value=Number.parseFloat(k.width),v.value=Number.parseFloat(k.height)}}else if(m){const w=Array.isArray(m)?m:[m];p.value=w.reduce((k,{inlineSize:C})=>k+C,0),v.value=w.reduce((k,{blockSize:C})=>k+C,0)}else p.value=g.contentRect.width,v.value=g.contentRect.height},o),n.watch(()=>St(r),g=>{p.value=g?s.width:0,v.value=g?s.height:0}),{width:p,height:v}}function lw(r,s,o={}){const{root:a,rootMargin:u="0px",threshold:f=.1,window:p=Qt,immediate:v=!0}=o,g=ks(()=>p&&"IntersectionObserver"in p),m=n.computed(()=>{const x=mt(r);return(Array.isArray(x)?x:[x]).map(St).filter(tw)});let w=vo;const k=n.ref(v),C=g.value?n.watch(()=>[m.value,St(a),k.value],([x,b])=>{if(w(),!k.value||!x.length)return;const I=new IntersectionObserver(s,{root:St(b),rootMargin:u,threshold:f});x.forEach(P=>P&&I.observe(P)),w=()=>{I.disconnect(),w=vo}},{immediate:v,flush:"post"}):vo,T=()=>{w(),C(),k.value=!1};return ko(T),{isSupported:g,isActive:k,pause(){w(),k.value=!1},resume(){k.value=!0},stop:T}}function Co(r,{window:s=Qt,scrollTarget:o}={}){const a=n.ref(!1);return lw(r,([{isIntersecting:u}])=>{a.value=u},{root:o,window:s,threshold:0}),a}function uw(r={}){const{window:s=Qt,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:u=!0,includeScrollbar:f=!0}=r,p=n.ref(o),v=n.ref(a),g=()=>{s&&(f?(p.value=s.innerWidth,v.value=s.innerHeight):(p.value=s.document.documentElement.clientWidth,v.value=s.document.documentElement.clientHeight))};if(g(),bc(g),Mn("resize",g,{passive:!0}),u){const m=sw("(orientation: portrait)");n.watch(m,()=>g())}return{width:p,height:v}}const cw={class:"search-content w-100"},fw={class:"ps-2 w-75"},dw={class:"menu ps-2"},pw={class:"flex flex-row pt-1"},hw={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},mw=["onClick"],vw=n.createElementVNode("span",{class:"iconfont icon-play"},null,-1),gw={class:"ps-2"},Ns=n.defineComponent({__name:"bar-search",props:{menus:{},fetchScene:{type:Function},fetchStyle:{type:Function},fetchData:{type:Function},sceneList:{},styleList:{},dataList:{}},emits:["submit"],setup(r,{emit:s}){const o=r,a=n.ref(),u=n.ref(""),f=n.ref(""),p=n.ref(""),v=n.ref(""),g=n.ref(o.dataList||[]),m=n.ref(o.sceneList||[]),w=n.ref(o.styleList||[]),k=Co(a);n.watch(k,b=>{b&&n.nextTick(()=>{var I,P;(P=(I=a.value)==null?void 0:I.input)==null||P.focus()})}),n.onMounted(async()=>{g.value.length||await C(),m.value.length||(m.value=await o.fetchScene()),w.value.length||(w.value=await o.fetchStyle())});async function C(){g.value=await o.fetchData({word:u.value,menu:v.value,scene:f.value,style:p.value})}function T(b){v.value=b,C()}function x(b){s("submit",b)}return(b,I)=>(n.openBlock(),n.createElementBlock("div",cw,[n.createElementVNode("div",fw,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(C,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{ref_key:"searchInputRef",ref:a,placeholder:"搜索",modelValue:u.value,"onUpdate:modelValue":I[0]||(I[0]=P=>u.value=P),"suffix-icon":n.unref(pn.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),n.createElementVNode("div",dw,[n.createVNode(n.unref(j.ElMenu),{mode:"horizontal","default-active":b.menus.length>0?b.menus[0].value:"",onSelect:I[1]||(I[1]=P=>T(P))},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(b.menus,(P,M)=>(n.openBlock(),n.createBlock(n.unref(j.ElMenuItem),{index:P.value,key:M},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(P.label),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),n.createElementVNode("div",pw,[n.createVNode(n.unref(j.ElSelect),{modelValue:f.value,"onUpdate:modelValue":I[2]||(I[2]=P=>f.value=P),onChange:C,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(m.value,P=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:P.value,label:P.label,value:P.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n.createVNode(n.unref(j.ElSelect),{modelValue:p.value,"onUpdate:modelValue":I[3]||(I[3]=P=>p.value=P),onChange:C,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(w.value,P=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:P.value,label:P.label,value:P.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n.createElementVNode("ul",hw,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(g.value,(P,M)=>(n.openBlock(),n.createElementBlock("li",{onClick:V=>x(n.toRaw(P)),class:"content-list-item clickable ps-2 py-2",key:M},[vw,n.createElementVNode("span",gw,n.toDisplayString(P.label),1)],8,mw))),128))])]))}});const _w={},yw={class:"content"};function ww(r,s){return n.openBlock(),n.createElementBlock("div",yw,[n.renderSlot(r.$slots,"default",{},void 0,!0)])}const xc=Qe(_w,[["render",ww],["__scopeId","data-v-7beae5b9"]]),bw={},Ew={class:"bar-wrapper-item"};function xw(r,s){return n.openBlock(),n.createElementBlock("div",Ew,[n.renderSlot(r.$slots,"default")])}const Sw=Qe(bw,[["render",xw]]),kw={class:"bar-wrapper-group"},Cw={class:"group-items"},Nw=n.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",kw,[n.createElementVNode("div",Cw,[n.renderSlot(s.$slots,"default",{},void 0,!0)]),n.createElementVNode("div",{class:n.normalizeClass(["divider",[s.divider]])},null,2)]))}});const Ln=Qe(Nw,[["__scopeId","data-v-be31f837"]]);function Rw(r,s){return`left:${r}px;top:${s}px`}function Rs(r,s){const{width:o,height:a}=aw(r),{width:u,height:f}=uw(),p=n.computed(()=>({x:u.value-o.value,y:f.value-a.value}));return{style:n.computed(()=>{const g=s.value.x,m=s.value.y,w=g<5?5:g>p.value.x?p.value.x-5:g,k=m<5?5:m>p.value.y?p.value.y-5:m;return Rw(w,k)})}}var ms={exports:{}},Sc={exports:{}},Tw=void 0,kc=function(r){return r!==Tw&&r!==null},$w=kc,Vw={object:!0,function:!0,undefined:!0},Aw=function(r){return $w(r)?hasOwnProperty.call(Vw,typeof r):!1},Ow=Aw,Dw=function(r){if(!Ow(r))return!1;try{return r.constructor?r.constructor.prototype===r:!1}catch{return!1}},Iw=Dw,Bw=function(r){if(typeof r!="function"||!hasOwnProperty.call(r,"length"))return!1;try{if(typeof r.length!="number"||typeof r.call!="function"||typeof r.apply!="function")return!1}catch{return!1}return!Iw(r)},Lw=Bw,Pw=/^\s*class[\s{/}]/,Mw=Function.prototype.toString,Fw=function(r){return!(!Lw(r)||Pw.test(Mw.call(r)))},Uw=function(){var r=Object.assign,s;return typeof r!="function"?!1:(s={foo:"raz"},r(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")},Qi,Iu;function Hw(){return Iu||(Iu=1,Qi=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Qi}var Ww=function(){},zw=Ww(),Ts=function(r){return r!==zw&&r!==null},ji,Bu;function Gw(){if(Bu)return ji;Bu=1;var r=Ts,s=Object.keys;return ji=function(o){return s(r(o)?Object(o):o)},ji}var es,Lu;function qw(){return Lu||(Lu=1,es=Hw()()?Object.keys:Gw()),es}var ts,Pu;function Kw(){if(Pu)return ts;Pu=1;var r=Ts;return ts=function(s){if(!r(s))throw new TypeError("Cannot use null or undefined");return s},ts}var ns,Mu;function Yw(){if(Mu)return ns;Mu=1;var r=qw(),s=Kw(),o=Math.max;return ns=function(a,u){var f,p,v=o(arguments.length,2),g;for(a=Object(s(a)),g=function(m){try{a[m]=u[m]}catch(w){f||(f=w)}},p=1;p<v;++p)u=arguments[p],r(u).forEach(g);if(f!==void 0)throw f;return a},ns}var Xw=Uw()?Object.assign:Yw(),Jw=Ts,Zw=Array.prototype.forEach,Qw=Object.create,jw=function(r,s){var o;for(o in r)s[o]=r[o]},eb=function(r){var s=Qw(null);return Zw.call(arguments,function(o){Jw(o)&&jw(Object(o),s)}),s},rs="razdwatrzy",tb=function(){return typeof rs.contains!="function"?!1:rs.contains("dwa")===!0&&rs.contains("foo")===!1},os,Fu;function nb(){if(Fu)return os;Fu=1;var r=String.prototype.indexOf;return os=function(s){return r.call(this,s,arguments[1])>-1},os}var rb=tb()?String.prototype.contains:nb(),go=kc,Uu=Fw,Cc=Xw,Nc=eb,hr=rb,ob=Sc.exports=function(r,s){var o,a,u,f,p;return arguments.length<2||typeof r!="string"?(f=s,s=r,r=null):f=arguments[2],go(r)?(o=hr.call(r,"c"),a=hr.call(r,"e"),u=hr.call(r,"w")):(o=u=!0,a=!1),p={value:s,configurable:o,enumerable:a,writable:u},f?Cc(Nc(f),p):p};ob.gs=function(r,s,o){var a,u,f,p;return typeof r!="string"?(f=o,o=s,s=r,r=null):f=arguments[3],go(s)?Uu(s)?go(o)?Uu(o)||(f=o,o=void 0):o=void 0:(f=s,s=o=void 0):s=void 0,go(r)?(a=hr.call(r,"c"),u=hr.call(r,"e")):(a=!0,u=!1),p={get:s,set:o,configurable:a,enumerable:u},f?Cc(Nc(f),p):p};var ib=Sc.exports,sb=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r};(function(r,s){var o=ib,a=sb,u=Function.prototype.apply,f=Function.prototype.call,p=Object.create,v=Object.defineProperty,g=Object.defineProperties,m=Object.prototype.hasOwnProperty,w={configurable:!0,enumerable:!1,writable:!0},k,C,T,x,b,I,P;k=function(M,V){var F;return a(V),m.call(this,"__ee__")?F=this.__ee__:(F=w.value=p(null),v(this,"__ee__",w),w.value=null),F[M]?typeof F[M]=="object"?F[M].push(V):F[M]=[F[M],V]:F[M]=V,this},C=function(M,V){var F,G;return a(V),G=this,k.call(this,M,F=function(){T.call(G,M,F),u.call(V,this,arguments)}),F.__eeOnceListener__=V,this},T=function(M,V){var F,G,X,D;if(a(V),!m.call(this,"__ee__"))return this;if(F=this.__ee__,!F[M])return this;if(G=F[M],typeof G=="object")for(D=0;X=G[D];++D)(X===V||X.__eeOnceListener__===V)&&(G.length===2?F[M]=G[D?0:1]:G.splice(D,1));else(G===V||G.__eeOnceListener__===V)&&delete F[M];return this},x=function(M){var V,F,G,X,D;if(m.call(this,"__ee__")&&(X=this.__ee__[M],!!X))if(typeof X=="object"){for(F=arguments.length,D=new Array(F-1),V=1;V<F;++V)D[V-1]=arguments[V];for(X=X.slice(),V=0;G=X[V];++V)u.call(G,this,D)}else switch(arguments.length){case 1:f.call(X,this);break;case 2:f.call(X,this,arguments[1]);break;case 3:f.call(X,this,arguments[1],arguments[2]);break;default:for(F=arguments.length,D=new Array(F-1),V=1;V<F;++V)D[V-1]=arguments[V];u.call(X,this,D)}},b={on:k,once:C,off:T,emit:x},I={on:o(k),once:o(C),off:o(T),emit:o(x)},P=g({},I),r.exports=s=function(M){return M==null?p(P):g(Object(M),I)},s.methods=b})(ms,ms.exports);var ab=ms.exports;const lb=cc(ab),He=lb(),ub={class:"w-100 d-flex flex-row align-items-center"},Hn=n.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(r,{expose:s,emit:o}){const a=r,u=n.ref(),f=n.ref(),p=n.ref(),{position:v}=Cs(f,{initialValue:a.initialValue}),{style:g}=Rs(u,v);function m(x){v.value=x}s({setPosition:m}),n.onMounted(()=>{He.on(Le.VIEW_CLICK,w),document.addEventListener("keydown",T)}),n.onUnmounted(()=>{He.off(Le.VIEW_CLICK,w),document.removeEventListener("keydown",T)});function w(x){k(x)&&C()}function k(x){const b=x.target;return!(!u.value||!p.value||p.value.contains(b)||u.value.contains(b))}function C(){o("update:visible",!1),o("close")}function T(x){x.code==="Escape"&&C()}return(x,b)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",{ref_key:"referenceRef",ref:p,onMousedown:b[0]||(b[0]=n.withModifiers(()=>{},["prevent"]))},[n.renderSlot(x.$slots,"reference")],544),(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.withDirectives(n.createElementVNode("div",{ref_key:"boxRef",ref:u,class:"demotestname card shadow brag-box user-select-none z-2",style:n.normalizeStyle([{position:"fixed"},n.unref(g)]),onMousedown:b[1]||(b[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",ub,[n.createElementVNode("div",{ref_key:"dragRef",ref:f,class:"w-100",style:{height:"40px",cursor:"move"}},null,512),n.createElementVNode("span",{onClick:C,class:"btn iconfont icon-close fs-5"})]),n.renderSlot(x.$slots,"default")],36),[[n.vShow,x.visible]])]))],64))}}),cb={install(r){r.component("BarButton",Ke),r.component("BarInput",Ss),r.component("BarPopover",ew),r.component("BarSearch",Ns),r.component("BarWrapper",xc),r.component("BarWrapperItem",Sw),r.component("BarWrapperGroup",Ln),r.component("DragBox",Hn)}};function fb(r){return r.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function db(r,s){return s?`<audio src="${r.src}">${s}</audio>`:`<audio src="${r.src}"/>`}function pb(r){return r.time?`<break time="${r.time}"/>`:r.strength?`<break strength="${r.strength}"/>`:"<break/>"}function hb(r,s){return r.level?`<emphasis level="${r.level}">${s}</emphasis>`:`<emphasis>${s}</emphasis>`}function mb(r,s){if(!r.style)return s;const o=r.role?` role="${r.role}"`:"",a=r.styledegree?` styledegree="${r.styledegree}"`:"";return`<mstts:express-as style="${r.style}"${o}${a}>${s}</mstts:express-as>`}function vb(r){if(!r.src)return"";const s=r.volume?` volume="${r.volume}"`:"",o=r.fadein?` fadein="${r.fadein}"`:"",a=r.fadeout?` fadeout="${r.fadeout}"`:"";return`<mstts:backgroundaudio src="${r.src}"${s}${o}${a}/>`}function gb(r){return!r.attrType||!r.value?"":`<mstts:silence type="${r.attrType}" value="${r.value}"/>`}function _b(r,s){return`<p>${s}</p>`}function yb(r,s){const o=r.alphabet?`alphabet="${r.alphabet}"`:"";return`<phoneme ph="${r.ph}"${o}>${s}</phoneme>`}function wb(r,s){if(!r.contour&&!r.pitch&&!r.range&&!r.rate&&!r.volume)return s;const o=r.contour?` contour="${r.contour}"`:"",a=r.pitch?` pitch="${r.pitch}"`:"",u=r.range?` range="${r.range}"`:"",f=r.volume?` volume="${r.volume}"`:"",p=r.rate?` rate="${r.rate}"`:"";return`<prosody${o}${a}${u}${f}${p}>${s}</prosody>`}function bb(r,s){const o=r.interpretAs?` interpret-as="${r.interpretAs}"`:"",a=r.format?` format="${r.format}"`:"",u=r.detail?` detail="${r.detail}"`:"";return`<say-as${o}${a}${u}>${s}</say-as>`}function Eb(r,s){return`<s>${s}</s>`}function xb(r,s){return`<sub alias="${r.alias}">${s}</sub>`}function Sb(r,s){const o=r.effect?` effect="${r.effect}"`:"";return`<voice name="${r.name}${o}">${s}</voice>`}function kb(r,s){return`<speak version="${r.version}" xml:lang="${r.xmlLang}" xmlns="${r.xmlns}" xmlns:mstts="${r["xmlns:mstts"]}" xmlns:emo="${r["xmlns:emo"]}">${s}</speak>`}function Rc(r){if(R.SlateText.isText(r))return fb(r.text.trim());if(R.SlateElement.isElement(r)){const s=r.children.map(a=>Rc(a)).join("");switch(R.DomEditor.getNodeType(r)){case"paragraph":return`<p>${s}</p>`;case"ssml-speak":return kb(r,s);case"ssml-mstts:backgroundaudio":return vb(r);case"ssml-audio":return db(r,s);case"ssml-break":return pb(r);case"ssml-emphasis":return hb(r,s);case"ssml-mstts:express-as":return mb(r,s);case"ssml-p":return _b(r,s);case"ssml-phoneme":return yb(r,s);case"ssml-prosody":return wb(r,s);case"ssml-s":return Eb(r,s);case"ssml-say-as":return bb(r,s);case"ssml-sub":return xb(r,s);case"ssml-voice":return Sb(r,s);case"ssml-mstts:silence":return gb(r);default:return s}}return""}function Cb(r,s){const o={type:"ssml-voice",remark:"",name:s.name,children:[]},a=Tc(),u={type:"ssml-mstts:express-as",remark:"",style:s.style,role:s.role,children:[]},f=()=>({type:"ssml-prosody",remark:"",rate:s.rate,pitch:s.pitch,children:[]});o.children.push(...a),o.children.push(u);function p(){const g=f();u.children.push(g);function m(w){g.children.push(w)}return{prosody:g,pushNode:m}}let v;for(let g=0;g<s.children.length;g++){const m=s.children[g];if(!(R.SlateText.isText(m)&&!m.text.trim()))if(R.SlateText.isText(m)){v??(v=p()),v.pushNode(m);continue}else if(R.SlateEditor.isVoid(r,m)){v=void 0,u.children.push(m);continue}else{const w=R.DomEditor.findPath(r,m),[k]=R.SlateEditor.nodes(r,{at:w,mode:"lowest",voids:!1,match:C=>R.DomEditor.checkNodeType(C,"ssml-prosody")});if(k){v=void 0,u.children.push(m);continue}else v??(v=p()),v.pushNode(m)}}return o}function Tc(){return[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"200ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"200ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"200ms",remark:"顿号静音",children:[]}]}function Nb(){const{rootVoice:r,rootExpressAs:s}=vn(),o={...r,children:[]},a=Tc(),u={...s,children:[]};o.children.push(...a),o.children.push(u);function f(p){u.children.push(p)}return{voice:o,pushNode:f}}function Hu(r){const{rootProsody:s}=vn(),o={...s,children:[]};r(o);function a(u){o.children.push(u)}return{prosody:o,pushNode:a}}function Rb(){return{type:"ssml-break",time:"200ms",children:[{text:""}],remark:"paragraphBreak"}}function Tb(r){const s=r.children.filter(o=>R.DomEditor.checkNodeType(o,"paragraph")).filter(o=>!!R.SlateNode.string(o).trim()).map((o,a,u)=>{const p=o.children;return a<u.length-1?p.concat([Rb()]):p});return[].concat(...s)}function $b(r){const s=Tb(r),o=[];let a,u;for(let f=0;f<s.length;f++){const p=s[f];if(!(R.SlateText.isText(p)&&!p.text.trim())){if(R.DomEditor.checkNodeType(p,"custom-management")){a&&(o.push(a.voice),a=void 0,u=void 0),o.push(Cb(r,p));continue}if(a??(a=Nb()),R.SlateText.isText(p)){u??(u=Hu(a.pushNode)),u.pushNode(p);continue}else if(R.SlateEditor.isVoid(r,p)){u=void 0,a.pushNode(p);continue}else{const v=R.DomEditor.findPath(r,p),[g]=R.SlateEditor.nodes(r,{at:v,mode:"lowest",voids:!1,match:m=>R.DomEditor.checkNodeType(m,"ssml-prosody")});if(g){u=void 0,a.pushNode(p);continue}else{u??(u=Hu(a.pushNode)),u.pushNode(p);continue}}}}return a&&o.push(a.voice),o}function No(){const{editor:r}=qe();if(!r)throw Error("没有找到 editor 对象");const{rootSpeak:s,rootBackgroundaudio:o}=vn(),a={...s,children:[]},u={...o};return a.children.push(u,...$b(r)),Rc(a)}const Vb=r=>(n.pushScopeId("data-v-f485fb08"),r=r(),n.popScopeId(),r),Ab={class:"play-menu-icon d-flex justify-content-center align-items-center"},Ob={key:0,class:"fs-3 iconfont-moyin moyin-icon_play"},Db={key:2,class:"iconfont icon-pause"},Ib=Vb(()=>n.createElementVNode("div",{class:"fw-normal",style:{"font-size":"0.85rem"}},"24K高清音质",-1)),Bb=n.defineComponent({__name:"play-menu",props:{disabled:{type:Boolean,default:!1}},setup(r){const s=So(),{audioPlayer:o}=s,a=o.playState,u=o.loadState,f=qe(),{globalEditConfig:p}=f;async function v(){if(a.value==="playing"){o.pause();return}try{const g=No(),m=await p.tryPlay.play(g);await o.load(m.src),o.play()}catch{o.pause()}}return(g,m)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["play-menu px-2 py-1",{disabled:g.disabled}]),onClick:m[0]||(m[0]=w=>!g.disabled&&v()),onMousedown:m[1]||(m[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Ab,[n.unref(u)==="complete"&&n.unref(a)==="paused"?(n.openBlock(),n.createElementBlock("span",Ob)):n.unref(u)==="loading"?(n.openBlock(),n.createBlock(n.unref(j.ElIcon),{key:1,class:"is-loading"},{default:n.withCtx(()=>[n.createVNode(n.unref(pn.Loading))]),_:1})):(n.openBlock(),n.createElementBlock("span",Db))]),Ib],34))}});const $c=Qe(Bb,[["__scopeId","data-v-f485fb08"]]);class vt{constructor(s){Ce(this,"editor");this.editor=s}getValue(){const{selection:s}=this.editor;return s==null?"":R.SlateEditor.string(this.editor,s)}isDisabled(){const{selection:s}=this.editor;return s==null?(this.editor.emit(Ee.ERROR,"未选中编辑器"),!0):!1}}class Lb extends vt{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(Ee.ERROR,"请框选一个中文字符"),!0;const o=this.getValue();return o.length!=1?(this.editor.emit(Ee.ERROR,"请框选一个中文字符"),!0):/^[\u4E00-\u9FA5]$/gi.test(o)?!1:(this.editor.emit(Ee.ERROR,"请框选一个中文字符"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"sapi",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const Pb={class:"d-flex flex-column overflow-x-hidden overflow-y-auto",style:{"max-height":"300px"}},Mb=["onClick"],Vc=n.defineComponent({__name:"pinyin-menu",setup(r){const{globalEditConfig:s}=qe(),o=n.shallowRef(),a=n.ref([]),u=n.ref(!1);function f(){u.value||(u.value=!0)}function p(){u.value&&(u.value=!1)}async function v(m){var k;if(o.value??(o.value=new Lb(m)),(k=o.value)!=null&&k.isDisabled())return;const w=o.value.getValue();if(w?a.value=await s.pinyin.fetchData(w):a.value=[],a.value.length==0)return m.emit(Ee.ERROR,"选中的字符没有不是多音字");f()}function g(m){o.value&&!o.value.isDisabled()&&o.value.exec({...m}),p()}return(m,w)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:u.value,"onUpdate:visible":w[1]||(w[1]=k=>u.value=k),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"多音字",icon:"speaker",onClick:v})]),default:n.withCtx(()=>[n.createElementVNode("div",Pb,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(a.value,(k,C)=>(n.openBlock(),n.createElementBlock("div",{key:C,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:T=>g(k),onMousedown:w[0]||(w[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(k.label),41,Mb))),128))])]),_:1},8,["visible"]))}});class Fb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要连读的词或句子"),!0):R.SlateEditor.string(this.editor,s).length<2:!0}exec(){if(this.isDisabled())return;const s=this.getValue();if(s==null)return;const o={type:"ssml-prosody",rate:"medium",remark:"连读",children:[{text:s}]};this.editor.insertNode(o)}}const Ac=n.defineComponent({__name:"continuous-menu",setup(r){const s=n.shallowRef();function o(a){s.value??(s.value=new Fb(a)),!s.value.isDisabled()&&s.value.exec()}return(a,u)=>(n.openBlock(),n.createBlock(n.unref(Ke),{text:"连读",icon:"continuous",onClick:o}))}}),Ub=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],Hb={z:{pitch:"x-high",rate:void 0},t:{pitch:void 0,rate:"medium"},"z+t":{pitch:"x-high",rate:"medium"}};class Wb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return!s||s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const{pitch:a,rate:u}=Hb[s.value],f={type:"ssml-prosody",remark:s.label,pitch:a,rate:u,children:[{text:o}]};this.editor.insertNode(f)}}const zb=["onClick"],Oc=n.defineComponent({__name:"read-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function u(){o.value&&(o.value=!1)}function f(v){s.value??(s.value=new Wb(v)),!s.value.isDisabled()&&a()}function p(v){s.value&&!s.value.isDisabled()&&s.value.exec({...v}),u()}return(v,g)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":g[2]||(g[2]=m=>o.value=m),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"重音",icon:"read",onClick:f})]),default:n.withCtx(()=>[n.createElementVNode("div",{class:"d-flex flex-column",onMousedown:g[1]||(g[1]=n.withModifiers(()=>{},["stop","prevent"]))},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(Ub),(m,w)=>(n.openBlock(),n.createElementBlock("div",{key:w,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:k=>p(m),onMousedown:g[0]||(g[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(m.label),41,zb))),128))],32)]),_:1},8,["visible"]))}});class Gb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(Ee.ERROR,"请框选纯数字"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(Ee.ERROR,"请框选纯数字"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-say-as",interpretAs:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const qb=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],Kb={class:"d-flex flex-column"},Yb=["onClick"],Dc=n.defineComponent({__name:"digital-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value=!o.value}function u(p){s.value??(s.value=new Gb(p)),!s.value.isDisabled()&&a()}function f(p){s.value&&!s.value.isDisabled()&&s.value.exec({...p}),a()}return(p,v)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":v[1]||(v[1]=g=>o.value=g),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"数字符号",icon:"digital",onClick:u})]),default:n.withCtx(()=>[n.createElementVNode("div",Kb,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(qb),(g,m)=>(n.openBlock(),n.createElementBlock("div",{key:m,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:w=>f(g),onMousedown:v[0]||(v[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(g.label),41,Yb))),128))])]),_:1},8,["visible"]))}});class Xb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要设置别名的词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-sub",remark:s.value,alias:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const Ic=n.defineComponent({__name:"alias-menu",setup(r){const s=n.shallowRef(),o=n.ref(),a=n.ref(!1);function u(){a.value||(a.value=!0)}function f(){a.value&&(a.value=!1)}async function p(g){var m;s.value??(s.value=new Xb(g)),!s.value.isDisabled()&&(u(),(m=o.value)==null||m.focus())}function v(g){var m;f(),g&&((m=s.value)==null||m.exec({value:g,label:g}))}return(g,m)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:a.value,"onUpdate:visible":m[0]||(m[0]=w=>a.value=w),trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"别名",icon:"alias",onClick:p})]),default:n.withCtx(()=>[n.createVNode(n.unref(Ss),{ref_key:"inputRef",ref:o,onSubmit:v},null,512)]),_:1},8,["visible"]))}});class Jb extends vt{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(Ee.ERROR,"请框选英文单词"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(Ee.ERROR,"请框选英文单词"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"ipa",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const Zb={class:"d-flex flex-column"},Qb=["onClick"],Bc=n.defineComponent({__name:"english-menu",setup(r){const{globalEditConfig:s}=qe(),o=n.shallowRef(),a=n.ref([]),u=n.ref(!1);function f(){u.value||(u.value=!0)}function p(){u.value&&(u.value=!1)}async function v(m){if(o.value??(o.value=new Jb(m)),Dy(m),o.value.isDisabled())return;const w=o.value.getValue();if(w){if(a.value=await s.english.fetchData(w),a.value.length<=0)return m.emit(Ee.ERROR,"找不到单词的音标");f()}}function g(m){o.value&&!o.value.isDisabled()&&o.value.exec({...m}),p()}return(m,w)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:u.value,"onUpdate:visible":w[1]||(w[1]=k=>u.value=k),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"音标",icon:"english",onClick:v})]),default:n.withCtx(()=>[n.createElementVNode("div",Zb,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(a.value,(k,C)=>(n.openBlock(),n.createElementBlock("div",{key:C,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:T=>g(k),onMousedown:w[0]||(w[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(k.label),41,Qb))),128))])]),_:1},8,["visible"]))}});class jb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要变速的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-prosody",remark:s.label,rate:s.value,children:[{text:o}]};this.editor.insertNode(a)}}function fe(r){return`${((r-1)*100).toFixed(0)}%`}const e1=[{value:fe(.5),label:"0.5x"},{value:fe(.55),label:"0.55x"},{value:fe(.6),label:"0.6x"},{value:fe(.65),label:"0.65x"},{value:fe(.7),label:"0.7x"},{value:fe(.75),label:"0.75x"},{value:fe(.8),label:"0.8x"},{value:fe(.85),label:"0.85x"},{value:fe(.9),label:"0.9x"},{value:fe(.95),label:"0.95x"},{value:fe(1),label:"1x"},{value:fe(1.05),label:"1.05x"},{value:fe(1.1),label:"1.1x"},{value:fe(1.15),label:"1.15x"},{value:fe(1.2),label:"1.2x"},{value:fe(1.25),label:"1.25x"},{value:fe(1.3),label:"1.3x"},{value:fe(1.35),label:"1.35x"},{value:fe(1.4),label:"1.4x"},{value:fe(1.45),label:"1.45x"},{value:fe(1.5),label:"1.5x"},{value:fe(1.55),label:"1.55x"},{value:fe(1.6),label:"1.6x"},{value:fe(1.65),label:"1.65x"},{value:fe(1.7),label:"1.7x"},{value:fe(1.75),label:"1.75x"},{value:fe(1.8),label:"1.8x"},{value:fe(1.85),label:"1.85x"},{value:fe(1.9),label:"1.9x"},{value:fe(1.95),label:"1.95x"},{value:fe(2),label:"2x"}],t1={class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:{height:"15rem"}},n1=["onClick"],Lc=n.defineComponent({__name:"changespeed-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function u(){o.value&&(o.value=!1)}async function f(v){s.value??(s.value=new jb(v)),!s.value.isDisabled()&&a()}function p(v){var g;(g=s.value)==null||g.exec({...v}),u()}return(v,g)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{style:{padding:"0px"},visible:o.value,"onUpdate:visible":g[1]||(g[1]=m=>o.value=m),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"局部变速",icon:"changespeed",onClick:f})]),default:n.withCtx(()=>[n.createElementVNode("div",t1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(e1),(m,w)=>(n.openBlock(),n.createElementBlock("div",{key:w,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:k=>p(m),onMousedown:g[0]||(g[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(m.label),41,n1))),128))])]),_:1},8,["visible"]))}});class r1 extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(Ee.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const o1=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],i1={class:"d-flex flex-column"},s1=["onClick"],Pc=n.defineComponent({__name:"rhythm-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function u(){o.value&&(o.value=!1)}function f(v){s.value??(s.value=new r1(v)),!s.value.isDisabled()&&a()}function p(v){s.value&&!s.value.isDisabled()&&s.value.exec({...v}),u()}return(v,g)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":g[1]||(g[1]=m=>o.value=m),trigger:"contextmenu",hideAfter:0},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"停顿调节",icon:"rhythm",onClick:f})]),default:n.withCtx(()=>[n.createElementVNode("div",i1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(o1),(m,w)=>(n.openBlock(),n.createElementBlock("div",{key:w,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:k=>p(m),onMousedown:g[0]||(g[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(m.label),41,s1))),128))])]),_:1},8,["visible"]))}});class a1 extends vt{constructor(s){super(s)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(Ee.ERROR,"不能框选文字"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const a={type:"ssml-audio",src:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(a)}}const Mc=n.defineComponent({__name:"special-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:u}=qe(),{special:f}=u,p=n.ref(!1),{x:v,y:g,height:m}=vr(o),w=C=>{a.value??(a.value=new a1(C)),!a.value.isDisabled()&&(s.value.setPosition({x:v.value-200,y:g.value+m.value}),p.value=!0)};function k(C){var T;(T=a.value)==null||T.restoreSelection(),a.value&&!a.value.isDisabled()&&a.value.exec(C),p.value=!1}return(C,T)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":T[0]||(T[0]=x=>p.value=x)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:w},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Ns),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:k},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}});class l1 extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(Ee.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const u1=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],c1={class:"d-flex flex-column"},f1=["onClick"],Fc=n.defineComponent({__name:"mute-menu",setup(r){const s=n.shallowRef(),o=n.ref(!1),a=n.ref();function u(){o.value||(o.value=!0)}function f(){o.value&&(o.value=!1)}function p(g){var m;s.value??(s.value=new l1(g)),!s.value.isDisabled()&&(u(),(m=a.value)==null||m.focus())}function v(g){var m;f(),g&&((m=s.value)==null||m.exec({value:g,label:g}))}return(g,m)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{visible:o.value,"onUpdate:visible":m[1]||(m[1]=w=>o.value=w),trigger:"contextmenu",hideAfter:0,width:200},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{text:"插入静音",icon:"mute",onClick:p})]),default:n.withCtx(()=>[n.createElementVNode("div",c1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(u1),(w,k)=>(n.openBlock(),n.createElementBlock("div",{key:k,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:C=>v(w.value),onMousedown:m[0]||(m[0]=n.withModifiers(()=>{},["stop","prevent"]))},n.toDisplayString(w.label),41,f1))),128)),n.createVNode(n.unref(Ss),{type:"text",ref_key:"inputRef",ref:a,onSubmit:v},null,512)])]),_:1},8,["visible"]))}}),Uc=n.defineComponent({__name:"bgm-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:u}=qe(),{bgm:f}=u,p=n.ref(!1),{x:v,y:g,height:m}=vr(o),w=async C=>{const T={x:v.value-300,y:g.value+m.value};a.value=C,s.value.setPosition(T),p.value=!0};function k(C){const{rootBackgroundaudio:T}=vn();T.src=C.value,T.remark=C.label,p.value=!1}return(C,T)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":T[0]||(T[0]=x=>p.value=x)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:w},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Ns),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:k},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}}),Hc=n.defineComponent({__name:"sensitive-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),u=n.ref(!1),{x:f,y:p,height:v}=vr(o),g=m=>{a.value=m,s.value.setPosition({x:f.value-200,y:p.value+v.value}),u.value=!0};return(m,w)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:u.value,"onUpdate:visible":w[0]||(w[0]=k=>u.value=k)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:g},null,512)]),default:n.withCtx(()=>[n.createVNode(Hc)]),_:1},8,["visible"]))}});const d1={class:"select-list",style:{width:"120px"}},p1={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},h1=["onClick"],m1=n.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(r,{expose:s,emit:o}){const a=r,u=n.ref();function f(v){o("update:modelValue",v.value)}function p(){var v;if(u.value){for(let g=0;g<a.dataList.length;g++)if(a.dataList[g].value===a.modelValue){(v=u.value.children[g])==null||v.scrollIntoView({behavior:"smooth"});return}}}return s({scrollIntoViewTheItem:p}),(v,g)=>(n.openBlock(),n.createElementBlock("div",d1,[n.createElementVNode("div",p1,[n.renderSlot(v.$slots,"default",{},void 0,!0)]),n.createElementVNode("ul",{ref_key:"listRef",ref:u,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(v.dataList,(m,w)=>(n.openBlock(),n.createElementBlock("li",{class:n.normalizeClass(["clickable select-item py-1",{activate:m.value===v.modelValue}]),key:w,onClick:k=>f(m)},n.toDisplayString(m.label),11,h1))),128))],512)]))}});const Bn=Qe(m1,[["__scopeId","data-v-e0f0259e"]]),v1={class:"position-relative"},g1={class:"position-absolute top-0 end-0"},_1=n.createElementVNode("li",null,[n.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),y1=["onClick"],w1=n.createElementVNode("span",{class:"my-3"},"类型",-1),b1=n.createElementVNode("span",{class:"my-3"},"配音师",-1),E1=n.createElementVNode("span",{class:"my-3"},"角色",-1),x1=n.createElementVNode("span",{class:"my-3"},"风格",-1),S1=n.createElementVNode("span",{class:"my-3"},"语速",-1),k1=n.createElementVNode("span",{class:"my-3"},"语调",-1),C1={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},N1=n.defineComponent({__name:"management-content",emits:["submit"],setup(r,{emit:s}){const{globalEditConfig:o}=qe(),{tryPlay:a,management:u}=o,f=n.ref(),p=n.ref(!1),v=n.ref(""),g=yc(),{contentData:m}=oc(g),w=n.shallowRef([]),k=n.ref([]),C=n.ref([{label:"全部类型",value:""},...a.category]),T=n.ref([]),x=n.ref([]),b=n.ref([]),I=n.ref(uy()),P=n.ref(cy()),M=Co(f);n.onMounted(async()=>{m.value.category=C.value[0].value,await F(),await D()}),n.watch(M,U=>{U||(v.value="",p.value=!1)});async function V(U){m.value.category=U,await F()}async function F(){const U=await a.fetchData({...xo(),...m.value});w.value=U,T.value=U.map(K=>({label:K.displayName,value:K.name})),U.length>0&&(x.value=U[0].roles,b.value=U[0].styles,m.value.name=U[0].name),x.value.length>0&&(m.value.role=x.value[0].value),b.value.length>0&&(m.value.style=b.value[0].value)}function G(U){const K=w.value.find(ie=>ie.name===U);K&&(x.value=K.roles,b.value=K.styles,x.value.length>0&&(m.value.role=x.value[0].value),b.value.length>0&&(m.value.style=b.value[0].value))}async function X(){var Ve,ve,gn,ge;const U=((Ve=T.value.find(Se=>Se.value===m.value.name))==null?void 0:Ve.label)||"",K=((ve=x.value.find(Se=>Se.value===m.value.role))==null?void 0:ve.label)||"",ie=((gn=b.value.find(Se=>Se.value===m.value.style))==null?void 0:gn.label)||"",De=((ge=I.value.find(Se=>Se.value===m.value.speed))==null?void 0:ge.label)||"",kt={category:m.value.category,name:m.value.name,label:`${U}|${K}|${ie}|${De}`,value:m.value.name,role:m.value.role,style:m.value.style,speed:dy(Number(m.value.speed)),pitch:fy(Number(m.value.pitch))};s("submit",kt),await ue(kt)}async function D(){try{k.value=await u.fetchRecentUsage()}catch(U){He.emit(Le.ERROR,`${U}`,U)}}async function ue(U){try{const K={...m.value,label:U.label,id:""},ie=await u.recordRecentUsage(K);k.value.splice(0,0,ie),k.value=Pe.sortedUniqBy(k.value,De=>`${De.name}+${De.role}+${De.style}+${De.pitch}+${De.speed}`)}catch(K){He.emit(Le.ERROR,`${K}`,K)}}function we(U){m.value.category=U.category,m.value.name=U.name,m.value.pitch=U.pitch,m.value.role=U.role,m.value.speed=U.speed,m.value.style=U.style,X()}async function H(U){try{const K=k.value[U];await u.deleteRecentUsage(K.id),k.value.splice(U,1)}catch(K){He.emit(Le.ERROR,`${K}`,K)}}async function W(){try{await u.deleteRecentUsage(),k.value=[]}catch(U){He.emit(Le.ERROR,`${U}`,U)}}return(U,K)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(F,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{modelValue:v.value,"onUpdate:modelValue":K[0]||(K[0]=ie=>v.value=ie),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),n.createElementVNode("div",v1,[n.createElementVNode("div",g1,[n.createVNode(n.unref(j.ElButton),{size:"small",icon:n.unref(pn.More),onClick:K[1]||(K[1]=()=>p.value=!p.value)},null,8,["icon"])]),n.createElementVNode("ul",{class:n.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":p.value}])},[_1,(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(k.value,(ie,De)=>(n.openBlock(),n.createElementBlock("li",{class:"btn m-0 p-0",onClick:kt=>we(ie),key:De},[n.createVNode(n.unref(j.ElTag),{type:"info",onClose:kt=>H(De),closable:""},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(ie.label),1)]),_:2},1032,["onClose"])],8,y1))),128))],2),n.withDirectives(n.createElementVNode("div",{class:n.normalizeClass({"d-flex flex-row":!p.value})},[n.createVNode(Bn,{"onUpdate:modelValue":[V,K[2]||(K[2]=ie=>n.unref(m).category=ie)],modelValue:n.unref(m).category,dataList:C.value},{default:n.withCtx(()=>[w1]),_:1},8,["modelValue","dataList"]),n.createVNode(Bn,{"onUpdate:modelValue":[G,K[3]||(K[3]=ie=>n.unref(m).name=ie)],modelValue:n.unref(m).name,dataList:T.value},{default:n.withCtx(()=>[b1]),_:1},8,["modelValue","dataList"]),n.createVNode(Bn,{modelValue:n.unref(m).role,"onUpdate:modelValue":K[4]||(K[4]=ie=>n.unref(m).role=ie),dataList:x.value},{default:n.withCtx(()=>[E1]),_:1},8,["modelValue","dataList"]),n.createVNode(Bn,{modelValue:n.unref(m).style,"onUpdate:modelValue":K[5]||(K[5]=ie=>n.unref(m).style=ie),dataList:b.value},{default:n.withCtx(()=>[x1]),_:1},8,["modelValue","dataList"]),n.createVNode(Bn,{modelValue:n.unref(m).speed,"onUpdate:modelValue":K[6]||(K[6]=ie=>n.unref(m).speed=ie),dataList:I.value},{default:n.withCtx(()=>[S1]),_:1},8,["modelValue","dataList"]),n.createVNode(Bn,{modelValue:n.unref(m).pitch,"onUpdate:modelValue":K[7]||(K[7]=ie=>n.unref(m).pitch=ie),dataList:P.value},{default:n.withCtx(()=>[k1]),_:1},8,["modelValue","dataList"])],2),[[n.vShow,!p.value]])]),n.createElementVNode("div",C1,[n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:X,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("确定")]),_:1},512),[[n.vShow,!p.value]]),n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:W,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("全部清空")]),_:1},512),[[n.vShow,p.value]])])],512))}});class Wu extends vt{constructor(o){super(o);Ce(this,"contentData")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(o==null)return!0;if(R.DomEditor.getSelectedNodeByType(this.editor,"custom-management"))return!1;if(R.SlateRange.isCollapsed(o))return this.editor.emit(Ee.ERROR,"请框选句子"),!0;const[a]=R.SlateEditor.node(this.editor,o),u=this.editor.getParentNode(a);return!u||!R.DomEditor.checkNodeType(u,"paragraph")?(this.editor.emit(Ee.ERROR,"多人配音需要在最外层使用"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const a=this.getValue();if(a==null)return;const u=R.DomEditor.getSelectedNodeByType(this.editor,"custom-management");if(u)R.SlateTransforms.setNodes(this.editor,{custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch},{at:R.DomEditor.findPath(this.editor,u)});else{const f={type:"custom-management",custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch,children:[{text:a}]};this.editor.insertNode(f)}}}const Wc=n.defineComponent({__name:"management-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!1),u=n.shallowRef(),f=yc(),{contentData:p}=oc(f),{x:v,y:g,height:m}=vr(o);n.onMounted(()=>{He.on(Le.EDITOR_CREATED,x=>{x.on(Ee.SSML_ELEMENT_CLICK,(b,I)=>{var P;if(I.type==="custom-management"){u.value??(u.value=new Wu(b));const V=((P=I.custom)==null?void 0:P.contentData)||{};V&&(p.value.category=V.category,p.value.name=V.name,p.value.pitch=V.pitch,p.value.role=V.role,p.value.speed=V.speed,p.value.style=V.style),setTimeout(()=>{w()},200)}})})});function w(){var b;const x={x:v.value-200,y:g.value+m.value};(b=s.value)==null||b.setPosition(x),a.value=!0}function k(){a.value=!1}function C(x){u.value??(u.value=new Wu(x)),!u.value.isDisabled()&&w()}function T(x){var b;u.value&&!u.value.isDisabled()&&(u.value.contentData={...p.value},(b=u.value)==null||b.exec(x)),k()}return(x,b)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:a.value,"onUpdate:visible":b[0]||(b[0]=I=>a.value=I)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:C},null,512)]),default:n.withCtx(()=>[n.createVNode(N1,{onSubmit:T})]),_:1},8,["visible"]))}}),R1={class:"speaker-head"},T1=["src"],$1={class:"speaker-name"},V1=n.defineComponent({__name:"speaker-item",props:{label:{},value:{},avatar:{},activated:{type:Boolean}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",{class:"speaker-item",onClick:o[0]||(o[0]=a=>s.$emit("click",s.value||""))},[n.createElementVNode("div",R1,[n.createElementVNode("img",{src:s.avatar||n.unref(Fn)(),class:n.normalizeClass([{"border border-warning":s.activated},"rounded-circle"]),style:{height:"40px"}},null,10,T1)]),n.createElementVNode("div",$1,n.toDisplayString(s.label),1)]))}});const A1=Qe(V1,[["__scopeId","data-v-b043c1a6"]]);class O1{constructor(){Ce(this,"mediaRecorder",null);Ce(this,"isRecording",n.ref(!1))}get recorderState(){return n.computed(()=>this.isRecording.value?"recording":"paused")}async start(s){if(navigator.mediaDevices.getUserMedia){const o=[];try{const a=await navigator.mediaDevices.getUserMedia({audio:!0}),u=new MediaRecorder(a);return this.mediaRecorder=u,new Promise((f,p)=>{u.ondataavailable=v=>{s.isCancellationRequested()?(u.stop(),this.isRecording.value=!1,s.throwIfRequested()):o.push(v.data)},u.onstart=()=>{this.isRecording.value=!0},u.onpause=()=>{this.isRecording.value=!1},u.onstop=()=>{this.isRecording.value=!1;const v=new Blob(o,{type:"audio/wav"});f(v)},u.onerror=v=>{this.isRecording.value=!1,p(v)},s.throwIfRequested(),u.start()})}catch(a){throw console.error(a),new Error("授权失败！",{cause:a})}}throw Error("浏览器不支持 getUserMedia")}stop(){this.mediaRecorder&&this.mediaRecorder.stop()}}const D1={class:"d-flex flex-row justify-content-between border rounded-pill border-secondary my-3 py-1 px-2"},I1={class:"text-secondary d-flex flex-row align-items-center",style:{"font-size":"0.5rem"}},B1={key:0,class:"iconfont icon-pause"},L1={key:1,class:"iconfont icon-play"},P1=n.createElementVNode("span",{class:"iconfont icon-delete"},null,-1),M1=[P1],F1={key:1,style:{"font-size":"0.5rem"}},U1=n.createElementVNode("p",null,"选择需要转换的配音师",-1),H1={class:"speakers-container border rounded d-flex flex-row flex-wrap row-gap-1 column-gap-2 overflow-y-auto overflow-x-hidden",style:{height:"150px"}},W1=["disabled"],z1=n.defineComponent({__name:"audio-upload",emits:["submit"],setup(r,{expose:s,emit:o}){const{globalEditConfig:a}=qe(),{audioUpload:u,transfer:f,fetchSpeaker:p,timeoutMilliseconds:v}=a.conversion,g=n.ref(),m=n.ref(),w=n.ref(),k=n.ref(!0),C=n.ref([]),T=n.ref(),x=n.shallowRef(),b=n.shallowRef(),I=new _c,{playState:P}=I;let M;const V=new O1,F=new mc("audio/*"),G=new vc(60),{state:X}=G,{recorderState:D}=V,ue=Co(g),we=n.inject("reopen");n.watch(ue,ge=>{ge||H()}),n.onMounted(async()=>{C.value=await p()}),n.watch(ue,ge=>{ge||(k.value=!0,M==null||M.cancel())}),s({openInputFile:De});function H(){k.value=!0,W()}function W(){I.pause(),m.value=void 0,w.value=void 0,T.value=void 0,x.value=void 0,b.value=void 0,M==null||M.cancel()}function U(){V.stop(),G.stop()}async function K(){M=new hs(6e4),G.start();try{M.startTimeout(),x.value=await V.start(M.token)}catch(ge){He.emit(Le.ERROR,`${ge}`,ge)}finally{M.cancel(),G.stop()}}function ie(){if(P.value==="playing")I.pause();else if(x.value){const ge=window.URL.createObjectURL(x.value);I.load(ge),I.play()}else if(b.value){const ge=window.URL.createObjectURL(b.value);I.load(ge),I.play()}}async function De(){try{return b.value=await F.open(),k.value=!1,!0}catch{return!1}}async function kt(){try{if(M=new hs(v),k.value&&x.value)M.startTimeout(),m.value=await u(x.value,M.token);else if(!k.value&&b.value)M.startTimeout(),m.value=await u(b.value,M.token);else throw new Error("请选则文件或实时录音")}catch(ge){He.emit(Le.ERROR,`${ge}`,ge)}}async function Ve(ge){try{m.value?(T.value=ge,w.value=await f({audioId:m.value.id,speakerId:ge.id})):He.emit(Le.ERROR,"请先上传音频文件")}catch(Se){He.emit(Le.ERROR,`${Se}`,Se)}}function ve(){w.value&&T.value&&(o("submit",{label:T.value.displayName,value:w.value.src}),H())}function gn(){M==null||M.cancel(),we==null||we()}return(ge,Se)=>{var gr,_r;return n.openBlock(),n.createElementBlock("div",{class:"audio-upload",ref_key:"boxRef",ref:g},[n.createElementVNode("div",D1,[n.createElementVNode("div",I1,[x.value||b.value?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:ie,class:"btn btn-sm rounded-pill"},[n.unref(P)==="playing"||n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("span",B1)):(n.openBlock(),n.createElementBlock("span",L1))])):n.createCommentVNode("",!0),n.createElementVNode("span",null,n.toDisplayString(((gr=b.value)==null?void 0:gr.name)||((_r=x.value)==null?void 0:_r.name)),1)]),n.createElementVNode("div",null,[!m.value&&(x.value||b.value)?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:W,class:"btn btn-sm rounded-pill"},M1)):n.createCommentVNode("",!0),m.value?(n.openBlock(),n.createElementBlock("span",F1,"已上传")):n.createCommentVNode("",!0),k.value&&!x.value?(n.openBlock(),n.createElementBlock(n.Fragment,{key:2},[n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:U,class:"btn btn-primary btn-sm rounded-pill"}," 结束录音("+n.toDisplayString(n.unref(X))+")s ",1)):(n.openBlock(),n.createElementBlock("button",{key:1,onClick:K,class:"btn btn-primary btn-sm rounded-pill"}," 开始录音 "))],64)):n.createCommentVNode("",!0),!k.value&&!b.value?(n.openBlock(),n.createElementBlock("button",{key:3,onClick:De,class:"btn btn-primary btn-sm rounded-pill"}," 选择文件 ")):n.createCommentVNode("",!0),m.value?(n.openBlock(),n.createElementBlock("button",{key:4,onClick:gn,class:"btn btn-primary btn-sm rounded-pill"}," 重传音频 ")):n.createCommentVNode("",!0),!m.value&&(b.value||x.value)?(n.openBlock(),n.createElementBlock("button",{key:5,onClick:kt,class:"btn btn-primary btn-sm rounded-pill"}," 上传音频 ")):n.createCommentVNode("",!0)])]),n.createElementVNode("div",null,[U1,n.createElementVNode("div",H1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(C.value,(_n,Ut)=>{var jt;return n.openBlock(),n.createBlock(A1,{onClick:Vs=>Ve(_n),key:Ut,label:_n.displayName,avatar:_n.avatar,activated:_n.name===((jt=T.value)==null?void 0:jt.name)},null,8,["onClick","label","avatar","activated"])}),128))])]),n.createElementVNode("button",{class:"btn btn-primary mt-1",onClick:ve,disabled:!w.value}," 完成录音并上传完成后，可选择配音师转换 ",8,W1)],512)}}}),G1={class:"fw-bold",style:{"font-size":"0.5rem"}},q1=n.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),K1={class:"border border-secondary rounded p-2 w-100",style:{height:"100px"}},Y1={class:"mt-2"},X1=n.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),J1=n.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!0),u=n.ref(!1),f=Co(s);n.provide("reopen",()=>{a.value=!0,u.value=!1}),n.watch(f,g=>{g||(a.value=!0,u.value=!1)});function p(){a.value=!0,u.value=!0}async function v(){var g;await((g=o.value)==null?void 0:g.openInputFile())&&(a.value=!1,u.value=!0)}return(g,m)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:s,class:"px-2 py-1",style:{width:"410px"}},[n.withDirectives(n.createElementVNode("section",G1,[q1,n.createElementVNode("div",K1,n.toDisplayString(g.text),1)],512),[[n.vShow,a.value]]),n.withDirectives(n.createElementVNode("section",Y1,[n.createElementVNode("div",{class:"w-100 d-flex flex-column row-gap-1"},[n.createElementVNode("button",{onClick:p,class:"btn btn-success"},"实时录音"),n.createElementVNode("button",{onClick:v,class:"btn btn-primary"},"上传录音")]),X1],512),[[n.vShow,!u.value]]),n.withDirectives(n.createElementVNode("section",null,[n.createVNode(z1,{ref_key:"audioUploadRef",ref:o,onSubmit:m[0]||(m[0]=w=>g.$emit("submit",w))},null,512)],512),[[n.vShow,u.value]])],512))}});class Z1 extends vt{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要变音的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-audio",remark:s.label,src:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const zc=n.defineComponent({__name:"conversion-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),u=n.shallowRef(),f=n.ref(!1),p=n.ref(""),{x:v,y:g,height:m}=vr(o),w=C=>{if(u.value??(u.value=new Z1(C)),u.value.isDisabled())return;p.value=u.value.getValue();const T={x:v.value-200,y:g.value+m.value};a.value=C,s.value.setPosition(T),f.value=!0};function k(C){var T;(T=u.value)==null||T.exec(C),f.value=!1}return(C,T)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:f.value,"onUpdate:visible":T[0]||(T[0]=x=>f.value=x)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:w},null,512)]),default:n.withCtx(()=>[n.createVNode(J1,{text:p.value,onSubmit:k},null,8,["text"])]),_:1},8,["visible"]))}}),Q1={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},j1={class:"position-relative"},eE=["src"],tE={key:0,class:"iconfont icon-play1"},nE={key:1,class:"iconfont icon-pause1"},rE={class:"anchor-avatar-name text-white"},oE=n.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=n.ref(),a=n.ref(),u=n.ref(0),f=n.ref(0),p=So(),{globalEditConfig:v}=qe(),{audioPlayer:g}=p,m=g.playState,{position:w}=Cs(o,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(M,V)=>b(V.clientX,V.clientY)?!1:void 0}),{style:k}=Rs(o,w);function C(M){(()=>{if(b(M.clientX,M.clientY))return I(M)?P():s("update:visible",!1)})(),T()}function T(){u.value=0,f.value=0}function x(M){u.value=M.clientX,f.value=M.clientY}function b(M,V){return M>u.value-10&&M<u.value+10&&V>f.value-10&&V<f.value+10}function I(M){var F;const V=M.target;return((F=a.value)==null?void 0:F.contains(V))||!1}async function P(){if(m.value==="playing")g.pause();else try{const M=No(),V=await v.tryPlay.play(M);g.load(V.src),g.play()}catch{g.pause()}}return(M,V)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:n.normalizeStyle([n.unref(k),{position:"fixed"}]),onMousedown:x,onMouseup:C},[n.createElementVNode("div",Q1,[n.createElementVNode("div",j1,[n.createElementVNode("img",{src:n.unref(p).speaker.avatar||n.unref(Fn)(),class:"rounded-circle"},null,8,eE),n.createElementVNode("button",{ref_key:"btnPlayRef",ref:a,class:"btn w-100 h-100 position-absolute top-50 start-50 translate-middle bg-black bg-opacity-50 text-white rounded-circle"},[n.unref(m)==="paused"?(n.openBlock(),n.createElementBlock("span",tE)):(n.openBlock(),n.createElementBlock("span",nE))],512)]),n.createElementVNode("div",rE,n.toDisplayString(n.unref(p).speaker.displayName),1)])],36)),[[n.vShow,M.visible]])}});const iE=Qe(oE,[["__scopeId","data-v-0f55dd94"]]),sE={key:0,class:"position-absolute top-0 start-100 translate-middle text-bg-danger text-nowrap rounded px-1",style:{"font-size":"0.5rem"}},aE=["src"],lE={class:"anchor-avatar-name text-white"},uE=n.defineComponent({__name:"anchor-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,u,f;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=p=>{var v;return s.$emit("click",(v=s.data)==null?void 0:v.value)})},[(a=s.data)!=null&&a.isFree?n.createCommentVNode("",!0):(n.openBlock(),n.createElementBlock("span",sE,"付费")),n.createElementVNode("img",{src:((u=s.data)==null?void 0:u.src)??n.unref(Fn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"40px"}},null,10,aE),n.createElementVNode("div",lE,n.toDisplayString((f=s.data)==null?void 0:f.label),1)])}}});const Gc=Qe(uE,[["__scopeId","data-v-845325c9"]]),cE={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},fE=n.defineComponent({__name:"anchor-list",props:{filter:{}},setup(r){const s=r,{globalEditConfig:o}=qe(),{fetchData:a}=o.tryPlay,u=So(),f=n.ref([]),p=n.shallowRef([]);n.watch(()=>s.filter,async g=>{const m=await a(n.toRaw(g));p.value=m,f.value=m.map(w=>({label:w.displayName,value:w.name}))});function v(g){const m=p.value.find(w=>w.name===g);m&&u.setSpeaker(m)}return n.onMounted(async()=>{const g=await a(n.toRaw(s.filter));p.value=g,f.value=g.map(m=>({label:m.displayName,value:m.name})),f.value.length>0&&v(f.value[0].value)}),(g,m)=>(n.openBlock(),n.createElementBlock("div",cE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(f.value,(w,k)=>(n.openBlock(),n.createElementBlock("div",{class:"m-3",key:k},[n.createVNode(Gc,{data:w,activate:w.value===n.unref(u).speaker.name,onClick:C=>v(w.value)},null,8,["data","activate","onClick"])]))),128))]))}}),is=n.defineComponent({__name:"tag-item",props:{activate:{type:Boolean},value:{}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("span",{class:n.normalizeClass(["tag-item d-inline-block text-white text-center text-nowrap text-truncate",{"border border-white rounded-pill":s.activate}]),onClick:o[0]||(o[0]=a=>s.$emit("click",s.value)),style:{height:"20px","min-width":"60px","max-width":"160px","font-size":"0.5rem",cursor:"pointer"}},[n.renderSlot(s.$slots,"default")],2))}}),dE={class:"tag-list w-100"},pE={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},hE={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},mE={style:{height:"100px"},class:"w-100 pt-2 d-flex flex-row flex-wrap align-content-start row-gap-2 overflow-y-auto overflow-x-hidden scrollbar-none"},vE=n.defineComponent({__name:"tag-list",props:{filter:{}},emits:["update:filter"],setup(r,{emit:s}){const o=r,{globalEditConfig:a}=qe(),{topFlag:u,gender:f,featchTag:p}=a.tryPlay,v=n.ref([]);n.onMounted(async()=>{v.value=await p()});function g(k){s("update:filter",{...n.toRaw(o.filter),topFlag:k})}function m(k){s("update:filter",{...n.toRaw(o.filter),gender:k})}function w(k){s("update:filter",{...n.toRaw(o.filter),tag:k})}return(k,C)=>(n.openBlock(),n.createElementBlock("div",dE,[n.createElementVNode("div",pE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(u),(T,x)=>(n.openBlock(),n.createBlock(is,{onClick:g,key:x,value:T.value,activate:k.filter.topFlag===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",hE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(T,x)=>(n.openBlock(),n.createBlock(is,{onClick:m,key:x,value:T.value,activate:k.filter.gender===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",mE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(v.value,(T,x)=>(n.openBlock(),n.createBlock(is,{onClick:w,key:x,value:T.value,activate:k.filter.tag===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))])]))}});const gE=["src"],_E={class:"anchor-avatar-name text-white",style:{"font-size":"0.5rem"}},yE=n.defineComponent({__name:"style-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,u;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=f=>{var p;return s.$emit("click",(p=s.data)==null?void 0:p.value)})},[n.createElementVNode("img",{src:((a=s.data)==null?void 0:a.src)||n.unref(Fn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"30px"}},null,10,gE),n.createElementVNode("div",_E,n.toDisplayString((u=s.data)==null?void 0:u.label),1)])}}});const wE=Qe(yE,[["__scopeId","data-v-71aedb65"]]);function bE(r){return`${(.05*r*100).toFixed(0)}%`}function EE(r){return`${((r-1)*100).toFixed(0)}%`}const $s=r=>(n.pushScopeId("data-v-0210af00"),r=r(),n.popScopeId(),r),xE={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},SE={class:"mt-2 d-flex text-center justify-content-between align-items-center"},kE={class:"me-auto d-flex flex-row align-items-center"},CE=["src"],NE={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},RE={class:"d-flex dlex-row column-gap-2 align-items-end"},TE={class:"fs-6"},$E={style:{"font-size":"0.5rem"}},VE={class:"d-flex flex-row column-gap-2 align-items-center"},AE={key:0,class:"badge text-bg-primary px-2"},OE={class:"d-flex flex-column align-items-end"},DE=$s(()=>n.createElementVNode("div",{class:"text-info"},"音频时长，请以生成后的为准",-1)),IE={class:"mt-1"},BE=$s(()=>n.createElementVNode("span",null,"/",-1)),LE={class:"role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3"},PE=["onClick"],ME={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},FE=["onClick"],UE=$s(()=>n.createElementVNode("div",{class:"my-3"},[n.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),HE={class:"slider-box"},WE={class:"slider-box"},zE={class:"d-flex flex-row gap-3 my-3"},GE=["onClick"],qE={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3",style:{"min-height":"100px"}},KE=["onClick"],YE=n.defineComponent({__name:"slider-panle",setup(r){const{globalEditConfig:s}=qe(),{rootProsody:o,rootExpressAs:a}=vn(),{fetchStar:u,category:f,fetchData:p}=s.tryPlay,v=So(),g=n.ref(v.speaker.isStar),m=n.ref(10),w=n.ref(0),k=n.ref([0,2]),C=n.ref(1),T=n.ref([-10,10]),x=n.ref(0),b=n.computed(()=>ps(m.value)),I=n.computed(()=>ps(w.value)),P=n.reactive(sc()),M=n.reactive(ac()),V=n.ref(""),F=n.ref([]);n.onMounted(async()=>{await ue(f[0].value)}),n.watch(()=>v.speaker,H=>{H.roles.length>0&&X(H.roles[0].value),H.styles.length>0&&D(H.styles[0].value)},{immediate:!0}),n.watch(x,H=>{o.pitch=bE(H)},{immediate:!0}),n.watch(C,H=>{o.rate=EE(H)},{immediate:!0});async function G(){g.value=await u(v.speaker.name,!g.value)}function X(H){a.role=H}function D(H){a.style=H}async function ue(H){V.value=H;try{F.value=await p({...xo(),category:H})}catch(W){He.emit(Le.ERROR,`${W}`,W)}}function we(H){v.setSpeaker(n.toRaw(H))}return(H,W)=>(n.openBlock(),n.createElementBlock("div",xE,[n.createElementVNode("div",SE,[n.createElementVNode("div",kE,[n.createElementVNode("img",{src:n.unref(Fn)(),class:"rounded-circle",style:{height:"50px"}},null,8,CE),n.createElementVNode("div",NE,[n.createElementVNode("div",RE,[n.createElementVNode("span",TE,n.toDisplayString(n.unref(v).speaker.displayName),1),n.createElementVNode("span",$E,n.toDisplayString(C.value)+"x",1)]),n.createElementVNode("div",VE,[n.createVNode(n.unref(j.ElIcon),{onClick:G,class:"fs-6",style:n.normalizeStyle({color:g.value?"red":"white"})},{default:n.withCtx(()=>[g.value?(n.openBlock(),n.createBlock(n.unref(pn.StarFilled),{key:0})):(n.openBlock(),n.createBlock(n.unref(pn.Star),{key:1}))]),_:1},8,["style"]),n.unref(v).speaker.isSupper24K?(n.openBlock(),n.createElementBlock("span",AE," 24K ")):n.createCommentVNode("",!0)])])]),n.createElementVNode("div",OE,[DE,n.createElementVNode("div",IE,[n.createElementVNode("span",null,n.toDisplayString(I.value),1),BE,n.createElementVNode("span",null,n.toDisplayString(b.value),1)]),n.createVNode(n.unref(j.ElSlider),{max:m.value,modelValue:w.value,"onUpdate:modelValue":W[0]||(W[0]=U=>w.value=U),size:"small"},null,8,["max","modelValue"])])]),n.createElementVNode("div",LE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(v).speaker.roles,(U,K)=>(n.openBlock(),n.createElementBlock("div",{onClick:ie=>X(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===(n.unref(a).role||"")}])},n.toDisplayString(U.label),11,PE))),128))]),n.createElementVNode("ul",ME,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(v).speaker.styles,(U,K)=>(n.openBlock(),n.createElementBlock("li",{class:"mx-2",onClick:ie=>D(U.value),key:K},[n.createVNode(wE,{activate:U.value===(n.unref(a).style||""),data:U},null,8,["activate","data"])],8,FE))),128))]),UE,n.createElementVNode("div",HE,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语速："+n.toDisplayString(C.value)+"x",1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:C.value,"onUpdate:modelValue":W[1]||(W[1]=U=>C.value=U),min:k.value[0],max:k.value[1],step:.05,marks:P},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",WE,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语调："+n.toDisplayString(x.value),1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:x.value,"onUpdate:modelValue":W[2]||(W[2]=U=>x.value=U),min:T.value[0],max:T.value[1],step:.2,marks:M},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",null,[n.createElementVNode("ul",zE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:ie=>ue(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===V.value}])},n.toDisplayString(U.label),11,GE))),128))]),n.createElementVNode("ul",qE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(F.value,(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:ie=>we(U),key:K},[n.createVNode(Gc,{activate:U.name===n.unref(v).speaker.name,data:{...U,label:U.displayName,value:U.name}},null,8,["activate","data"])],8,KE))),128))])])]))}});const XE=Qe(YE,[["__scopeId","data-v-0210af00"]]),JE=r=>(n.pushScopeId("data-v-b9c1f88f"),r=r(),n.popScopeId(),r),ZE={class:"box ms-2"},QE={class:"try-play-header text-center d-flex flex-row justify-content-between"},jE={class:"try-play-body d-flex flex-row"},ex={class:"try-play-left w-50 border-right border-secondary"},tx={class:"pe-1"},nx=JE(()=>n.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),rx={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},ox=n.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=r,a=n.ref(),u=n.ref(""),f=n.ref(),p=n.ref(),v=n.ref(xo());n.onMounted(()=>{window.addEventListener("keydown",g)}),n.onUnmounted(()=>{window.addEventListener("keydown",g)}),n.watch(()=>o.visible,x=>{x&&C()});function g(x){x.code==="Escape"&&o.visible&&k()}const{position:m}=Cs(p,{initialValue:{x:40,y:40}}),{style:w}=Rs(f,m);n.onMounted(()=>{m.value.x=(window.innerWidth-890)/2,m.value.y=(window.innerHeight-390)/2});function k(){s("update:visible",!1)}function C(){n.nextTick(()=>{var x,b;(b=(x=a.value)==null?void 0:x.input)==null||b.focus()})}function T(){v.value={...v.value,word:u.value}}return(x,b)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:n.normalizeStyle([n.unref(w),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[n.createElementVNode("div",ZE,[n.createElementVNode("div",QE,[n.createElementVNode("div",{ref_key:"handleRef",ref:p,class:"col-11 try-play-move"},null,512),n.createElementVNode("div",{onClick:k,class:"col-1 try-play-menu-close"},[n.createVNode(n.unref(j.ElIcon),{color:"white"},{default:n.withCtx(()=>[n.createVNode(n.unref(pn.Minus))]),_:1})])]),n.createElementVNode("div",jE,[n.createElementVNode("div",ex,[n.createElementVNode("div",tx,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(T,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{"input-style":{color:"white"},ref_key:"searchInputRef",ref:a,modelValue:u.value,"onUpdate:modelValue":b[0]||(b[0]=I=>u.value=I),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),n.createVNode(vE,{filter:v.value,"onUpdate:filter":b[1]||(b[1]=I=>v.value=I)},null,8,["filter"]),nx,n.createVNode(fE,{filter:v.value},null,8,["filter"])]),n.createElementVNode("div",rx,[n.createVNode(XE)])])])],4)),[[n.vShow,x.visible]])}});const ix=Qe(ox,[["__scopeId","data-v-b9c1f88f"]]),qc=n.defineComponent({__name:"try-play",setup(r){const s=n.ref(!0);function o(a){a||(s.value=!0)}return(a,u)=>(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.createVNode(iE,{visible:s.value,"onUpdate:visible":u[0]||(u[0]=f=>s.value=f)},null,8,["visible"]),n.createVNode(ix,{visible:!s.value,"onUpdate:visible":o},null,8,["visible"])]))}});const sx={install:r=>{r.component("PlayMenu",$c),r.component("PinyinMenu",Vc),r.component("ContinuousMenu",Ac),r.component("ReadMenu",Oc),r.component("DigitalMenu",Dc),r.component("AliasMenu",Ic),r.component("EnglishMenu",Bc),r.component("ChangespeedMenu",Lc),r.component("RhythmMenu",Pc),r.component("SpecialMenu",Mc),r.component("MuteMenu",Fc),r.component("BgmMenu",Uc),r.component("SensitiveMenu",Hc),r.component("ManagementMenu",Wc),r.component("ConversionMenu",zc),r.component("TryPlay",qc)}};var vs={exports:{}},gs={exports:{}};(function(r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ParsingError=void 0;class o extends Error{constructor(F,G){super(F),this.cause=G}}s.ParsingError=o;let a;function u(){return g(!1)||C()||k()||w()}function f(){return b(/\s*/),g(!0)||k()||m()||v(!1)}function p(){const V=v(!0),F=[];let G,X=f();for(;X;){if(X.node.type==="Element"){if(G)throw new Error("Found multiple root nodes");G=X.node}X.excluded||F.push(X.node),X=f()}if(!G)throw new o("Failed to parse XML","Root Element not found");if(a.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:V?V.node:null,root:G,children:F}}function v(V){const F=b(V?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!F)return;const G={name:F[1],type:"ProcessingInstruction",attributes:{}};for(;!(I()||P("?>"));){const X=T();if(X)G.attributes[X.name]=X.value;else return}return b(/\?>/),{excluded:V?!1:a.options.filter(G)===!1,node:G}}function g(V){const F=b(/^<([^?!</>\s]+)\s*/);if(!F)return;const G={type:"Element",name:F[1],attributes:{},children:[]},X=V?!1:a.options.filter(G)===!1;for(;!(I()||P(">")||P("?>")||P("/>"));){const ue=T();if(ue)G.attributes[ue.name]=ue.value;else return}if(b(/^\s*\/>/))return G.children=null,{excluded:X,node:G};b(/\??>/);let D=u();for(;D;)D.excluded||G.children.push(D.node),D=u();if(a.options.strictMode){const ue=`</${G.name}>`;if(a.xml.startsWith(ue))a.xml=a.xml.slice(ue.length);else throw new o("Failed to parse XML",`Closing tag not matching "${ue}"`)}else b(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:X,node:G}}function m(){const V=b(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||b(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||b(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||b(/^<!DOCTYPE\s+\S+\s*>/);if(V){const F={type:"DocumentType",content:V[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function w(){if(a.xml.startsWith("<![CDATA[")){const V=a.xml.indexOf("]]>");if(V>-1){const F=V+3,G={type:"CDATA",content:a.xml.substring(0,F)};return a.xml=a.xml.slice(F),{excluded:a.options.filter(G)===!1,node:G}}}}function k(){const V=b(/^<!--[\s\S]*?-->/);if(V){const F={type:"Comment",content:V[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function C(){const V=b(/^([^<]+)/);if(V){const F={type:"Text",content:V[1]};return{excluded:a.options.filter(F)===!1,node:F}}}function T(){const V=b(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(V)return{name:V[1].trim(),value:x(V[2].trim())}}function x(V){return V.replace(/^['"]|['"]$/g,"")}function b(V){const F=a.xml.match(V);if(F)return a.xml=a.xml.slice(F[0].length),F}function I(){return a.xml.length===0}function P(V){return a.xml.indexOf(V)===0}function M(V,F={}){V=V.trim();const G=F.filter||(()=>!0);return a={xml:V,options:Object.assign(Object.assign({},F),{filter:G,strictMode:F.strictMode===!0})},p()}r.exports=M,s.default=M})(gs,gs.exports);var ax=gs.exports;(function(r,s){var o=fn&&fn.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(s,"__esModule",{value:!0});const a=o(ax);function u(x){if(!x.options.indentation&&!x.options.lineSeparator)return;x.content+=x.options.lineSeparator;let b;for(b=0;b<x.level;b++)x.content+=x.options.indentation}function f(x){x.content=x.content.replace(/ +$/,"");let b;for(b=0;b<x.level;b++)x.content+=x.options.indentation}function p(x,b){x.content+=b}function v(x,b,I){if(typeof x.content=="string")g(x.content,b,I);else if(x.type==="Element")w(x,b,I);else if(x.type==="ProcessingInstruction")C(x,b);else throw new Error("Unknown node type: "+x.type)}function g(x,b,I){if(!I){const P=x.trim();(b.options.lineSeparator||P.length===0)&&(x=P)}x.length>0&&(!I&&b.content.length>0&&u(b),p(b,x))}function m(x,b){const I="/"+x.join("/"),P=x[x.length-1];return b.includes(P)||b.includes(I)}function w(x,b,I){if(b.path.push(x.name),!I&&b.content.length>0&&u(b),p(b,"<"+x.name),k(b,x.attributes),x.children===null||b.options.forceSelfClosingEmptyTag&&x.children.length===0){const P=b.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";p(b,P)}else if(x.children.length===0)p(b,"></"+x.name+">");else{const P=x.children;p(b,">"),b.level++;let M=x.attributes["xml:space"]==="preserve",V=!1;if(!M&&b.options.ignoredPaths&&(V=m(b.path,b.options.ignoredPaths),M=V),!M&&b.options.collapseContent){let F=!1,G=!1,X=!1;P.forEach(function(D,ue){D.type==="Text"?(D.content.includes(`
`)?(G=!0,D.content=D.content.trim()):(ue===0||ue===P.length-1)&&D.content.trim().length===0&&(D.content=""),D.content.trim().length>0&&(F=!0)):D.type==="CDATA"?F=!0:X=!0}),F&&(!X||!G)&&(M=!0)}P.forEach(function(F){v(F,b,I||M)}),b.level--,!I&&!M&&u(b),V&&f(b),p(b,"</"+x.name+">")}b.path.pop()}function k(x,b){Object.keys(b).forEach(function(I){const P=b[I].replace(/"/g,"&quot;");p(x," "+I+'="'+P+'"')})}function C(x,b){b.content.length>0&&u(b),p(b,"<?"+x.name),k(b,x.attributes),p(b,"?>")}function T(x,b={}){b.indentation="indentation"in b?b.indentation:"    ",b.collapseContent=b.collapseContent===!0,b.lineSeparator="lineSeparator"in b?b.lineSeparator:`\r
`,b.whiteSpaceAtEndOfSelfclosingTag=b.whiteSpaceAtEndOfSelfclosingTag===!0,b.throwOnFailure=b.throwOnFailure!==!1;try{const I=(0,a.default)(x,{filter:b.filter,strictMode:b.strictMode}),P={content:"",level:0,options:b,path:[]};return I.declaration&&C(I.declaration,P),I.children.forEach(function(M){v(M,P,!1)}),b.lineSeparator?P.content.replace(/\r\n/g,`
`).replace(/\n/g,b.lineSeparator):P.content}catch(I){if(b.throwOnFailure)throw I;return x}}T.minify=(x,b={})=>T(x,Object.assign(Object.assign({},b),{indentation:"",lineSeparator:""})),r.exports=T,s.default=T})(vs,vs.exports);var lx=vs.exports;const ux=cc(lx),Wn=r=>(n.pushScopeId("data-v-fb2870b0"),r=r(),n.popScopeId(),r),cx={class:"editor-title d-flex flex-row align-item-center justify-content-between"},fx={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},dx=Wn(()=>n.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),px={class:"author d-flex flex-row align-items-center justify-content-start"},hx=Wn(()=>n.createElementVNode("div",null,"未保存",-1)),mx=Wn(()=>n.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),vx=Wn(()=>n.createElementVNode("div",{class:"d-inline-block"},null,-1)),gx={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},_x=Wn(()=>n.createElementVNode("div",{class:"menu-divider"},null,-1)),yx=Wn(()=>n.createElementVNode("div",{class:"px-1"},null,-1)),wx={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},bx={class:"dialog-footer"},Ex=n.defineComponent({__name:"editor-title",setup(r){const s=n.ref(!1),o=n.ref(""),{rootBackgroundaudio:a}=vn(),u=n.computed(()=>ux(o.value,{indentation:"    ",filter:m=>m.type!=="Comment",collapseContent:!0,lineSeparator:`
`})),f=()=>{o.value=No(),s.value=!0},p=()=>{a.src&&mn.play(a.src)},v=()=>{mn.stop(a.src),a.src="",a.remark=""};async function g(m){await navigator.clipboard.writeText(m?u.value:o.value),s.value=!1}return(m,w)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",cx,[n.createElementVNode("div",fx,[dx,n.createElementVNode("div",px,[hx,n.unref(a).src?(n.openBlock(),n.createBlock(n.unref(j.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:p,onClose:v},{default:n.withCtx(()=>[mx,vx,n.createElementVNode("span",null,n.toDisplayString(n.unref(a).remark),1)]),_:1})):n.createCommentVNode("",!0)])]),n.createElementVNode("div",gx,[n.createVNode(n.unref(j.ElButton),{type:"primary",icon:n.unref(pn.Share),disabled:""},{default:n.withCtx(()=>[n.createTextVNode("分享")]),_:1},8,["icon"]),_x,n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:f},{default:n.withCtx(()=>[n.createTextVNode("查看SSML")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载音频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载视频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载字幕")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("声音转换")]),_:1}),yx])]),n.createVNode(n.unref(j.ElDialog),{modelValue:s.value,"onUpdate:modelValue":w[4]||(w[4]=k=>s.value=k),title:"查看SSML",width:"80%"},{header:n.withCtx(()=>[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:w[0]||(w[0]=k=>g(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:w[1]||(w[1]=k=>g(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})]),footer:n.withCtx(()=>[n.createElementVNode("span",bx,[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:w[2]||(w[2]=k=>g(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:w[3]||(w[3]=k=>g(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})])]),default:n.withCtx(()=>[n.createElementVNode("pre",wx,n.toDisplayString(u.value),1)]),_:1},8,["modelValue"])],64))}});const xx=Qe(Ex,[["__scopeId","data-v-fb2870b0"]]),Sx=n.defineComponent({__name:"editor-core",emits:["created","change"],setup(r,{emit:s}){const{editor:o,setEditor:a,globalEditConfig:u}=qe(),f=n.ref(null);n.onMounted(()=>{p()}),n.onUnmounted(()=>{o==null||o.destroy()});function p(){if(!f.value)return;const v=R.createEditor({selector:f.value,mode:"simple",config:{...n.toRaw(u.editorConfig),onCreated(g){s("created",g),He.emit(Le.EDITOR_CREATED,g)},onChange(g){s("change",g)}}});a(v),v.on(Ee.ERROR,u.handleError)}return(v,g)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),kx={class:"bar-view border-bottom border-1"},Cx=n.defineComponent({__name:"bar-view",setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",kx,[n.createVNode(n.unref(xc),null,{default:n.withCtx(()=>[n.createVNode(n.unref(Ln),{divider:"green"},{default:n.withCtx(()=>[n.createVNode(n.unref($c))]),_:1}),n.createVNode(n.unref(Ln),{divider:"cyan"},{default:n.withCtx(()=>[n.createVNode(n.unref(Vc)),n.createVNode(n.unref(Oc)),n.createVNode(n.unref(Dc)),n.createVNode(n.unref(Ac)),n.createVNode(n.unref(Ic)),n.createVNode(n.unref(Bc))]),_:1}),n.createVNode(n.unref(Ln),{divider:"orange"},{default:n.withCtx(()=>[n.createVNode(n.unref(Lc)),n.createVNode(n.unref(Wc)),n.createVNode(n.unref(zc))]),_:1}),n.createVNode(n.unref(Ln),{divider:"purple"},{default:n.withCtx(()=>[n.createVNode(n.unref(Pc)),n.createVNode(n.unref(Fc))]),_:1}),n.createVNode(n.unref(Ln),{divider:"yellow"},{default:n.withCtx(()=>[n.createVNode(n.unref(Mc)),n.createVNode(n.unref(Uc))]),_:1})]),_:1})]),n.createVNode(n.unref(qc))],64))}}),Nx={class:"editor-box"},Rx={class:"editor-core-container shadow pt-1"},Tx=n.defineComponent({__name:"editor-view",emits:["created","change"],setup(r,{emit:s}){const o=p=>{s("created",p)},a=p=>{s("change",p)};function u(p){He.emit(Le.VIEW_CLICK,p)}function f(p){He.emit(Le.VIEW_KEYDOWN,p)}return(p,v)=>(n.openBlock(),n.createElementBlock("div",{class:"editor-view",onClick:u,onKeydown:f},[n.renderSlot(p.$slots,"default",{},()=>[n.createVNode(xx)],!0),n.createElementVNode("div",Nx,[n.createVNode(Cx),n.createElementVNode("div",Rx,[n.createVNode(Sx,{onChange:a,onCreated:o})])])],32))}});const Kc=Qe(Tx,[["__scopeId","data-v-b5e6df8c"]]),$x={install(r){r.component("EditorView",Kc)}},Vx={install(r,s){r.use(iy()),r.use(()=>{const{setGlobalEditConfig:o}=qe(),a=ws(s);o(a),He.on(Le.ERROR,a.handleError)}),r.use(X0),r.use(cb),r.use(sx),r.use($x)}};exports.AudioPlayer=hc;exports.CancellationTokenSource=hs;exports.DOMComment=Cy;exports.DOMElement=Ny;exports.DOMNode=ky;exports.DOMRange=Ty;exports.DOMSelection=$y;exports.DOMStaticRange=Vy;exports.DOMText=Ry;exports.EMITTER_EVENT=Le;exports.EditorView=Kc;exports.FileSelector=mc;exports.Timer=vc;exports.WANGEDITOR_EVENT=Ee;exports.audioPlayer=mn;exports.createGlobalEditorConfig=ws;exports.default=Vx;exports.defaultFilterSpeaker=xo;exports.defaultLabelValue=J0;exports.defaultSpeaker=gc;exports.demoAvatar=Fn;exports.formatTime=ps;exports.genRandomStr=Oy;exports.pitch=ac;exports.serializeToSSML=No;exports.speed=sc;
