"use strict";var on=Object.defineProperty;var an=(t,n,r)=>n in t?on(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r;var F=(t,n,r)=>(an(t,typeof n!="symbol"?n+"":n,r),r);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),y=require("@wangeditor/editor"),E=require("element-plus"),te=require("@element-plus/icons-vue"),ln="ssml-editor",sn="ssml-editor-config",H={EDITOR:ln,EDITORCONFIG:sn},cn="emitter-ediror-error",O={ERROR:cn},un="wangeditor-update-bgm",dn="wangeditor-remove-bgm",fn="wangeditor-update-speak",ee={UPDATE_BGM:un,REMOVE_BGM:dn,UPDATE_SPEAK:fn},pn={class:"bar-button-icon"},mn={class:"fw-normal",style:{"font-size":"0.85rem"}},vn=e.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:n}){const r=t,o=e.inject(H.EDITOR),a=()=>{r.disabled||n("click",o.value)};return(l,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bar-button px-2 py-1",{disabled:l.disabled}]),onClick:a,onMousedown:s[0]||(s[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",pn,[e.createElementVNode("span",{class:e.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${l.icon}`]])},null,2)]),e.createElementVNode("div",mn,e.toDisplayString(l.text),1)],34))}});const L=(t,n)=>{const r=t.__vccOpts||t;for(const[o,a]of n)r[o]=a;return r},P=L(vn,[["__scopeId","data-v-7741060a"]]);const $e=e.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(t,{expose:n,emit:r}){const o=e.ref(""),a=e.ref();function l(){a.value.focus()}function s(){r("submit",o.value),o.value=""}return n({focus:l}),(i,u)=>(e.openBlock(),e.createBlock(e.unref(E.ElForm),{class:"flex flex-row",onSubmit:e.withModifiers(s,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(E.ElInput),{type:i.type,ref_key:"inputRef",ref:a,modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=p=>o.value=p)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}});const hn=e.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(t){return(n,r)=>(e.openBlock(),e.createBlock(e.unref(E.ElPopover),{hideAfter:n.hideAfter,width:n.width,visible:n.visible,trigger:n.trigger,"onUpdate:visible":r[0]||(r[0]=o=>n.$emit("update:visible",o))},{reference:e.withCtx(()=>[e.renderSlot(n.$slots,"reference")]),default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}});function fe(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function j(t){return typeof t=="function"?t():e.unref(t)}const ce=typeof window<"u",yn=t=>t!=null,le=()=>{};var _n=Object.defineProperty,gn=Object.defineProperties,bn=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,xn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable,Fe=(t,n,r)=>n in t?_n(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Vn=(t,n)=>{for(var r in n||(n={}))xn.call(n,r)&&Fe(t,r,n[r]);if(Ae)for(var r of Ae(n))wn.call(n,r)&&Fe(t,r,n[r]);return t},En=(t,n)=>gn(t,bn(n));function Nn(t,n={}){if(!e.isRef(t))return e.toRefs(t);const r=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const o in t.value)r[o]=e.customRef(()=>({get(){return t.value[o]},set(a){var l;if((l=j(n.replaceRef))!=null?l:!0)if(Array.isArray(t.value)){const i=[...t.value];i[o]=a,t.value=i}else{const i=En(Vn({},t.value),{[o]:a});Object.setPrototypeOf(i,Object.getPrototypeOf(t.value)),t.value=i}else t.value[o]=a}}));return r}function xt(t,n=!0){e.getCurrentInstance()?e.onMounted(t):n?t():e.nextTick(t)}function z(t){var n;const r=j(t);return(n=r==null?void 0:r.$el)!=null?n:r}const W=ce?window:void 0;function K(...t){let n,r,o,a;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,o,a]=t,n=W):[n,r,o,a]=t,!n)return le;Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]);const l=[],s=()=>{l.forEach(v=>v()),l.length=0},i=(v,f,m,h)=>(v.addEventListener(f,m,h),()=>v.removeEventListener(f,m,h)),u=e.watch(()=>[z(n),j(a)],([v,f])=>{s(),v&&l.push(...r.flatMap(m=>o.map(h=>i(v,m,h,f))))},{immediate:!0,flush:"post"}),p=()=>{u(),s()};return fe(p),p}function Cn(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function Te(t){const n=Cn();return e.computed(()=>(n.value,!!t()))}function kn(t,n={}){const{window:r=W}=n,o=Te(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let a;const l=e.ref(!1),s=p=>{l.value=p.matches},i=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",s):a.removeListener(s))},u=e.watchEffect(()=>{o.value&&(i(),a=r.matchMedia(j(t)),"addEventListener"in a?a.addEventListener("change",s):a.addListener(s),l.value=a.matches)});return fe(()=>{u(),i(),a=void 0}),l}var Sn=Object.defineProperty,$n=Object.defineProperties,Tn=Object.getOwnPropertyDescriptors,je=Object.getOwnPropertySymbols,Rn=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,ze=(t,n,r)=>n in t?Sn(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Dn=(t,n)=>{for(var r in n||(n={}))Rn.call(n,r)&&ze(t,r,n[r]);if(je)for(var r of je(n))On.call(n,r)&&ze(t,r,n[r]);return t},Bn=(t,n)=>$n(t,Tn(n));function pe(t,n={}){var r,o;const{pointerTypes:a,preventDefault:l,stopPropagation:s,exact:i,onMove:u,onEnd:p,onStart:v,initialValue:f,axis:m="both",draggingElement:h=W,handle:d=t}=n,c=e.ref((r=j(f))!=null?r:{x:0,y:0}),x=e.ref(),C=g=>a?a.includes(g.pointerType):!0,k=g=>{j(l)&&g.preventDefault(),j(s)&&g.stopPropagation()},b=g=>{if(!C(g)||j(i)&&g.target!==j(t))return;const S=j(t).getBoundingClientRect(),T={x:g.clientX-S.left,y:g.clientY-S.top};(v==null?void 0:v(T,g))!==!1&&(x.value=T,k(g))},w=g=>{if(!C(g)||!x.value)return;let{x:S,y:T}=c.value;(m==="x"||m==="both")&&(S=g.clientX-x.value.x),(m==="y"||m==="both")&&(T=g.clientY-x.value.y),c.value={x:S,y:T},u==null||u(c.value,g),k(g)},N=g=>{C(g)&&x.value&&(x.value=void 0,p==null||p(c.value,g),k(g))};if(ce){const g={capture:(o=n.capture)!=null?o:!0};K(d,"pointerdown",b,g),K(h,"pointermove",w,g),K(h,"pointerup",N,g)}return Bn(Dn({},Nn(c)),{position:c,isDragging:e.computed(()=>!!x.value),style:e.computed(()=>`left:${c.value.x}px;top:${c.value.y}px;`)})}var He=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Pn=(t,n)=>{var r={};for(var o in t)In.call(t,o)&&n.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&He)for(var o of He(t))n.indexOf(o)<0&&Mn.call(t,o)&&(r[o]=t[o]);return r};function wt(t,n,r={}){const o=r,{window:a=W}=o,l=Pn(o,["window"]);let s;const i=Te(()=>a&&"ResizeObserver"in a),u=()=>{s&&(s.disconnect(),s=void 0)},p=e.computed(()=>Array.isArray(t)?t.map(m=>z(m)):[z(t)]),v=e.watch(p,m=>{if(u(),i.value&&a){s=new ResizeObserver(n);for(const h of m)h&&s.observe(h,l)}},{immediate:!0,flush:"post",deep:!0}),f=()=>{u(),v()};return fe(f),{isSupported:i,stop:f}}function ne(t,n={}){const{reset:r=!0,windowResize:o=!0,windowScroll:a=!0,immediate:l=!0}=n,s=e.ref(0),i=e.ref(0),u=e.ref(0),p=e.ref(0),v=e.ref(0),f=e.ref(0),m=e.ref(0),h=e.ref(0);function d(){const c=z(t);if(!c){r&&(s.value=0,i.value=0,u.value=0,p.value=0,v.value=0,f.value=0,m.value=0,h.value=0);return}const x=c.getBoundingClientRect();s.value=x.height,i.value=x.bottom,u.value=x.left,p.value=x.right,v.value=x.top,f.value=x.width,m.value=x.x,h.value=x.y}return wt(t,d),e.watch(()=>z(t),c=>!c&&d()),a&&K("scroll",d,{capture:!0,passive:!0}),o&&K("resize",d,{passive:!0}),xt(()=>{l&&d()}),{height:s,bottom:i,left:u,right:p,top:v,width:f,x:m,y:h,update:d}}function Vt(t,n={width:0,height:0},r={}){const{window:o=W,box:a="content-box"}=r,l=e.computed(()=>{var u,p;return(p=(u=z(t))==null?void 0:u.namespaceURI)==null?void 0:p.includes("svg")}),s=e.ref(n.width),i=e.ref(n.height);return wt(t,([u])=>{const p=a==="border-box"?u.borderBoxSize:a==="content-box"?u.contentBoxSize:u.devicePixelContentBoxSize;if(o&&l.value){const v=z(t);if(v){const f=o.getComputedStyle(v);s.value=Number.parseFloat(f.width),i.value=Number.parseFloat(f.height)}}else if(p){const v=Array.isArray(p)?p:[p];s.value=v.reduce((f,{inlineSize:m})=>f+m,0),i.value=v.reduce((f,{blockSize:m})=>f+m,0)}else s.value=u.contentRect.width,i.value=u.contentRect.height},r),e.watch(()=>z(t),u=>{s.value=u?n.width:0,i.value=u?n.height:0}),{width:s,height:i}}function Ln(t,n,r={}){const{root:o,rootMargin:a="0px",threshold:l=.1,window:s=W,immediate:i=!0}=r,u=Te(()=>s&&"IntersectionObserver"in s),p=e.computed(()=>{const d=j(t);return(Array.isArray(d)?d:[d]).map(z).filter(yn)});let v=le;const f=e.ref(i),m=u.value?e.watch(()=>[p.value,z(o),f.value],([d,c])=>{if(v(),!f.value||!d.length)return;const x=new IntersectionObserver(n,{root:z(c),rootMargin:a,threshold:l});d.forEach(C=>C&&x.observe(C)),v=()=>{x.disconnect(),v=le}},{immediate:i,flush:"post"}):le,h=()=>{v(),m(),f.value=!1};return fe(h),{isSupported:u,isActive:f,pause(){v(),f.value=!1},resume(){f.value=!0},stop:h}}function An(t,{window:n=W,scrollTarget:r}={}){const o=e.ref(!1);return Ln(t,([{isIntersecting:a}])=>{o.value=a},{root:r,window:n}),o}function Et(t={}){const{window:n=W,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:l=!0}=t,s=e.ref(r),i=e.ref(o),u=()=>{n&&(l?(s.value=n.innerWidth,i.value=n.innerHeight):(s.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(u(),xt(u),K("resize",u,{passive:!0}),a){const p=kn("(orientation: portrait)");e.watch(p,()=>u())}return{width:s,height:i}}const Fn=t=>(e.pushScopeId("data-v-e61eb377"),t=t(),e.popScopeId(),t),jn={class:"search-content vh-50"},zn={class:"ps-2 w-75"},Hn={class:"menu"},Un={class:"flex flex-row pt-1"},Wn={class:"content-list pt-1 w-90"},Gn=["onClick"],qn=Fn(()=>e.createElementVNode("span",{class:"iconfont icon-play"},null,-1)),Xn=e.defineComponent({__name:"bar-search",props:{menuItemLabel:{},scenes:{},styles:{},dataList:{},fetch:{type:Function}},emits:["submit"],setup(t,{emit:n}){const r=t,o=e.ref(),a=e.ref(""),l=e.ref(""),s=e.ref(""),i=e.ref(r.dataList||[]),u=e.ref("first"),p=An(o);e.watch(p,h=>{h&&setTimeout(()=>{var d;(d=o.value)==null||d.focus()},100)}),e.onMounted(async()=>{i.value.length||await v()});async function v(){i.value=await r.fetch({search:a.value,menuKey:u.value,scene:l.value,style:s.value})}function f(h){u.value=h,v()}function m(h){n("submit",h)}return(h,d)=>(e.openBlock(),e.createElementBlock("div",jn,[e.createElementVNode("div",zn,[e.createVNode(e.unref(E.ElForm),{onSubmit:e.withModifiers(v,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(E.ElInput),{ref_key:"searchInputRef",ref:o,placeholder:"搜索",modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=c=>a.value=c),"suffix-icon":e.unref(te.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),e.createElementVNode("div",Hn,[e.createVNode(e.unref(E.ElMenu),{mode:"horizontal","default-active":"first",onSelect:d[1]||(d[1]=c=>f(c))},{default:e.withCtx(()=>[e.createVNode(e.unref(E.ElMenuItem),{index:"first"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h.menuItemLabel.first),1)]),_:1}),e.createVNode(e.unref(E.ElMenuItem),{index:"second"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h.menuItemLabel.second),1)]),_:1}),e.createVNode(e.unref(E.ElMenuItem),{index:"last"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(h.menuItemLabel.last),1)]),_:1})]),_:1})]),e.createElementVNode("div",Un,[e.createVNode(e.unref(E.ElSelect),{modelValue:l.value,"onUpdate:modelValue":d[2]||(d[2]=c=>l.value=c),onChange:v,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.scenes,c=>(e.openBlock(),e.createBlock(e.unref(E.ElOption),{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(e.unref(E.ElSelect),{modelValue:s.value,"onUpdate:modelValue":d[3]||(d[3]=c=>s.value=c),onChange:v,class:"m-1",size:"large"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.styles,c=>(e.openBlock(),e.createBlock(e.unref(E.ElOption),{key:c.value,label:c.label,value:c.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.createElementVNode("div",Wn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(c,x)=>(e.openBlock(),e.createElementBlock("div",{onClick:C=>m(e.toRaw(c)),class:"content-list-item clickable ps-3",key:x},[qn,e.createElementVNode("span",null,e.toDisplayString(c.label),1)],8,Gn))),128))])]))}});const Re=L(Xn,[["__scopeId","data-v-e61eb377"]]),Yn=e.defineComponent({__name:"fixed-panel",emits:["dragging"],setup(t,{emit:n}){const r=e.ref(),o=ce?window.innerWidth:200,a=ce?window.innerHeight:200,{x:l,y:s}=pe(r,{initialValue:{x:o-100,y:a/2},preventDefault:!0,onStart:()=>{n("dragging",!0)},onEnd:()=>{n("dragging",!1)}}),{width:i,height:u}=Vt(r),{width:p,height:v}=Et(),f=e.computed(()=>({x:p.value-i.value,y:v.value-u.value})),m=e.computed(()=>{if(!f.value)return h(l.value,s.value);const d=l.value<5?5:l.value>f.value.x?f.value.x-5:l.value,c=s.value<5?5:s.value>f.value.y?f.value.y-5:s.value;return h(d,c)});function h(d,c){return`left:${d}px;top:${c}px`}return(d,c)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{ref_key:"boxRef",ref:r,class:"fixed-panel z-3 user-select-none",style:e.normalizeStyle([{position:"fixed"},m.value])},[e.renderSlot(d.$slots,"default")],4)]))}});function Ue(t,n){return`left:${t}px;top:${n}px`}function Oe(t,n){const{width:r,height:o}=Vt(t),{width:a,height:l}=Et(),s=e.computed(()=>({x:a.value-r.value,y:l.value-o.value}));return{style:e.computed(()=>{const u=n.value.x,p=n.value.y;if(!s.value)return Ue(u,p);const v=u<5?5:u>s.value.x?s.value.x-5:u,f=p<5?5:p>s.value.y?s.value.y-5:p;return Ue(v,f)})}}const Kn={},Qn={class:"content"};function Zn(t,n){return e.openBlock(),e.createElementBlock("div",Qn,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const Nt=L(Kn,[["render",Zn],["__scopeId","data-v-7beae5b9"]]),Jn={},er={class:"bar-wrapper-item"};function tr(t,n){return e.openBlock(),e.createElementBlock("div",er,[e.renderSlot(t.$slots,"default")])}const nr=L(Jn,[["render",tr]]),rr={class:"bar-wrapper-group"},or={class:"group-items"},ar=e.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(t){return(n,r)=>(e.openBlock(),e.createElementBlock("div",rr,[e.createElementVNode("div",or,[e.renderSlot(n.$slots,"default",{},void 0,!0)]),e.createElementVNode("div",{class:e.normalizeClass(["divider",[n.divider]])},null,2)]))}});const X=L(ar,[["__scopeId","data-v-3a7abad9"]]),lr=e.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(t,{expose:n,emit:r}){const o=t,a=e.ref(),l=e.ref(),{position:s}=pe(a,{initialValue:o.initialValue}),{style:i}=Oe(a,s);function u(h){s.value=h}n({setPosition:u}),e.onMounted(()=>{window.addEventListener("click",p),window.addEventListener("keydown",m)}),e.onUnmounted(()=>{window.addEventListener("click",p),window.addEventListener("keydown",m)});function p(h){v(h)&&f()}function v(h){const d=h.target;return!(!a.value||!l.value||l.value.contains(d)||a.value.contains(d))}function f(){r("update:visible",!1),r("close")}function m(h){h.code==="Escape"&&f()}return(h,d)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"referenceRef",ref:l},[e.renderSlot(h.$slots,"reference",{},void 0,!0)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{ref_key:"boxRef",ref:a,class:"demotestname card shadow brag-box user-select-none",style:e.normalizeStyle([{position:"fixed"},e.unref(i)])},[e.createElementVNode("div",{class:"w-100 text-end me-2"},[e.createElementVNode("span",{onClick:f,class:"btn iconfont icon-close fs-5"})]),e.renderSlot(h.$slots,"default",{},void 0,!0)],4),[[e.vShow,h.visible]])]))],64))}});const Q=L(lr,[["__scopeId","data-v-015e58d3"]]),sr={install(t){t.component("BarButton",P),t.component("BarInput",$e),t.component("BarPopover",hn),t.component("BarSearch",Re),t.component("FixedPanel",Yn),t.component("BarWrapper",Nt),t.component("BarWrapperItem",nr),t.component("BarWrapperGroup",X),t.component("DragBox",Q)}};var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ee={exports:{}},Ct={exports:{}},ir=void 0,kt=function(t){return t!==ir&&t!==null},cr=kt,ur={object:!0,function:!0,undefined:!0},dr=function(t){return cr(t)?hasOwnProperty.call(ur,typeof t):!1},fr=dr,pr=function(t){if(!fr(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},mr=pr,vr=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!mr(t)},hr=vr,yr=/^\s*class[\s{/}]/,_r=Function.prototype.toString,gr=function(t){return!(!hr(t)||yr.test(_r.call(t)))},br=function(){var t=Object.assign,n;return typeof t!="function"?!1:(n={foo:"raz"},t(n,{bar:"dwa"},{trzy:"trzy"}),n.foo+n.bar+n.trzy==="razdwatrzy")},ve,We;function xr(){return We||(We=1,ve=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),ve}var wr=function(){},Vr=wr(),Be=function(t){return t!==Vr&&t!==null},he,Ge;function Er(){if(Ge)return he;Ge=1;var t=Be,n=Object.keys;return he=function(r){return n(t(r)?Object(r):r)},he}var ye,qe;function Nr(){return qe||(qe=1,ye=xr()()?Object.keys:Er()),ye}var _e,Xe;function Cr(){if(Xe)return _e;Xe=1;var t=Be;return _e=function(n){if(!t(n))throw new TypeError("Cannot use null or undefined");return n},_e}var ge,Ye;function kr(){if(Ye)return ge;Ye=1;var t=Nr(),n=Cr(),r=Math.max;return ge=function(o,a){var l,s,i=r(arguments.length,2),u;for(o=Object(n(o)),u=function(p){try{o[p]=a[p]}catch(v){l||(l=v)}},s=1;s<i;++s)a=arguments[s],t(a).forEach(u);if(l!==void 0)throw l;return o},ge}var Sr=br()?Object.assign:kr(),$r=Be,Tr=Array.prototype.forEach,Rr=Object.create,Or=function(t,n){var r;for(r in t)n[r]=t[r]},Dr=function(t){var n=Rr(null);return Tr.call(arguments,function(r){$r(r)&&Or(Object(r),n)}),n},be="razdwatrzy",Br=function(){return typeof be.contains!="function"?!1:be.contains("dwa")===!0&&be.contains("foo")===!1},xe,Ke;function Ir(){if(Ke)return xe;Ke=1;var t=String.prototype.indexOf;return xe=function(n){return t.call(this,n,arguments[1])>-1},xe}var Mr=Br()?String.prototype.contains:Ir(),se=kt,Qe=gr,St=Sr,$t=Dr,J=Mr,Pr=Ct.exports=function(t,n){var r,o,a,l,s;return arguments.length<2||typeof t!="string"?(l=n,n=t,t=null):l=arguments[2],se(t)?(r=J.call(t,"c"),o=J.call(t,"e"),a=J.call(t,"w")):(r=a=!0,o=!1),s={value:n,configurable:r,enumerable:o,writable:a},l?St($t(l),s):s};Pr.gs=function(t,n,r){var o,a,l,s;return typeof t!="string"?(l=r,r=n,n=t,t=null):l=arguments[3],se(n)?Qe(n)?se(r)?Qe(r)||(l=r,r=void 0):r=void 0:(l=n,n=r=void 0):n=void 0,se(t)?(o=J.call(t,"c"),a=J.call(t,"e")):(o=!0,a=!1),s={get:n,set:r,configurable:o,enumerable:a},l?St($t(l),s):s};var Lr=Ct.exports,Ar=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,n){var r=Lr,o=Ar,a=Function.prototype.apply,l=Function.prototype.call,s=Object.create,i=Object.defineProperty,u=Object.defineProperties,p=Object.prototype.hasOwnProperty,v={configurable:!0,enumerable:!1,writable:!0},f,m,h,d,c,x,C;f=function(k,b){var w;return o(b),p.call(this,"__ee__")?w=this.__ee__:(w=v.value=s(null),i(this,"__ee__",v),v.value=null),w[k]?typeof w[k]=="object"?w[k].push(b):w[k]=[w[k],b]:w[k]=b,this},m=function(k,b){var w,N;return o(b),N=this,f.call(this,k,w=function(){h.call(N,k,w),a.call(b,this,arguments)}),w.__eeOnceListener__=b,this},h=function(k,b){var w,N,g,S;if(o(b),!p.call(this,"__ee__"))return this;if(w=this.__ee__,!w[k])return this;if(N=w[k],typeof N=="object")for(S=0;g=N[S];++S)(g===b||g.__eeOnceListener__===b)&&(N.length===2?w[k]=N[S?0:1]:N.splice(S,1));else(N===b||N.__eeOnceListener__===b)&&delete w[k];return this},d=function(k){var b,w,N,g,S;if(p.call(this,"__ee__")&&(g=this.__ee__[k],!!g))if(typeof g=="object"){for(w=arguments.length,S=new Array(w-1),b=1;b<w;++b)S[b-1]=arguments[b];for(g=g.slice(),b=0;N=g[b];++b)a.call(N,this,S)}else switch(arguments.length){case 1:l.call(g,this);break;case 2:l.call(g,this,arguments[1]);break;case 3:l.call(g,this,arguments[1],arguments[2]);break;default:for(w=arguments.length,S=new Array(w-1),b=1;b<w;++b)S[b-1]=arguments[b];a.call(g,this,S)}},c={on:f,once:m,off:h,emit:d},x={on:r(f),once:r(m),off:r(h),emit:r(d)},C=u({},x),t.exports=n=function(k){return k==null?s(C):u(Object(k),x)},n.methods=c})(Ee,Ee.exports);var Fr=Ee.exports;const jr=De(Fr),B=jr();class U{constructor(n){F(this,"editor");this.editor=n}getValue(){const{selection:n}=this.editor;return n==null?"":y.SlateEditor.string(this.editor,n)}isDisabled(){const{selection:n}=this.editor;return n==null?(B.emit(O.ERROR,"未选中编辑器"),!0):!1}}class zr extends U{constructor(r){super(r);F(this,"key","speaker")}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;if(!r)return!0;if(y.SlateRange.isCollapsed(r))return B.emit(O.ERROR,"请选中文本"),!0;const o=this.getValue();return o.length!=1?!0:/^[\u4E00-\u9FA5]+$/gi.test(o)?!1:(B.emit(O.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0)}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",ph:r.value,remark:r.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,a)}}const Tt=e.defineComponent({setup(){const t=e.inject(H.EDITORCONFIG),n=e.shallowRef(),r=e.ref([]),o=e.ref(!1);function a(){o.value||(o.value=!0)}function l(){o.value&&(o.value=!1)}async function s(i){var p;if(n.value??(n.value=new zr(i)),(p=n.value)!=null&&p.isDisabled())return;const u=n.value.getValue();if(u?r.value=await t.fetchSpeaker(u):r.value=[],r.value.length==0)return B.emit(O.ERROR,"选中的字符没有不是多音字");a()}return()=>e.createVNode(E.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(P,{text:"多音字",icon:"speaker",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[r.value.map(({label:i,value:u})=>e.createVNode("div",{key:u,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:u}),l()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class Hr extends U{constructor(r){super(r);F(this,"key","continuous")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return r?y.SlateRange.isCollapsed(r)?(B.emit(O.ERROR,"请选择多个中文字符或者多个多个英文单词"),!0):y.SlateEditor.string(this.editor,r).length<2:!0}exec(){if(this.isDisabled())return;const r=this.getValue();if(r==null)return;const o={type:"ssml-w",remark:"连读",children:[{text:r}]};y.SlateTransforms.insertNodes(this.editor,o)}}const Rt=e.defineComponent({setup(){const t=e.shallowRef();function n(r){t.value??(t.value=new Hr(r)),!t.value.isDisabled()&&t.value.exec()}return()=>e.createVNode(P,{text:"连读",icon:"continuous",onClick:n},null)}});class Ur extends U{constructor(r){super(r);F(this,"key","read")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return!r||r==null?!0:y.SlateRange.isCollapsed(r)?(B.emit(O.ERROR,"请先选择文本"),!0):!1}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-emphasis",level:r.value,remark:r.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,a)}}const Wr=[{label:"重音",value:"重"},{label:"拖音",value:"拖"},{label:"重音+拖音",value:"重+拖"}],Ot=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function r(){n.value||(n.value=!0)}function o(){n.value&&(n.value=!1)}function a(l){t.value??(t.value=new Ur(l)),!t.value.isDisabled()&&r()}return()=>e.createVNode(E.ElPopover,{visible:n.value,"onUpdate:visible":l=>n.value=l,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(P,{text:"重音",icon:"read",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column",onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[Wr.map(({label:l,value:s})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:l,value:s}),o()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[l]))])})}});class Gr extends U{constructor(r){super(r);F(this,"key","digital")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;if(!r)return!0;if(y.SlateRange.isCollapsed(r))return B.emit(O.ERROR,"请选择纯数字"),!0;const o=y.SlateEditor.string(this.editor,r);return o.length<=0?!0:Number.isNaN(Number(o))?(B.emit(O.ERROR,"请选择纯数字"),!0):!1}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-say-as",interpretAs:r.value,remark:r.label,children:[{text:o}]};y.SlateTransforms.delete(this.editor),y.SlateTransforms.insertNodes(this.editor,a)}}const qr=[{value:"value",label:"读数值"},{value:"digits",label:"读数字"},{value:"telephone",label:"读手机号"}],Dt=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function r(){n.value=!n.value}function o(a){t.value??(t.value=new Gr(a)),!t.value.isDisabled()&&r()}return()=>e.createVNode(E.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(P,{text:"数字符号",icon:"digital",onClick:o},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[qr.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class Xr extends U{constructor(r){super(r);F(this,"key","alias")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return r==null?!0:y.SlateRange.isCollapsed(r)?(B.emit(O.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0):this.getValue().length<=0}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-sub",remark:r.value,alias:r.value,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,a)}}const Bt=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(),r=e.ref(!1);function o(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){t.value??(t.value=new Xr(i)),!t.value.isDisabled()&&(o(),n.value.focus())}function s(i){var u;a(),i&&((u=t.value)==null||u.exec({value:i,label:i}))}return()=>e.createVNode(E.ElPopover,{visible:r.value,"onUpdate:visible":i=>r.value=i,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>e.createVNode(P,{text:"别名",icon:"alias",onClick:l},null),default:()=>e.createVNode($e,{ref:n,onSubmit:s},null)})}});function Yr(t){const{selection:n}=t;if(n){const[r,o]=y.SlateRange.edges(n),a=y.SlateEditor.range(t,r,o),l=y.SlateEditor.string(t,a),s=l.trimEnd();if(s!==l){const i=l.length-s.length,u={...o,offset:o.offset-i},p={...n,anchor:r,focus:u};y.SlateTransforms.select(t,p)}}}class Kr extends U{constructor(r){super(r);F(this,"key","english")}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;if(!r)return!0;if(y.SlateRange.isCollapsed(r))return B.emit(O.ERROR,"请选择英文单词"),!0;const o=y.SlateEditor.string(this.editor,r);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(B.emit(O.ERROR,"请选择英文单词"),!0)}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",ph:r.value,remark:r.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,a)}}const It=e.defineComponent({setup(){const t=e.shallowRef(),n=e.inject(H.EDITORCONFIG),r=e.ref([]),o=e.ref(!1);function a(){o.value||(o.value=!0)}function l(){o.value&&(o.value=!1)}async function s(i){if(t.value??(t.value=new Kr(i)),Yr(i),t.value.isDisabled())return;const u=t.value.getValue();if(u){if(r.value=await n.fetchEnglish(u),r.value.length<=0)return B.emit(O.ERROR,"找不到单词的音标");a()}}return()=>e.createVNode(E.ElPopover,{visible:o.value,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(P,{text:"音标",icon:"english",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[r.value.map(({label:i,value:u})=>e.createVNode("div",{key:u,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:i,value:u}),l()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class Qr extends U{constructor(r){super(r);F(this,"key","changespeed")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return r==null?!0:y.SlateRange.isCollapsed(r)?(B.emit(O.ERROR,"请框选要变速的句子"),!0):!1}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-prosody",remark:r.label,rate:Number(r.value),children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,a)}}const Zr=[{value:"0.1x",label:"0.1x"},{value:"0.15x",label:"0.15x"},{value:"0.2x",label:"0.2x"},{value:"0.25x",label:"0.25x"},{value:"0.3x",label:"0.3x"},{value:"0.35x",label:"0.35x"},{value:"0.4x",label:"0.4x"}],Mt=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function r(){n.value||(n.value=!0)}function o(){n.value&&(n.value=!1)}async function a(l){t.value??(t.value=new Qr(l)),!t.value.isDisabled()&&r()}return()=>e.createVNode(E.ElPopover,{style:{padding:"0px"},visible:n.value,"onUpdate:visible":l=>n.value=l,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(P,{text:"局部变速",icon:"changespeed",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[Zr.map(({label:l,value:s})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var i;(i=t.value)==null||i.exec({label:l,value:s}),o()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[l]))])})}});class Jr extends U{constructor(r){super(r);F(this,"key","rhythm")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return r?y.SlateRange.isExpanded(r)?(B.emit(O.ERROR,"不能选中文本"),!0):!1:!0}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:r.value,remark:r.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,o)}}const eo=[{value:"200ms",label:"短"},{value:"300ms",label:"中"},{value:"500ms",label:"长"}],Pt=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function r(){n.value||(n.value=!0)}function o(){n.value&&(n.value=!1)}function a(l){t.value??(t.value=new Jr(l)),!t.value.isDisabled()&&r()}return()=>e.createVNode(E.ElPopover,{visible:n.value,"onUpdate:visible":l=>n.value=l,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(P,{text:"停顿调节",icon:"rhythm",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[eo.map(({label:l,value:s})=>e.createVNode("div",{key:s,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:l,value:s}),o()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[l]))])})}});class to extends U{constructor(r){super(r);F(this,"key","special")}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return r?y.SlateRange.isExpanded(r)?(B.emit(O.ERROR,"不能框选文字"),!0):!1:!0}exec(r){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const a={type:"ssml-audio",src:r.value,remark:r.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,a)}}const Lt=e.defineComponent({__name:"special-menu",setup(t){const n=e.ref(),r=e.ref(),o=e.shallowRef(),a=e.ref(!1),l=e.inject(H.EDITORCONFIG),s={first:"默认音效",second:"自定义音效",last:"最近音效"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],u=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:p,y:v,height:f}=ne(r),m=d=>{o.value??(o.value=new to(d)),!o.value.isDisabled()&&(n.value.setPosition({x:p.value-200,y:v.value+f.value}),a.value=!0)};function h(d){var c;(c=o.value)==null||c.restoreSelection(),o.value&&!o.value.isDisabled()&&o.value.exec(d),a.value=!1}return(d,c)=>(e.openBlock(),e.createBlock(e.unref(Q),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":c[0]||(c[0]=x=>a.value=x)},{reference:e.withCtx(()=>[e.createVNode(e.unref(P),{ref_key:"menuRef",ref:r,text:"音效",icon:"special",onClick:m},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(Re),{menuItemLabel:s,scenes:i,styles:u,fetch:e.unref(l).fetchSpecial,onSubmit:h},null,8,["fetch"])]),_:1},8,["visible"]))}});class no extends U{constructor(r){super(r);F(this,"key","mute")}isDisabled(){if(super.isDisabled())return!0;const{selection:r}=this.editor;return r?y.SlateRange.isExpanded(r)?(B.emit(O.ERROR,"不能选中文本"),!0):!1:!0}exec(r){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:r.value,remark:r.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,o)}}const ro=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],At=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1),r=e.ref();function o(){n.value||(n.value=!0)}function a(){n.value&&(n.value=!1)}function l(i){t.value??(t.value=new no(i)),!t.value.isDisabled()&&(o(),r.value.focus())}function s(i){var u;a(),i&&((u=t.value)==null||u.exec({value:i,label:i}))}return()=>e.createVNode(E.ElPopover,{visible:n.value,"onUpdate:visible":i=>n.value=i,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>e.createVNode(P,{text:"插入静音",icon:"mute",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[ro.map(({value:i,label:u})=>e.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>s(i),onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[u])),e.createVNode($e,{type:"number",ref:r,onSubmit:s},null)])})}}),Ft=e.defineComponent({__name:"bgm-menu",setup(t){const n=e.ref(),r=e.ref(),o=e.shallowRef(),a=e.ref(!1),l=e.inject(H.EDITORCONFIG),s={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],u=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:p,y:v,height:f}=ne(r),m=async d=>{const c={x:p.value-300,y:v.value+f.value};o.value=d,n.value.setPosition(c),a.value=!0};function h(d){var c;(c=o.value)==null||c.emit(ee.UPDATE_BGM,d),a.value=!1}return(d,c)=>(e.openBlock(),e.createBlock(e.unref(Q),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":c[0]||(c[0]=x=>a.value=x)},{reference:e.withCtx(()=>[e.createVNode(e.unref(P),{ref_key:"menuRef",ref:r,text:"配乐",icon:"bgm",onClick:m},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(Re),{menuItemLabel:s,scenes:i,styles:u,fetch:e.unref(l).fetchBgm,onSubmit:h},null,8,["fetch"])]),_:1},8,["visible"]))}}),jt=e.defineComponent({__name:"sensitive-menu",setup(t){const n=e.inject(H.EDITORCONFIG);console.log(n);const r=e.ref(),o=e.ref(),a=e.shallowRef(),l=e.ref(!1),{x:s,y:i,height:u}=ne(o),p=v=>{a.value=v,r.value.setPosition({x:s.value-200,y:i.value+u.value}),l.value=!0};return(v,f)=>(e.openBlock(),e.createBlock(e.unref(Q),{ref_key:"dragRef",ref:r,visible:l.value,"onUpdate:visible":f[0]||(f[0]=m=>l.value=m)},{reference:e.withCtx(()=>[e.createVNode(e.unref(P),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:p},null,512)]),default:e.withCtx(()=>[e.createVNode(jt)]),_:1},8,["visible"]))}});const oo={class:"select-list",style:{width:"120px"}},ao={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},lo=["onClick"],so=e.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(t,{expose:n,emit:r}){const o=t,a=e.ref();function l(i){r("update:modelValue",i.value)}function s(){var i;if(a.value){for(let u=0;u<o.dataList.length;u++)if(o.dataList[u].value===o.modelValue){(i=a.value.children[u])==null||i.scrollIntoView({behavior:"smooth"});return}}}return n({scrollIntoViewTheItem:s}),(i,u)=>(e.openBlock(),e.createElementBlock("div",oo,[e.createElementVNode("div",ao,[e.renderSlot(i.$slots,"default",{},void 0,!0)]),e.createElementVNode("ul",{ref_key:"listRef",ref:a,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.dataList,(p,v)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["clickable select-item py-1",{activate:p.value===i.modelValue}]),key:v,onClick:f=>l(e.toRaw(p))},e.toDisplayString(p.label),11,lo))),128))],512)]))}});const Z=L(so,[["__scopeId","data-v-efb1399e"]]),io=()=>{const t=[];for(let n=2;n<=40;n++){const r=(n*.05).toFixed(2);t.push({value:r,label:`${r}x`})}return t},co=()=>{const t=[];for(let n=-10;n<=10;n++)t.push({value:n.toString(),label:n.toString()});return t},uo={style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},fo={class:"position-relative"},po={class:"position-absolute top-0 end-0"},mo=e.createElementVNode("li",null,[e.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),vo=e.createElementVNode("span",{class:"my-3"},"角色",-1),ho=e.createElementVNode("span",{class:"my-3"},"风格",-1),yo=e.createElementVNode("span",{class:"my-3"},"语速",-1),_o=e.createElementVNode("span",{class:"my-3"},"语调",-1),go={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},bo=e.defineComponent({__name:"management-content",setup(t){const n=e.ref(!1),r=e.ref(""),o=e.ref(),a=e.ref(),l=e.ref(),s=e.ref(),i=e.ref(),u=e.ref(""),p=e.ref(""),v=e.ref(""),f=e.ref(""),m=e.ref(""),h=e.ref(""),d=e.ref([]),c=e.ref([]),x=e.ref([]),C=e.ref([]),k=e.ref(io()),b=e.ref(co());d.value=[{label:"全部类型",value:""},{label:"常规",value:"2"},{label:"已购",value:"3"},{label:"收藏",value:"4"},{label:"我的",value:"5"},{label:"SVIP",value:"6"},{label:"付费",value:"7"}],c.value=d.value,x.value=d.value,C.value=d.value;function w(){}function N(){}function g(){v.value="",me(o)}function S(){f.value="",me(a)}function T(){m.value="1.00",h.value="0",me(l)}function oe(){}function nn(){}async function me(Le){console.log(Le)}return(Le,I)=>(e.openBlock(),e.createElementBlock("div",uo,[e.createVNode(e.unref(E.ElForm),{onSubmit:e.withModifiers(w,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(E.ElInput),{modelValue:r.value,"onUpdate:modelValue":I[0]||(I[0]=M=>r.value=M),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),e.createElementVNode("div",fo,[e.createElementVNode("div",po,[e.createVNode(e.unref(E.ElButton),{size:"small",icon:e.unref(te.More),onClick:I[1]||(I[1]=()=>n.value=!n.value)},null,8,["icon"])]),e.createElementVNode("ul",{class:e.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":n.value}])},[mo,e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(E.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})])],2),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"d-flex flex-row":!n.value})},[e.createVNode(Z,{"onUpdate:modelValue":[g,I[3]||(I[3]=M=>p.value=M)],ref_key:"selSpeakerRef",ref:o,modelValue:p.value,dataList:c.value},{default:e.withCtx(()=>[e.createVNode(e.unref(E.ElSelect),{onChange:N,modelValue:u.value,"onUpdate:modelValue":I[2]||(I[2]=M=>u.value=M)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(M,rn)=>(e.openBlock(),e.createBlock(e.unref(E.ElOption),{value:M.value,label:M.label,key:rn},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{"onUpdate:modelValue":[S,I[4]||(I[4]=M=>v.value=M)],ref_key:"selRoleRef",ref:a,modelValue:v.value,dataList:x.value},{default:e.withCtx(()=>[vo]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{"onUpdate:modelValue":[T,I[5]||(I[5]=M=>f.value=M)],ref_key:"selStyleRef",ref:l,modelValue:f.value,dataList:C.value},{default:e.withCtx(()=>[ho]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{"onUpdate:modelValue":[oe,I[6]||(I[6]=M=>m.value=M)],ref_key:"selSpeedRef",ref:s,modelValue:m.value,dataList:k.value},{default:e.withCtx(()=>[yo]),_:1},8,["modelValue","dataList"]),e.createVNode(Z,{"onUpdate:modelValue":[nn,I[7]||(I[7]=M=>h.value=M)],ref_key:"selPitchRef",ref:i,modelValue:h.value,dataList:b.value},{default:e.withCtx(()=>[_o]),_:1},8,["modelValue","dataList"])],2),[[e.vShow,!n.value]])]),e.createElementVNode("div",go,[e.withDirectives(e.createVNode(e.unref(E.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1},512),[[e.vShow,!n.value]]),e.withDirectives(e.createVNode(e.unref(E.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("全部清空")]),_:1},512),[[e.vShow,n.value]])])]))}}),zt=e.defineComponent({__name:"management-menu",setup(t){const n=e.ref(),r=e.ref(),o=e.shallowRef(),a=e.ref(!1),{x:l,y:s,height:i}=ne(r),u=v=>{const f={x:l.value-200,y:s.value+i.value};o.value=v,n.value.setPosition(f),a.value=!0};function p(v){console.log(v)}return(v,f)=>(e.openBlock(),e.createBlock(e.unref(Q),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":f[0]||(f[0]=m=>a.value=m)},{reference:e.withCtx(()=>[e.createVNode(e.unref(P),{ref_key:"menuRef",ref:r,text:"多人配音",icon:"management",onClick:u},null,512)]),default:e.withCtx(()=>[e.createVNode(bo,{onSubmit:p})]),_:1},8,["visible"]))}}),xo={class:"speaker-item"},wo={class:"speaker-head"},Vo=["src"],Eo={class:"speaker-name"},No=e.defineComponent({__name:"speaker-item",props:{name:{},img:{default:"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"}},setup(t){return(n,r)=>(e.openBlock(),e.createElementBlock("div",xo,[e.createElementVNode("div",wo,[e.createElementVNode("img",{src:n.img,class:"rounded-circle",style:{height:"40px"}},null,8,Vo)]),e.createElementVNode("div",Eo,e.toDisplayString(n.name),1)]))}});const R=L(No,[["__scopeId","data-v-c961717f"]]),Co={class:"px-2 py-1",style:{width:"410px"}},ko=e.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),So={class:"border border-secondary rounded w-100",style:{height:"100px"}},$o={class:"mt-2"},To={class:"w-100 d-flex flex-column row-gap-1"},Ro=e.createElementVNode("button",{class:"btn btn-success"},"实时录音",-1),Oo=e.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),Do={class:"audio-upload"},Bo={class:"border rounded-pill border-secondary d-flex flex-row justify-content-between"},Io={class:"d-flex flex-row align-items-center"},Mo=e.createElementVNode("div",null,"图标",-1),Po=e.createElementVNode("div",null,[e.createElementVNode("div",null,"删除"),e.createElementVNode("button",null,"上传音频")],-1),Lo=e.createElementVNode("template",null,[e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击选择文件"),e.createElementVNode("button",{class:"btn btn-primary"})],-1),Ao=e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击开始录音",-1),Fo=e.createElementVNode("p",null,"选择需要转换的配音师",-1),jo={class:"speakers-container d-flex flex-row flex-wrap row-gap-1 column-gap-2"},zo=e.createElementVNode("button",{class:"btn btn-primary",disabled:""},"完成录音并上传完成后，可选择配音师转换",-1),Ho=e.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(t){const n=e.ref(),r=e.ref(),o=e.ref(!1),a=e.ref(!1),l=e.shallowRef();function s(v){if(!v.target)return;const f=v.target.files[0];f&&(l.value=f,console.log("已选择文件:",f.name))}function i(){var v;(v=n.value)==null||v.click()}function u(){}function p(){}return(v,f)=>{var m;return e.openBlock(),e.createElementBlock("div",Co,[e.createElementVNode("section",null,[ko,e.createElementVNode("div",So,e.toDisplayString(v.text),1)]),e.withDirectives(e.createElementVNode("section",$o,[e.createElementVNode("div",To,[e.createElementVNode("input",{accept:"audio/*",ref_key:"inputFileRef",ref:n,onChange:s,type:"file",hidden:""},null,544),Ro,e.createElementVNode("button",{onClick:i,class:"btn btn-primary"},"上传录音")]),Oo],512),[[e.vShow,!o.value]]),e.withDirectives(e.createElementVNode("section",null,[e.createElementVNode("div",Do,[e.createElementVNode("div",Bo,[a.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Io,[Mo,e.createElementVNode("div",null,e.toDisplayString((m=r.value)==null?void 0:m.name),1)]),Po],64)):e.createCommentVNode("",!0),Lo,e.createElementVNode("template",null,[Ao,e.createElementVNode("button",{onClick:u,class:"btn btn-primary"},"开始录音"),e.createElementVNode("button",{onClick:p,class:"btn btn-primary"},"结束录音")])]),e.createElementVNode("div",null,[Fo,e.createElementVNode("div",jo,[e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"}),e.createVNode(R,{name:"莫厚渊"})])]),zo])],512),[[e.vShow,o.value]])])}}}),Ht=e.defineComponent({__name:"conversion-menu",setup(t){const n=e.ref(),r=e.ref(),o=e.shallowRef(),a=e.ref(!1),l=e.ref("ttttt"),{x:s,y:i,height:u}=ne(r),p=f=>{const m={x:s.value-200,y:i.value+u.value};o.value=f,n.value.setPosition(m),a.value=!0};function v(f){console.log(f)}return(f,m)=>(e.openBlock(),e.createBlock(e.unref(Q),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":m[0]||(m[0]=h=>a.value=h)},{reference:e.withCtx(()=>[e.createVNode(e.unref(P),{ref_key:"menuRef",ref:r,text:"局部变音",icon:"conversion",onClick:p},null,512)]),default:e.withCtx(()=>[e.createVNode(Ho,{text:l.value,onSubmit:v},null,8,["text"])]),_:1},8,["visible"]))}}),Uo=t=>(e.pushScopeId("data-v-631743dd"),t=t(),e.popScopeId(),t),Wo={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},Go=["src"],qo=Uo(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),Xo=e.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const r=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),o=e.ref(),a=e.ref(0),l=e.ref(0),{position:s}=pe(o,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(f,m)=>v(m.clientX,m.clientY)?!1:void 0}),{style:i}=Oe(o,s);function u(f){v(f.clientX,f.clientY)&&n("update:visible",!1)}function p(f){a.value=f.clientX,l.value=f.clientY}function v(f,m){return f>a.value-10&&f<a.value+10&&m>l.value-10&&m<l.value+10}return(f,m)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:e.normalizeStyle([e.unref(i),{position:"fixed"}]),onMousedown:p,onMouseup:u},[e.createElementVNode("div",Wo,[e.createElementVNode("img",{src:r.value,class:"rounded-circle"},null,8,Go),qo])],36)),[[e.vShow,f.visible]])}});const Yo=L(Xo,[["__scopeId","data-v-631743dd"]]),Ko=t=>(e.pushScopeId("data-v-e8c67559"),t=t(),e.popScopeId(),t),Qo={class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center"},Zo=["src"],Jo=Ko(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),ea=e.defineComponent({__name:"anchor-avatar",setup(t){const n=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png");return(r,o)=>(e.openBlock(),e.createElementBlock("div",Qo,[e.createElementVNode("img",{src:n.value,class:"rounded-circle",style:{height:"40px"}},null,8,Zo),Jo]))}});const D=L(ea,[["__scopeId","data-v-e8c67559"]]),ta={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},na=e.defineComponent({__name:"anchor-list",setup(t){return(n,r)=>(e.openBlock(),e.createElementBlock("div",ta,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(100,(o,a)=>e.createElementVNode("div",{class:"m-2",key:a},[e.createVNode(D)])),64))]))}}),ra=e.defineComponent({__name:"tag-item",props:{isActivate:{type:Boolean}},setup(t){return(n,r)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag-item p-2 text-white text-center",[n.isActivate?"activate":null]])},[e.renderSlot(n.$slots,"default",{},void 0,!0)],2))}});const V=L(ra,[["__scopeId","data-v-80dc8a64"]]),oa={class:"tag-list w-100"},aa={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},la={style:{height:"100px"},class:"w-100 d-flex flex-row flex-wrap align-items-start overflow-y-auto overflow-x-hidden scrollbar-none"},sa=e.defineComponent({__name:"tag-list",setup(t){return(n,r)=>(e.openBlock(),e.createElementBlock("div",oa,[e.createElementVNode("div",aa,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("男声")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("女声")]),_:1})]),e.createElementVNode("div",la,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1})])]))}});function Ze(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ie(t,n){t===void 0&&(t={}),n===void 0&&(n={}),Object.keys(n).forEach(function(r){typeof t[r]>"u"?t[r]=n[r]:Ze(n[r])&&Ze(t[r])&&Object.keys(n[r]).length>0&&Ie(t[r],n[r])})}var Ut={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Me(){var t=typeof document<"u"?document:{};return Ie(t,Ut),t}var ia={document:Ut,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){typeof setTimeout>"u"||clearTimeout(t)}};function Wt(){var t=typeof window<"u"?window:{};return Ie(t,ia),t}function ca(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Ne(t){return Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ne(t)}function ue(t,n){return ue=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},ue(t,n)}function ua(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ie(t,n,r){return ua()?ie=Reflect.construct:ie=function(a,l,s){var i=[null];i.push.apply(i,l);var u=Function.bind.apply(a,i),p=new u;return s&&ue(p,s.prototype),p},ie.apply(null,arguments)}function da(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ce(t){var n=typeof Map=="function"?new Map:void 0;return Ce=function(o){if(o===null||!da(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(o))return n.get(o);n.set(o,a)}function a(){return ie(o,arguments,Ne(this).constructor)}return a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ue(a,o)},Ce(t)}function fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pa(t){var n=t.__proto__;Object.defineProperty(t,"__proto__",{get:function(){return n},set:function(o){n.__proto__=o}})}var G=function(t){ca(n,t);function n(r){var o;return o=t.call.apply(t,[this].concat(r))||this,pa(fa(o)),o}return n}(Ce(Array));function Pe(t){t===void 0&&(t=[]);var n=[];return t.forEach(function(r){Array.isArray(r)?n.push.apply(n,Pe(r)):n.push(r)}),n}function ma(t){for(var n=[],r=0;r<t.length;r+=1)n.indexOf(t[r])===-1&&n.push(t[r]);return n}function va(t){return t.toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()})}function ha(t,n){if(typeof t!="string")return[t];for(var r=[],o=n.querySelectorAll(t),a=0;a<o.length;a+=1)r.push(o[a]);return r}function $(t,n){var r=Wt(),o=Me(),a=[];if(!n&&t instanceof G)return t;if(!t)return new G(a);if(typeof t=="string"){var l=t.trim();if(l.indexOf("<")>=0&&l.indexOf(">")>=0){var s="div";l.indexOf("<li")===0&&(s="ul"),l.indexOf("<tr")===0&&(s="tbody"),(l.indexOf("<td")===0||l.indexOf("<th")===0)&&(s="tr"),l.indexOf("<tbody")===0&&(s="table"),l.indexOf("<option")===0&&(s="select");var i=o.createElement(s);i.innerHTML=l;for(var u=0;u<i.childNodes.length;u+=1)a.push(i.childNodes[u])}else a=ha(t.trim(),n||o)}else if(t.nodeType||t===r||t===o)a.push(t);else if(Array.isArray(t)){if(t instanceof G)return t;a=t}return new G(ma(a))}$.fn=G.prototype;function Je(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Pe(n.map(function(a){return a.split(" ")}));return this.forEach(function(a){var l;(l=a.classList).add.apply(l,o)}),this}function et(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Pe(n.map(function(a){return a.split(" ")}));return this.forEach(function(a){var l;(l=a.classList).remove.apply(l,o)}),this}function tt(t,n){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(var r=0;r<this.length;r+=1)if(arguments.length===2)this[r].setAttribute(t,n);else for(var o in t)this[r][o]=t[o],this[r].setAttribute(o,t[o]);return this}function nt(){var t=this[0];if(t){var n={};if(t.dataset)for(var r in t.dataset)n[r]=t.dataset[r];else for(var o=0;o<t.attributes.length;o+=1){var a=t.attributes[o];a.name.indexOf("data-")>=0&&(n[va(a.name.split("data-")[1])]=a.value)}for(var l in n)n[l]==="false"?n[l]=!1:n[l]==="true"?n[l]=!0:parseFloat(n[l])===n[l]*1&&(n[l]*=1);return n}}function rt(t){if(typeof t>"u"){var n=this[0];if(!n)return;if(n.multiple&&n.nodeName.toLowerCase()==="select"){for(var r=[],o=0;o<n.selectedOptions.length;o+=1)r.push(n.selectedOptions[o].value);return r}return n.value}for(var a=0;a<this.length;a+=1){var l=this[a];if(Array.isArray(t)&&l.multiple&&l.nodeName.toLowerCase()==="select")for(var s=0;s<l.options.length;s+=1)l.options[s].selected=t.indexOf(l.options[s].value)>=0;else l.value=t}return this}function ot(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],a=n[1],l=n[2],s=n[3];typeof n[1]=="function"&&(o=n[0],l=n[1],s=n[2],a=void 0),s||(s=!1);function i(c){var x=c.target;if(x){var C=c.target.dom7EventData||[];if(C.indexOf(c)<0&&C.unshift(c),$(x).is(a))l.apply(x,C);else for(var k=$(x).parents(),b=0;b<k.length;b+=1)$(k[b]).is(a)&&l.apply(k[b],C)}}function u(c){var x=c&&c.target?c.target.dom7EventData||[]:[];x.indexOf(c)<0&&x.unshift(c),l.apply(this,x)}for(var p=o.split(" "),v,f=0;f<this.length;f+=1){var m=this[f];if(a)for(v=0;v<p.length;v+=1){var d=p[v];m.dom7LiveListeners||(m.dom7LiveListeners={}),m.dom7LiveListeners[d]||(m.dom7LiveListeners[d]=[]),m.dom7LiveListeners[d].push({listener:l,proxyListener:i}),m.addEventListener(d,i,s)}else for(v=0;v<p.length;v+=1){var h=p[v];m.dom7Listeners||(m.dom7Listeners={}),m.dom7Listeners[h]||(m.dom7Listeners[h]=[]),m.dom7Listeners[h].push({listener:l,proxyListener:u}),m.addEventListener(h,u,s)}}return this}function at(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],a=n[1],l=n[2],s=n[3];typeof n[1]=="function"&&(o=n[0],l=n[1],s=n[2],a=void 0),s||(s=!1);for(var i=o.split(" "),u=0;u<i.length;u+=1)for(var p=i[u],v=0;v<this.length;v+=1){var f=this[v],m=void 0;if(!a&&f.dom7Listeners?m=f.dom7Listeners[p]:a&&f.dom7LiveListeners&&(m=f.dom7LiveListeners[p]),m&&m.length)for(var h=m.length-1;h>=0;h-=1){var d=m[h];l&&d.listener===l||l&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===l?(f.removeEventListener(p,d.proxyListener,s),m.splice(h,1)):l||(f.removeEventListener(p,d.proxyListener,s),m.splice(h,1))}}return this}function lt(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this}function st(t){return t?(this.forEach(function(n,r){t.apply(n,[n,r])}),this):this}function it(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(var n=0;n<this.length;n+=1)this[n].innerHTML=t;return this}function ct(t){var n=Wt(),r=Me(),o=this[0],a,l;if(!o||typeof t>"u")return!1;if(typeof t=="string"){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(a=$(t),l=0;l<a.length;l+=1)if(a[l]===o)return!0;return!1}if(t===r)return o===r;if(t===n)return o===n;if(t.nodeType||t instanceof G){for(a=t.nodeType?[t]:t,l=0;l<a.length;l+=1)if(a[l]===o)return!0;return!1}return!1}function ut(){for(var t,n=Me(),r=0;r<arguments.length;r+=1){t=r<0||arguments.length<=r?void 0:arguments[r];for(var o=0;o<this.length;o+=1)if(typeof t=="string"){var a=n.createElement("div");for(a.innerHTML=t;a.firstChild;)this[o].appendChild(a.firstChild)}else if(t instanceof G)for(var l=0;l<t.length;l+=1)this[o].appendChild(t[l]);else this[o].appendChild(t)}return this}function dt(t){for(var n=[],r=0;r<this.length;r+=1)for(var o=this[r].parentNode;o;)t?$(o).is(t)&&n.push(o):n.push(o),o=o.parentNode;return $(n)}function ft(t){for(var n=[],r=0;r<this.length;r+=1)for(var o=this[r].querySelectorAll(t),a=0;a<o.length;a+=1)n.push(o[a]);return $(n)}function pt(t){for(var n=[],r=0;r<this.length;r+=1)for(var o=this[r].children,a=0;a<o.length;a+=1)(!t||$(o[a]).is(t))&&n.push(o[a]);return $(n)}var ya="resize scroll".split(" ");function Gt(t){function n(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];if(typeof o[0]>"u"){for(var l=0;l<this.length;l+=1)ya.indexOf(t)<0&&(t in this[l]?this[l][t]():$(this[l]).trigger(t));return this}return this.on.apply(this,[t].concat(o))}return n}var mt=Gt("click"),vt=Gt("focus");lt&&($.fn.hide=lt);ut&&($.fn.append=ut);mt&&($.fn.click=mt);ot&&($.fn.on=ot);at&&($.fn.off=at);vt&&($.fn.focus=vt);tt&&($.fn.attr=tt);rt&&($.fn.val=rt);it&&($.fn.html=it);nt&&($.fn.dataset=nt);Je&&($.fn.addClass=Je);et&&($.fn.removeClass=et);pt&&($.fn.children=pt);st&&($.fn.each=st);ft&&($.fn.find=ft);ct&&($.fn.is=ct);dt&&($.fn.parents=dt);function qt(t){if(window.navigator.userAgent.toLowerCase().indexOf("ie")>=0){const r=`<embed name="embedPlay" src="${t}"></embed>`;$("body").find("embed").length<=0&&$("body").append(r);const o=document.embedPlay;o.volume=50}else{const r=`<audio id='audioPlay' src='${t}' hidden='true'>`;$("body").find("audio").length<=0&&$("body").append(r),document.getElementById("audioPlay").play()}}function ht(t){const n=Math.floor(t/60),r=t%60,o=String(n).padStart(2,"0"),a=String(r).padStart(2,"0");return`${o}:${a}`}const _a=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),ga=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),ba=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png";function ae(){return()=>Promise.resolve([])}function Xt(t){const n=(t==null?void 0:t.handleError)||(()=>{}),r=(t==null?void 0:t.fetchSpeaker)||ae(),o=(t==null?void 0:t.fetchSpeaker)||ae(),a=(t==null?void 0:t.fetchBgm)||ae(),l=(t==null?void 0:t.fetchSpecial)||ae();return{handleError:n,fetchSpeaker:r,fetchEnglish:o,fetchBgm:a,fetchSpecial:l,speed:_a,pitch:ga,demoAvatar:ba}}function Yt(t,n){const r=Xt(n);return t(H.EDITORCONFIG,r),r}function Kt(){const t=e.inject(H.EDITORCONFIG);if(t)return t;throw Error("请注入GlobalEditorConfig")}const re=t=>(e.pushScopeId("data-v-3ce19bbf"),t=t(),e.popScopeId(),t),xa={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},wa={class:"mt-2 row text-center justify-content-between align-items-center"},Va={class:"col-auto me-auto d-flex flex-row align-items-center"},Ea=["src"],Na={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},Ca=re(()=>e.createElementVNode("div",{class:"d-flex dlex-row column-gap-2 align-items-end"},[e.createElementVNode("span",{class:"fs-6"},"魔云猫"),e.createElementVNode("span",{style:{"font-size":"0.5rem"}},"0.55x")],-1)),ka={class:"d-flex flex-row column-gap-2 align-items-center"},Sa=re(()=>e.createElementVNode("span",{class:"badge text-bg-primary px-2"},"24K",-1)),$a={class:"col-7 d-flex flex-column align-items-end"},Ta=re(()=>e.createElementVNode("div",null,"音频时长，请以生成后的为准",-1)),Ra={class:"mt-1"},Oa=re(()=>e.createElementVNode("span",null,"/",-1)),Da=e.createStaticVNode('<div class="role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3" data-v-3ce19bbf><div class="rounded-pill px-1 border" data-v-3ce19bbf>女青年(默认)</div><div class="rounded-pill px-1" data-v-3ce19bbf>男孩儿</div><div class="rounded-pill px-1" data-v-3ce19bbf>男青少年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男中年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男孩儿</div><div class="rounded-pill px-1" data-v-3ce19bbf>男青少年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男中年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男孩儿</div><div class="rounded-pill px-1" data-v-3ce19bbf>男孩儿</div><div class="rounded-pill px-1" data-v-3ce19bbf>男中年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男青少年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男青少年</div><div class="rounded-pill px-1" data-v-3ce19bbf>男中年</div></div>',1),Ba={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},Ia=re(()=>e.createElementVNode("div",{class:"my-3"},[e.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),Ma={class:"slider-box"},Pa={class:"slider-box"},La=e.createStaticVNode('<ul class="d-flex flex-row gap-3 my-3" data-v-3ce19bbf><li class="rounded-pill px-1 border" data-v-3ce19bbf>常用</li><li class="rounded-pill px-1" data-v-3ce19bbf>已购</li><li class="rounded-pill px-1" data-v-3ce19bbf>收藏</li><li class="rounded-pill px-1" data-v-3ce19bbf>我的</li></ul>',1),Aa={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3"},Fa=e.defineComponent({__name:"slider-panle",setup(t){const n=Kt(),r=e.ref(10),o=e.ref(0),a=e.ref([0,2]),l=e.ref(0),s=e.ref([-10,10]),i=e.ref(0),u=e.computed(()=>ht(r.value)),p=e.computed(()=>ht(o.value)),v=e.reactive(n.speed()),f=e.reactive(n.pitch());return(m,h)=>(e.openBlock(),e.createElementBlock("div",xa,[e.createElementVNode("div",wa,[e.createElementVNode("div",Va,[e.createElementVNode("img",{src:e.unref(n).demoAvatar(),class:"rounded-circle",style:{height:"50px"}},null,8,Ea),e.createElementVNode("div",Na,[Ca,e.createElementVNode("div",ka,[e.createVNode(e.unref(E.ElIcon),{class:"fs-6"},{default:e.withCtx(()=>[e.createVNode(e.unref(te.Star))]),_:1}),Sa])])]),e.createElementVNode("div",$a,[Ta,e.createElementVNode("div",Ra,[e.createElementVNode("span",null,e.toDisplayString(p.value),1),Oa,e.createElementVNode("span",null,e.toDisplayString(u.value),1)]),e.createVNode(e.unref(E.ElSlider),{max:r.value,modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=d=>o.value=d),size:"small"},null,8,["max","modelValue"])])]),Da,e.createElementVNode("ul",Ba,[e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)])]),Ia,e.createElementVNode("div",Ma,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语速："+e.toDisplayString(l.value)+"x",1)]),e.createVNode(e.unref(E.ElSlider),{modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=d=>l.value=d),min:a.value[0],max:a.value[1],step:.05,marks:v},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",Pa,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语调："+e.toDisplayString(i.value),1)]),e.createVNode(e.unref(E.ElSlider),{modelValue:i.value,"onUpdate:modelValue":h[2]||(h[2]=d=>i.value=d),min:s.value[0],max:s.value[1],step:.2,marks:f},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",null,[La,e.createElementVNode("ul",Aa,[e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)]),e.createElementVNode("li",null,[e.createVNode(D)])])])]))}});const ja=L(Fa,[["__scopeId","data-v-3ce19bbf"]]),za=t=>(e.pushScopeId("data-v-2d1e47a4"),t=t(),e.popScopeId(),t),Ha={class:"box ms-2"},Ua={class:"try-play-header text-center d-flex flex-row justify-content-between"},Wa={class:"try-play-body d-flex flex-row"},Ga={class:"try-play-left w-50 border-right border-secondary"},qa={class:"pe-1"},Xa={class:"type-list d-flex flex-row border-bottom border-secondary"},Ya=za(()=>e.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),Ka={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},Qa=e.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const r=t,o=e.ref(),a=e.ref(""),l=e.ref(),s=e.ref();e.onMounted(()=>{window.addEventListener("keydown",i)}),e.onUnmounted(()=>{window.addEventListener("keydown",i)}),e.watch(()=>r.visible,m=>{m&&setTimeout(()=>{f()},200)});function i(m){m.code==="Escape"&&r.visible&&v()}const{position:u}=pe(s,{initialValue:{x:100,y:100}}),{style:p}=Oe(l,u);function v(){n("update:visible",!1)}function f(){var m;(m=o.value)==null||m.focus()}return(m,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:l,style:e.normalizeStyle([e.unref(p),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[e.createElementVNode("div",Ha,[e.createElementVNode("div",Ua,[e.createElementVNode("div",{ref_key:"handleRef",ref:s,class:"col-11 try-play-move"},null,512),e.createElementVNode("div",{onClick:v,class:"col-1 try-play-menu-close"},[e.createVNode(e.unref(E.ElIcon),{color:"white"},{default:e.withCtx(()=>[e.createVNode(e.unref(te.Minus))]),_:1})])]),e.createElementVNode("div",Wa,[e.createElementVNode("div",Ga,[e.createElementVNode("div",qa,[e.createVNode(e.unref(E.ElForm),{onSubmit:h[1]||(h[1]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(E.ElInput),{"input-style":{},ref_key:"searchInputRef",ref:o,modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=d=>a.value=d),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1})]),e.createElementVNode("div",Xa,[e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("热榜")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("SVIP")]),_:1}),e.createVNode(V,null,{default:e.withCtx(()=>[e.createTextVNode("付费")]),_:1})]),e.createVNode(sa),Ya,e.createVNode(na)]),e.createElementVNode("div",Ka,[e.createVNode(ja)])])])],4)),[[e.vShow,m.visible]])}});const Za=L(Qa,[["__scopeId","data-v-2d1e47a4"]]),Qt=e.defineComponent({__name:"try-play",setup(t){const n=e.ref(!0);function r(o){o||(n.value=!0)}return(o,a)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(Yo,{visible:n.value,"onUpdate:visible":a[0]||(a[0]=l=>n.value=l)},null,8,["visible"]),e.createVNode(Za,{visible:!n.value,"onUpdate:visible":r},null,8,["visible"])]))}});const Ja={install:t=>{t.component("SpeakerMenu",Tt),t.component("ContinuousMenu",Rt),t.component("ReadMenu",Ot),t.component("DigitalMenu",Dt),t.component("AliasMenu",Bt),t.component("EnglishMenu",It),t.component("ChangespeedMenu",Mt),t.component("RhythmMenu",Pt),t.component("SpecialMenu",Lt),t.component("MuteMenu",At),t.component("BgmMenu",Ft),t.component("SensitiveMenu",jt),t.component("ManagementMenu",zt),t.component("ConversionMenu",Ht),t.component("TryPlay",Qt)}};var ke={exports:{}},Se={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ParsingError=void 0;class r extends Error{constructor(w,N){super(w),this.cause=N}}n.ParsingError=r;let o;function a(){return u(!1)||m()||f()||v()}function l(){return c(/\s*/),u(!0)||f()||p()||i(!1)}function s(){const b=i(!0),w=[];let N,g=l();for(;g;){if(g.node.type==="Element"){if(N)throw new Error("Found multiple root nodes");N=g.node}g.excluded||w.push(g.node),g=l()}if(!N)throw new r("Failed to parse XML","Root Element not found");if(o.xml.length!==0)throw new r("Failed to parse XML","Not Well-Formed XML");return{declaration:b?b.node:null,root:N,children:w}}function i(b){const w=c(b?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!w)return;const N={name:w[1],type:"ProcessingInstruction",attributes:{}};for(;!(x()||C("?>"));){const g=h();if(g)N.attributes[g.name]=g.value;else return}return c(/\?>/),{excluded:b?!1:o.options.filter(N)===!1,node:N}}function u(b){const w=c(/^<([^?!</>\s]+)\s*/);if(!w)return;const N={type:"Element",name:w[1],attributes:{},children:[]},g=b?!1:o.options.filter(N)===!1;for(;!(x()||C(">")||C("?>")||C("/>"));){const T=h();if(T)N.attributes[T.name]=T.value;else return}if(c(/^\s*\/>/))return N.children=null,{excluded:g,node:N};c(/\??>/);let S=a();for(;S;)S.excluded||N.children.push(S.node),S=a();if(o.options.strictMode){const T=`</${N.name}>`;if(o.xml.startsWith(T))o.xml=o.xml.slice(T.length);else throw new r("Failed to parse XML",`Closing tag not matching "${T}"`)}else c(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:g,node:N}}function p(){const b=c(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||c(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||c(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||c(/^<!DOCTYPE\s+\S+\s*>/);if(b){const w={type:"DocumentType",content:b[0]};return{excluded:o.options.filter(w)===!1,node:w}}}function v(){if(o.xml.startsWith("<![CDATA[")){const b=o.xml.indexOf("]]>");if(b>-1){const w=b+3,N={type:"CDATA",content:o.xml.substring(0,w)};return o.xml=o.xml.slice(w),{excluded:o.options.filter(N)===!1,node:N}}}}function f(){const b=c(/^<!--[\s\S]*?-->/);if(b){const w={type:"Comment",content:b[0]};return{excluded:o.options.filter(w)===!1,node:w}}}function m(){const b=c(/^([^<]+)/);if(b){const w={type:"Text",content:b[1]};return{excluded:o.options.filter(w)===!1,node:w}}}function h(){const b=c(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(b)return{name:b[1].trim(),value:d(b[2].trim())}}function d(b){return b.replace(/^['"]|['"]$/g,"")}function c(b){const w=o.xml.match(b);if(w)return o.xml=o.xml.slice(w[0].length),w}function x(){return o.xml.length===0}function C(b){return o.xml.indexOf(b)===0}function k(b,w={}){b=b.trim();const N=w.filter||(()=>!0);return o={xml:b,options:Object.assign(Object.assign({},w),{filter:N,strictMode:w.strictMode===!0})},s()}t.exports=k,n.default=k})(Se,Se.exports);var el=Se.exports;(function(t,n){var r=Y&&Y.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0});const o=r(el);function a(d){if(!d.options.indentation&&!d.options.lineSeparator)return;d.content+=d.options.lineSeparator;let c;for(c=0;c<d.level;c++)d.content+=d.options.indentation}function l(d){d.content=d.content.replace(/ +$/,"");let c;for(c=0;c<d.level;c++)d.content+=d.options.indentation}function s(d,c){d.content+=c}function i(d,c,x){if(typeof d.content=="string")u(d.content,c,x);else if(d.type==="Element")v(d,c,x);else if(d.type==="ProcessingInstruction")m(d,c);else throw new Error("Unknown node type: "+d.type)}function u(d,c,x){if(!x){const C=d.trim();(c.options.lineSeparator||C.length===0)&&(d=C)}d.length>0&&(!x&&c.content.length>0&&a(c),s(c,d))}function p(d,c){const x="/"+d.join("/"),C=d[d.length-1];return c.includes(C)||c.includes(x)}function v(d,c,x){if(c.path.push(d.name),!x&&c.content.length>0&&a(c),s(c,"<"+d.name),f(c,d.attributes),d.children===null||c.options.forceSelfClosingEmptyTag&&d.children.length===0){const C=c.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";s(c,C)}else if(d.children.length===0)s(c,"></"+d.name+">");else{const C=d.children;s(c,">"),c.level++;let k=d.attributes["xml:space"]==="preserve",b=!1;if(!k&&c.options.ignoredPaths&&(b=p(c.path,c.options.ignoredPaths),k=b),!k&&c.options.collapseContent){let w=!1,N=!1,g=!1;C.forEach(function(S,T){S.type==="Text"?(S.content.includes(`
`)?(N=!0,S.content=S.content.trim()):(T===0||T===C.length-1)&&S.content.trim().length===0&&(S.content=""),S.content.trim().length>0&&(w=!0)):S.type==="CDATA"?w=!0:g=!0}),w&&(!g||!N)&&(k=!0)}C.forEach(function(w){i(w,c,x||k)}),c.level--,!x&&!k&&a(c),b&&l(c),s(c,"</"+d.name+">")}c.path.pop()}function f(d,c){Object.keys(c).forEach(function(x){const C=c[x].replace(/"/g,"&quot;");s(d," "+x+'="'+C+'"')})}function m(d,c){c.content.length>0&&a(c),s(c,"<?"+d.name),f(c,d.attributes),s(c,"?>")}function h(d,c={}){c.indentation="indentation"in c?c.indentation:"    ",c.collapseContent=c.collapseContent===!0,c.lineSeparator="lineSeparator"in c?c.lineSeparator:`\r
`,c.whiteSpaceAtEndOfSelfclosingTag=c.whiteSpaceAtEndOfSelfclosingTag===!0,c.throwOnFailure=c.throwOnFailure!==!1;try{const x=(0,o.default)(d,{filter:c.filter,strictMode:c.strictMode}),C={content:"",level:0,options:c,path:[]};return x.declaration&&m(x.declaration,C),x.children.forEach(function(k){i(k,C,!1)}),c.lineSeparator?C.content.replace(/\r\n/g,`
`).replace(/\n/g,c.lineSeparator):C.content}catch(x){if(c.throwOnFailure)throw x;return d}}h.minify=(d,c={})=>h(d,Object.assign(Object.assign({},c),{indentation:"",lineSeparator:""})),t.exports=h,n.default=h})(ke,ke.exports);var tl=ke.exports;const nl=De(tl),rl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-audio"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-audio"?!0:r(a),o};function yt(t,n,r,o,a){const l=n===void 0?void 0:n.key;return{sel:t,data:n,children:r,text:o,elm:a,key:l}}const _t=Array.isArray;function we(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function Zt(t,n,r){if(t.ns="http://www.w3.org/2000/svg",r!=="foreignObject"&&n!==void 0)for(let o=0;o<n.length;++o){const a=n[o];if(typeof a=="string")continue;const l=a.data;l!==void 0&&Zt(l,a.children,a.sel)}}function _(t,n,r){let o={},a,l,s;if(r!==void 0?(n!==null&&(o=n),_t(r)?a=r:we(r)?l=r.toString():r&&r.sel&&(a=[r])):n!=null&&(_t(n)?a=n:we(n)?l=n.toString():n&&n.sel?a=[n]:o=n),a!==void 0)for(s=0;s<a.length;++s)we(a[s])&&(a[s]=yt(void 0,void 0,void 0,a[s],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&Zt(o,a,t),yt(t,o,a,l,void 0)}var Jt="Expected a function",gt=0/0,ol="[object Symbol]",al=/^\s+|\s+$/g,ll=/^[-+]0x[0-9a-f]+$/i,sl=/^0b[01]+$/i,il=/^0o[0-7]+$/i,cl=parseInt,ul=typeof Y=="object"&&Y&&Y.Object===Object&&Y,dl=typeof self=="object"&&self&&self.Object===Object&&self,fl=ul||dl||Function("return this")(),pl=Object.prototype,ml=pl.toString,vl=Math.max,hl=Math.min,Ve=function(){return fl.Date.now()};function yl(t,n,r){var o,a,l,s,i,u,p=0,v=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(Jt);n=bt(n)||0,de(r)&&(v=!!r.leading,f="maxWait"in r,l=f?vl(bt(r.maxWait)||0,n):l,m="trailing"in r?!!r.trailing:m);function h(g){var S=o,T=a;return o=a=void 0,p=g,s=t.apply(T,S),s}function d(g){return p=g,i=setTimeout(C,n),v?h(g):s}function c(g){var S=g-u,T=g-p,oe=n-S;return f?hl(oe,l-T):oe}function x(g){var S=g-u,T=g-p;return u===void 0||S>=n||S<0||f&&T>=l}function C(){var g=Ve();if(x(g))return k(g);i=setTimeout(C,c(g))}function k(g){return i=void 0,m&&o?h(g):(o=a=void 0,s)}function b(){i!==void 0&&clearTimeout(i),p=0,o=u=a=i=void 0}function w(){return i===void 0?s:k(Ve())}function N(){var g=Ve(),S=x(g);if(o=arguments,a=this,u=g,S){if(i===void 0)return d(u);if(f)return i=setTimeout(C,n),h(u)}return i===void 0&&(i=setTimeout(C,n)),s}return N.cancel=b,N.flush=w,N}function _l(t,n,r){var o=!0,a=!0;if(typeof t!="function")throw new TypeError(Jt);return de(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),yl(t,n,{leading:o,maxWait:n,trailing:a})}function de(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function gl(t){return!!t&&typeof t=="object"}function bl(t){return typeof t=="symbol"||gl(t)&&ml.call(t)==ol}function bt(t){if(typeof t=="number")return t;if(bl(t))return gt;if(de(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=de(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(al,"");var r=sl.test(t);return r||il.test(t)?cl(t.slice(2),r?2:8):ll.test(t)?gt:+t}var xl=_l;const A=De(xl),wl={type:"ssml-audio",renderElem:(t,n,r)=>{const{remark:o,src:a}=t;return _("span.ssml-wrapper.no-line-height",[_("span.remark.left",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(l=>{l.preventDefault();const s=y.DomEditor.findPath(r,t);y.SlateTransforms.delete(r,{at:s})})}}),_("span.iconfont.icon-play",{on:{click:A(l=>{l.preventDefault(),qt(a)})}}),_("span.data-content",{attrs:{"data-content":o}})])])}},Vl={type:"ssml-audio",elemToHtml:(t,n)=>{const{remark:r,src:o}=t;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${o}"
          data-ow-remark="${r}"
        >${n}</span>`}},El={editorPlugin:rl,renderElems:[wl],elemsToHtml:[Vl]},Nl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-break"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-break"?!0:r(a),o},Cl={type:"ssml-break",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",{props:{contentEditable:!1}},[_("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.delete(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"|"},style:{color:"var(--ssml-break)"}})])}},kl={type:"ssml-break",elemToHtml:t=>{const{remark:n,time:r,strength:o}=t;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${n}"
          data-ow-time="${r}"
          data-ow-strength="${o}"
        ></span>`}},Sl={editorPlugin:Nl,renderElems:[Cl],elemsToHtml:[kl]},$l=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-emphasis"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-emphasis"?!1:r(a),o},Tl={type:"ssml-emphasis",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-emphasis)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-emphasis)"}})])}},Rl={type:"ssml-emphasis",elemToHtml:(t,n)=>{const{remark:r,level:o}=t;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-level="${o}"
        >${n}</span>`}},Ol={editorPlugin:$l,renderElems:[Tl],elemsToHtml:[Rl]},Dl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-mstts:express-as"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-mstts:express-as"?!1:r(a),o},Bl={type:"ssml-mstts:express-as",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-mstts--express-as)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-mstts--express-as)"}})])}},Il={type:"ssml-mstts:express-as",elemToHtml:(t,n)=>{const{remark:r,style:o,role:a,styledegree:l}=t;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-style="${o}"
          data-ow-styledegree="${l}"
          data-ow-role="${a}"
        >${n}</span>`}},Ml={editorPlugin:Dl,renderElems:[Bl],elemsToHtml:[Il]},Pl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-p"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-p"?!1:r(a),o},Ll={type:"ssml-p",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-p)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-p)"}})])}},Al={type:"ssml-p",elemToHtml:(t,n)=>{const{remark:r}=t;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
        >${n}</span>`}},Fl={editorPlugin:Pl,renderElems:[Ll],elemsToHtml:[Al]},jl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-phoneme"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-phoneme"?!1:r(a),o},zl={type:"ssml-phoneme",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-phoneme)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-phoneme)"}})])}},Hl={type:"ssml-phoneme",elemToHtml:(t,n)=>{const{remark:r,alphabet:o,ph:a}=t;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-alphabet="${o}"
          data-ow-ph="${a}"
        >${n}</span>`}},Ul={editorPlugin:jl,renderElems:[zl],elemsToHtml:[Hl]},Wl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-prosody"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-prosody"?!1:r(a),o},Gl={type:"ssml-prosody",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-prosody)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-prosody)"}})])}},ql={type:"ssml-prosody",elemToHtml:(t,n)=>{const{remark:r,contour:o,pitch:a,range:l,rate:s,volume:i}=t;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-contour="${o}"
          data-ow-pitch="${a}"
          data-ow-range="${l}"
          data-ow-rate="${s}"
          data-ow-volume="${i}"
        >${n}</span>`}},Xl={editorPlugin:Wl,renderElems:[Gl],elemsToHtml:[ql]},Yl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-s"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-s"?!1:r(a),o},Kl={type:"ssml-s",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-s)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-s)"}})])}},Ql={type:"ssml-s",elemToHtml:(t,n)=>{const{remark:r}=t;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
        >${n}</span>`}},Zl={editorPlugin:Yl,renderElems:[Kl],elemsToHtml:[Ql]},Jl=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-say-as"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-say-as"?!1:r(a),o},es={type:"ssml-say-as",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-say-as)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-say-as)"}})])}},ts={type:"ssml-say-as",elemToHtml:(t,n)=>{const{remark:r,interpretAs:o,detail:a,format:l}=t;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-interpretAs="${o}"
          data-ow-detail="${a}"
          data-ow-format="${l}"
        >${n}</span>`}},ns={editorPlugin:Jl,renderElems:[es],elemsToHtml:[ts]},rs=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-sub"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-sub"?!1:r(a),o},os={type:"ssml-sub",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-sub)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-sub)"}})])}},as={type:"ssml-sub",elemToHtml:(t,n)=>{const{remark:r,alias:o}=t;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-alias="${o}"
        >${n}</span>`}},ls={editorPlugin:rs,renderElems:[os],elemsToHtml:[as]},ss=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-voice"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-voice"?!1:r(a),o},is={type:"ssml-voice",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-voice)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-voice)"}})])}},cs={type:"ssml-voice",elemToHtml:(t,n)=>{const{remark:r,name:o,effect:a}=t;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
          data-ow-name="${o}"
          data-ow-effect="${a}"
        >${n}</span>`}},us={editorPlugin:ss,renderElems:[is],elemsToHtml:[cs]},ds=t=>{const{isInline:n,isVoid:r}=t,o=t;return o.isInline=a=>y.DomEditor.getNodeType(a)==="ssml-w"?!0:n(a),o.isVoid=a=>y.DomEditor.getNodeType(a)==="ssml-w"?!1:r(a),o},fs={type:"ssml-w",renderElem:(t,n,r)=>{const{remark:o}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-w)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:A(a=>{a.preventDefault();const l=y.DomEditor.findPath(r,t);y.SlateTransforms.unwrapNodes(r,{at:l})})}}),_("span.data-content",{attrs:{"data-content":o}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-w)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-w)"}})])}},ps={type:"ssml-s",elemToHtml:(t,n)=>{const{remark:r}=t;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${r}"
        >${n}</span>`}},ms={editorPlugin:ds,renderElems:[fs],elemsToHtml:[ps]},vs=t=>{const{deleteBackward:n,deleteForward:r,insertBreak:o,apply:a,normalizeNode:l,insertText:s}=t,i=t;return i.deleteBackward=u=>{n(u)},i.deleteForward=u=>{r(u)},i.insertBreak=()=>{o()},i.normalizeNode=u=>{l(u)},i.apply=u=>{a(u)},i.insertText=u=>{s(u)},i};function hs(t){return t.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function ys(t,n){return n?`<audio src="${t.src}">${n}</audio>`:`<audio src="${t.src}"/>`}function _s(t){return t.time?`<break time="${t.time}"/>`:t.strength?`<break strength="${t.strength}"/>`:"<break/>"}function gs(t,n){return t.level?`<emphasis level="${t.level}">${n}</emphasis>`:`<emphasis>${n}</emphasis>`}function bs(t,n){const r=t.role?` role="${t.role}"`:"",o=t.styledegree?` styledegree="${t.styledegree}"`:"";return`<mstts:express-as style="${t.style}"${r}${o}>${n}</mstts:express-as>`}function xs(t,n){return`<p>${n}</p>`}function ws(t,n){const r=t.alphabet?`alphabet="${t.alphabet}"`:"";return`<phoneme ph="${t.ph}"${r}>${n}</phoneme>`}function Vs(t,n){const r=t.contour?` contour="${t.contour}"`:"",o=t.pitch?` pitch="${t.pitch}"`:"",a=t.range?` range="${t.range}"`:"",l=t.volume?` volume="${t.volume}"`:"",s=t.rate?` rate="${t.rate}"`:"";return`<prosody${r}${o}${a}${l}${s}>${n}</prosody>`}function Es(t,n){const r=t.interpretAs?` interpretAs="${t.interpretAs}"`:"",o=t.format?` format="${t.format}"`:"",a=t.detail?` detail="${t.detail}"`:"";return`<say-as${r}${o}${a}>${n}</say-as>`}function Ns(t,n){return`<s>${n}</s>`}function Cs(t,n){return`<w>${n}</w>`}function ks(t,n){return`<sub alias=${t.alias}>${n}</sub>`}function en(t,n){const r=t.effect?` effect="${t.effect}"`:"";return`<vocie name="${t.name}${r}">${n}</vocie>`}function Ss(t,n){return`<speak version="${t.version}" xml:lang="${t.xmlLang}" xmlns="${t.xmlns}">${n}</speak>`}function tn(t){if(y.SlateText.isText(t))return hs(t.text);if(y.SlateElement.isElement(t)){const n=t.children.map(o=>tn(o)).join("");switch(y.DomEditor.getNodeType(t)){case"paragraph":return`<p>${n}</p>`;case"ssml-audio":return ys(t,n);case"ssml-break":return _s(t);case"ssml-emphasis":return gs(t,n);case"ssml-mstts:express-as":return bs(t,n);case"ssml-p":return xs(t,n);case"ssml-phoneme":return ws(t,n);case"ssml-prosody":return Vs(t,n);case"ssml-s":return Ns(t,n);case"ssml-w":return Cs(t,n);case"ssml-say-as":return Es(t,n);case"ssml-sub":return ks(t,n);case"ssml-voice":return en(t,n);default:return n}}return""}function $s(t){const n={type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis"},r={type:"ssml-voice",name:"XiaoXiao-晓晓",remark:"默认语音",children:[]},o=t.map(a=>tn(a)).join("");return Ss(n,en(r,o))}const Ts={install(){y.Boot.registerModule(El),y.Boot.registerModule(Sl),y.Boot.registerModule(Ol),y.Boot.registerModule(Ml),y.Boot.registerModule(Fl),y.Boot.registerModule(Ul),y.Boot.registerModule(Xl),y.Boot.registerModule(Zl),y.Boot.registerModule(ns),y.Boot.registerModule(ls),y.Boot.registerModule(us),y.Boot.registerModule(ms),y.Boot.registerPlugin(vs)}},q=t=>(e.pushScopeId("data-v-fdde579b"),t=t(),e.popScopeId(),t),Rs={class:"editor-title d-flex flex-row align-item-center justify-content-between"},Os={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},Ds=q(()=>e.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),Bs={class:"author d-flex flex-row align-items-center justify-content-start"},Is=q(()=>e.createElementVNode("div",null,"已保存",-1)),Ms=q(()=>e.createElementVNode("div",null,"|",-1)),Ps=q(()=>e.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),Ls=q(()=>e.createElementVNode("div",{class:"d-inline-block"},null,-1)),As={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},Fs=q(()=>e.createElementVNode("div",{class:"menu-divider"},null,-1)),js=q(()=>e.createElementVNode("div",{class:"px-1"},null,-1)),zs={class:"ssml-code"},Hs={class:"dialog-footer"},Us=e.defineComponent({__name:"editor-title",props:{characterTotal:{},characterMax:{},bgm:{}},setup(t){const n=e.inject(H.EDITOR),r=e.ref(!1),o=e.ref(""),a=e.computed(()=>nl(o.value,{indentation:"    ",filter:i=>i.type!=="Comment",collapseContent:!1,lineSeparator:`
`})),l=()=>{n&&(o.value=$s(n.value.children),r.value=!0)},s=()=>{n==null||n.value.emit(ee.REMOVE_BGM)};return(i,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",Rs,[e.createElementVNode("div",Os,[Ds,e.createElementVNode("div",Bs,[Is,Ms,e.createElementVNode("div",null,e.toDisplayString(i.characterTotal)+"/"+e.toDisplayString(i.characterMax)+"字",1),i.bgm?(e.openBlock(),e.createBlock(e.unref(E.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:u[0]||(u[0]=()=>i.bgm&&i.bgm.value&&e.unref(qt)(i.bgm.value)),onClose:s},{default:e.withCtx(()=>[Ps,Ls,e.createElementVNode("span",null,e.toDisplayString(i.bgm.label),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",As,[e.createVNode(e.unref(E.ElButton),{type:"primary",icon:e.unref(te.Share),disabled:""},{default:e.withCtx(()=>[e.createTextVNode("分享")]),_:1},8,["icon"]),Fs,e.createVNode(e.unref(E.ElButton),{type:"primary",onClick:l},{default:e.withCtx(()=>[e.createTextVNode("查看SSML")]),_:1}),e.createVNode(e.unref(E.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载音频")]),_:1}),e.createVNode(e.unref(E.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载视频")]),_:1}),e.createVNode(e.unref(E.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载字幕")]),_:1}),e.createVNode(e.unref(E.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("声音转换")]),_:1}),js])]),e.createVNode(e.unref(E.ElDialog),{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=p=>r.value=p),title:"查看SSML",width:"50%"},{footer:e.withCtx(()=>[e.createElementVNode("span",Hs,[e.createVNode(e.unref(E.ElButton),{type:"primary",onClick:u[1]||(u[1]=p=>r.value=!1)},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("pre",zs,e.toDisplayString(a.value),1)]),_:1},8,["modelValue"])],64))}});const Ws=L(Us,[["__scopeId","data-v-fdde579b"]]);const Gs=e.defineComponent({__name:"editor-core",props:{editorConfig:{}},emits:["created","change"],setup(t,{emit:n}){const r=t,o=e.ref(null);e.onMounted(()=>{a()});const a=()=>{o.value&&y.createEditor({selector:o.value,mode:"simple",content:[],config:{...e.toRaw(r.editorConfig),onCreated(l){n("created",l),l.focus(!0);const s=l.getConfig();s.hoverbarKeys=void 0},onChange(l){n("change",l),l.children}}})};return(l,s)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),qs={class:"bar-view border-bottom border-1"},Xs=e.defineComponent({__name:"bar-view",setup(t){return(n,r)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",qs,[e.createVNode(e.unref(Nt),null,{default:e.withCtx(()=>[e.createVNode(e.unref(X),{divider:"green"},{default:e.withCtx(()=>[e.createVNode(e.unref(P),{text:"24K高清音质",icon:"play",disabled:""})]),_:1}),e.createVNode(e.unref(X),{divider:"cyan"},{default:e.withCtx(()=>[e.createVNode(e.unref(Tt)),e.createVNode(e.unref(Ot)),e.createVNode(e.unref(Dt)),e.createVNode(e.unref(Rt)),e.createVNode(e.unref(Bt)),e.createVNode(e.unref(It))]),_:1}),e.createVNode(e.unref(X),{divider:"orange"},{default:e.withCtx(()=>[e.createVNode(e.unref(Mt)),e.createVNode(e.unref(zt)),e.createVNode(e.unref(Ht))]),_:1}),e.createVNode(e.unref(X),{divider:"purple"},{default:e.withCtx(()=>[e.createVNode(e.unref(Pt)),e.createVNode(e.unref(At))]),_:1}),e.createVNode(e.unref(X),{divider:"yellow"},{default:e.withCtx(()=>[e.createVNode(e.unref(Lt)),e.createVNode(e.unref(Ft))]),_:1})]),_:1})]),e.createVNode(e.unref(Qt))],64))}}),Ys={class:"editor-view"},Ks={class:"editor-box"},Qs={class:"editor-core-container shadow pt-1"},Zs=e.defineComponent({__name:"editor-view",emits:["onCreated","onChange"],setup(t,{emit:n}){const r=e.ref(0),o=e.shallowRef(),a=e.ref(null);e.provide(H.EDITOR,o);const l={maxLength:5e3,placeholder:"请输入内容..."};e.onUnmounted(()=>{var u;(u=o.value)==null||u.destroy()});const s=u=>{o.value=u,n("onCreated",u),u.on(ee.UPDATE_BGM,p=>{a.value=p}),u.on(ee.REMOVE_BGM,()=>{a.value=null})},i=u=>{r.value=(l.maxLength||0)-y.DomEditor.getLeftLengthOfMaxLength(u),n("onChange",u)};return(u,p)=>(e.openBlock(),e.createElementBlock("div",Ys,[e.createVNode(Ws,{bgm:a.value,"character-total":r.value,"character-max":l.maxLength||0},null,8,["bgm","character-total","character-max"]),e.createElementVNode("div",Ks,[e.createVNode(Xs),e.createElementVNode("div",Qs,[e.createVNode(Gs,{"editor-config":l,onChange:i,onCreated:s})])])]))}});const Js=L(Zs,[["__scopeId","data-v-860a12c5"]]),ei={install(t){t.component("EditorView",Js)}};const ti={install(t,n){const r=Yt(t.provide,n);B.on(O.ERROR,r.handleError),t.use(Ts),t.use(sr),t.use(Ja),t.use(ei)}};exports.EMITTER_EVENT=O;exports.PROVIDER_KEY=H;exports.WANGEDITOR_EVENT=ee;exports.createGlobalEditorConfig=Xt;exports.default=ti;exports.injectGlobalConfig=Kt;exports.provideGlobalConfig=Yt;
