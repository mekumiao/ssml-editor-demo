"use strict";var A_=Object.defineProperty;var $_=(r,s,o)=>s in r?A_(r,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[s]=o;var Ce=(r,s,o)=>($_(r,typeof s!="symbol"?s+"":s,o),o);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("vue"),R=require("@wangeditor/editor"),j=require("element-plus"),pn=require("@element-plus/icons-vue");var Wu=!1;function co(r,s,o){return Array.isArray(r)?(r.length=Math.max(r.length,s),r.splice(s,1,o),o):(r[s]=o,o)}function Xi(r,s){if(Array.isArray(r)){r.splice(s,1);return}delete r[s]}function O_(){return zu().__VUE_DEVTOOLS_GLOBAL_HOOK__}function zu(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const D_=typeof Proxy=="function",I_="devtools-plugin:setup",L_="plugin:settings:set";let Dn,ss;function B_(){var r;return Dn!==void 0||(typeof window<"u"&&window.performance?(Dn=!0,ss=window.performance):typeof global<"u"&&(!((r=global.perf_hooks)===null||r===void 0)&&r.performance)?(Dn=!0,ss=global.perf_hooks.performance):Dn=!1),Dn}function P_(){return B_()?ss.now():Date.now()}class M_{constructor(s,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=s,this.hook=o;const a={};if(s.settings)for(const p in s.settings){const m=s.settings[p];a[p]=m.defaultValue}const u=`__vue-devtools-plugin-settings__${s.id}`;let f=Object.assign({},a);try{const p=localStorage.getItem(u),m=JSON.parse(p);Object.assign(f,m)}catch{}this.fallbacks={getSettings(){return f},setSettings(p){try{localStorage.setItem(u,JSON.stringify(p))}catch{}f=p},now(){return P_()}},o&&o.on(L_,(p,m)=>{p===this.plugin.id&&this.fallbacks.setSettings(m)}),this.proxiedOn=new Proxy({},{get:(p,m)=>this.target?this.target.on[m]:(...g)=>{this.onQueue.push({method:m,args:g})}}),this.proxiedTarget=new Proxy({},{get:(p,m)=>this.target?this.target[m]:m==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(m)?(...g)=>(this.targetQueue.push({method:m,args:g,resolve:()=>{}}),this.fallbacks[m](...g)):(...g)=>new Promise(_=>{this.targetQueue.push({method:m,args:g,resolve:_})})})}async setRealTarget(s){this.target=s;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function Gu(r,s){const o=r,a=zu(),u=O_(),f=D_&&o.enableEarlyProxy;if(u&&(a.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!f))u.emit(I_,r,s);else{const p=f?new M_(o,u):null;(a.__VUE_DEVTOOLS_PLUGINS__=a.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:s,proxy:p}),p&&s(p.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let dr;const mr=r=>dr=r,qu=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function hn(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Tt;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Tt||(Tt={}));const bo=typeof window<"u",pr=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&bo,lu=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function F_(r,{autoBom:s=!1}={}){return s&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}function gs(r,s,o){const a=new XMLHttpRequest;a.open("GET",r),a.responseType="blob",a.onload=function(){Xu(a.response,s,o)},a.onerror=function(){console.error("could not download file")},a.send()}function Ku(r){const s=new XMLHttpRequest;s.open("HEAD",r,!1);try{s.send()}catch{}return s.status>=200&&s.status<=299}function fo(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}}const po=typeof navigator=="object"?navigator:{userAgent:""},Yu=(()=>/Macintosh/.test(po.userAgent)&&/AppleWebKit/.test(po.userAgent)&&!/Safari/.test(po.userAgent))(),Xu=bo?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Yu?U_:"msSaveOrOpenBlob"in po?H_:W_:()=>{};function U_(r,s="download",o){const a=document.createElement("a");a.download=s,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Ku(a.href)?gs(r,s,o):(a.target="_blank",fo(a)):fo(a)):(a.href=URL.createObjectURL(r),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){fo(a)},0))}function H_(r,s="download",o){if(typeof r=="string")if(Ku(r))gs(r,s,o);else{const a=document.createElement("a");a.href=r,a.target="_blank",setTimeout(function(){fo(a)})}else navigator.msSaveOrOpenBlob(F_(r,o),s)}function W_(r,s,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),typeof r=="string")return gs(r,s,o);const u=r.type==="application/octet-stream",f=/constructor/i.test(String(lu.HTMLElement))||"safari"in lu,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||u&&f||Yu)&&typeof FileReader<"u"){const m=new FileReader;m.onloadend=function(){let g=m.result;if(typeof g!="string")throw a=null,new Error("Wrong reader.result type");g=p?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=g:location.assign(g),a=null},m.readAsDataURL(r)}else{const m=URL.createObjectURL(r);a?a.location.assign(m):location.href=m,a=null,setTimeout(function(){URL.revokeObjectURL(m)},4e4)}}function Oe(r,s){const o="🍍 "+r;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,s):s==="error"?console.error(o):s==="warn"?console.warn(o):console.log(o)}function _s(r){return"_a"in r&&"install"in r}function Ju(){if(!("clipboard"in navigator))return Oe("Your browser doesn't support the Clipboard API","error"),!0}function Zu(r){return r instanceof Error&&r.message.toLowerCase().includes("document is not focused")?(Oe('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function z_(r){if(!Ju())try{await navigator.clipboard.writeText(JSON.stringify(r.state.value)),Oe("Global state copied to clipboard.")}catch(s){if(Zu(s))return;Oe("Failed to serialize the state. Check the console for more details.","error"),console.error(s)}}async function G_(r){if(!Ju())try{Qu(r,JSON.parse(await navigator.clipboard.readText())),Oe("Global state pasted from clipboard.")}catch(s){if(Zu(s))return;Oe("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(s)}}async function q_(r){try{Xu(new Blob([JSON.stringify(r.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(s){Oe("Failed to export the state as JSON. Check the console for more details.","error"),console.error(s)}}let Ft;function K_(){Ft||(Ft=document.createElement("input"),Ft.type="file",Ft.accept=".json");function r(){return new Promise((s,o)=>{Ft.onchange=async()=>{const a=Ft.files;if(!a)return s(null);const u=a.item(0);return s(u?{text:await u.text(),file:u}:null)},Ft.oncancel=()=>s(null),Ft.onerror=o,Ft.click()})}return r}async function Y_(r){try{const o=await K_()();if(!o)return;const{text:a,file:u}=o;Qu(r,JSON.parse(a)),Oe(`Global state imported from "${u.name}".`)}catch(s){Oe("Failed to import the state from JSON. Check the console for more details.","error"),console.error(s)}}function Qu(r,s){for(const o in s){const a=r.state.value[o];a&&Object.assign(a,s[o])}}function xt(r){return{_custom:{display:r}}}const ju="🍍 Pinia (root)",as="_root";function X_(r){return _s(r)?{id:as,label:ju}:{id:r.$id,label:r.$id}}function J_(r){if(_s(r)){const o=Array.from(r._s.keys()),a=r._s;return{state:o.map(f=>({editable:!0,key:f,value:r.state.value[f]})),getters:o.filter(f=>a.get(f)._getters).map(f=>{const p=a.get(f);return{editable:!1,key:f,value:p._getters.reduce((m,g)=>(m[g]=p[g],m),{})}})}}const s={state:Object.keys(r.$state).map(o=>({editable:!0,key:o,value:r.$state[o]}))};return r._getters&&r._getters.length&&(s.getters=r._getters.map(o=>({editable:!1,key:o,value:r[o]}))),r._customProperties.size&&(s.customProperties=Array.from(r._customProperties).map(o=>({editable:!0,key:o,value:r[o]}))),s}function Z_(r){return r?Array.isArray(r)?r.reduce((s,o)=>(s.keys.push(o.key),s.operations.push(o.type),s.oldValue[o.key]=o.oldValue,s.newValue[o.key]=o.newValue,s),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:xt(r.type),key:xt(r.key),oldValue:r.oldValue,newValue:r.newValue}:{}}function Q_(r){switch(r){case Tt.direct:return"mutation";case Tt.patchFunction:return"$patch";case Tt.patchObject:return"$patch";default:return"unknown"}}let Pn=!0;const ho=[],cn="pinia:mutations",Ue="pinia",{assign:j_}=Object,_o=r=>"🍍 "+r;function ey(r,s){Gu({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ho,app:r},o=>{typeof o.now!="function"&&Oe("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:cn,label:"Pinia 🍍",color:15064968}),o.addInspector({id:Ue,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{z_(s)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await G_(s),o.sendInspectorTree(Ue),o.sendInspectorState(Ue)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{q_(s)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await Y_(s),o.sendInspectorTree(Ue),o.sendInspectorState(Ue)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:a=>{const u=s._s.get(a);u?typeof u.$reset!="function"?Oe(`Cannot reset "${a}" store because it doesn't have a "$reset" method implemented.`,"warn"):(u.$reset(),Oe(`Store "${a}" reset.`)):Oe(`Cannot reset "${a}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((a,u)=>{const f=a.componentInstance&&a.componentInstance.proxy;if(f&&f._pStores){const p=a.componentInstance.proxy._pStores;Object.values(p).forEach(m=>{a.instanceData.state.push({type:_o(m.$id),key:"state",editable:!0,value:m._isOptionsAPI?{_custom:{value:n.toRaw(m.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>m.$reset()}]}}:Object.keys(m.$state).reduce((g,_)=>(g[_]=m.$state[_],g),{})}),m._getters&&m._getters.length&&a.instanceData.state.push({type:_o(m.$id),key:"getters",editable:!1,value:m._getters.reduce((g,_)=>{try{g[_]=m[_]}catch(S){g[_]=S}return g},{})})})}}),o.on.getInspectorTree(a=>{if(a.app===r&&a.inspectorId===Ue){let u=[s];u=u.concat(Array.from(s._s.values())),a.rootNodes=(a.filter?u.filter(f=>"$id"in f?f.$id.toLowerCase().includes(a.filter.toLowerCase()):ju.toLowerCase().includes(a.filter.toLowerCase())):u).map(X_)}}),o.on.getInspectorState(a=>{if(a.app===r&&a.inspectorId===Ue){const u=a.nodeId===as?s:s._s.get(a.nodeId);if(!u)return;u&&(a.state=J_(u))}}),o.on.editInspectorState((a,u)=>{if(a.app===r&&a.inspectorId===Ue){const f=a.nodeId===as?s:s._s.get(a.nodeId);if(!f)return Oe(`store "${a.nodeId}" not found`,"error");const{path:p}=a;_s(f)?p.unshift("state"):(p.length!==1||!f._customProperties.has(p[0])||p[0]in f.$state)&&p.unshift("$state"),Pn=!1,a.set(f,p,a.state.value),Pn=!0}}),o.on.editComponentState(a=>{if(a.type.startsWith("🍍")){const u=a.type.replace(/^🍍\s*/,""),f=s._s.get(u);if(!f)return Oe(`store "${u}" not found`,"error");const{path:p}=a;if(p[0]!=="state")return Oe(`Invalid path for store "${u}":
${p}
Only state can be modified.`);p[0]="$state",Pn=!1,a.set(f,p,a.state.value),Pn=!0}})})}function ty(r,s){ho.includes(_o(s.$id))||ho.push(_o(s.$id)),Gu({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:ho,app:r,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const a=typeof o.now=="function"?o.now.bind(o):Date.now;s.$onAction(({after:p,onError:m,name:g,args:_})=>{const S=ec++;o.addTimelineEvent({layerId:cn,event:{time:a(),title:"🛫 "+g,subtitle:"start",data:{store:xt(s.$id),action:xt(g),args:_},groupId:S}}),p(C=>{Zt=void 0,o.addTimelineEvent({layerId:cn,event:{time:a(),title:"🛬 "+g,subtitle:"end",data:{store:xt(s.$id),action:xt(g),args:_,result:C},groupId:S}})}),m(C=>{Zt=void 0,o.addTimelineEvent({layerId:cn,event:{time:a(),logType:"error",title:"💥 "+g,subtitle:"end",data:{store:xt(s.$id),action:xt(g),args:_,error:C},groupId:S}})})},!0),s._customProperties.forEach(p=>{n.watch(()=>n.unref(s[p]),(m,g)=>{o.notifyComponentUpdate(),o.sendInspectorState(Ue),Pn&&o.addTimelineEvent({layerId:cn,event:{time:a(),title:"Change",subtitle:p,data:{newValue:m,oldValue:g},groupId:Zt}})},{deep:!0})}),s.$subscribe(({events:p,type:m},g)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(Ue),!Pn)return;const _={time:a(),title:Q_(m),data:j_({store:xt(s.$id)},Z_(p)),groupId:Zt};m===Tt.patchFunction?_.subtitle="⤵️":m===Tt.patchObject?_.subtitle="🧩":p&&!Array.isArray(p)&&(_.subtitle=p.type),p&&(_.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:p}}),o.addTimelineEvent({layerId:cn,event:_})},{detached:!0,flush:"sync"});const u=s._hotUpdate;s._hotUpdate=n.markRaw(p=>{u(p),o.addTimelineEvent({layerId:cn,event:{time:a(),title:"🔥 "+s.$id,subtitle:"HMR update",data:{store:xt(s.$id),info:xt("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(Ue),o.sendInspectorState(Ue)});const{$dispose:f}=s;s.$dispose=()=>{f(),o.notifyComponentUpdate(),o.sendInspectorTree(Ue),o.sendInspectorState(Ue),o.getSettings().logStoreChanges&&Oe(`Disposed "${s.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(Ue),o.sendInspectorState(Ue),o.getSettings().logStoreChanges&&Oe(`"${s.$id}" store installed 🆕`)})}let ec=0,Zt;function uu(r,s,o){const a=s.reduce((u,f)=>(u[f]=n.toRaw(r)[f],u),{});for(const u in a)r[u]=function(){const f=ec,p=o?new Proxy(r,{get(...g){return Zt=f,Reflect.get(...g)},set(...g){return Zt=f,Reflect.set(...g)}}):r;Zt=f;const m=a[u].apply(p,arguments);return Zt=void 0,m}}function ny({app:r,store:s,options:o}){if(s.$id.startsWith("__hot:"))return;s._isOptionsAPI=!!o.state,uu(s,Object.keys(o.actions),s._isOptionsAPI);const a=s._hotUpdate;n.toRaw(s)._hotUpdate=function(u){a.apply(this,arguments),uu(s,Object.keys(u._hmrPayload.actions),!!s._isOptionsAPI)},ty(r,s)}function ry(){const r=n.effectScope(!0),s=r.run(()=>n.ref({}));let o=[],a=[];const u=n.markRaw({install(f){mr(u),u._a=f,f.provide(qu,u),f.config.globalProperties.$pinia=u,pr&&ey(f,u),a.forEach(p=>o.push(p)),a=[]},use(f){return!this._a&&!Wu?a.push(f):o.push(f),this},_p:o,_a:null,_e:r,_s:new Map,state:s});return pr&&typeof Proxy<"u"&&u.use(ny),u}function tc(r,s){for(const o in s){const a=s[o];if(!(o in r))continue;const u=r[o];hn(u)&&hn(a)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=tc(u,a):r[o]=a}return r}const nc=()=>{};function cu(r,s,o,a=nc){r.push(s);const u=()=>{const f=r.indexOf(s);f>-1&&(r.splice(f,1),a())};return!o&&n.getCurrentScope()&&n.onScopeDispose(u),u}function In(r,...s){r.slice().forEach(o=>{o(...s)})}const oy=r=>r();function ls(r,s){r instanceof Map&&s instanceof Map&&s.forEach((o,a)=>r.set(a,o)),r instanceof Set&&s instanceof Set&&s.forEach(r.add,r);for(const o in s){if(!s.hasOwnProperty(o))continue;const a=s[o],u=r[o];hn(u)&&hn(a)&&r.hasOwnProperty(o)&&!n.isRef(a)&&!n.isReactive(a)?r[o]=ls(u,a):r[o]=a}return r}const iy=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function sy(r){return!hn(r)||!r.hasOwnProperty(iy)}const{assign:ht}=Object;function fu(r){return!!(n.isRef(r)&&r.effect)}function du(r,s,o,a){const{state:u,actions:f,getters:p}=s,m=o.state.value[r];let g;function _(){!m&&(process.env.NODE_ENV==="production"||!a)&&(o.state.value[r]=u?u():{});const S=process.env.NODE_ENV!=="production"&&a?n.toRefs(n.ref(u?u():{}).value):n.toRefs(o.state.value[r]);return ht(S,f,Object.keys(p||{}).reduce((C,k)=>(process.env.NODE_ENV!=="production"&&k in S&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${k}" in store "${r}".`),C[k]=n.markRaw(n.computed(()=>{mr(o);const T=o._s.get(r);return p[k].call(T,T)})),C),{}))}return g=us(r,_,s,o,a,!0),g}function us(r,s,o={},a,u,f){let p;const m=ht({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!a._e.active)throw new Error("Pinia destroyed");const g={deep:!0};process.env.NODE_ENV!=="production"&&!Wu&&(g.onTrigger=H=>{_?T=H:_==!1&&!D._hotUpdating&&(Array.isArray(T)?T.push(H):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let _,S,C=[],k=[],T;const E=a.state.value[r];!f&&!E&&(process.env.NODE_ENV==="production"||!u)&&(a.state.value[r]={});const w=n.ref({});let I;function B(H){let W;_=S=!1,process.env.NODE_ENV!=="production"&&(T=[]),typeof H=="function"?(H(a.state.value[r]),W={type:Tt.patchFunction,storeId:r,events:T}):(ls(a.state.value[r],H),W={type:Tt.patchObject,payload:H,storeId:r,events:T});const U=I=Symbol();n.nextTick().then(()=>{I===U&&(_=!0)}),S=!0,In(C,W,a.state.value[r])}const P=f?function(){const{state:W}=o,U=W?W():{};this.$patch(K=>{ht(K,U)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${r}" is built using the setup syntax and does not implement $reset().`)}:nc;function A(){p.stop(),C=[],k=[],a._s.delete(r)}function F(H,W){return function(){mr(a);const U=Array.from(arguments),K=[],ie=[];function De(ve){K.push(ve)}function kt(ve){ie.push(ve)}In(k,{args:U,name:H,store:D,after:De,onError:kt});let Ae;try{Ae=W.apply(this&&this.$id===r?this:D,U)}catch(ve){throw In(ie,ve),ve}return Ae instanceof Promise?Ae.then(ve=>(In(K,ve),ve)).catch(ve=>(In(ie,ve),Promise.reject(ve))):(In(K,Ae),Ae)}}const G=n.markRaw({actions:{},getters:{},state:[],hotState:w}),X={_p:a,$id:r,$onAction:cu.bind(null,k),$patch:B,$reset:P,$subscribe(H,W={}){const U=cu(C,H,W.detached,()=>K()),K=p.run(()=>n.watch(()=>a.state.value[r],ie=>{(W.flush==="sync"?S:_)&&H({storeId:r,type:Tt.direct,events:T},ie)},ht({},g,W)));return U},$dispose:A},D=n.reactive(process.env.NODE_ENV!=="production"||pr?ht({_hmrPayload:G,_customProperties:n.markRaw(new Set)},X):X);a._s.set(r,D);const ue=a._a&&a._a.runWithContext||oy,we=a._e.run(()=>(p=n.effectScope(),ue(()=>p.run(s))));for(const H in we){const W=we[H];if(n.isRef(W)&&!fu(W)||n.isReactive(W))process.env.NODE_ENV!=="production"&&u?co(w.value,H,n.toRef(we,H)):f||(E&&sy(W)&&(n.isRef(W)?W.value=E[H]:ls(W,E[H])),a.state.value[r][H]=W),process.env.NODE_ENV!=="production"&&G.state.push(H);else if(typeof W=="function"){const U=process.env.NODE_ENV!=="production"&&u?W:F(H,W);we[H]=U,process.env.NODE_ENV!=="production"&&(G.actions[H]=W),m.actions[H]=W}else process.env.NODE_ENV!=="production"&&fu(W)&&(G.getters[H]=f?o.getters[H]:W,bo&&(we._getters||(we._getters=n.markRaw([]))).push(H))}if(ht(D,we),ht(n.toRaw(D),we),Object.defineProperty(D,"$state",{get:()=>process.env.NODE_ENV!=="production"&&u?w.value:a.state.value[r],set:H=>{if(process.env.NODE_ENV!=="production"&&u)throw new Error("cannot set hotState");B(W=>{ht(W,H)})}}),process.env.NODE_ENV!=="production"&&(D._hotUpdate=n.markRaw(H=>{D._hotUpdating=!0,H._hmrPayload.state.forEach(W=>{if(W in D.$state){const U=H.$state[W],K=D.$state[W];typeof U=="object"&&hn(U)&&hn(K)?tc(U,K):H.$state[W]=K}co(D,W,n.toRef(H.$state,W))}),Object.keys(D.$state).forEach(W=>{W in H.$state||Xi(D,W)}),_=!1,S=!1,a.state.value[r]=n.toRef(H._hmrPayload,"hotState"),S=!0,n.nextTick().then(()=>{_=!0});for(const W in H._hmrPayload.actions){const U=H[W];co(D,W,F(W,U))}for(const W in H._hmrPayload.getters){const U=H._hmrPayload.getters[W],K=f?n.computed(()=>(mr(a),U.call(D,D))):U;co(D,W,K)}Object.keys(D._hmrPayload.getters).forEach(W=>{W in H._hmrPayload.getters||Xi(D,W)}),Object.keys(D._hmrPayload.actions).forEach(W=>{W in H._hmrPayload.actions||Xi(D,W)}),D._hmrPayload=H._hmrPayload,D._getters=H._getters,D._hotUpdating=!1})),pr){const H={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(W=>{Object.defineProperty(D,W,ht({value:D[W]},H))})}return a._p.forEach(H=>{if(pr){const W=p.run(()=>H({store:D,app:a._a,pinia:a,options:m}));Object.keys(W||{}).forEach(U=>D._customProperties.add(U)),ht(D,W)}else ht(D,p.run(()=>H({store:D,app:a._a,pinia:a,options:m})))}),process.env.NODE_ENV!=="production"&&D.$state&&typeof D.$state=="object"&&typeof D.$state.constructor=="function"&&!D.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${D.$id}".`),E&&f&&o.hydrate&&o.hydrate(D.$state,E),_=!0,S=!0,D}function Eo(r,s,o){let a,u;const f=typeof s=="function";if(typeof r=="string")a=r,u=f?o:s;else if(u=r,a=r.id,process.env.NODE_ENV!=="production"&&typeof a!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function p(m,g){const _=n.hasInjectionContext();if(m=(process.env.NODE_ENV==="test"&&dr&&dr._testing?null:m)||(_?n.inject(qu,null):null),m&&mr(m),process.env.NODE_ENV!=="production"&&!dr)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);m=dr,m._s.has(a)||(f?us(a,s,u,m):du(a,u,m),process.env.NODE_ENV!=="production"&&(p._pinia=m));const S=m._s.get(a);if(process.env.NODE_ENV!=="production"&&g){const C="__hot:"+a,k=f?us(C,s,u,m,!0):du(C,ht({},u),m,!0);g._hotUpdate(k),delete m.state.value[C],m._s.delete(C)}if(process.env.NODE_ENV!=="production"&&bo){const C=n.getCurrentInstance();if(C&&C.proxy&&!g){const k=C.proxy,T="_pStores"in k?k._pStores:k._pStores={};T[a]=S}}return S}return p.$id=a,p}function rc(r){{r=n.toRaw(r);const s={};for(const o in r){const a=r[o];(n.isRef(a)||n.isReactive(a))&&(s[o]=n.toRef(r,o))}return s}}function Ji(){return{id:"",src:""}}const ay=()=>[{value:"0.5",label:"0.5x"},{value:"0.6",label:"0.6x"},{value:"0.7",label:"0.7x"},{value:"0.8",label:"0.8x"},{value:"0.9",label:"0.9x"},{value:"1.0",label:"1.0x"},{value:"1.1",label:"1.1x"},{value:"1.2",label:"1.2x"},{value:"1.4",label:"1.4x"},{value:"1.5",label:"1.5x"},{value:"1.75",label:"1.75x"},{value:"2.0",label:"2.0x"}],ly=()=>[{value:"-10",label:"-10"},{value:"-9",label:"-9"},{value:"-8",label:"-8"},{value:"-7",label:"-7"},{value:"-6",label:"-6"},{value:"-5",label:"-5"},{value:"-4",label:"-4"},{value:"-3",label:"-3"},{value:"-2",label:"-2"},{value:"-1",label:"-1"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"}];function uy(r){return`${(.05*r*100).toFixed(0)}%`}function cy(r){return`${((r-1)*100).toFixed(0)}%`}function oc(){return{category:"",name:"",role:"",style:"",speed:"1.0",pitch:"0"}}function fy(){return{...oc(),id:"",label:""}}function pt(){return()=>Promise.resolve([])}function ys(r){const s=(r==null?void 0:r.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(r==null?void 0:r.handleError)||(()=>{}),a=(r==null?void 0:r.pinyin)||{fetchData:pt()},u=(r==null?void 0:r.english)||{fetchData:pt()},f=(r==null?void 0:r.special)||{fetchData:pt(),fetchScene:pt(),fetchStyle:pt()},p=(r==null?void 0:r.bgm)||{fetchData:pt(),fetchScene:pt(),fetchStyle:pt()},m=(r==null?void 0:r.tryPlay)||{play:()=>Promise.resolve(Ji()),fetchData:pt(),featchTag:pt(),fetchStar:()=>Promise.resolve(!0)},g=(r==null?void 0:r.conversion)||{timeoutMilliseconds:2e4,audioUpload:()=>Promise.resolve(Ji()),transfer:()=>Promise.resolve(Ji()),fetchSpeaker:pt()},_=(r==null?void 0:r.management)||{recordRecentUsage:()=>Promise.resolve(fy()),fetchRecentUsage:pt(),deleteRecentUsage:()=>Promise.resolve()},S=f,C=p,k=m;return S.menus??(S.menus=[{label:"默认音效",value:""},{label:"自定义音效",value:"custom"},{label:"最近音效",value:"history"}]),C.menus??(C.menus=[{label:"默认配乐",value:""},{label:"自定义配乐",value:"custom"},{label:"最近配乐",value:"history"}]),k.gender??(k.gender=[{label:"全部",value:""},{label:"男声",value:"Male"},{label:"女声",value:"Female"}]),k.topFlag??(k.topFlag=[{label:"热榜",value:""},{label:"SVIP",value:"SVIP"},{label:"付费",value:"付费"}]),k.category??(k.category=[{label:"常用",value:"常用"},{label:"已购",value:"已购"},{label:"收藏",value:"收藏"},{label:"我的",value:"我的"}]),{editorConfig:s,handleError:o,pinyin:a,english:u,bgm:C,special:S,tryPlay:k,conversion:g,management:_}}const ic=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),sc=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),Fn=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png",qe=Eo("--editor-config",()=>{const r=n.shallowRef(),s=n.shallowRef(),o=n.computed(()=>r.value),a=n.computed(()=>{if(s.value)return s.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:a,setEditor:p=>{r.value=p},setGlobalEditConfig:p=>{s.value=p??ys()}}}),dy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-audio"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-audio"?!R.SlateNode.string(u):o(u),a};function pu(r,s,o,a,u){const f=s===void 0?void 0:s.key;return{sel:r,data:s,children:o,text:a,elm:u,key:f}}const hu=Array.isArray;function Zi(r){return typeof r=="string"||typeof r=="number"||r instanceof String||r instanceof Number}function ac(r,s,o){if(r.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&s!==void 0)for(let a=0;a<s.length;++a){const u=s[a];if(typeof u=="string")continue;const f=u.data;f!==void 0&&ac(f,u.children,u.sel)}}function M(r,s,o){let a={},u,f,p;if(o!==void 0?(s!==null&&(a=s),hu(o)?u=o:Zi(o)?f=o.toString():o&&o.sel&&(u=[o])):s!=null&&(hu(s)?u=s:Zi(s)?f=s.toString():s&&s.sel?u=[s]:a=s),u!==void 0)for(p=0;p<u.length;++p)Zi(u[p])&&(u[p]=pu(void 0,void 0,void 0,u[p],void 0));return r[0]==="s"&&r[1]==="v"&&r[2]==="g"&&(r.length===3||r[3]==="."||r[3]==="#")&&ac(a,u,r),pu(r,a,u,f,void 0)}var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */yo.exports;(function(r,s){(function(){var o,a="4.17.21",u=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",m="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",_=500,S="__lodash_placeholder__",C=1,k=2,T=4,E=1,w=2,I=1,B=2,P=4,A=8,F=16,G=32,X=64,D=128,ue=256,we=512,H=30,W="...",U=800,K=16,ie=1,De=2,kt=3,Ae=1/0,ve=9007199254740991,gn=17976931348623157e292,ge=0/0,Se=4294967295,gr=Se-1,_r=Se>>>1,_n=[["ary",D],["bind",I],["bindKey",B],["curry",A],["curryRight",F],["flip",we],["partial",G],["partialRight",X],["rearg",ue]],Ut="[object Arguments]",jt="[object Array]",Vs="[object AsyncFunction]",zn="[object Boolean]",Gn="[object Date]",qc="[object DOMException]",yr="[object Error]",wr="[object Function]",As="[object GeneratorFunction]",gt="[object Map]",qn="[object Number]",Kc="[object Null]",Vt="[object Object]",$s="[object Promise]",Yc="[object Proxy]",Kn="[object RegExp]",_t="[object Set]",Yn="[object String]",br="[object Symbol]",Xc="[object Undefined]",Xn="[object WeakMap]",Jc="[object WeakSet]",Jn="[object ArrayBuffer]",yn="[object DataView]",Ro="[object Float32Array]",To="[object Float64Array]",Vo="[object Int8Array]",Ao="[object Int16Array]",$o="[object Int32Array]",Oo="[object Uint8Array]",Do="[object Uint8ClampedArray]",Io="[object Uint16Array]",Lo="[object Uint32Array]",Zc=/\b__p \+= '';/g,Qc=/\b(__p \+=) '' \+/g,jc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Os=/&(?:amp|lt|gt|quot|#39);/g,Ds=/[&<>"']/g,ef=RegExp(Os.source),tf=RegExp(Ds.source),nf=/<%-([\s\S]+?)%>/g,rf=/<%([\s\S]+?)%>/g,Is=/<%=([\s\S]+?)%>/g,of=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sf=/^\w*$/,af=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bo=/[\\^$.*+?()[\]{}|]/g,lf=RegExp(Bo.source),Po=/^\s+/,uf=/\s/,cf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ff=/\{\n\/\* \[wrapped with (.+)\] \*/,df=/,? & /,pf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hf=/[()=,{}\[\]\/\s]/,mf=/\\(\\)?/g,vf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ls=/\w*$/,gf=/^[-+]0x[0-9a-f]+$/i,_f=/^0b[01]+$/i,yf=/^\[object .+?Constructor\]$/,wf=/^0o[0-7]+$/i,bf=/^(?:0|[1-9]\d*)$/,Ef=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Er=/($^)/,xf=/['\n\r\u2028\u2029\\]/g,xr="\\ud800-\\udfff",Sf="\\u0300-\\u036f",kf="\\ufe20-\\ufe2f",Cf="\\u20d0-\\u20ff",Bs=Sf+kf+Cf,Ps="\\u2700-\\u27bf",Ms="a-z\\xdf-\\xf6\\xf8-\\xff",Nf="\\xac\\xb1\\xd7\\xf7",Rf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tf="\\u2000-\\u206f",Vf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fs="A-Z\\xc0-\\xd6\\xd8-\\xde",Us="\\ufe0e\\ufe0f",Hs=Nf+Rf+Tf+Vf,Mo="['’]",Af="["+xr+"]",Ws="["+Hs+"]",Sr="["+Bs+"]",zs="\\d+",$f="["+Ps+"]",Gs="["+Ms+"]",qs="[^"+xr+Hs+zs+Ps+Ms+Fs+"]",Fo="\\ud83c[\\udffb-\\udfff]",Of="(?:"+Sr+"|"+Fo+")",Ks="[^"+xr+"]",Uo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ho="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="["+Fs+"]",Ys="\\u200d",Xs="(?:"+Gs+"|"+qs+")",Df="(?:"+wn+"|"+qs+")",Js="(?:"+Mo+"(?:d|ll|m|re|s|t|ve))?",Zs="(?:"+Mo+"(?:D|LL|M|RE|S|T|VE))?",Qs=Of+"?",js="["+Us+"]?",If="(?:"+Ys+"(?:"+[Ks,Uo,Ho].join("|")+")"+js+Qs+")*",Lf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ea=js+Qs+If,Pf="(?:"+[$f,Uo,Ho].join("|")+")"+ea,Mf="(?:"+[Ks+Sr+"?",Sr,Uo,Ho,Af].join("|")+")",Ff=RegExp(Mo,"g"),Uf=RegExp(Sr,"g"),Wo=RegExp(Fo+"(?="+Fo+")|"+Mf+ea,"g"),Hf=RegExp([wn+"?"+Gs+"+"+Js+"(?="+[Ws,wn,"$"].join("|")+")",Df+"+"+Zs+"(?="+[Ws,wn+Xs,"$"].join("|")+")",wn+"?"+Xs+"+"+Js,wn+"+"+Zs,Bf,Lf,zs,Pf].join("|"),"g"),Wf=RegExp("["+Ys+xr+Bs+Us+"]"),zf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Gf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qf=-1,ye={};ye[Ro]=ye[To]=ye[Vo]=ye[Ao]=ye[$o]=ye[Oo]=ye[Do]=ye[Io]=ye[Lo]=!0,ye[Ut]=ye[jt]=ye[Jn]=ye[zn]=ye[yn]=ye[Gn]=ye[yr]=ye[wr]=ye[gt]=ye[qn]=ye[Vt]=ye[Kn]=ye[_t]=ye[Yn]=ye[Xn]=!1;var _e={};_e[Ut]=_e[jt]=_e[Jn]=_e[yn]=_e[zn]=_e[Gn]=_e[Ro]=_e[To]=_e[Vo]=_e[Ao]=_e[$o]=_e[gt]=_e[qn]=_e[Vt]=_e[Kn]=_e[_t]=_e[Yn]=_e[br]=_e[Oo]=_e[Do]=_e[Io]=_e[Lo]=!0,_e[yr]=_e[wr]=_e[Xn]=!1;var Kf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zf=parseFloat,Qf=parseInt,ta=typeof fn=="object"&&fn&&fn.Object===Object&&fn,jf=typeof self=="object"&&self&&self.Object===Object&&self,Ie=ta||jf||Function("return this")(),zo=s&&!s.nodeType&&s,en=zo&&!0&&r&&!r.nodeType&&r,na=en&&en.exports===zo,Go=na&&ta.process,it=function(){try{var b=en&&en.require&&en.require("util").types;return b||Go&&Go.binding&&Go.binding("util")}catch{}}(),ra=it&&it.isArrayBuffer,oa=it&&it.isDate,ia=it&&it.isMap,sa=it&&it.isRegExp,aa=it&&it.isSet,la=it&&it.isTypedArray;function je(b,V,N){switch(N.length){case 0:return b.call(V);case 1:return b.call(V,N[0]);case 2:return b.call(V,N[0],N[1]);case 3:return b.call(V,N[0],N[1],N[2])}return b.apply(V,N)}function ed(b,V,N,q){for(var ee=-1,ce=b==null?0:b.length;++ee<ce;){var Te=b[ee];V(q,Te,N(Te),b)}return q}function st(b,V){for(var N=-1,q=b==null?0:b.length;++N<q&&V(b[N],N,b)!==!1;);return b}function td(b,V){for(var N=b==null?0:b.length;N--&&V(b[N],N,b)!==!1;);return b}function ua(b,V){for(var N=-1,q=b==null?0:b.length;++N<q;)if(!V(b[N],N,b))return!1;return!0}function Ht(b,V){for(var N=-1,q=b==null?0:b.length,ee=0,ce=[];++N<q;){var Te=b[N];V(Te,N,b)&&(ce[ee++]=Te)}return ce}function kr(b,V){var N=b==null?0:b.length;return!!N&&bn(b,V,0)>-1}function qo(b,V,N){for(var q=-1,ee=b==null?0:b.length;++q<ee;)if(N(V,b[q]))return!0;return!1}function be(b,V){for(var N=-1,q=b==null?0:b.length,ee=Array(q);++N<q;)ee[N]=V(b[N],N,b);return ee}function Wt(b,V){for(var N=-1,q=V.length,ee=b.length;++N<q;)b[ee+N]=V[N];return b}function Ko(b,V,N,q){var ee=-1,ce=b==null?0:b.length;for(q&&ce&&(N=b[++ee]);++ee<ce;)N=V(N,b[ee],ee,b);return N}function nd(b,V,N,q){var ee=b==null?0:b.length;for(q&&ee&&(N=b[--ee]);ee--;)N=V(N,b[ee],ee,b);return N}function Yo(b,V){for(var N=-1,q=b==null?0:b.length;++N<q;)if(V(b[N],N,b))return!0;return!1}var rd=Xo("length");function od(b){return b.split("")}function id(b){return b.match(pf)||[]}function ca(b,V,N){var q;return N(b,function(ee,ce,Te){if(V(ee,ce,Te))return q=ce,!1}),q}function Cr(b,V,N,q){for(var ee=b.length,ce=N+(q?1:-1);q?ce--:++ce<ee;)if(V(b[ce],ce,b))return ce;return-1}function bn(b,V,N){return V===V?gd(b,V,N):Cr(b,fa,N)}function sd(b,V,N,q){for(var ee=N-1,ce=b.length;++ee<ce;)if(q(b[ee],V))return ee;return-1}function fa(b){return b!==b}function da(b,V){var N=b==null?0:b.length;return N?Zo(b,V)/N:ge}function Xo(b){return function(V){return V==null?o:V[b]}}function Jo(b){return function(V){return b==null?o:b[V]}}function pa(b,V,N,q,ee){return ee(b,function(ce,Te,me){N=q?(q=!1,ce):V(N,ce,Te,me)}),N}function ad(b,V){var N=b.length;for(b.sort(V);N--;)b[N]=b[N].value;return b}function Zo(b,V){for(var N,q=-1,ee=b.length;++q<ee;){var ce=V(b[q]);ce!==o&&(N=N===o?ce:N+ce)}return N}function Qo(b,V){for(var N=-1,q=Array(b);++N<b;)q[N]=V(N);return q}function ld(b,V){return be(V,function(N){return[N,b[N]]})}function ha(b){return b&&b.slice(0,_a(b)+1).replace(Po,"")}function et(b){return function(V){return b(V)}}function jo(b,V){return be(V,function(N){return b[N]})}function Zn(b,V){return b.has(V)}function ma(b,V){for(var N=-1,q=b.length;++N<q&&bn(V,b[N],0)>-1;);return N}function va(b,V){for(var N=b.length;N--&&bn(V,b[N],0)>-1;);return N}function ud(b,V){for(var N=b.length,q=0;N--;)b[N]===V&&++q;return q}var cd=Jo(Kf),fd=Jo(Yf);function dd(b){return"\\"+Jf[b]}function pd(b,V){return b==null?o:b[V]}function En(b){return Wf.test(b)}function hd(b){return zf.test(b)}function md(b){for(var V,N=[];!(V=b.next()).done;)N.push(V.value);return N}function ei(b){var V=-1,N=Array(b.size);return b.forEach(function(q,ee){N[++V]=[ee,q]}),N}function ga(b,V){return function(N){return b(V(N))}}function zt(b,V){for(var N=-1,q=b.length,ee=0,ce=[];++N<q;){var Te=b[N];(Te===V||Te===S)&&(b[N]=S,ce[ee++]=N)}return ce}function Nr(b){var V=-1,N=Array(b.size);return b.forEach(function(q){N[++V]=q}),N}function vd(b){var V=-1,N=Array(b.size);return b.forEach(function(q){N[++V]=[q,q]}),N}function gd(b,V,N){for(var q=N-1,ee=b.length;++q<ee;)if(b[q]===V)return q;return-1}function _d(b,V,N){for(var q=N+1;q--;)if(b[q]===V)return q;return q}function xn(b){return En(b)?wd(b):rd(b)}function yt(b){return En(b)?bd(b):od(b)}function _a(b){for(var V=b.length;V--&&uf.test(b.charAt(V)););return V}var yd=Jo(Xf);function wd(b){for(var V=Wo.lastIndex=0;Wo.test(b);)++V;return V}function bd(b){return b.match(Wo)||[]}function Ed(b){return b.match(Hf)||[]}var xd=function b(V){V=V==null?Ie:Sn.defaults(Ie.Object(),V,Sn.pick(Ie,Gf));var N=V.Array,q=V.Date,ee=V.Error,ce=V.Function,Te=V.Math,me=V.Object,ti=V.RegExp,Sd=V.String,at=V.TypeError,Rr=N.prototype,kd=ce.prototype,kn=me.prototype,Tr=V["__core-js_shared__"],Vr=kd.toString,pe=kn.hasOwnProperty,Cd=0,ya=function(){var e=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ar=kn.toString,Nd=Vr.call(me),Rd=Ie._,Td=ti("^"+Vr.call(pe).replace(Bo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=na?V.Buffer:o,Gt=V.Symbol,Or=V.Uint8Array,wa=$r?$r.allocUnsafe:o,Dr=ga(me.getPrototypeOf,me),ba=me.create,Ea=kn.propertyIsEnumerable,Ir=Rr.splice,xa=Gt?Gt.isConcatSpreadable:o,Qn=Gt?Gt.iterator:o,tn=Gt?Gt.toStringTag:o,Lr=function(){try{var e=an(me,"defineProperty");return e({},"",{}),e}catch{}}(),Vd=V.clearTimeout!==Ie.clearTimeout&&V.clearTimeout,Ad=q&&q.now!==Ie.Date.now&&q.now,$d=V.setTimeout!==Ie.setTimeout&&V.setTimeout,Br=Te.ceil,Pr=Te.floor,ni=me.getOwnPropertySymbols,Od=$r?$r.isBuffer:o,Sa=V.isFinite,Dd=Rr.join,Id=ga(me.keys,me),Ve=Te.max,Me=Te.min,Ld=q.now,Bd=V.parseInt,ka=Te.random,Pd=Rr.reverse,ri=an(V,"DataView"),jn=an(V,"Map"),oi=an(V,"Promise"),Cn=an(V,"Set"),er=an(V,"WeakMap"),tr=an(me,"create"),Mr=er&&new er,Nn={},Md=ln(ri),Fd=ln(jn),Ud=ln(oi),Hd=ln(Cn),Wd=ln(er),Fr=Gt?Gt.prototype:o,nr=Fr?Fr.valueOf:o,Ca=Fr?Fr.toString:o;function d(e){if(ke(e)&&!te(e)&&!(e instanceof ae)){if(e instanceof lt)return e;if(pe.call(e,"__wrapped__"))return Nl(e)}return new lt(e)}var Rn=function(){function e(){}return function(t){if(!xe(t))return{};if(ba)return ba(t);e.prototype=t;var i=new e;return e.prototype=o,i}}();function Ur(){}function lt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}d.templateSettings={escape:nf,evaluate:rf,interpolate:Is,variable:"",imports:{_:d}},d.prototype=Ur.prototype,d.prototype.constructor=d,lt.prototype=Rn(Ur.prototype),lt.prototype.constructor=lt;function ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Se,this.__views__=[]}function zd(){var e=new ae(this.__wrapped__);return e.__actions__=Ye(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ye(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ye(this.__views__),e}function Gd(){if(this.__filtered__){var e=new ae(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function qd(){var e=this.__wrapped__.value(),t=this.__dir__,i=te(e),l=t<0,c=i?e.length:0,h=oh(0,c,this.__views__),v=h.start,y=h.end,x=y-v,$=l?y:v-1,O=this.__iteratees__,L=O.length,z=0,Y=Me(x,this.__takeCount__);if(!i||!l&&c==x&&Y==x)return Ja(e,this.__actions__);var Z=[];e:for(;x--&&z<Y;){$+=t;for(var re=-1,Q=e[$];++re<L;){var se=O[re],le=se.iteratee,rt=se.type,Ge=le(Q);if(rt==De)Q=Ge;else if(!Ge){if(rt==ie)continue e;break e}}Z[z++]=Q}return Z}ae.prototype=Rn(Ur.prototype),ae.prototype.constructor=ae;function nn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Kd(){this.__data__=tr?tr(null):{},this.size=0}function Yd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Xd(e){var t=this.__data__;if(tr){var i=t[e];return i===g?o:i}return pe.call(t,e)?t[e]:o}function Jd(e){var t=this.__data__;return tr?t[e]!==o:pe.call(t,e)}function Zd(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=tr&&t===o?g:t,this}nn.prototype.clear=Kd,nn.prototype.delete=Yd,nn.prototype.get=Xd,nn.prototype.has=Jd,nn.prototype.set=Zd;function At(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function Qd(){this.__data__=[],this.size=0}function jd(e){var t=this.__data__,i=Hr(t,e);if(i<0)return!1;var l=t.length-1;return i==l?t.pop():Ir.call(t,i,1),--this.size,!0}function ep(e){var t=this.__data__,i=Hr(t,e);return i<0?o:t[i][1]}function tp(e){return Hr(this.__data__,e)>-1}function np(e,t){var i=this.__data__,l=Hr(i,e);return l<0?(++this.size,i.push([e,t])):i[l][1]=t,this}At.prototype.clear=Qd,At.prototype.delete=jd,At.prototype.get=ep,At.prototype.has=tp,At.prototype.set=np;function $t(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var l=e[t];this.set(l[0],l[1])}}function rp(){this.size=0,this.__data__={hash:new nn,map:new(jn||At),string:new nn}}function op(e){var t=eo(this,e).delete(e);return this.size-=t?1:0,t}function ip(e){return eo(this,e).get(e)}function sp(e){return eo(this,e).has(e)}function ap(e,t){var i=eo(this,e),l=i.size;return i.set(e,t),this.size+=i.size==l?0:1,this}$t.prototype.clear=rp,$t.prototype.delete=op,$t.prototype.get=ip,$t.prototype.has=sp,$t.prototype.set=ap;function rn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new $t;++t<i;)this.add(e[t])}function lp(e){return this.__data__.set(e,g),this}function up(e){return this.__data__.has(e)}rn.prototype.add=rn.prototype.push=lp,rn.prototype.has=up;function wt(e){var t=this.__data__=new At(e);this.size=t.size}function cp(){this.__data__=new At,this.size=0}function fp(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function dp(e){return this.__data__.get(e)}function pp(e){return this.__data__.has(e)}function hp(e,t){var i=this.__data__;if(i instanceof At){var l=i.__data__;if(!jn||l.length<u-1)return l.push([e,t]),this.size=++i.size,this;i=this.__data__=new $t(l)}return i.set(e,t),this.size=i.size,this}wt.prototype.clear=cp,wt.prototype.delete=fp,wt.prototype.get=dp,wt.prototype.has=pp,wt.prototype.set=hp;function Na(e,t){var i=te(e),l=!i&&un(e),c=!i&&!l&&Jt(e),h=!i&&!l&&!c&&$n(e),v=i||l||c||h,y=v?Qo(e.length,Sd):[],x=y.length;for(var $ in e)(t||pe.call(e,$))&&!(v&&($=="length"||c&&($=="offset"||$=="parent")||h&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Lt($,x)))&&y.push($);return y}function Ra(e){var t=e.length;return t?e[mi(0,t-1)]:o}function mp(e,t){return to(Ye(e),on(t,0,e.length))}function vp(e){return to(Ye(e))}function ii(e,t,i){(i!==o&&!bt(e[t],i)||i===o&&!(t in e))&&Ot(e,t,i)}function rr(e,t,i){var l=e[t];(!(pe.call(e,t)&&bt(l,i))||i===o&&!(t in e))&&Ot(e,t,i)}function Hr(e,t){for(var i=e.length;i--;)if(bt(e[i][0],t))return i;return-1}function gp(e,t,i,l){return qt(e,function(c,h,v){t(l,c,i(c),v)}),l}function Ta(e,t){return e&&Nt(t,$e(t),e)}function _p(e,t){return e&&Nt(t,Je(t),e)}function Ot(e,t,i){t=="__proto__"&&Lr?Lr(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function si(e,t){for(var i=-1,l=t.length,c=N(l),h=e==null;++i<l;)c[i]=h?o:Fi(e,t[i]);return c}function on(e,t,i){return e===e&&(i!==o&&(e=e<=i?e:i),t!==o&&(e=e>=t?e:t)),e}function ut(e,t,i,l,c,h){var v,y=t&C,x=t&k,$=t&T;if(i&&(v=c?i(e,l,c,h):i(e)),v!==o)return v;if(!xe(e))return e;var O=te(e);if(O){if(v=sh(e),!y)return Ye(e,v)}else{var L=Fe(e),z=L==wr||L==As;if(Jt(e))return ja(e,y);if(L==Vt||L==Ut||z&&!c){if(v=x||z?{}:_l(e),!y)return x?Xp(e,_p(v,e)):Yp(e,Ta(v,e))}else{if(!_e[L])return c?e:{};v=ah(e,L,y)}}h||(h=new wt);var Y=h.get(e);if(Y)return Y;h.set(e,v),Kl(e)?e.forEach(function(Q){v.add(ut(Q,t,i,Q,e,h))}):Gl(e)&&e.forEach(function(Q,se){v.set(se,ut(Q,t,i,se,e,h))});var Z=$?x?Ci:ki:x?Je:$e,re=O?o:Z(e);return st(re||e,function(Q,se){re&&(se=Q,Q=e[se]),rr(v,se,ut(Q,t,i,se,e,h))}),v}function yp(e){var t=$e(e);return function(i){return Va(i,e,t)}}function Va(e,t,i){var l=i.length;if(e==null)return!l;for(e=me(e);l--;){var c=i[l],h=t[c],v=e[c];if(v===o&&!(c in e)||!h(v))return!1}return!0}function Aa(e,t,i){if(typeof e!="function")throw new at(p);return cr(function(){e.apply(o,i)},t)}function or(e,t,i,l){var c=-1,h=kr,v=!0,y=e.length,x=[],$=t.length;if(!y)return x;i&&(t=be(t,et(i))),l?(h=qo,v=!1):t.length>=u&&(h=Zn,v=!1,t=new rn(t));e:for(;++c<y;){var O=e[c],L=i==null?O:i(O);if(O=l||O!==0?O:0,v&&L===L){for(var z=$;z--;)if(t[z]===L)continue e;x.push(O)}else h(t,L,l)||x.push(O)}return x}var qt=ol(Ct),$a=ol(li,!0);function wp(e,t){var i=!0;return qt(e,function(l,c,h){return i=!!t(l,c,h),i}),i}function Wr(e,t,i){for(var l=-1,c=e.length;++l<c;){var h=e[l],v=t(h);if(v!=null&&(y===o?v===v&&!nt(v):i(v,y)))var y=v,x=h}return x}function bp(e,t,i,l){var c=e.length;for(i=ne(i),i<0&&(i=-i>c?0:c+i),l=l===o||l>c?c:ne(l),l<0&&(l+=c),l=i>l?0:Xl(l);i<l;)e[i++]=t;return e}function Oa(e,t){var i=[];return qt(e,function(l,c,h){t(l,c,h)&&i.push(l)}),i}function Le(e,t,i,l,c){var h=-1,v=e.length;for(i||(i=uh),c||(c=[]);++h<v;){var y=e[h];t>0&&i(y)?t>1?Le(y,t-1,i,l,c):Wt(c,y):l||(c[c.length]=y)}return c}var ai=il(),Da=il(!0);function Ct(e,t){return e&&ai(e,t,$e)}function li(e,t){return e&&Da(e,t,$e)}function zr(e,t){return Ht(t,function(i){return Bt(e[i])})}function sn(e,t){t=Yt(t,e);for(var i=0,l=t.length;e!=null&&i<l;)e=e[Rt(t[i++])];return i&&i==l?e:o}function Ia(e,t,i){var l=t(e);return te(e)?l:Wt(l,i(e))}function We(e){return e==null?e===o?Xc:Kc:tn&&tn in me(e)?rh(e):vh(e)}function ui(e,t){return e>t}function Ep(e,t){return e!=null&&pe.call(e,t)}function xp(e,t){return e!=null&&t in me(e)}function Sp(e,t,i){return e>=Me(t,i)&&e<Ve(t,i)}function ci(e,t,i){for(var l=i?qo:kr,c=e[0].length,h=e.length,v=h,y=N(h),x=1/0,$=[];v--;){var O=e[v];v&&t&&(O=be(O,et(t))),x=Me(O.length,x),y[v]=!i&&(t||c>=120&&O.length>=120)?new rn(v&&O):o}O=e[0];var L=-1,z=y[0];e:for(;++L<c&&$.length<x;){var Y=O[L],Z=t?t(Y):Y;if(Y=i||Y!==0?Y:0,!(z?Zn(z,Z):l($,Z,i))){for(v=h;--v;){var re=y[v];if(!(re?Zn(re,Z):l(e[v],Z,i)))continue e}z&&z.push(Z),$.push(Y)}}return $}function kp(e,t,i,l){return Ct(e,function(c,h,v){t(l,i(c),h,v)}),l}function ir(e,t,i){t=Yt(t,e),e=El(e,t);var l=e==null?e:e[Rt(ft(t))];return l==null?o:je(l,e,i)}function La(e){return ke(e)&&We(e)==Ut}function Cp(e){return ke(e)&&We(e)==Jn}function Np(e){return ke(e)&&We(e)==Gn}function sr(e,t,i,l,c){return e===t?!0:e==null||t==null||!ke(e)&&!ke(t)?e!==e&&t!==t:Rp(e,t,i,l,sr,c)}function Rp(e,t,i,l,c,h){var v=te(e),y=te(t),x=v?jt:Fe(e),$=y?jt:Fe(t);x=x==Ut?Vt:x,$=$==Ut?Vt:$;var O=x==Vt,L=$==Vt,z=x==$;if(z&&Jt(e)){if(!Jt(t))return!1;v=!0,O=!1}if(z&&!O)return h||(h=new wt),v||$n(e)?ml(e,t,i,l,c,h):th(e,t,x,i,l,c,h);if(!(i&E)){var Y=O&&pe.call(e,"__wrapped__"),Z=L&&pe.call(t,"__wrapped__");if(Y||Z){var re=Y?e.value():e,Q=Z?t.value():t;return h||(h=new wt),c(re,Q,i,l,h)}}return z?(h||(h=new wt),nh(e,t,i,l,c,h)):!1}function Tp(e){return ke(e)&&Fe(e)==gt}function fi(e,t,i,l){var c=i.length,h=c,v=!l;if(e==null)return!h;for(e=me(e);c--;){var y=i[c];if(v&&y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++c<h;){y=i[c];var x=y[0],$=e[x],O=y[1];if(v&&y[2]){if($===o&&!(x in e))return!1}else{var L=new wt;if(l)var z=l($,O,x,e,t,L);if(!(z===o?sr(O,$,E|w,l,L):z))return!1}}return!0}function Ba(e){if(!xe(e)||fh(e))return!1;var t=Bt(e)?Td:yf;return t.test(ln(e))}function Vp(e){return ke(e)&&We(e)==Kn}function Ap(e){return ke(e)&&Fe(e)==_t}function $p(e){return ke(e)&&ao(e.length)&&!!ye[We(e)]}function Pa(e){return typeof e=="function"?e:e==null?Ze:typeof e=="object"?te(e)?Ua(e[0],e[1]):Fa(e):su(e)}function di(e){if(!ur(e))return Id(e);var t=[];for(var i in me(e))pe.call(e,i)&&i!="constructor"&&t.push(i);return t}function Op(e){if(!xe(e))return mh(e);var t=ur(e),i=[];for(var l in e)l=="constructor"&&(t||!pe.call(e,l))||i.push(l);return i}function pi(e,t){return e<t}function Ma(e,t){var i=-1,l=Xe(e)?N(e.length):[];return qt(e,function(c,h,v){l[++i]=t(c,h,v)}),l}function Fa(e){var t=Ri(e);return t.length==1&&t[0][2]?wl(t[0][0],t[0][1]):function(i){return i===e||fi(i,e,t)}}function Ua(e,t){return Vi(e)&&yl(t)?wl(Rt(e),t):function(i){var l=Fi(i,e);return l===o&&l===t?Ui(i,e):sr(t,l,E|w)}}function Gr(e,t,i,l,c){e!==t&&ai(t,function(h,v){if(c||(c=new wt),xe(h))Dp(e,t,v,i,Gr,l,c);else{var y=l?l($i(e,v),h,v+"",e,t,c):o;y===o&&(y=h),ii(e,v,y)}},Je)}function Dp(e,t,i,l,c,h,v){var y=$i(e,i),x=$i(t,i),$=v.get(x);if($){ii(e,i,$);return}var O=h?h(y,x,i+"",e,t,v):o,L=O===o;if(L){var z=te(x),Y=!z&&Jt(x),Z=!z&&!Y&&$n(x);O=x,z||Y||Z?te(y)?O=y:Ne(y)?O=Ye(y):Y?(L=!1,O=ja(x,!0)):Z?(L=!1,O=el(x,!0)):O=[]:fr(x)||un(x)?(O=y,un(y)?O=Jl(y):(!xe(y)||Bt(y))&&(O=_l(x))):L=!1}L&&(v.set(x,O),c(O,x,l,h,v),v.delete(x)),ii(e,i,O)}function Ha(e,t){var i=e.length;if(i)return t+=t<0?i:0,Lt(t,i)?e[t]:o}function Wa(e,t,i){t.length?t=be(t,function(h){return te(h)?function(v){return sn(v,h.length===1?h[0]:h)}:h}):t=[Ze];var l=-1;t=be(t,et(J()));var c=Ma(e,function(h,v,y){var x=be(t,function($){return $(h)});return{criteria:x,index:++l,value:h}});return ad(c,function(h,v){return Kp(h,v,i)})}function Ip(e,t){return za(e,t,function(i,l){return Ui(e,l)})}function za(e,t,i){for(var l=-1,c=t.length,h={};++l<c;){var v=t[l],y=sn(e,v);i(y,v)&&ar(h,Yt(v,e),y)}return h}function Lp(e){return function(t){return sn(t,e)}}function hi(e,t,i,l){var c=l?sd:bn,h=-1,v=t.length,y=e;for(e===t&&(t=Ye(t)),i&&(y=be(e,et(i)));++h<v;)for(var x=0,$=t[h],O=i?i($):$;(x=c(y,O,x,l))>-1;)y!==e&&Ir.call(y,x,1),Ir.call(e,x,1);return e}function Ga(e,t){for(var i=e?t.length:0,l=i-1;i--;){var c=t[i];if(i==l||c!==h){var h=c;Lt(c)?Ir.call(e,c,1):_i(e,c)}}return e}function mi(e,t){return e+Pr(ka()*(t-e+1))}function Bp(e,t,i,l){for(var c=-1,h=Ve(Br((t-e)/(i||1)),0),v=N(h);h--;)v[l?h:++c]=e,e+=i;return v}function vi(e,t){var i="";if(!e||t<1||t>ve)return i;do t%2&&(i+=e),t=Pr(t/2),t&&(e+=e);while(t);return i}function oe(e,t){return Oi(bl(e,t,Ze),e+"")}function Pp(e){return Ra(On(e))}function Mp(e,t){var i=On(e);return to(i,on(t,0,i.length))}function ar(e,t,i,l){if(!xe(e))return e;t=Yt(t,e);for(var c=-1,h=t.length,v=h-1,y=e;y!=null&&++c<h;){var x=Rt(t[c]),$=i;if(x==="__proto__"||x==="constructor"||x==="prototype")return e;if(c!=v){var O=y[x];$=l?l(O,x,y):o,$===o&&($=xe(O)?O:Lt(t[c+1])?[]:{})}rr(y,x,$),y=y[x]}return e}var qa=Mr?function(e,t){return Mr.set(e,t),e}:Ze,Fp=Lr?function(e,t){return Lr(e,"toString",{configurable:!0,enumerable:!1,value:Wi(t),writable:!0})}:Ze;function Up(e){return to(On(e))}function ct(e,t,i){var l=-1,c=e.length;t<0&&(t=-t>c?0:c+t),i=i>c?c:i,i<0&&(i+=c),c=t>i?0:i-t>>>0,t>>>=0;for(var h=N(c);++l<c;)h[l]=e[l+t];return h}function Hp(e,t){var i;return qt(e,function(l,c,h){return i=t(l,c,h),!i}),!!i}function qr(e,t,i){var l=0,c=e==null?l:e.length;if(typeof t=="number"&&t===t&&c<=_r){for(;l<c;){var h=l+c>>>1,v=e[h];v!==null&&!nt(v)&&(i?v<=t:v<t)?l=h+1:c=h}return c}return gi(e,t,Ze,i)}function gi(e,t,i,l){var c=0,h=e==null?0:e.length;if(h===0)return 0;t=i(t);for(var v=t!==t,y=t===null,x=nt(t),$=t===o;c<h;){var O=Pr((c+h)/2),L=i(e[O]),z=L!==o,Y=L===null,Z=L===L,re=nt(L);if(v)var Q=l||Z;else $?Q=Z&&(l||z):y?Q=Z&&z&&(l||!Y):x?Q=Z&&z&&!Y&&(l||!re):Y||re?Q=!1:Q=l?L<=t:L<t;Q?c=O+1:h=O}return Me(h,gr)}function Ka(e,t){for(var i=-1,l=e.length,c=0,h=[];++i<l;){var v=e[i],y=t?t(v):v;if(!i||!bt(y,x)){var x=y;h[c++]=v===0?0:v}}return h}function Ya(e){return typeof e=="number"?e:nt(e)?ge:+e}function tt(e){if(typeof e=="string")return e;if(te(e))return be(e,tt)+"";if(nt(e))return Ca?Ca.call(e):"";var t=e+"";return t=="0"&&1/e==-Ae?"-0":t}function Kt(e,t,i){var l=-1,c=kr,h=e.length,v=!0,y=[],x=y;if(i)v=!1,c=qo;else if(h>=u){var $=t?null:jp(e);if($)return Nr($);v=!1,c=Zn,x=new rn}else x=t?[]:y;e:for(;++l<h;){var O=e[l],L=t?t(O):O;if(O=i||O!==0?O:0,v&&L===L){for(var z=x.length;z--;)if(x[z]===L)continue e;t&&x.push(L),y.push(O)}else c(x,L,i)||(x!==y&&x.push(L),y.push(O))}return y}function _i(e,t){return t=Yt(t,e),e=El(e,t),e==null||delete e[Rt(ft(t))]}function Xa(e,t,i,l){return ar(e,t,i(sn(e,t)),l)}function Kr(e,t,i,l){for(var c=e.length,h=l?c:-1;(l?h--:++h<c)&&t(e[h],h,e););return i?ct(e,l?0:h,l?h+1:c):ct(e,l?h+1:0,l?c:h)}function Ja(e,t){var i=e;return i instanceof ae&&(i=i.value()),Ko(t,function(l,c){return c.func.apply(c.thisArg,Wt([l],c.args))},i)}function yi(e,t,i){var l=e.length;if(l<2)return l?Kt(e[0]):[];for(var c=-1,h=N(l);++c<l;)for(var v=e[c],y=-1;++y<l;)y!=c&&(h[c]=or(h[c]||v,e[y],t,i));return Kt(Le(h,1),t,i)}function Za(e,t,i){for(var l=-1,c=e.length,h=t.length,v={};++l<c;){var y=l<h?t[l]:o;i(v,e[l],y)}return v}function wi(e){return Ne(e)?e:[]}function bi(e){return typeof e=="function"?e:Ze}function Yt(e,t){return te(e)?e:Vi(e,t)?[e]:Cl(de(e))}var Wp=oe;function Xt(e,t,i){var l=e.length;return i=i===o?l:i,!t&&i>=l?e:ct(e,t,i)}var Qa=Vd||function(e){return Ie.clearTimeout(e)};function ja(e,t){if(t)return e.slice();var i=e.length,l=wa?wa(i):new e.constructor(i);return e.copy(l),l}function Ei(e){var t=new e.constructor(e.byteLength);return new Or(t).set(new Or(e)),t}function zp(e,t){var i=t?Ei(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function Gp(e){var t=new e.constructor(e.source,Ls.exec(e));return t.lastIndex=e.lastIndex,t}function qp(e){return nr?me(nr.call(e)):{}}function el(e,t){var i=t?Ei(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function tl(e,t){if(e!==t){var i=e!==o,l=e===null,c=e===e,h=nt(e),v=t!==o,y=t===null,x=t===t,$=nt(t);if(!y&&!$&&!h&&e>t||h&&v&&x&&!y&&!$||l&&v&&x||!i&&x||!c)return 1;if(!l&&!h&&!$&&e<t||$&&i&&c&&!l&&!h||y&&i&&c||!v&&c||!x)return-1}return 0}function Kp(e,t,i){for(var l=-1,c=e.criteria,h=t.criteria,v=c.length,y=i.length;++l<v;){var x=tl(c[l],h[l]);if(x){if(l>=y)return x;var $=i[l];return x*($=="desc"?-1:1)}}return e.index-t.index}function nl(e,t,i,l){for(var c=-1,h=e.length,v=i.length,y=-1,x=t.length,$=Ve(h-v,0),O=N(x+$),L=!l;++y<x;)O[y]=t[y];for(;++c<v;)(L||c<h)&&(O[i[c]]=e[c]);for(;$--;)O[y++]=e[c++];return O}function rl(e,t,i,l){for(var c=-1,h=e.length,v=-1,y=i.length,x=-1,$=t.length,O=Ve(h-y,0),L=N(O+$),z=!l;++c<O;)L[c]=e[c];for(var Y=c;++x<$;)L[Y+x]=t[x];for(;++v<y;)(z||c<h)&&(L[Y+i[v]]=e[c++]);return L}function Ye(e,t){var i=-1,l=e.length;for(t||(t=N(l));++i<l;)t[i]=e[i];return t}function Nt(e,t,i,l){var c=!i;i||(i={});for(var h=-1,v=t.length;++h<v;){var y=t[h],x=l?l(i[y],e[y],y,i,e):o;x===o&&(x=e[y]),c?Ot(i,y,x):rr(i,y,x)}return i}function Yp(e,t){return Nt(e,Ti(e),t)}function Xp(e,t){return Nt(e,vl(e),t)}function Yr(e,t){return function(i,l){var c=te(i)?ed:gp,h=t?t():{};return c(i,e,J(l,2),h)}}function Tn(e){return oe(function(t,i){var l=-1,c=i.length,h=c>1?i[c-1]:o,v=c>2?i[2]:o;for(h=e.length>3&&typeof h=="function"?(c--,h):o,v&&ze(i[0],i[1],v)&&(h=c<3?o:h,c=1),t=me(t);++l<c;){var y=i[l];y&&e(t,y,l,h)}return t})}function ol(e,t){return function(i,l){if(i==null)return i;if(!Xe(i))return e(i,l);for(var c=i.length,h=t?c:-1,v=me(i);(t?h--:++h<c)&&l(v[h],h,v)!==!1;);return i}}function il(e){return function(t,i,l){for(var c=-1,h=me(t),v=l(t),y=v.length;y--;){var x=v[e?y:++c];if(i(h[x],x,h)===!1)break}return t}}function Jp(e,t,i){var l=t&I,c=lr(e);function h(){var v=this&&this!==Ie&&this instanceof h?c:e;return v.apply(l?i:this,arguments)}return h}function sl(e){return function(t){t=de(t);var i=En(t)?yt(t):o,l=i?i[0]:t.charAt(0),c=i?Xt(i,1).join(""):t.slice(1);return l[e]()+c}}function Vn(e){return function(t){return Ko(ou(ru(t).replace(Ff,"")),e,"")}}function lr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Rn(e.prototype),l=e.apply(i,t);return xe(l)?l:i}}function Zp(e,t,i){var l=lr(e);function c(){for(var h=arguments.length,v=N(h),y=h,x=An(c);y--;)v[y]=arguments[y];var $=h<3&&v[0]!==x&&v[h-1]!==x?[]:zt(v,x);if(h-=$.length,h<i)return fl(e,t,Xr,c.placeholder,o,v,$,o,o,i-h);var O=this&&this!==Ie&&this instanceof c?l:e;return je(O,this,v)}return c}function al(e){return function(t,i,l){var c=me(t);if(!Xe(t)){var h=J(i,3);t=$e(t),i=function(y){return h(c[y],y,c)}}var v=e(t,i,l);return v>-1?c[h?t[v]:v]:o}}function ll(e){return It(function(t){var i=t.length,l=i,c=lt.prototype.thru;for(e&&t.reverse();l--;){var h=t[l];if(typeof h!="function")throw new at(p);if(c&&!v&&jr(h)=="wrapper")var v=new lt([],!0)}for(l=v?l:i;++l<i;){h=t[l];var y=jr(h),x=y=="wrapper"?Ni(h):o;x&&Ai(x[0])&&x[1]==(D|A|G|ue)&&!x[4].length&&x[9]==1?v=v[jr(x[0])].apply(v,x[3]):v=h.length==1&&Ai(h)?v[y]():v.thru(h)}return function(){var $=arguments,O=$[0];if(v&&$.length==1&&te(O))return v.plant(O).value();for(var L=0,z=i?t[L].apply(this,$):O;++L<i;)z=t[L].call(this,z);return z}})}function Xr(e,t,i,l,c,h,v,y,x,$){var O=t&D,L=t&I,z=t&B,Y=t&(A|F),Z=t&we,re=z?o:lr(e);function Q(){for(var se=arguments.length,le=N(se),rt=se;rt--;)le[rt]=arguments[rt];if(Y)var Ge=An(Q),ot=ud(le,Ge);if(l&&(le=nl(le,l,c,Y)),h&&(le=rl(le,h,v,Y)),se-=ot,Y&&se<$){var Re=zt(le,Ge);return fl(e,t,Xr,Q.placeholder,i,le,Re,y,x,$-se)}var Et=L?i:this,Mt=z?Et[e]:e;return se=le.length,y?le=gh(le,y):Z&&se>1&&le.reverse(),O&&x<se&&(le.length=x),this&&this!==Ie&&this instanceof Q&&(Mt=re||lr(Mt)),Mt.apply(Et,le)}return Q}function ul(e,t){return function(i,l){return kp(i,e,t(l),{})}}function Jr(e,t){return function(i,l){var c;if(i===o&&l===o)return t;if(i!==o&&(c=i),l!==o){if(c===o)return l;typeof i=="string"||typeof l=="string"?(i=tt(i),l=tt(l)):(i=Ya(i),l=Ya(l)),c=e(i,l)}return c}}function xi(e){return It(function(t){return t=be(t,et(J())),oe(function(i){var l=this;return e(t,function(c){return je(c,l,i)})})})}function Zr(e,t){t=t===o?" ":tt(t);var i=t.length;if(i<2)return i?vi(t,e):t;var l=vi(t,Br(e/xn(t)));return En(t)?Xt(yt(l),0,e).join(""):l.slice(0,e)}function Qp(e,t,i,l){var c=t&I,h=lr(e);function v(){for(var y=-1,x=arguments.length,$=-1,O=l.length,L=N(O+x),z=this&&this!==Ie&&this instanceof v?h:e;++$<O;)L[$]=l[$];for(;x--;)L[$++]=arguments[++y];return je(z,c?i:this,L)}return v}function cl(e){return function(t,i,l){return l&&typeof l!="number"&&ze(t,i,l)&&(i=l=o),t=Pt(t),i===o?(i=t,t=0):i=Pt(i),l=l===o?t<i?1:-1:Pt(l),Bp(t,i,l,e)}}function Qr(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=dt(t),i=dt(i)),e(t,i)}}function fl(e,t,i,l,c,h,v,y,x,$){var O=t&A,L=O?v:o,z=O?o:v,Y=O?h:o,Z=O?o:h;t|=O?G:X,t&=~(O?X:G),t&P||(t&=~(I|B));var re=[e,t,c,Y,L,Z,z,y,x,$],Q=i.apply(o,re);return Ai(e)&&xl(Q,re),Q.placeholder=l,Sl(Q,e,t)}function Si(e){var t=Te[e];return function(i,l){if(i=dt(i),l=l==null?0:Me(ne(l),292),l&&Sa(i)){var c=(de(i)+"e").split("e"),h=t(c[0]+"e"+(+c[1]+l));return c=(de(h)+"e").split("e"),+(c[0]+"e"+(+c[1]-l))}return t(i)}}var jp=Cn&&1/Nr(new Cn([,-0]))[1]==Ae?function(e){return new Cn(e)}:qi;function dl(e){return function(t){var i=Fe(t);return i==gt?ei(t):i==_t?vd(t):ld(t,e(t))}}function Dt(e,t,i,l,c,h,v,y){var x=t&B;if(!x&&typeof e!="function")throw new at(p);var $=l?l.length:0;if($||(t&=~(G|X),l=c=o),v=v===o?v:Ve(ne(v),0),y=y===o?y:ne(y),$-=c?c.length:0,t&X){var O=l,L=c;l=c=o}var z=x?o:Ni(e),Y=[e,t,i,l,c,O,L,h,v,y];if(z&&hh(Y,z),e=Y[0],t=Y[1],i=Y[2],l=Y[3],c=Y[4],y=Y[9]=Y[9]===o?x?0:e.length:Ve(Y[9]-$,0),!y&&t&(A|F)&&(t&=~(A|F)),!t||t==I)var Z=Jp(e,t,i);else t==A||t==F?Z=Zp(e,t,y):(t==G||t==(I|G))&&!c.length?Z=Qp(e,t,i,l):Z=Xr.apply(o,Y);var re=z?qa:xl;return Sl(re(Z,Y),e,t)}function pl(e,t,i,l){return e===o||bt(e,kn[i])&&!pe.call(l,i)?t:e}function hl(e,t,i,l,c,h){return xe(e)&&xe(t)&&(h.set(t,e),Gr(e,t,o,hl,h),h.delete(t)),e}function eh(e){return fr(e)?o:e}function ml(e,t,i,l,c,h){var v=i&E,y=e.length,x=t.length;if(y!=x&&!(v&&x>y))return!1;var $=h.get(e),O=h.get(t);if($&&O)return $==t&&O==e;var L=-1,z=!0,Y=i&w?new rn:o;for(h.set(e,t),h.set(t,e);++L<y;){var Z=e[L],re=t[L];if(l)var Q=v?l(re,Z,L,t,e,h):l(Z,re,L,e,t,h);if(Q!==o){if(Q)continue;z=!1;break}if(Y){if(!Yo(t,function(se,le){if(!Zn(Y,le)&&(Z===se||c(Z,se,i,l,h)))return Y.push(le)})){z=!1;break}}else if(!(Z===re||c(Z,re,i,l,h))){z=!1;break}}return h.delete(e),h.delete(t),z}function th(e,t,i,l,c,h,v){switch(i){case yn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jn:return!(e.byteLength!=t.byteLength||!h(new Or(e),new Or(t)));case zn:case Gn:case qn:return bt(+e,+t);case yr:return e.name==t.name&&e.message==t.message;case Kn:case Yn:return e==t+"";case gt:var y=ei;case _t:var x=l&E;if(y||(y=Nr),e.size!=t.size&&!x)return!1;var $=v.get(e);if($)return $==t;l|=w,v.set(e,t);var O=ml(y(e),y(t),l,c,h,v);return v.delete(e),O;case br:if(nr)return nr.call(e)==nr.call(t)}return!1}function nh(e,t,i,l,c,h){var v=i&E,y=ki(e),x=y.length,$=ki(t),O=$.length;if(x!=O&&!v)return!1;for(var L=x;L--;){var z=y[L];if(!(v?z in t:pe.call(t,z)))return!1}var Y=h.get(e),Z=h.get(t);if(Y&&Z)return Y==t&&Z==e;var re=!0;h.set(e,t),h.set(t,e);for(var Q=v;++L<x;){z=y[L];var se=e[z],le=t[z];if(l)var rt=v?l(le,se,z,t,e,h):l(se,le,z,e,t,h);if(!(rt===o?se===le||c(se,le,i,l,h):rt)){re=!1;break}Q||(Q=z=="constructor")}if(re&&!Q){var Ge=e.constructor,ot=t.constructor;Ge!=ot&&"constructor"in e&&"constructor"in t&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof ot=="function"&&ot instanceof ot)&&(re=!1)}return h.delete(e),h.delete(t),re}function It(e){return Oi(bl(e,o,Vl),e+"")}function ki(e){return Ia(e,$e,Ti)}function Ci(e){return Ia(e,Je,vl)}var Ni=Mr?function(e){return Mr.get(e)}:qi;function jr(e){for(var t=e.name+"",i=Nn[t],l=pe.call(Nn,t)?i.length:0;l--;){var c=i[l],h=c.func;if(h==null||h==e)return c.name}return t}function An(e){var t=pe.call(d,"placeholder")?d:e;return t.placeholder}function J(){var e=d.iteratee||zi;return e=e===zi?Pa:e,arguments.length?e(arguments[0],arguments[1]):e}function eo(e,t){var i=e.__data__;return ch(t)?i[typeof t=="string"?"string":"hash"]:i.map}function Ri(e){for(var t=$e(e),i=t.length;i--;){var l=t[i],c=e[l];t[i]=[l,c,yl(c)]}return t}function an(e,t){var i=pd(e,t);return Ba(i)?i:o}function rh(e){var t=pe.call(e,tn),i=e[tn];try{e[tn]=o;var l=!0}catch{}var c=Ar.call(e);return l&&(t?e[tn]=i:delete e[tn]),c}var Ti=ni?function(e){return e==null?[]:(e=me(e),Ht(ni(e),function(t){return Ea.call(e,t)}))}:Ki,vl=ni?function(e){for(var t=[];e;)Wt(t,Ti(e)),e=Dr(e);return t}:Ki,Fe=We;(ri&&Fe(new ri(new ArrayBuffer(1)))!=yn||jn&&Fe(new jn)!=gt||oi&&Fe(oi.resolve())!=$s||Cn&&Fe(new Cn)!=_t||er&&Fe(new er)!=Xn)&&(Fe=function(e){var t=We(e),i=t==Vt?e.constructor:o,l=i?ln(i):"";if(l)switch(l){case Md:return yn;case Fd:return gt;case Ud:return $s;case Hd:return _t;case Wd:return Xn}return t});function oh(e,t,i){for(var l=-1,c=i.length;++l<c;){var h=i[l],v=h.size;switch(h.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=Me(t,e+v);break;case"takeRight":e=Ve(e,t-v);break}}return{start:e,end:t}}function ih(e){var t=e.match(ff);return t?t[1].split(df):[]}function gl(e,t,i){t=Yt(t,e);for(var l=-1,c=t.length,h=!1;++l<c;){var v=Rt(t[l]);if(!(h=e!=null&&i(e,v)))break;e=e[v]}return h||++l!=c?h:(c=e==null?0:e.length,!!c&&ao(c)&&Lt(v,c)&&(te(e)||un(e)))}function sh(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&pe.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function _l(e){return typeof e.constructor=="function"&&!ur(e)?Rn(Dr(e)):{}}function ah(e,t,i){var l=e.constructor;switch(t){case Jn:return Ei(e);case zn:case Gn:return new l(+e);case yn:return zp(e,i);case Ro:case To:case Vo:case Ao:case $o:case Oo:case Do:case Io:case Lo:return el(e,i);case gt:return new l;case qn:case Yn:return new l(e);case Kn:return Gp(e);case _t:return new l;case br:return qp(e)}}function lh(e,t){var i=t.length;if(!i)return e;var l=i-1;return t[l]=(i>1?"& ":"")+t[l],t=t.join(i>2?", ":" "),e.replace(cf,`{
/* [wrapped with `+t+`] */
`)}function uh(e){return te(e)||un(e)||!!(xa&&e&&e[xa])}function Lt(e,t){var i=typeof e;return t=t??ve,!!t&&(i=="number"||i!="symbol"&&bf.test(e))&&e>-1&&e%1==0&&e<t}function ze(e,t,i){if(!xe(i))return!1;var l=typeof t;return(l=="number"?Xe(i)&&Lt(t,i.length):l=="string"&&t in i)?bt(i[t],e):!1}function Vi(e,t){if(te(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||nt(e)?!0:sf.test(e)||!of.test(e)||t!=null&&e in me(t)}function ch(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ai(e){var t=jr(e),i=d[t];if(typeof i!="function"||!(t in ae.prototype))return!1;if(e===i)return!0;var l=Ni(i);return!!l&&e===l[0]}function fh(e){return!!ya&&ya in e}var dh=Tr?Bt:Yi;function ur(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||kn;return e===i}function yl(e){return e===e&&!xe(e)}function wl(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==o||e in me(i))}}function ph(e){var t=io(e,function(l){return i.size===_&&i.clear(),l}),i=t.cache;return t}function hh(e,t){var i=e[1],l=t[1],c=i|l,h=c<(I|B|D),v=l==D&&i==A||l==D&&i==ue&&e[7].length<=t[8]||l==(D|ue)&&t[7].length<=t[8]&&i==A;if(!(h||v))return e;l&I&&(e[2]=t[2],c|=i&I?0:P);var y=t[3];if(y){var x=e[3];e[3]=x?nl(x,y,t[4]):y,e[4]=x?zt(e[3],S):t[4]}return y=t[5],y&&(x=e[5],e[5]=x?rl(x,y,t[6]):y,e[6]=x?zt(e[5],S):t[6]),y=t[7],y&&(e[7]=y),l&D&&(e[8]=e[8]==null?t[8]:Me(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}function mh(e){var t=[];if(e!=null)for(var i in me(e))t.push(i);return t}function vh(e){return Ar.call(e)}function bl(e,t,i){return t=Ve(t===o?e.length-1:t,0),function(){for(var l=arguments,c=-1,h=Ve(l.length-t,0),v=N(h);++c<h;)v[c]=l[t+c];c=-1;for(var y=N(t+1);++c<t;)y[c]=l[c];return y[t]=i(v),je(e,this,y)}}function El(e,t){return t.length<2?e:sn(e,ct(t,0,-1))}function gh(e,t){for(var i=e.length,l=Me(t.length,i),c=Ye(e);l--;){var h=t[l];e[l]=Lt(h,i)?c[h]:o}return e}function $i(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var xl=kl(qa),cr=$d||function(e,t){return Ie.setTimeout(e,t)},Oi=kl(Fp);function Sl(e,t,i){var l=t+"";return Oi(e,lh(l,_h(ih(l),i)))}function kl(e){var t=0,i=0;return function(){var l=Ld(),c=K-(l-i);if(i=l,c>0){if(++t>=U)return arguments[0]}else t=0;return e.apply(o,arguments)}}function to(e,t){var i=-1,l=e.length,c=l-1;for(t=t===o?l:t;++i<t;){var h=mi(i,c),v=e[h];e[h]=e[i],e[i]=v}return e.length=t,e}var Cl=ph(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(af,function(i,l,c,h){t.push(c?h.replace(mf,"$1"):l||i)}),t});function Rt(e){if(typeof e=="string"||nt(e))return e;var t=e+"";return t=="0"&&1/e==-Ae?"-0":t}function ln(e){if(e!=null){try{return Vr.call(e)}catch{}try{return e+""}catch{}}return""}function _h(e,t){return st(_n,function(i){var l="_."+i[0];t&i[1]&&!kr(e,l)&&e.push(l)}),e.sort()}function Nl(e){if(e instanceof ae)return e.clone();var t=new lt(e.__wrapped__,e.__chain__);return t.__actions__=Ye(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function yh(e,t,i){(i?ze(e,t,i):t===o)?t=1:t=Ve(ne(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var c=0,h=0,v=N(Br(l/t));c<l;)v[h++]=ct(e,c,c+=t);return v}function wh(e){for(var t=-1,i=e==null?0:e.length,l=0,c=[];++t<i;){var h=e[t];h&&(c[l++]=h)}return c}function bh(){var e=arguments.length;if(!e)return[];for(var t=N(e-1),i=arguments[0],l=e;l--;)t[l-1]=arguments[l];return Wt(te(i)?Ye(i):[i],Le(t,1))}var Eh=oe(function(e,t){return Ne(e)?or(e,Le(t,1,Ne,!0)):[]}),xh=oe(function(e,t){var i=ft(t);return Ne(i)&&(i=o),Ne(e)?or(e,Le(t,1,Ne,!0),J(i,2)):[]}),Sh=oe(function(e,t){var i=ft(t);return Ne(i)&&(i=o),Ne(e)?or(e,Le(t,1,Ne,!0),o,i):[]});function kh(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:ne(t),ct(e,t<0?0:t,l)):[]}function Ch(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:ne(t),t=l-t,ct(e,0,t<0?0:t)):[]}function Nh(e,t){return e&&e.length?Kr(e,J(t,3),!0,!0):[]}function Rh(e,t){return e&&e.length?Kr(e,J(t,3),!0):[]}function Th(e,t,i,l){var c=e==null?0:e.length;return c?(i&&typeof i!="number"&&ze(e,t,i)&&(i=0,l=c),bp(e,t,i,l)):[]}function Rl(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=i==null?0:ne(i);return c<0&&(c=Ve(l+c,0)),Cr(e,J(t,3),c)}function Tl(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=l-1;return i!==o&&(c=ne(i),c=i<0?Ve(l+c,0):Me(c,l-1)),Cr(e,J(t,3),c,!0)}function Vl(e){var t=e==null?0:e.length;return t?Le(e,1):[]}function Vh(e){var t=e==null?0:e.length;return t?Le(e,Ae):[]}function Ah(e,t){var i=e==null?0:e.length;return i?(t=t===o?1:ne(t),Le(e,t)):[]}function $h(e){for(var t=-1,i=e==null?0:e.length,l={};++t<i;){var c=e[t];l[c[0]]=c[1]}return l}function Al(e){return e&&e.length?e[0]:o}function Oh(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=i==null?0:ne(i);return c<0&&(c=Ve(l+c,0)),bn(e,t,c)}function Dh(e){var t=e==null?0:e.length;return t?ct(e,0,-1):[]}var Ih=oe(function(e){var t=be(e,wi);return t.length&&t[0]===e[0]?ci(t):[]}),Lh=oe(function(e){var t=ft(e),i=be(e,wi);return t===ft(i)?t=o:i.pop(),i.length&&i[0]===e[0]?ci(i,J(t,2)):[]}),Bh=oe(function(e){var t=ft(e),i=be(e,wi);return t=typeof t=="function"?t:o,t&&i.pop(),i.length&&i[0]===e[0]?ci(i,o,t):[]});function Ph(e,t){return e==null?"":Dd.call(e,t)}function ft(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Mh(e,t,i){var l=e==null?0:e.length;if(!l)return-1;var c=l;return i!==o&&(c=ne(i),c=c<0?Ve(l+c,0):Me(c,l-1)),t===t?_d(e,t,c):Cr(e,fa,c,!0)}function Fh(e,t){return e&&e.length?Ha(e,ne(t)):o}var Uh=oe($l);function $l(e,t){return e&&e.length&&t&&t.length?hi(e,t):e}function Hh(e,t,i){return e&&e.length&&t&&t.length?hi(e,t,J(i,2)):e}function Wh(e,t,i){return e&&e.length&&t&&t.length?hi(e,t,o,i):e}var zh=It(function(e,t){var i=e==null?0:e.length,l=si(e,t);return Ga(e,be(t,function(c){return Lt(c,i)?+c:c}).sort(tl)),l});function Gh(e,t){var i=[];if(!(e&&e.length))return i;var l=-1,c=[],h=e.length;for(t=J(t,3);++l<h;){var v=e[l];t(v,l,e)&&(i.push(v),c.push(l))}return Ga(e,c),i}function Di(e){return e==null?e:Pd.call(e)}function qh(e,t,i){var l=e==null?0:e.length;return l?(i&&typeof i!="number"&&ze(e,t,i)?(t=0,i=l):(t=t==null?0:ne(t),i=i===o?l:ne(i)),ct(e,t,i)):[]}function Kh(e,t){return qr(e,t)}function Yh(e,t,i){return gi(e,t,J(i,2))}function Xh(e,t){var i=e==null?0:e.length;if(i){var l=qr(e,t);if(l<i&&bt(e[l],t))return l}return-1}function Jh(e,t){return qr(e,t,!0)}function Zh(e,t,i){return gi(e,t,J(i,2),!0)}function Qh(e,t){var i=e==null?0:e.length;if(i){var l=qr(e,t,!0)-1;if(bt(e[l],t))return l}return-1}function jh(e){return e&&e.length?Ka(e):[]}function em(e,t){return e&&e.length?Ka(e,J(t,2)):[]}function tm(e){var t=e==null?0:e.length;return t?ct(e,1,t):[]}function nm(e,t,i){return e&&e.length?(t=i||t===o?1:ne(t),ct(e,0,t<0?0:t)):[]}function rm(e,t,i){var l=e==null?0:e.length;return l?(t=i||t===o?1:ne(t),t=l-t,ct(e,t<0?0:t,l)):[]}function om(e,t){return e&&e.length?Kr(e,J(t,3),!1,!0):[]}function im(e,t){return e&&e.length?Kr(e,J(t,3)):[]}var sm=oe(function(e){return Kt(Le(e,1,Ne,!0))}),am=oe(function(e){var t=ft(e);return Ne(t)&&(t=o),Kt(Le(e,1,Ne,!0),J(t,2))}),lm=oe(function(e){var t=ft(e);return t=typeof t=="function"?t:o,Kt(Le(e,1,Ne,!0),o,t)});function um(e){return e&&e.length?Kt(e):[]}function cm(e,t){return e&&e.length?Kt(e,J(t,2)):[]}function fm(e,t){return t=typeof t=="function"?t:o,e&&e.length?Kt(e,o,t):[]}function Ii(e){if(!(e&&e.length))return[];var t=0;return e=Ht(e,function(i){if(Ne(i))return t=Ve(i.length,t),!0}),Qo(t,function(i){return be(e,Xo(i))})}function Ol(e,t){if(!(e&&e.length))return[];var i=Ii(e);return t==null?i:be(i,function(l){return je(t,o,l)})}var dm=oe(function(e,t){return Ne(e)?or(e,t):[]}),pm=oe(function(e){return yi(Ht(e,Ne))}),hm=oe(function(e){var t=ft(e);return Ne(t)&&(t=o),yi(Ht(e,Ne),J(t,2))}),mm=oe(function(e){var t=ft(e);return t=typeof t=="function"?t:o,yi(Ht(e,Ne),o,t)}),vm=oe(Ii);function gm(e,t){return Za(e||[],t||[],rr)}function _m(e,t){return Za(e||[],t||[],ar)}var ym=oe(function(e){var t=e.length,i=t>1?e[t-1]:o;return i=typeof i=="function"?(e.pop(),i):o,Ol(e,i)});function Dl(e){var t=d(e);return t.__chain__=!0,t}function wm(e,t){return t(e),e}function no(e,t){return t(e)}var bm=It(function(e){var t=e.length,i=t?e[0]:0,l=this.__wrapped__,c=function(h){return si(h,e)};return t>1||this.__actions__.length||!(l instanceof ae)||!Lt(i)?this.thru(c):(l=l.slice(i,+i+(t?1:0)),l.__actions__.push({func:no,args:[c],thisArg:o}),new lt(l,this.__chain__).thru(function(h){return t&&!h.length&&h.push(o),h}))});function Em(){return Dl(this)}function xm(){return new lt(this.value(),this.__chain__)}function Sm(){this.__values__===o&&(this.__values__=Yl(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function km(){return this}function Cm(e){for(var t,i=this;i instanceof Ur;){var l=Nl(i);l.__index__=0,l.__values__=o,t?c.__wrapped__=l:t=l;var c=l;i=i.__wrapped__}return c.__wrapped__=e,t}function Nm(){var e=this.__wrapped__;if(e instanceof ae){var t=e;return this.__actions__.length&&(t=new ae(this)),t=t.reverse(),t.__actions__.push({func:no,args:[Di],thisArg:o}),new lt(t,this.__chain__)}return this.thru(Di)}function Rm(){return Ja(this.__wrapped__,this.__actions__)}var Tm=Yr(function(e,t,i){pe.call(e,i)?++e[i]:Ot(e,i,1)});function Vm(e,t,i){var l=te(e)?ua:wp;return i&&ze(e,t,i)&&(t=o),l(e,J(t,3))}function Am(e,t){var i=te(e)?Ht:Oa;return i(e,J(t,3))}var $m=al(Rl),Om=al(Tl);function Dm(e,t){return Le(ro(e,t),1)}function Im(e,t){return Le(ro(e,t),Ae)}function Lm(e,t,i){return i=i===o?1:ne(i),Le(ro(e,t),i)}function Il(e,t){var i=te(e)?st:qt;return i(e,J(t,3))}function Ll(e,t){var i=te(e)?td:$a;return i(e,J(t,3))}var Bm=Yr(function(e,t,i){pe.call(e,i)?e[i].push(t):Ot(e,i,[t])});function Pm(e,t,i,l){e=Xe(e)?e:On(e),i=i&&!l?ne(i):0;var c=e.length;return i<0&&(i=Ve(c+i,0)),lo(e)?i<=c&&e.indexOf(t,i)>-1:!!c&&bn(e,t,i)>-1}var Mm=oe(function(e,t,i){var l=-1,c=typeof t=="function",h=Xe(e)?N(e.length):[];return qt(e,function(v){h[++l]=c?je(t,v,i):ir(v,t,i)}),h}),Fm=Yr(function(e,t,i){Ot(e,i,t)});function ro(e,t){var i=te(e)?be:Ma;return i(e,J(t,3))}function Um(e,t,i,l){return e==null?[]:(te(t)||(t=t==null?[]:[t]),i=l?o:i,te(i)||(i=i==null?[]:[i]),Wa(e,t,i))}var Hm=Yr(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function Wm(e,t,i){var l=te(e)?Ko:pa,c=arguments.length<3;return l(e,J(t,4),i,c,qt)}function zm(e,t,i){var l=te(e)?nd:pa,c=arguments.length<3;return l(e,J(t,4),i,c,$a)}function Gm(e,t){var i=te(e)?Ht:Oa;return i(e,so(J(t,3)))}function qm(e){var t=te(e)?Ra:Pp;return t(e)}function Km(e,t,i){(i?ze(e,t,i):t===o)?t=1:t=ne(t);var l=te(e)?mp:Mp;return l(e,t)}function Ym(e){var t=te(e)?vp:Up;return t(e)}function Xm(e){if(e==null)return 0;if(Xe(e))return lo(e)?xn(e):e.length;var t=Fe(e);return t==gt||t==_t?e.size:di(e).length}function Jm(e,t,i){var l=te(e)?Yo:Hp;return i&&ze(e,t,i)&&(t=o),l(e,J(t,3))}var Zm=oe(function(e,t){if(e==null)return[];var i=t.length;return i>1&&ze(e,t[0],t[1])?t=[]:i>2&&ze(t[0],t[1],t[2])&&(t=[t[0]]),Wa(e,Le(t,1),[])}),oo=Ad||function(){return Ie.Date.now()};function Qm(e,t){if(typeof t!="function")throw new at(p);return e=ne(e),function(){if(--e<1)return t.apply(this,arguments)}}function Bl(e,t,i){return t=i?o:t,t=e&&t==null?e.length:t,Dt(e,D,o,o,o,o,t)}function Pl(e,t){var i;if(typeof t!="function")throw new at(p);return e=ne(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=o),i}}var Li=oe(function(e,t,i){var l=I;if(i.length){var c=zt(i,An(Li));l|=G}return Dt(e,l,t,i,c)}),Ml=oe(function(e,t,i){var l=I|B;if(i.length){var c=zt(i,An(Ml));l|=G}return Dt(t,l,e,i,c)});function Fl(e,t,i){t=i?o:t;var l=Dt(e,A,o,o,o,o,o,t);return l.placeholder=Fl.placeholder,l}function Ul(e,t,i){t=i?o:t;var l=Dt(e,F,o,o,o,o,o,t);return l.placeholder=Ul.placeholder,l}function Hl(e,t,i){var l,c,h,v,y,x,$=0,O=!1,L=!1,z=!0;if(typeof e!="function")throw new at(p);t=dt(t)||0,xe(i)&&(O=!!i.leading,L="maxWait"in i,h=L?Ve(dt(i.maxWait)||0,t):h,z="trailing"in i?!!i.trailing:z);function Y(Re){var Et=l,Mt=c;return l=c=o,$=Re,v=e.apply(Mt,Et),v}function Z(Re){return $=Re,y=cr(se,t),O?Y(Re):v}function re(Re){var Et=Re-x,Mt=Re-$,au=t-Et;return L?Me(au,h-Mt):au}function Q(Re){var Et=Re-x,Mt=Re-$;return x===o||Et>=t||Et<0||L&&Mt>=h}function se(){var Re=oo();if(Q(Re))return le(Re);y=cr(se,re(Re))}function le(Re){return y=o,z&&l?Y(Re):(l=c=o,v)}function rt(){y!==o&&Qa(y),$=0,l=x=c=y=o}function Ge(){return y===o?v:le(oo())}function ot(){var Re=oo(),Et=Q(Re);if(l=arguments,c=this,x=Re,Et){if(y===o)return Z(x);if(L)return Qa(y),y=cr(se,t),Y(x)}return y===o&&(y=cr(se,t)),v}return ot.cancel=rt,ot.flush=Ge,ot}var jm=oe(function(e,t){return Aa(e,1,t)}),ev=oe(function(e,t,i){return Aa(e,dt(t)||0,i)});function tv(e){return Dt(e,we)}function io(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new at(p);var i=function(){var l=arguments,c=t?t.apply(this,l):l[0],h=i.cache;if(h.has(c))return h.get(c);var v=e.apply(this,l);return i.cache=h.set(c,v)||h,v};return i.cache=new(io.Cache||$t),i}io.Cache=$t;function so(e){if(typeof e!="function")throw new at(p);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function nv(e){return Pl(2,e)}var rv=Wp(function(e,t){t=t.length==1&&te(t[0])?be(t[0],et(J())):be(Le(t,1),et(J()));var i=t.length;return oe(function(l){for(var c=-1,h=Me(l.length,i);++c<h;)l[c]=t[c].call(this,l[c]);return je(e,this,l)})}),Bi=oe(function(e,t){var i=zt(t,An(Bi));return Dt(e,G,o,t,i)}),Wl=oe(function(e,t){var i=zt(t,An(Wl));return Dt(e,X,o,t,i)}),ov=It(function(e,t){return Dt(e,ue,o,o,o,t)});function iv(e,t){if(typeof e!="function")throw new at(p);return t=t===o?t:ne(t),oe(e,t)}function sv(e,t){if(typeof e!="function")throw new at(p);return t=t==null?0:Ve(ne(t),0),oe(function(i){var l=i[t],c=Xt(i,0,t);return l&&Wt(c,l),je(e,this,c)})}function av(e,t,i){var l=!0,c=!0;if(typeof e!="function")throw new at(p);return xe(i)&&(l="leading"in i?!!i.leading:l,c="trailing"in i?!!i.trailing:c),Hl(e,t,{leading:l,maxWait:t,trailing:c})}function lv(e){return Bl(e,1)}function uv(e,t){return Bi(bi(t),e)}function cv(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function fv(e){return ut(e,T)}function dv(e,t){return t=typeof t=="function"?t:o,ut(e,T,t)}function pv(e){return ut(e,C|T)}function hv(e,t){return t=typeof t=="function"?t:o,ut(e,C|T,t)}function mv(e,t){return t==null||Va(e,t,$e(t))}function bt(e,t){return e===t||e!==e&&t!==t}var vv=Qr(ui),gv=Qr(function(e,t){return e>=t}),un=La(function(){return arguments}())?La:function(e){return ke(e)&&pe.call(e,"callee")&&!Ea.call(e,"callee")},te=N.isArray,_v=ra?et(ra):Cp;function Xe(e){return e!=null&&ao(e.length)&&!Bt(e)}function Ne(e){return ke(e)&&Xe(e)}function yv(e){return e===!0||e===!1||ke(e)&&We(e)==zn}var Jt=Od||Yi,wv=oa?et(oa):Np;function bv(e){return ke(e)&&e.nodeType===1&&!fr(e)}function Ev(e){if(e==null)return!0;if(Xe(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||Jt(e)||$n(e)||un(e)))return!e.length;var t=Fe(e);if(t==gt||t==_t)return!e.size;if(ur(e))return!di(e).length;for(var i in e)if(pe.call(e,i))return!1;return!0}function xv(e,t){return sr(e,t)}function Sv(e,t,i){i=typeof i=="function"?i:o;var l=i?i(e,t):o;return l===o?sr(e,t,o,i):!!l}function Pi(e){if(!ke(e))return!1;var t=We(e);return t==yr||t==qc||typeof e.message=="string"&&typeof e.name=="string"&&!fr(e)}function kv(e){return typeof e=="number"&&Sa(e)}function Bt(e){if(!xe(e))return!1;var t=We(e);return t==wr||t==As||t==Vs||t==Yc}function zl(e){return typeof e=="number"&&e==ne(e)}function ao(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ve}function xe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ke(e){return e!=null&&typeof e=="object"}var Gl=ia?et(ia):Tp;function Cv(e,t){return e===t||fi(e,t,Ri(t))}function Nv(e,t,i){return i=typeof i=="function"?i:o,fi(e,t,Ri(t),i)}function Rv(e){return ql(e)&&e!=+e}function Tv(e){if(dh(e))throw new ee(f);return Ba(e)}function Vv(e){return e===null}function Av(e){return e==null}function ql(e){return typeof e=="number"||ke(e)&&We(e)==qn}function fr(e){if(!ke(e)||We(e)!=Vt)return!1;var t=Dr(e);if(t===null)return!0;var i=pe.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Vr.call(i)==Nd}var Mi=sa?et(sa):Vp;function $v(e){return zl(e)&&e>=-ve&&e<=ve}var Kl=aa?et(aa):Ap;function lo(e){return typeof e=="string"||!te(e)&&ke(e)&&We(e)==Yn}function nt(e){return typeof e=="symbol"||ke(e)&&We(e)==br}var $n=la?et(la):$p;function Ov(e){return e===o}function Dv(e){return ke(e)&&Fe(e)==Xn}function Iv(e){return ke(e)&&We(e)==Jc}var Lv=Qr(pi),Bv=Qr(function(e,t){return e<=t});function Yl(e){if(!e)return[];if(Xe(e))return lo(e)?yt(e):Ye(e);if(Qn&&e[Qn])return md(e[Qn]());var t=Fe(e),i=t==gt?ei:t==_t?Nr:On;return i(e)}function Pt(e){if(!e)return e===0?e:0;if(e=dt(e),e===Ae||e===-Ae){var t=e<0?-1:1;return t*gn}return e===e?e:0}function ne(e){var t=Pt(e),i=t%1;return t===t?i?t-i:t:0}function Xl(e){return e?on(ne(e),0,Se):0}function dt(e){if(typeof e=="number")return e;if(nt(e))return ge;if(xe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ha(e);var i=_f.test(e);return i||wf.test(e)?Qf(e.slice(2),i?2:8):gf.test(e)?ge:+e}function Jl(e){return Nt(e,Je(e))}function Pv(e){return e?on(ne(e),-ve,ve):e===0?e:0}function de(e){return e==null?"":tt(e)}var Mv=Tn(function(e,t){if(ur(t)||Xe(t)){Nt(t,$e(t),e);return}for(var i in t)pe.call(t,i)&&rr(e,i,t[i])}),Zl=Tn(function(e,t){Nt(t,Je(t),e)}),uo=Tn(function(e,t,i,l){Nt(t,Je(t),e,l)}),Fv=Tn(function(e,t,i,l){Nt(t,$e(t),e,l)}),Uv=It(si);function Hv(e,t){var i=Rn(e);return t==null?i:Ta(i,t)}var Wv=oe(function(e,t){e=me(e);var i=-1,l=t.length,c=l>2?t[2]:o;for(c&&ze(t[0],t[1],c)&&(l=1);++i<l;)for(var h=t[i],v=Je(h),y=-1,x=v.length;++y<x;){var $=v[y],O=e[$];(O===o||bt(O,kn[$])&&!pe.call(e,$))&&(e[$]=h[$])}return e}),zv=oe(function(e){return e.push(o,hl),je(Ql,o,e)});function Gv(e,t){return ca(e,J(t,3),Ct)}function qv(e,t){return ca(e,J(t,3),li)}function Kv(e,t){return e==null?e:ai(e,J(t,3),Je)}function Yv(e,t){return e==null?e:Da(e,J(t,3),Je)}function Xv(e,t){return e&&Ct(e,J(t,3))}function Jv(e,t){return e&&li(e,J(t,3))}function Zv(e){return e==null?[]:zr(e,$e(e))}function Qv(e){return e==null?[]:zr(e,Je(e))}function Fi(e,t,i){var l=e==null?o:sn(e,t);return l===o?i:l}function jv(e,t){return e!=null&&gl(e,t,Ep)}function Ui(e,t){return e!=null&&gl(e,t,xp)}var eg=ul(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Ar.call(t)),e[t]=i},Wi(Ze)),tg=ul(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Ar.call(t)),pe.call(e,t)?e[t].push(i):e[t]=[i]},J),ng=oe(ir);function $e(e){return Xe(e)?Na(e):di(e)}function Je(e){return Xe(e)?Na(e,!0):Op(e)}function rg(e,t){var i={};return t=J(t,3),Ct(e,function(l,c,h){Ot(i,t(l,c,h),l)}),i}function og(e,t){var i={};return t=J(t,3),Ct(e,function(l,c,h){Ot(i,c,t(l,c,h))}),i}var ig=Tn(function(e,t,i){Gr(e,t,i)}),Ql=Tn(function(e,t,i,l){Gr(e,t,i,l)}),sg=It(function(e,t){var i={};if(e==null)return i;var l=!1;t=be(t,function(h){return h=Yt(h,e),l||(l=h.length>1),h}),Nt(e,Ci(e),i),l&&(i=ut(i,C|k|T,eh));for(var c=t.length;c--;)_i(i,t[c]);return i});function ag(e,t){return jl(e,so(J(t)))}var lg=It(function(e,t){return e==null?{}:Ip(e,t)});function jl(e,t){if(e==null)return{};var i=be(Ci(e),function(l){return[l]});return t=J(t),za(e,i,function(l,c){return t(l,c[0])})}function ug(e,t,i){t=Yt(t,e);var l=-1,c=t.length;for(c||(c=1,e=o);++l<c;){var h=e==null?o:e[Rt(t[l])];h===o&&(l=c,h=i),e=Bt(h)?h.call(e):h}return e}function cg(e,t,i){return e==null?e:ar(e,t,i)}function fg(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:ar(e,t,i,l)}var eu=dl($e),tu=dl(Je);function dg(e,t,i){var l=te(e),c=l||Jt(e)||$n(e);if(t=J(t,4),i==null){var h=e&&e.constructor;c?i=l?new h:[]:xe(e)?i=Bt(h)?Rn(Dr(e)):{}:i={}}return(c?st:Ct)(e,function(v,y,x){return t(i,v,y,x)}),i}function pg(e,t){return e==null?!0:_i(e,t)}function hg(e,t,i){return e==null?e:Xa(e,t,bi(i))}function mg(e,t,i,l){return l=typeof l=="function"?l:o,e==null?e:Xa(e,t,bi(i),l)}function On(e){return e==null?[]:jo(e,$e(e))}function vg(e){return e==null?[]:jo(e,Je(e))}function gg(e,t,i){return i===o&&(i=t,t=o),i!==o&&(i=dt(i),i=i===i?i:0),t!==o&&(t=dt(t),t=t===t?t:0),on(dt(e),t,i)}function _g(e,t,i){return t=Pt(t),i===o?(i=t,t=0):i=Pt(i),e=dt(e),Sp(e,t,i)}function yg(e,t,i){if(i&&typeof i!="boolean"&&ze(e,t,i)&&(t=i=o),i===o&&(typeof t=="boolean"?(i=t,t=o):typeof e=="boolean"&&(i=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Pt(e),t===o?(t=e,e=0):t=Pt(t)),e>t){var l=e;e=t,t=l}if(i||e%1||t%1){var c=ka();return Me(e+c*(t-e+Zf("1e-"+((c+"").length-1))),t)}return mi(e,t)}var wg=Vn(function(e,t,i){return t=t.toLowerCase(),e+(i?nu(t):t)});function nu(e){return Hi(de(e).toLowerCase())}function ru(e){return e=de(e),e&&e.replace(Ef,cd).replace(Uf,"")}function bg(e,t,i){e=de(e),t=tt(t);var l=e.length;i=i===o?l:on(ne(i),0,l);var c=i;return i-=t.length,i>=0&&e.slice(i,c)==t}function Eg(e){return e=de(e),e&&tf.test(e)?e.replace(Ds,fd):e}function xg(e){return e=de(e),e&&lf.test(e)?e.replace(Bo,"\\$&"):e}var Sg=Vn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),kg=Vn(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),Cg=sl("toLowerCase");function Ng(e,t,i){e=de(e),t=ne(t);var l=t?xn(e):0;if(!t||l>=t)return e;var c=(t-l)/2;return Zr(Pr(c),i)+e+Zr(Br(c),i)}function Rg(e,t,i){e=de(e),t=ne(t);var l=t?xn(e):0;return t&&l<t?e+Zr(t-l,i):e}function Tg(e,t,i){e=de(e),t=ne(t);var l=t?xn(e):0;return t&&l<t?Zr(t-l,i)+e:e}function Vg(e,t,i){return i||t==null?t=0:t&&(t=+t),Bd(de(e).replace(Po,""),t||0)}function Ag(e,t,i){return(i?ze(e,t,i):t===o)?t=1:t=ne(t),vi(de(e),t)}function $g(){var e=arguments,t=de(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Og=Vn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function Dg(e,t,i){return i&&typeof i!="number"&&ze(e,t,i)&&(t=i=o),i=i===o?Se:i>>>0,i?(e=de(e),e&&(typeof t=="string"||t!=null&&!Mi(t))&&(t=tt(t),!t&&En(e))?Xt(yt(e),0,i):e.split(t,i)):[]}var Ig=Vn(function(e,t,i){return e+(i?" ":"")+Hi(t)});function Lg(e,t,i){return e=de(e),i=i==null?0:on(ne(i),0,e.length),t=tt(t),e.slice(i,i+t.length)==t}function Bg(e,t,i){var l=d.templateSettings;i&&ze(e,t,i)&&(t=o),e=de(e),t=uo({},t,l,pl);var c=uo({},t.imports,l.imports,pl),h=$e(c),v=jo(c,h),y,x,$=0,O=t.interpolate||Er,L="__p += '",z=ti((t.escape||Er).source+"|"+O.source+"|"+(O===Is?vf:Er).source+"|"+(t.evaluate||Er).source+"|$","g"),Y="//# sourceURL="+(pe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qf+"]")+`
`;e.replace(z,function(Q,se,le,rt,Ge,ot){return le||(le=rt),L+=e.slice($,ot).replace(xf,dd),se&&(y=!0,L+=`' +
__e(`+se+`) +
'`),Ge&&(x=!0,L+=`';
`+Ge+`;
__p += '`),le&&(L+=`' +
((__t = (`+le+`)) == null ? '' : __t) +
'`),$=ot+Q.length,Q}),L+=`';
`;var Z=pe.call(t,"variable")&&t.variable;if(!Z)L=`with (obj) {
`+L+`
}
`;else if(hf.test(Z))throw new ee(m);L=(x?L.replace(Zc,""):L).replace(Qc,"$1").replace(jc,"$1;"),L="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var re=iu(function(){return ce(h,Y+"return "+L).apply(o,v)});if(re.source=L,Pi(re))throw re;return re}function Pg(e){return de(e).toLowerCase()}function Mg(e){return de(e).toUpperCase()}function Fg(e,t,i){if(e=de(e),e&&(i||t===o))return ha(e);if(!e||!(t=tt(t)))return e;var l=yt(e),c=yt(t),h=ma(l,c),v=va(l,c)+1;return Xt(l,h,v).join("")}function Ug(e,t,i){if(e=de(e),e&&(i||t===o))return e.slice(0,_a(e)+1);if(!e||!(t=tt(t)))return e;var l=yt(e),c=va(l,yt(t))+1;return Xt(l,0,c).join("")}function Hg(e,t,i){if(e=de(e),e&&(i||t===o))return e.replace(Po,"");if(!e||!(t=tt(t)))return e;var l=yt(e),c=ma(l,yt(t));return Xt(l,c).join("")}function Wg(e,t){var i=H,l=W;if(xe(t)){var c="separator"in t?t.separator:c;i="length"in t?ne(t.length):i,l="omission"in t?tt(t.omission):l}e=de(e);var h=e.length;if(En(e)){var v=yt(e);h=v.length}if(i>=h)return e;var y=i-xn(l);if(y<1)return l;var x=v?Xt(v,0,y).join(""):e.slice(0,y);if(c===o)return x+l;if(v&&(y+=x.length-y),Mi(c)){if(e.slice(y).search(c)){var $,O=x;for(c.global||(c=ti(c.source,de(Ls.exec(c))+"g")),c.lastIndex=0;$=c.exec(O);)var L=$.index;x=x.slice(0,L===o?y:L)}}else if(e.indexOf(tt(c),y)!=y){var z=x.lastIndexOf(c);z>-1&&(x=x.slice(0,z))}return x+l}function zg(e){return e=de(e),e&&ef.test(e)?e.replace(Os,yd):e}var Gg=Vn(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),Hi=sl("toUpperCase");function ou(e,t,i){return e=de(e),t=i?o:t,t===o?hd(e)?Ed(e):id(e):e.match(t)||[]}var iu=oe(function(e,t){try{return je(e,o,t)}catch(i){return Pi(i)?i:new ee(i)}}),qg=It(function(e,t){return st(t,function(i){i=Rt(i),Ot(e,i,Li(e[i],e))}),e});function Kg(e){var t=e==null?0:e.length,i=J();return e=t?be(e,function(l){if(typeof l[1]!="function")throw new at(p);return[i(l[0]),l[1]]}):[],oe(function(l){for(var c=-1;++c<t;){var h=e[c];if(je(h[0],this,l))return je(h[1],this,l)}})}function Yg(e){return yp(ut(e,C))}function Wi(e){return function(){return e}}function Xg(e,t){return e==null||e!==e?t:e}var Jg=ll(),Zg=ll(!0);function Ze(e){return e}function zi(e){return Pa(typeof e=="function"?e:ut(e,C))}function Qg(e){return Fa(ut(e,C))}function jg(e,t){return Ua(e,ut(t,C))}var e_=oe(function(e,t){return function(i){return ir(i,e,t)}}),t_=oe(function(e,t){return function(i){return ir(e,i,t)}});function Gi(e,t,i){var l=$e(t),c=zr(t,l);i==null&&!(xe(t)&&(c.length||!l.length))&&(i=t,t=e,e=this,c=zr(t,$e(t)));var h=!(xe(i)&&"chain"in i)||!!i.chain,v=Bt(e);return st(c,function(y){var x=t[y];e[y]=x,v&&(e.prototype[y]=function(){var $=this.__chain__;if(h||$){var O=e(this.__wrapped__),L=O.__actions__=Ye(this.__actions__);return L.push({func:x,args:arguments,thisArg:e}),O.__chain__=$,O}return x.apply(e,Wt([this.value()],arguments))})}),e}function n_(){return Ie._===this&&(Ie._=Rd),this}function qi(){}function r_(e){return e=ne(e),oe(function(t){return Ha(t,e)})}var o_=xi(be),i_=xi(ua),s_=xi(Yo);function su(e){return Vi(e)?Xo(Rt(e)):Lp(e)}function a_(e){return function(t){return e==null?o:sn(e,t)}}var l_=cl(),u_=cl(!0);function Ki(){return[]}function Yi(){return!1}function c_(){return{}}function f_(){return""}function d_(){return!0}function p_(e,t){if(e=ne(e),e<1||e>ve)return[];var i=Se,l=Me(e,Se);t=J(t),e-=Se;for(var c=Qo(l,t);++i<e;)t(i);return c}function h_(e){return te(e)?be(e,Rt):nt(e)?[e]:Ye(Cl(de(e)))}function m_(e){var t=++Cd;return de(e)+t}var v_=Jr(function(e,t){return e+t},0),g_=Si("ceil"),__=Jr(function(e,t){return e/t},1),y_=Si("floor");function w_(e){return e&&e.length?Wr(e,Ze,ui):o}function b_(e,t){return e&&e.length?Wr(e,J(t,2),ui):o}function E_(e){return da(e,Ze)}function x_(e,t){return da(e,J(t,2))}function S_(e){return e&&e.length?Wr(e,Ze,pi):o}function k_(e,t){return e&&e.length?Wr(e,J(t,2),pi):o}var C_=Jr(function(e,t){return e*t},1),N_=Si("round"),R_=Jr(function(e,t){return e-t},0);function T_(e){return e&&e.length?Zo(e,Ze):0}function V_(e,t){return e&&e.length?Zo(e,J(t,2)):0}return d.after=Qm,d.ary=Bl,d.assign=Mv,d.assignIn=Zl,d.assignInWith=uo,d.assignWith=Fv,d.at=Uv,d.before=Pl,d.bind=Li,d.bindAll=qg,d.bindKey=Ml,d.castArray=cv,d.chain=Dl,d.chunk=yh,d.compact=wh,d.concat=bh,d.cond=Kg,d.conforms=Yg,d.constant=Wi,d.countBy=Tm,d.create=Hv,d.curry=Fl,d.curryRight=Ul,d.debounce=Hl,d.defaults=Wv,d.defaultsDeep=zv,d.defer=jm,d.delay=ev,d.difference=Eh,d.differenceBy=xh,d.differenceWith=Sh,d.drop=kh,d.dropRight=Ch,d.dropRightWhile=Nh,d.dropWhile=Rh,d.fill=Th,d.filter=Am,d.flatMap=Dm,d.flatMapDeep=Im,d.flatMapDepth=Lm,d.flatten=Vl,d.flattenDeep=Vh,d.flattenDepth=Ah,d.flip=tv,d.flow=Jg,d.flowRight=Zg,d.fromPairs=$h,d.functions=Zv,d.functionsIn=Qv,d.groupBy=Bm,d.initial=Dh,d.intersection=Ih,d.intersectionBy=Lh,d.intersectionWith=Bh,d.invert=eg,d.invertBy=tg,d.invokeMap=Mm,d.iteratee=zi,d.keyBy=Fm,d.keys=$e,d.keysIn=Je,d.map=ro,d.mapKeys=rg,d.mapValues=og,d.matches=Qg,d.matchesProperty=jg,d.memoize=io,d.merge=ig,d.mergeWith=Ql,d.method=e_,d.methodOf=t_,d.mixin=Gi,d.negate=so,d.nthArg=r_,d.omit=sg,d.omitBy=ag,d.once=nv,d.orderBy=Um,d.over=o_,d.overArgs=rv,d.overEvery=i_,d.overSome=s_,d.partial=Bi,d.partialRight=Wl,d.partition=Hm,d.pick=lg,d.pickBy=jl,d.property=su,d.propertyOf=a_,d.pull=Uh,d.pullAll=$l,d.pullAllBy=Hh,d.pullAllWith=Wh,d.pullAt=zh,d.range=l_,d.rangeRight=u_,d.rearg=ov,d.reject=Gm,d.remove=Gh,d.rest=iv,d.reverse=Di,d.sampleSize=Km,d.set=cg,d.setWith=fg,d.shuffle=Ym,d.slice=qh,d.sortBy=Zm,d.sortedUniq=jh,d.sortedUniqBy=em,d.split=Dg,d.spread=sv,d.tail=tm,d.take=nm,d.takeRight=rm,d.takeRightWhile=om,d.takeWhile=im,d.tap=wm,d.throttle=av,d.thru=no,d.toArray=Yl,d.toPairs=eu,d.toPairsIn=tu,d.toPath=h_,d.toPlainObject=Jl,d.transform=dg,d.unary=lv,d.union=sm,d.unionBy=am,d.unionWith=lm,d.uniq=um,d.uniqBy=cm,d.uniqWith=fm,d.unset=pg,d.unzip=Ii,d.unzipWith=Ol,d.update=hg,d.updateWith=mg,d.values=On,d.valuesIn=vg,d.without=dm,d.words=ou,d.wrap=uv,d.xor=pm,d.xorBy=hm,d.xorWith=mm,d.zip=vm,d.zipObject=gm,d.zipObjectDeep=_m,d.zipWith=ym,d.entries=eu,d.entriesIn=tu,d.extend=Zl,d.extendWith=uo,Gi(d,d),d.add=v_,d.attempt=iu,d.camelCase=wg,d.capitalize=nu,d.ceil=g_,d.clamp=gg,d.clone=fv,d.cloneDeep=pv,d.cloneDeepWith=hv,d.cloneWith=dv,d.conformsTo=mv,d.deburr=ru,d.defaultTo=Xg,d.divide=__,d.endsWith=bg,d.eq=bt,d.escape=Eg,d.escapeRegExp=xg,d.every=Vm,d.find=$m,d.findIndex=Rl,d.findKey=Gv,d.findLast=Om,d.findLastIndex=Tl,d.findLastKey=qv,d.floor=y_,d.forEach=Il,d.forEachRight=Ll,d.forIn=Kv,d.forInRight=Yv,d.forOwn=Xv,d.forOwnRight=Jv,d.get=Fi,d.gt=vv,d.gte=gv,d.has=jv,d.hasIn=Ui,d.head=Al,d.identity=Ze,d.includes=Pm,d.indexOf=Oh,d.inRange=_g,d.invoke=ng,d.isArguments=un,d.isArray=te,d.isArrayBuffer=_v,d.isArrayLike=Xe,d.isArrayLikeObject=Ne,d.isBoolean=yv,d.isBuffer=Jt,d.isDate=wv,d.isElement=bv,d.isEmpty=Ev,d.isEqual=xv,d.isEqualWith=Sv,d.isError=Pi,d.isFinite=kv,d.isFunction=Bt,d.isInteger=zl,d.isLength=ao,d.isMap=Gl,d.isMatch=Cv,d.isMatchWith=Nv,d.isNaN=Rv,d.isNative=Tv,d.isNil=Av,d.isNull=Vv,d.isNumber=ql,d.isObject=xe,d.isObjectLike=ke,d.isPlainObject=fr,d.isRegExp=Mi,d.isSafeInteger=$v,d.isSet=Kl,d.isString=lo,d.isSymbol=nt,d.isTypedArray=$n,d.isUndefined=Ov,d.isWeakMap=Dv,d.isWeakSet=Iv,d.join=Ph,d.kebabCase=Sg,d.last=ft,d.lastIndexOf=Mh,d.lowerCase=kg,d.lowerFirst=Cg,d.lt=Lv,d.lte=Bv,d.max=w_,d.maxBy=b_,d.mean=E_,d.meanBy=x_,d.min=S_,d.minBy=k_,d.stubArray=Ki,d.stubFalse=Yi,d.stubObject=c_,d.stubString=f_,d.stubTrue=d_,d.multiply=C_,d.nth=Fh,d.noConflict=n_,d.noop=qi,d.now=oo,d.pad=Ng,d.padEnd=Rg,d.padStart=Tg,d.parseInt=Vg,d.random=yg,d.reduce=Wm,d.reduceRight=zm,d.repeat=Ag,d.replace=$g,d.result=ug,d.round=N_,d.runInContext=b,d.sample=qm,d.size=Xm,d.snakeCase=Og,d.some=Jm,d.sortedIndex=Kh,d.sortedIndexBy=Yh,d.sortedIndexOf=Xh,d.sortedLastIndex=Jh,d.sortedLastIndexBy=Zh,d.sortedLastIndexOf=Qh,d.startCase=Ig,d.startsWith=Lg,d.subtract=R_,d.sum=T_,d.sumBy=V_,d.template=Bg,d.times=p_,d.toFinite=Pt,d.toInteger=ne,d.toLength=Xl,d.toLower=Pg,d.toNumber=dt,d.toSafeInteger=Pv,d.toString=de,d.toUpper=Mg,d.trim=Fg,d.trimEnd=Ug,d.trimStart=Hg,d.truncate=Wg,d.unescape=zg,d.uniqueId=m_,d.upperCase=Gg,d.upperFirst=Hi,d.each=Il,d.eachRight=Ll,d.first=Al,Gi(d,function(){var e={};return Ct(d,function(t,i){pe.call(d.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),d.VERSION=a,st(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),st(["drop","take"],function(e,t){ae.prototype[e]=function(i){i=i===o?1:Ve(ne(i),0);var l=this.__filtered__&&!t?new ae(this):this.clone();return l.__filtered__?l.__takeCount__=Me(i,l.__takeCount__):l.__views__.push({size:Me(i,Se),type:e+(l.__dir__<0?"Right":"")}),l},ae.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),st(["filter","map","takeWhile"],function(e,t){var i=t+1,l=i==ie||i==kt;ae.prototype[e]=function(c){var h=this.clone();return h.__iteratees__.push({iteratee:J(c,3),type:i}),h.__filtered__=h.__filtered__||l,h}}),st(["head","last"],function(e,t){var i="take"+(t?"Right":"");ae.prototype[e]=function(){return this[i](1).value()[0]}}),st(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ae.prototype[e]=function(){return this.__filtered__?new ae(this):this[i](1)}}),ae.prototype.compact=function(){return this.filter(Ze)},ae.prototype.find=function(e){return this.filter(e).head()},ae.prototype.findLast=function(e){return this.reverse().find(e)},ae.prototype.invokeMap=oe(function(e,t){return typeof e=="function"?new ae(this):this.map(function(i){return ir(i,e,t)})}),ae.prototype.reject=function(e){return this.filter(so(J(e)))},ae.prototype.slice=function(e,t){e=ne(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ae(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==o&&(t=ne(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ae.prototype.toArray=function(){return this.take(Se)},Ct(ae.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),c=d[l?"take"+(t=="last"?"Right":""):t],h=l||/^find/.test(t);c&&(d.prototype[t]=function(){var v=this.__wrapped__,y=l?[1]:arguments,x=v instanceof ae,$=y[0],O=x||te(v),L=function(se){var le=c.apply(d,Wt([se],y));return l&&z?le[0]:le};O&&i&&typeof $=="function"&&$.length!=1&&(x=O=!1);var z=this.__chain__,Y=!!this.__actions__.length,Z=h&&!z,re=x&&!Y;if(!h&&O){v=re?v:new ae(this);var Q=e.apply(v,y);return Q.__actions__.push({func:no,args:[L],thisArg:o}),new lt(Q,z)}return Z&&re?e.apply(this,y):(Q=this.thru(L),Z?l?Q.value()[0]:Q.value():Q)})}),st(["pop","push","shift","sort","splice","unshift"],function(e){var t=Rr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var c=arguments;if(l&&!this.__chain__){var h=this.value();return t.apply(te(h)?h:[],c)}return this[i](function(v){return t.apply(te(v)?v:[],c)})}}),Ct(ae.prototype,function(e,t){var i=d[t];if(i){var l=i.name+"";pe.call(Nn,l)||(Nn[l]=[]),Nn[l].push({name:t,func:i})}}),Nn[Xr(o,B).name]=[{name:"wrapper",func:o}],ae.prototype.clone=zd,ae.prototype.reverse=Gd,ae.prototype.value=qd,d.prototype.at=bm,d.prototype.chain=Em,d.prototype.commit=xm,d.prototype.next=Sm,d.prototype.plant=Cm,d.prototype.reverse=Nm,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=Rm,d.prototype.first=d.prototype.head,Qn&&(d.prototype[Qn]=km),d},Sn=xd();en?((en.exports=Sn)._=Sn,zo._=Sn):Ie._=Sn}).call(fn)})(yo,yo.exports);var Pe=yo.exports;function mu(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function ws(r,s){r===void 0&&(r={}),s===void 0&&(s={}),Object.keys(s).forEach(function(o){typeof r[o]>"u"?r[o]=s[o]:mu(s[o])&&mu(r[o])&&Object.keys(s[o]).length>0&&ws(r[o],s[o])})}var uc={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function bs(){var r=typeof document<"u"?document:{};return ws(r,uc),r}var py={document:uc,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame:function(r){typeof setTimeout>"u"||clearTimeout(r)}};function cc(){var r=typeof window<"u"?window:{};return ws(r,py),r}function hy(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s}function cs(r){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},cs(r)}function wo(r,s){return wo=Object.setPrototypeOf||function(a,u){return a.__proto__=u,a},wo(r,s)}function my(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function mo(r,s,o){return my()?mo=Reflect.construct:mo=function(u,f,p){var m=[null];m.push.apply(m,f);var g=Function.bind.apply(u,m),_=new g;return p&&wo(_,p.prototype),_},mo.apply(null,arguments)}function vy(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function fs(r){var s=typeof Map=="function"?new Map:void 0;return fs=function(a){if(a===null||!vy(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof s<"u"){if(s.has(a))return s.get(a);s.set(a,u)}function u(){return mo(a,arguments,cs(this).constructor)}return u.prototype=Object.create(a.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),wo(u,a)},fs(r)}function gy(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function _y(r){var s=r.__proto__;Object.defineProperty(r,"__proto__",{get:function(){return s},set:function(a){s.__proto__=a}})}var dn=function(r){hy(s,r);function s(o){var a;return a=r.call.apply(r,[this].concat(o))||this,_y(gy(a)),a}return s}(fs(Array));function Es(r){r===void 0&&(r=[]);var s=[];return r.forEach(function(o){Array.isArray(o)?s.push.apply(s,Es(o)):s.push(o)}),s}function yy(r){for(var s=[],o=0;o<r.length;o+=1)s.indexOf(r[o])===-1&&s.push(r[o]);return s}function wy(r){return r.toLowerCase().replace(/-(.)/g,function(s,o){return o.toUpperCase()})}function by(r,s){if(typeof r!="string")return[r];for(var o=[],a=s.querySelectorAll(r),u=0;u<a.length;u+=1)o.push(a[u]);return o}function he(r,s){var o=cc(),a=bs(),u=[];if(!s&&r instanceof dn)return r;if(!r)return new dn(u);if(typeof r=="string"){var f=r.trim();if(f.indexOf("<")>=0&&f.indexOf(">")>=0){var p="div";f.indexOf("<li")===0&&(p="ul"),f.indexOf("<tr")===0&&(p="tbody"),(f.indexOf("<td")===0||f.indexOf("<th")===0)&&(p="tr"),f.indexOf("<tbody")===0&&(p="table"),f.indexOf("<option")===0&&(p="select");var m=a.createElement(p);m.innerHTML=f;for(var g=0;g<m.childNodes.length;g+=1)u.push(m.childNodes[g])}else u=by(r.trim(),s||a)}else if(r.nodeType||r===o||r===a)u.push(r);else if(Array.isArray(r)){if(r instanceof dn)return r;u=r}return new dn(yy(u))}he.fn=dn.prototype;function vu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=Es(s.map(function(u){return u.split(" ")}));return this.forEach(function(u){var f;(f=u.classList).add.apply(f,a)}),this}function gu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=Es(s.map(function(u){return u.split(" ")}));return this.forEach(function(u){var f;(f=u.classList).remove.apply(f,a)}),this}function _u(r,s){if(arguments.length===1&&typeof r=="string")return this[0]?this[0].getAttribute(r):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(r,s);else for(var a in r)this[o][a]=r[a],this[o].setAttribute(a,r[a]);return this}function yu(){var r=this[0];if(r){var s={};if(r.dataset)for(var o in r.dataset)s[o]=r.dataset[o];else for(var a=0;a<r.attributes.length;a+=1){var u=r.attributes[a];u.name.indexOf("data-")>=0&&(s[wy(u.name.split("data-")[1])]=u.value)}for(var f in s)s[f]==="false"?s[f]=!1:s[f]==="true"?s[f]=!0:parseFloat(s[f])===s[f]*1&&(s[f]*=1);return s}}function wu(r){if(typeof r>"u"){var s=this[0];if(!s)return;if(s.multiple&&s.nodeName.toLowerCase()==="select"){for(var o=[],a=0;a<s.selectedOptions.length;a+=1)o.push(s.selectedOptions[a].value);return o}return s.value}for(var u=0;u<this.length;u+=1){var f=this[u];if(Array.isArray(r)&&f.multiple&&f.nodeName.toLowerCase()==="select")for(var p=0;p<f.options.length;p+=1)f.options[p].selected=r.indexOf(f.options[p].value)>=0;else f.value=r}return this}function bu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],u=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],u=void 0),p||(p=!1);function m(w){var I=w.target;if(I){var B=w.target.dom7EventData||[];if(B.indexOf(w)<0&&B.unshift(w),he(I).is(u))f.apply(I,B);else for(var P=he(I).parents(),A=0;A<P.length;A+=1)he(P[A]).is(u)&&f.apply(P[A],B)}}function g(w){var I=w&&w.target?w.target.dom7EventData||[]:[];I.indexOf(w)<0&&I.unshift(w),f.apply(this,I)}for(var _=a.split(" "),S,C=0;C<this.length;C+=1){var k=this[C];if(u)for(S=0;S<_.length;S+=1){var E=_[S];k.dom7LiveListeners||(k.dom7LiveListeners={}),k.dom7LiveListeners[E]||(k.dom7LiveListeners[E]=[]),k.dom7LiveListeners[E].push({listener:f,proxyListener:m}),k.addEventListener(E,m,p)}else for(S=0;S<_.length;S+=1){var T=_[S];k.dom7Listeners||(k.dom7Listeners={}),k.dom7Listeners[T]||(k.dom7Listeners[T]=[]),k.dom7Listeners[T].push({listener:f,proxyListener:g}),k.addEventListener(T,g,p)}}return this}function Eu(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s[0],u=s[1],f=s[2],p=s[3];typeof s[1]=="function"&&(a=s[0],f=s[1],p=s[2],u=void 0),p||(p=!1);for(var m=a.split(" "),g=0;g<m.length;g+=1)for(var _=m[g],S=0;S<this.length;S+=1){var C=this[S],k=void 0;if(!u&&C.dom7Listeners?k=C.dom7Listeners[_]:u&&C.dom7LiveListeners&&(k=C.dom7LiveListeners[_]),k&&k.length)for(var T=k.length-1;T>=0;T-=1){var E=k[T];f&&E.listener===f||f&&E.listener&&E.listener.dom7proxy&&E.listener.dom7proxy===f?(C.removeEventListener(_,E.proxyListener,p),k.splice(T,1)):f||(C.removeEventListener(_,E.proxyListener,p),k.splice(T,1))}}return this}function xu(){for(var r=0;r<this.length;r+=1)this[r].style.display="none";return this}function Su(r){return r?(this.forEach(function(s,o){r.apply(s,[s,o])}),this):this}function ku(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(var s=0;s<this.length;s+=1)this[s].innerHTML=r;return this}function Cu(r){var s=cc(),o=bs(),a=this[0],u,f;if(!a||typeof r>"u")return!1;if(typeof r=="string"){if(a.matches)return a.matches(r);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(r);if(a.msMatchesSelector)return a.msMatchesSelector(r);for(u=he(r),f=0;f<u.length;f+=1)if(u[f]===a)return!0;return!1}if(r===o)return a===o;if(r===s)return a===s;if(r.nodeType||r instanceof dn){for(u=r.nodeType?[r]:r,f=0;f<u.length;f+=1)if(u[f]===a)return!0;return!1}return!1}function Nu(){for(var r,s=bs(),o=0;o<arguments.length;o+=1){r=o<0||arguments.length<=o?void 0:arguments[o];for(var a=0;a<this.length;a+=1)if(typeof r=="string"){var u=s.createElement("div");for(u.innerHTML=r;u.firstChild;)this[a].appendChild(u.firstChild)}else if(r instanceof dn)for(var f=0;f<r.length;f+=1)this[a].appendChild(r[f]);else this[a].appendChild(r)}return this}function Ru(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].parentNode;a;)r?he(a).is(r)&&s.push(a):s.push(a),a=a.parentNode;return he(s)}function Tu(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].querySelectorAll(r),u=0;u<a.length;u+=1)s.push(a[u]);return he(s)}function Vu(r){for(var s=[],o=0;o<this.length;o+=1)for(var a=this[o].children,u=0;u<a.length;u+=1)(!r||he(a[u]).is(r))&&s.push(a[u]);return he(s)}var Ey="resize scroll".split(" ");function fc(r){function s(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];if(typeof a[0]>"u"){for(var f=0;f<this.length;f+=1)Ey.indexOf(r)<0&&(r in this[f]?this[f][r]():he(this[f]).trigger(r));return this}return this.on.apply(this,[r].concat(a))}return s}var Au=fc("click"),$u=fc("focus");xu&&(he.fn.hide=xu);Nu&&(he.fn.append=Nu);Au&&(he.fn.click=Au);bu&&(he.fn.on=bu);Eu&&(he.fn.off=Eu);$u&&(he.fn.focus=$u);_u&&(he.fn.attr=_u);wu&&(he.fn.val=wu);ku&&(he.fn.html=ku);yu&&(he.fn.dataset=yu);vu&&(he.fn.addClass=vu);gu&&(he.fn.removeClass=gu);Vu&&(he.fn.children=Vu);Su&&(he.fn.each=Su);Tu&&(he.fn.find=Tu);Cu&&(he.fn.is=Cu);Ru&&(he.fn.parents=Ru);const xy=globalThis.Node,Sy=globalThis.Comment,ky=globalThis.Element,Cy=globalThis.Text,Ny=globalThis.Range,Ry=globalThis.Selection,Ty=globalThis.StaticRange;let Vy=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((s,o)=>(o&=63,o<36?s+=o.toString(36):o<62?s+=(o-26).toString(36).toUpperCase():o>62?s+="-":s+="_",s),"");function Ay(r="r"){return`${r}-${Vy()}`}let dc=class{constructor(){Ce(this,"audio");Ce(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(s){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=s,this.src=s,document.body.appendChild(this.audio),this.audio.play()}stop(s){s&&s!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}};const mn=new dc;function ds(r){const s=Math.floor(r/60),o=r%60,a=String(s).padStart(2,"0"),u=String(o).padStart(2,"0");return`${a}:${u}`}class pc{constructor(s){Ce(this,"accept");Ce(this,"dom");Ce(this,"isdestroy",!1);Ce(this,"resolve");Ce(this,"reject");this.accept=s,this.dom=null,this.resolve=null,this.reject=null}createInputElement(){const s=document.createElement("input");return s.type="file",s.accept=this.accept,s.hidden=!0,s}change(s){var o,a;if(this.dom&&this.dom.files&&this.dom.files.length>0){const u=this.dom.files.item(0);if(u){(o=this.resolve)==null||o.call(this,u),this.dom.value="";return}this.dom.value=""}return(a=this.reject)==null?void 0:a.call(this,s)}cancel(s){var o;return this.dom&&(this.dom.value=""),(o=this.reject)==null?void 0:o.call(this,s)}open(){if(this.isdestroy)throw Error("对象已经销毁");this.dom||(this.dom=this.createInputElement(),this.dom.addEventListener("change",this.change.bind(this)),this.dom.addEventListener("cancel",this.cancel.bind(this)),document.body.appendChild(this.dom)),this.dom.click();const s=this;return new Promise((o,a)=>{s.resolve=o,s.reject=a})}destroy(){this.isdestroy||(this.dom&&document.body.removeChild(this.dom),this.dom=null,this.isdestroy=!0)}}class ps{constructor(s){Ce(this,"cancelled",!1);Ce(this,"timeoutId",null);this.timeoutMilliseconds=s}get token(){return{isCancellationRequested:()=>this.cancelled,throwIfRequested:()=>{if(this.cancelled)throw new Error("Operation canceled")}}}cancel(){this.cancelled=!0,this.clearTimeout()}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}startTimeout(){this.timeoutId=setTimeout(()=>{this.cancel()},this.timeoutMilliseconds)}}class hc{constructor(s=60){Ce(this,"isStop",!1);Ce(this,"count",n.ref(0));Ce(this,"timeoutId",null);this.timeoutSeconds=s}clearTimeout(){this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}get state(){return n.computed(()=>this.count.value)}start(s){s&&(this.timeoutSeconds=s),this.isStop=!1,this.count.value=0,this.clearTimeout(),this.timeoutId=setInterval(()=>{!this.isStop&&this.count.value<this.timeoutSeconds?this.count.value++:this.clearTimeout()},1e3)}stop(){this.isStop=!0,this.clearTimeout()}}function $y(r){const{selection:s}=r;if(s){const[o,a]=R.SlateRange.edges(s),u=R.SlateEditor.range(r,o,a),f=R.SlateEditor.string(r,u),p=f.trimEnd();if(p!==f){const m=f.length-p.length,g={...a,offset:a.offset-m},_={...s,anchor:o,focus:g};R.SlateTransforms.select(r,_)}}}function Ou(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.start(r,s),a=R.SlateEditor.end(r,s);R.SlateTransforms.insertText(r," ",{at:o}),R.SlateTransforms.insertText(r," ",{at:{path:a.path,offset:a.offset+1}}),R.SlateTransforms.select(r,{anchor:{path:o.path,offset:o.offset+1},focus:{path:a.path,offset:a.offset+1}})})}function Un(r,s){R.SlateEditor.withoutNormalizing(r,()=>{const o=R.SlateEditor.before(r,s),a=R.SlateEditor.after(r,s);if(!o||!a)return;const u={anchor:{path:o.path,offset:o.offset-1},focus:{path:o.path,offset:o.offset}},f={anchor:{path:a.path,offset:a.offset},focus:{path:a.path,offset:a.offset+1}};R.SlateEditor.string(r,u)===" "&&R.SlateTransforms.delete(r,{at:u}),R.SlateEditor.string(r,f)===" "&&R.SlateTransforms.delete(r,{at:f})})}const Oy={type:"ssml-audio",renderElem:(r,s,o)=>s?Dy(r,s,o):Iy(r,o)};function Dy(r,s,o){const{remark:a,src:u}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(f=>{f.preventDefault(),mn.stop(u);const p=R.DomEditor.findPath(o,r);Un(o,p),R.SlateTransforms.unwrapNodes(o,{at:p})})}}),M("span.iconfont.icon-play",{on:{click:Pe.throttle(f=>{f.preventDefault(),mn.play(u)})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-audio)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-audio)"}})])}function Iy(r,s){const{remark:o,src:a}=r;return M("span.ssml-wrapper",{props:{contentEditable:!1}},[M("span.remark",{style:{backgroundColor:"var(--ssml-audio)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault(),mn.stop(a);const f=R.DomEditor.findPath(s,r);R.SlateTransforms.delete(s,{at:f})})}}),M("span.iconfont.icon-play",{on:{click:Pe.throttle(u=>{u.preventDefault(),mn.play(a)})}}),M("span.data-content",{attrs:{"data-content":o}})]),M("span.iconfont.icon-music",{style:{color:"var(--ssml-audio)"}})])}const Ly={type:"ssml-audio",elemToHtml:(r,s)=>{const{remark:o,src:a}=r;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${a}"
          data-ow-remark="${o}"
        >${s}</span>`}},By={selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-src")||"",a=r.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:a,children:s}}},Py={editorPlugin:dy,renderElems:[Oy],elemsToHtml:[Ly],parseElemsHtml:[By]},My=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-break"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-break"?!0:o(u),a},Fy={type:"ssml-break",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",{props:{contentEditable:!1}},[M("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.delete(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.iconfont.icon-tingdun",{style:{color:"var(--ssml-break)"}})])}},Uy={type:"ssml-break",elemToHtml:r=>{const{remark:s,time:o,strength:a}=r;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${s}"
          data-ow-time="${o??""}"
          data-ow-strength="${a??"medium"}"
        ></span>`}},Hy={selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:r=>{const s=r.getAttribute("data-ow-remark")||"",o=r.getAttribute("data-ow-time")||"",a=r.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:s,time:o,strength:a,children:[{text:""}]}}},Wy={editorPlugin:My,renderElems:[Fy],elemsToHtml:[Uy],parseElemsHtml:[Hy]},zy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-emphasis"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-emphasis"?!1:o(u),a},Gy={type:"ssml-emphasis",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-emphasis)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-emphasis)"}})])}},qy={type:"ssml-emphasis",elemToHtml:(r,s)=>{const{remark:o,level:a}=r;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${a??"none"}"
        >${s}</span>`}},Ky={selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:a,children:s}}},Yy={editorPlugin:zy,renderElems:[Gy],elemsToHtml:[qy],parseElemsHtml:[Ky]},Xy=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-mstts:express-as"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-mstts:express-as"?!1:o(u),a},Jy={type:"ssml-mstts:express-as",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-mstts--express-as)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-mstts--express-as)"}})])}},Zy={type:"ssml-mstts:express-as",elemToHtml:(r,s)=>{const{remark:o,style:a,role:u,styledegree:f}=r;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-styledegree="${f??""}"
          data-ow-role="${u??""}"
        >${s}</span>`}},Qy={selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-style")||"",u=r.getAttribute("data-ow-styledegree")||"",f=r.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:a,remark:o,styledegree:u,role:f,children:s}}},jy={editorPlugin:Xy,renderElems:[Jy],elemsToHtml:[Zy],parseElemsHtml:[Qy]},e0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-p"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-p"?!1:o(u),a},t0={type:"ssml-p",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-p)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-p)"}})])}},n0={type:"ssml-p",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}},r0={selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(r,s)=>({type:"ssml-p",remark:r.getAttribute("data-ow-remark")||"",children:s})},o0={editorPlugin:e0,renderElems:[t0],elemsToHtml:[n0],parseElemsHtml:[r0]},i0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-phoneme"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-phoneme"?!1:o(u),a},s0={type:"ssml-phoneme",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-phoneme)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-phoneme)"}})])}},a0={type:"ssml-phoneme",elemToHtml:(r,s)=>{const{remark:o,alphabet:a,ph:u}=r;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${a??""}"
          data-ow-ph="${u}"
        >${s}</span>`}},l0={selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alphabet")||"",u=r.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:a,ph:u,children:s}}},u0={editorPlugin:i0,renderElems:[s0],elemsToHtml:[a0],parseElemsHtml:[l0]},c0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-prosody"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-prosody"?!1:o(u),a},f0={type:"ssml-prosody",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-prosody)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-prosody)"}})])}},d0={type:"ssml-prosody",elemToHtml:(r,s)=>{const{remark:o,contour:a,pitch:u,range:f,rate:p,volume:m}=r;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${a??""}"
          data-ow-pitch="${u??""}"
          data-ow-range="${f??""}"
          data-ow-rate="${p??""}"
          data-ow-volume="${m??""}"
        >${s}</span>`}},p0={selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-contour")||"",u=r.getAttribute("data-ow-pitch ")||"",f=r.getAttribute("data-ow-range")||"",p=r.getAttribute("data-ow-rate")||void 0,m=r.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:a,pitch:u,range:f,rate:p,volume:m,children:s}}},h0={editorPlugin:c0,renderElems:[f0],elemsToHtml:[d0],parseElemsHtml:[p0]},m0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-s"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-s"?!1:o(u),a},v0={type:"ssml-s",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-s)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-s)"}})])}},g0={type:"ssml-s",elemToHtml:(r,s)=>{const{remark:o}=r;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${s}</span>`}},_0={selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(r,s)=>({type:"ssml-s",remark:r.getAttribute("data-ow-remark")||"",children:s})},y0={editorPlugin:m0,renderElems:[v0],elemsToHtml:[g0],parseElemsHtml:[_0]},w0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-say-as"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-say-as"?!1:o(u),a},b0={type:"ssml-say-as",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-say-as)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-say-as)"}})])}},E0={type:"ssml-say-as",elemToHtml:(r,s)=>{const{remark:o,interpretAs:a,detail:u,format:f}=r;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${a}"
          data-ow-detail="${u??""}"
          data-ow-format="${f??""}"
        >${s}</span>`}},x0={selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-interpretAs")||"",u=r.getAttribute("data-ow-format")||"",f=r.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:a,detail:f,format:u,children:s}}},S0={editorPlugin:w0,renderElems:[b0],elemsToHtml:[E0],parseElemsHtml:[x0]},k0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-sub"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-sub"?!1:o(u),a},C0={type:"ssml-sub",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-sub)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-sub)"}})])}},N0={type:"ssml-sub",elemToHtml:(r,s)=>{const{remark:o,alias:a}=r;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${a}"
        >${s}</span>`}},R0={selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:a,children:s}}},T0={editorPlugin:k0,renderElems:[C0],elemsToHtml:[N0],parseElemsHtml:[R0]},V0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="ssml-voice"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="ssml-voice"?!1:o(u),a},A0={type:"ssml-voice",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{"},style:{color:"var(--ssml-voice)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}"},style:{color:"var(--ssml-voice)"}})])}},$0={type:"ssml-voice",elemToHtml:(r,s)=>{const{remark:o,name:a,effect:u}=r;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${a}"
          data-ow-effect="${u??""}"
        >${s}</span>`}},O0={selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",u=r.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:a,effect:u,children:s}}},D0={editorPlugin:V0,renderElems:[A0],elemsToHtml:[$0],parseElemsHtml:[O0]},I0=r=>{const{isInline:s,isVoid:o}=r,a=r;return a.isInline=u=>R.DomEditor.getNodeType(u)==="custom-management"?!0:s(u),a.isVoid=u=>R.DomEditor.getNodeType(u)==="custom-management"?!1:o(u),a},L0="wangeditor-error",B0="ssml-element-click",Ee={ERROR:L0,SSML_ELEMENT_CLICK:B0},P0="emitter-error",M0="emitter-view-click",F0="emitter-view-keydown",U0="emitter-editor-created",Be={ERROR:P0,VIEW_CLICK:M0,VIEW_KEYDOWN:F0,EDITOR_CREATED:U0},H0={type:"custom-management",renderElem:(r,s,o)=>{const{remark:a}=r;return M("span.ssml-wrapper",[M("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--custom-management)"},on:{mousedown:u=>u.preventDefault(),click:Pe.throttle(u=>{u.preventDefault(),o.select(R.DomEditor.findPath(o,r)),o.emit(Ee.SSML_ELEMENT_CLICK,o,r)})}},[M("span.iconfont.icon-roundclosefill",{on:{click:Pe.throttle(u=>{u.preventDefault();const f=R.DomEditor.findPath(o,r);Un(o,f),R.SlateTransforms.unwrapNodes(o,{at:f})})}}),M("span.data-content",{attrs:{"data-content":a}})]),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"{{"},style:{color:"var(--custom-management)"}}),M("span",s),M("span.data-content",{props:{contentEditable:!1},attrs:{"data-content":"}}"},style:{color:"var(--custom-management)"}})])}},W0={type:"custom-management",elemToHtml:(r,s)=>{const{remark:o,style:a,role:u,name:f,pitch:p,rate:m,custom:g}=r;return`<span
          data-w-e-type="custom-management"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${a}"
          data-ow-name="${f}"
          data-ow-role="${u}"
          data-ow-pitch="${p}"
          data-ow-rate="${m}"
          data-ow-custom="${JSON.stringify(g)}"
        >${s}</span>`}},z0={selector:'span[data-w-e-type="custom-management"]',parseElemHtml:(r,s)=>{const o=r.getAttribute("data-ow-remark")||"",a=r.getAttribute("data-ow-name")||"",u=r.getAttribute("data-ow-role")||"",f=r.getAttribute("data-ow-style")||"",p=r.getAttribute("data-ow-pitch")||"",m=r.getAttribute("data-ow-rate")||"",g=r.getAttribute("data-ow-custom")||"{}";return{type:"custom-management",remark:o,name:a,role:u,style:f,pitch:p,rate:m,custom:JSON.parse(g),children:s}}},G0={editorPlugin:I0,renderElems:[H0],elemsToHtml:[W0],parseElemsHtml:[z0]},q0=r=>{const{deleteBackward:s,deleteForward:o,insertBreak:a,apply:u,normalizeNode:f,insertText:p,insertData:m,setFragmentData:g,insertNode:_}=r,S=r;S.deleteBackward=k=>{s(k)},S.deleteForward=k=>{o(k)},S.insertBreak=()=>{a()},S.normalizeNode=k=>{f(k)},S.apply=k=>{u(k)},S.insertData=k=>{if(k.types.includes("application/x-slate-fragment"))return m(k);{const T=new DataTransfer;return T.setData("text/plain",k.getData("text/plain").trim()),m(T)}},S.setFragmentData=k=>{g(k);const T=k.getData("text/plain").replaceAll(/[\s]/gi,"");k.setData("text/plain",T)},S.insertText=k=>{p(k)};const C=["ssml-prosody","ssml-sub","custom-management","ssml-phoneme","ssml-say-as"];return S.insertNode=k=>{const T=R.DomEditor.getNodeType(k);return C.includes(T)||T==="ssml-audio"&&R.SlateNode.string(k)?(r.selection&&Ou(r,r.selection),R.SlateTransforms.insertNodes(r,k)):R.SlateEditor.isVoid(r,k)?(_(k),r.move(1)):_(k)},S};const K0={install(){R.Boot.registerModule(Py),R.Boot.registerModule(Wy),R.Boot.registerModule(Yy),R.Boot.registerModule(jy),R.Boot.registerModule(o0),R.Boot.registerModule(u0),R.Boot.registerModule(h0),R.Boot.registerModule(y0),R.Boot.registerModule(S0),R.Boot.registerModule(T0),R.Boot.registerModule(D0),R.Boot.registerModule(G0),R.Boot.registerPlugin(q0)}},vn=Eo("--editor-ssml",()=>{const r=n.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),s=n.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=n.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),a=n.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]}),u=n.shallowReactive({type:"ssml-prosody",remark:"",children:[]});return{rootSpeak:r,rootVoice:s,rootBackgroundaudio:o,rootExpressAs:a,rootProsody:u}});function Y0(){return{label:"",value:""}}function mc(){return{id:"",category:"",avatar:"",isFree:!1,isStar:!1,isSupper24K:!1,roles:[],styles:[],name:"",displayName:""}}function xo(){return{word:"",topFlag:"",category:"",gender:"",tag:""}}class vc{constructor(){Ce(this,"audio");Ce(this,"isPlaying",n.ref(!1));Ce(this,"isLoading",n.ref(!1));Ce(this,"loadResolve");Ce(this,"loadReject");this.audio=new Audio,this.audio.addEventListener("canplaythrough",()=>{var s;this.isLoading.value=!1,(s=this.loadResolve)==null||s.call(this)}),this.audio.addEventListener("play",()=>{this.isPlaying.value=!0}),this.audio.addEventListener("pause",()=>{this.isPlaying.value=!1}),this.audio.addEventListener("error",()=>{var s;this.isLoading.value=!1,this.isPlaying.value=!1,(s=this.loadReject)==null||s.call(this)})}load(s){return this.pause(),this.isPlaying.value=!1,this.isLoading.value=!0,this.audio.src=s,this.audio.load(),new Promise((o,a)=>{this.loadResolve=o,this.loadReject=a})}play(){this.audio.play()}pause(){this.audio.pause()}togglePlayPause(){this.isPlaying.value?this.pause():this.play()}get playState(){return n.computed(()=>this.isPlaying.value?"playing":"paused")}get loadState(){return n.computed(()=>this.isLoading.value?"loading":"complete")}}const So=Eo("--editor-try-play",()=>{const r=vn(),s=n.shallowRef(new vc),o=n.ref(mc()),a=n.computed(()=>o.value),u=n.computed(()=>s.value);return{speaker:a,setSpeaker:p=>{o.value=p,r.rootVoice.name=p.name},audioPlayer:u}}),gc=Eo("--editor-management-menu",()=>({contentData:n.reactive(oc())})),X0={class:"bar-button-icon"},J0={class:"fw-normal",style:{"font-size":"0.85rem"}},Z0=n.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(r,{emit:s}){const o=r,a=()=>{if(!o.disabled){const{editor:u}=qe();u&&s("click",u)}};return(u,f)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["bar-button px-2 py-1",{disabled:u.disabled}]),onClick:a,onMousedown:f[0]||(f[0]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",X0,[n.createElementVNode("span",{class:n.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${u.icon}`]])},null,2)]),n.createElementVNode("div",J0,n.toDisplayString(u.text),1)],34))}});const Qe=(r,s)=>{const o=r.__vccOpts||r;for(const[a,u]of s)o[a]=u;return o},Ke=Qe(Z0,[["__scopeId","data-v-2da9a7ca"]]);const xs=n.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(r,{expose:s,emit:o}){const a=n.ref(""),u=n.ref();function f(){n.nextTick(()=>{u.value.input.focus()})}function p(){o("submit",a.value),a.value=""}return s({focus:f}),(m,g)=>(n.openBlock(),n.createBlock(n.unref(j.ElForm),{onSubmit:n.withModifiers(p,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{type:m.type,ref_key:"inputRef",ref:u,modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=_=>a.value=_)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}});const Q0=n.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(r){return(s,o)=>(n.openBlock(),n.createBlock(n.unref(j.ElPopover),{hideAfter:s.hideAfter,width:s.width,visible:s.visible,trigger:s.trigger,"onUpdate:visible":o[0]||(o[0]=a=>s.$emit("update:visible",a))},{reference:n.withCtx(()=>[n.renderSlot(s.$slots,"reference")]),default:n.withCtx(()=>[n.renderSlot(s.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}});function ko(r){return n.getCurrentScope()?(n.onScopeDispose(r),!0):!1}function mt(r){return typeof r=="function"?r():n.unref(r)}const _c=typeof window<"u"&&typeof document<"u",j0=r=>r!=null,ew=Object.prototype.toString,tw=r=>ew.call(r)==="[object Object]",vo=()=>{};function nw(r,s={}){if(!n.isRef(r))return n.toRefs(r);const o=Array.isArray(r.value)?Array.from({length:r.value.length}):{};for(const a in r.value)o[a]=n.customRef(()=>({get(){return r.value[a]},set(u){var f;if((f=mt(s.replaceRef))!=null?f:!0)if(Array.isArray(r.value)){const m=[...r.value];m[a]=u,r.value=m}else{const m={...r.value,[a]:u};Object.setPrototypeOf(m,Object.getPrototypeOf(r.value)),r.value=m}else r.value[a]=u}}));return o}function yc(r,s=!0){n.getCurrentInstance()?n.onMounted(r):s?r():n.nextTick(r)}function St(r){var s;const o=mt(r);return(s=o==null?void 0:o.$el)!=null?s:o}const Qt=_c?window:void 0;function Mn(...r){let s,o,a,u;if(typeof r[0]=="string"||Array.isArray(r[0])?([o,a,u]=r,s=Qt):[s,o,a,u]=r,!s)return vo;Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]);const f=[],p=()=>{f.forEach(S=>S()),f.length=0},m=(S,C,k,T)=>(S.addEventListener(C,k,T),()=>S.removeEventListener(C,k,T)),g=n.watch(()=>[St(s),mt(u)],([S,C])=>{if(p(),!S)return;const k=tw(C)?{...C}:C;f.push(...o.flatMap(T=>a.map(E=>m(S,T,E,k))))},{immediate:!0,flush:"post"}),_=()=>{g(),p()};return ko(_),_}function rw(){const r=n.ref(!1);return n.getCurrentInstance()&&n.onMounted(()=>{r.value=!0}),r}function Ss(r){const s=rw();return n.computed(()=>(s.value,!!r()))}function ow(r,s={}){const{window:o=Qt}=s,a=Ss(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let u;const f=n.ref(!1),p=_=>{f.value=_.matches},m=()=>{u&&("removeEventListener"in u?u.removeEventListener("change",p):u.removeListener(p))},g=n.watchEffect(()=>{a.value&&(m(),u=o.matchMedia(mt(r)),"addEventListener"in u?u.addEventListener("change",p):u.addListener(p),f.value=u.matches)});return ko(()=>{g(),m(),u=void 0}),f}function ks(r,s={}){var o,a;const{pointerTypes:u,preventDefault:f,stopPropagation:p,exact:m,onMove:g,onEnd:_,onStart:S,initialValue:C,axis:k="both",draggingElement:T=Qt,containerElement:E,handle:w=r}=s,I=n.ref((o=mt(C))!=null?o:{x:0,y:0}),B=n.ref(),P=D=>u?u.includes(D.pointerType):!0,A=D=>{mt(f)&&D.preventDefault(),mt(p)&&D.stopPropagation()},F=D=>{var ue;if(!P(D)||mt(m)&&D.target!==mt(r))return;const H=((ue=mt(E))!=null?ue:mt(r)).getBoundingClientRect(),W={x:D.clientX-H.left,y:D.clientY-H.top};(S==null?void 0:S(W,D))!==!1&&(B.value=W,A(D))},G=D=>{if(!P(D)||!B.value)return;let{x:ue,y:we}=I.value;(k==="x"||k==="both")&&(ue=D.clientX-B.value.x),(k==="y"||k==="both")&&(we=D.clientY-B.value.y),I.value={x:ue,y:we},g==null||g(I.value,D),A(D)},X=D=>{P(D)&&B.value&&(B.value=void 0,_==null||_(I.value,D),A(D))};if(_c){const D={capture:(a=s.capture)!=null?a:!0};Mn(w,"pointerdown",F,D),Mn(T,"pointermove",G,D),Mn(T,"pointerup",X,D)}return{...nw(I),position:I,isDragging:n.computed(()=>!!B.value),style:n.computed(()=>`left:${I.value.x}px;top:${I.value.y}px;`)}}function wc(r,s,o={}){const{window:a=Qt,...u}=o;let f;const p=Ss(()=>a&&"ResizeObserver"in a),m=()=>{f&&(f.disconnect(),f=void 0)},g=n.computed(()=>Array.isArray(r)?r.map(C=>St(C)):[St(r)]),_=n.watch(g,C=>{if(m(),p.value&&a){f=new ResizeObserver(s);for(const k of C)k&&f.observe(k,u)}},{immediate:!0,flush:"post",deep:!0}),S=()=>{m(),_()};return ko(S),{isSupported:p,stop:S}}function vr(r,s={}){const{reset:o=!0,windowResize:a=!0,windowScroll:u=!0,immediate:f=!0}=s,p=n.ref(0),m=n.ref(0),g=n.ref(0),_=n.ref(0),S=n.ref(0),C=n.ref(0),k=n.ref(0),T=n.ref(0);function E(){const w=St(r);if(!w){o&&(p.value=0,m.value=0,g.value=0,_.value=0,S.value=0,C.value=0,k.value=0,T.value=0);return}const I=w.getBoundingClientRect();p.value=I.height,m.value=I.bottom,g.value=I.left,_.value=I.right,S.value=I.top,C.value=I.width,k.value=I.x,T.value=I.y}return wc(r,E),n.watch(()=>St(r),w=>!w&&E()),u&&Mn("scroll",E,{capture:!0,passive:!0}),a&&Mn("resize",E,{passive:!0}),yc(()=>{f&&E()}),{height:p,bottom:m,left:g,right:_,top:S,width:C,x:k,y:T,update:E}}function iw(r,s={width:0,height:0},o={}){const{window:a=Qt,box:u="content-box"}=o,f=n.computed(()=>{var g,_;return(_=(g=St(r))==null?void 0:g.namespaceURI)==null?void 0:_.includes("svg")}),p=n.ref(s.width),m=n.ref(s.height);return wc(r,([g])=>{const _=u==="border-box"?g.borderBoxSize:u==="content-box"?g.contentBoxSize:g.devicePixelContentBoxSize;if(a&&f.value){const S=St(r);if(S){const C=a.getComputedStyle(S);p.value=Number.parseFloat(C.width),m.value=Number.parseFloat(C.height)}}else if(_){const S=Array.isArray(_)?_:[_];p.value=S.reduce((C,{inlineSize:k})=>C+k,0),m.value=S.reduce((C,{blockSize:k})=>C+k,0)}else p.value=g.contentRect.width,m.value=g.contentRect.height},o),n.watch(()=>St(r),g=>{p.value=g?s.width:0,m.value=g?s.height:0}),{width:p,height:m}}function sw(r,s,o={}){const{root:a,rootMargin:u="0px",threshold:f=.1,window:p=Qt,immediate:m=!0}=o,g=Ss(()=>p&&"IntersectionObserver"in p),_=n.computed(()=>{const E=mt(r);return(Array.isArray(E)?E:[E]).map(St).filter(j0)});let S=vo;const C=n.ref(m),k=g.value?n.watch(()=>[_.value,St(a),C.value],([E,w])=>{if(S(),!C.value||!E.length)return;const I=new IntersectionObserver(s,{root:St(w),rootMargin:u,threshold:f});E.forEach(B=>B&&I.observe(B)),S=()=>{I.disconnect(),S=vo}},{immediate:m,flush:"post"}):vo,T=()=>{S(),k(),C.value=!1};return ko(T),{isSupported:g,isActive:C,pause(){S(),C.value=!1},resume(){C.value=!0},stop:T}}function Co(r,{window:s=Qt,scrollTarget:o}={}){const a=n.ref(!1);return sw(r,([{isIntersecting:u}])=>{a.value=u},{root:o,window:s,threshold:0}),a}function aw(r={}){const{window:s=Qt,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:a=Number.POSITIVE_INFINITY,listenOrientation:u=!0,includeScrollbar:f=!0}=r,p=n.ref(o),m=n.ref(a),g=()=>{s&&(f?(p.value=s.innerWidth,m.value=s.innerHeight):(p.value=s.document.documentElement.clientWidth,m.value=s.document.documentElement.clientHeight))};if(g(),yc(g),Mn("resize",g,{passive:!0}),u){const _=ow("(orientation: portrait)");n.watch(_,()=>g())}return{width:p,height:m}}const lw={class:"search-content w-100"},uw={class:"ps-2 w-75"},cw={class:"menu ps-2"},fw={class:"flex flex-row pt-1"},dw={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},pw=["onClick"],hw=n.createElementVNode("span",{class:"iconfont icon-play"},null,-1),mw={class:"ps-2"},Cs=n.defineComponent({__name:"bar-search",props:{menus:{},fetchScene:{type:Function},fetchStyle:{type:Function},fetchData:{type:Function},sceneList:{},styleList:{},dataList:{}},emits:["submit"],setup(r,{emit:s}){const o=r,a=n.ref(),u=n.ref(""),f=n.ref(""),p=n.ref(""),m=n.ref(""),g=n.ref(o.dataList||[]),_=n.ref(o.sceneList||[]),S=n.ref(o.styleList||[]),C=Co(a);n.watch(C,w=>{w&&n.nextTick(()=>{var I,B;(B=(I=a.value)==null?void 0:I.input)==null||B.focus()})}),n.onMounted(async()=>{g.value.length||await k(),_.value.length||(_.value=await o.fetchScene()),S.value.length||(S.value=await o.fetchStyle())});async function k(){g.value=await o.fetchData({word:u.value,menu:m.value,scene:f.value,style:p.value})}function T(w){m.value=w,k()}function E(w){s("submit",w)}return(w,I)=>(n.openBlock(),n.createElementBlock("div",lw,[n.createElementVNode("div",uw,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(k,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{ref_key:"searchInputRef",ref:a,placeholder:"搜索",modelValue:u.value,"onUpdate:modelValue":I[0]||(I[0]=B=>u.value=B),"suffix-icon":n.unref(pn.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),n.createElementVNode("div",cw,[n.createVNode(n.unref(j.ElMenu),{mode:"horizontal","default-active":w.menus.length>0?w.menus[0].value:"",onSelect:I[1]||(I[1]=B=>T(B))},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(w.menus,(B,P)=>(n.openBlock(),n.createBlock(n.unref(j.ElMenuItem),{index:B.value,key:P},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(B.label),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),n.createElementVNode("div",fw,[n.createVNode(n.unref(j.ElSelect),{modelValue:f.value,"onUpdate:modelValue":I[2]||(I[2]=B=>f.value=B),onChange:k,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(_.value,B=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:B.value,label:B.label,value:B.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),n.createVNode(n.unref(j.ElSelect),{modelValue:p.value,"onUpdate:modelValue":I[3]||(I[3]=B=>p.value=B),onChange:k,class:"m-1",size:"default"},{default:n.withCtx(()=>[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(S.value,B=>(n.openBlock(),n.createBlock(n.unref(j.ElOption),{key:B.value,label:B.label,value:B.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),n.createElementVNode("ul",dw,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(g.value,(B,P)=>(n.openBlock(),n.createElementBlock("li",{onClick:A=>E(n.toRaw(B)),class:"content-list-item clickable ps-2 py-2",key:P},[hw,n.createElementVNode("span",mw,n.toDisplayString(B.label),1)],8,pw))),128))])]))}});const vw={},gw={class:"content"};function _w(r,s){return n.openBlock(),n.createElementBlock("div",gw,[n.renderSlot(r.$slots,"default",{},void 0,!0)])}const bc=Qe(vw,[["render",_w],["__scopeId","data-v-7beae5b9"]]),yw={},ww={class:"bar-wrapper-item"};function bw(r,s){return n.openBlock(),n.createElementBlock("div",ww,[n.renderSlot(r.$slots,"default")])}const Ew=Qe(yw,[["render",bw]]),xw={class:"bar-wrapper-group"},Sw={class:"group-items"},kw=n.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",xw,[n.createElementVNode("div",Sw,[n.renderSlot(s.$slots,"default",{},void 0,!0)]),n.createElementVNode("div",{class:n.normalizeClass(["divider",[s.divider]])},null,2)]))}});const Bn=Qe(kw,[["__scopeId","data-v-be31f837"]]);function Cw(r,s){return`left:${r}px;top:${s}px`}function Ns(r,s){const{width:o,height:a}=iw(r),{width:u,height:f}=aw(),p=n.computed(()=>({x:u.value-o.value,y:f.value-a.value}));return{style:n.computed(()=>{const g=s.value.x,_=s.value.y,S=g<5?5:g>p.value.x?p.value.x-5:g,C=_<5?5:_>p.value.y?p.value.y-5:_;return Cw(S,C)})}}var hs={exports:{}},Ec={exports:{}},Nw=void 0,xc=function(r){return r!==Nw&&r!==null},Rw=xc,Tw={object:!0,function:!0,undefined:!0},Vw=function(r){return Rw(r)?hasOwnProperty.call(Tw,typeof r):!1},Aw=Vw,$w=function(r){if(!Aw(r))return!1;try{return r.constructor?r.constructor.prototype===r:!1}catch{return!1}},Ow=$w,Dw=function(r){if(typeof r!="function"||!hasOwnProperty.call(r,"length"))return!1;try{if(typeof r.length!="number"||typeof r.call!="function"||typeof r.apply!="function")return!1}catch{return!1}return!Ow(r)},Iw=Dw,Lw=/^\s*class[\s{/}]/,Bw=Function.prototype.toString,Pw=function(r){return!(!Iw(r)||Lw.test(Bw.call(r)))},Mw=function(){var r=Object.assign,s;return typeof r!="function"?!1:(s={foo:"raz"},r(s,{bar:"dwa"},{trzy:"trzy"}),s.foo+s.bar+s.trzy==="razdwatrzy")},Qi,Du;function Fw(){return Du||(Du=1,Qi=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Qi}var Uw=function(){},Hw=Uw(),Rs=function(r){return r!==Hw&&r!==null},ji,Iu;function Ww(){if(Iu)return ji;Iu=1;var r=Rs,s=Object.keys;return ji=function(o){return s(r(o)?Object(o):o)},ji}var es,Lu;function zw(){return Lu||(Lu=1,es=Fw()()?Object.keys:Ww()),es}var ts,Bu;function Gw(){if(Bu)return ts;Bu=1;var r=Rs;return ts=function(s){if(!r(s))throw new TypeError("Cannot use null or undefined");return s},ts}var ns,Pu;function qw(){if(Pu)return ns;Pu=1;var r=zw(),s=Gw(),o=Math.max;return ns=function(a,u){var f,p,m=o(arguments.length,2),g;for(a=Object(s(a)),g=function(_){try{a[_]=u[_]}catch(S){f||(f=S)}},p=1;p<m;++p)u=arguments[p],r(u).forEach(g);if(f!==void 0)throw f;return a},ns}var Kw=Mw()?Object.assign:qw(),Yw=Rs,Xw=Array.prototype.forEach,Jw=Object.create,Zw=function(r,s){var o;for(o in r)s[o]=r[o]},Qw=function(r){var s=Jw(null);return Xw.call(arguments,function(o){Yw(o)&&Zw(Object(o),s)}),s},rs="razdwatrzy",jw=function(){return typeof rs.contains!="function"?!1:rs.contains("dwa")===!0&&rs.contains("foo")===!1},os,Mu;function eb(){if(Mu)return os;Mu=1;var r=String.prototype.indexOf;return os=function(s){return r.call(this,s,arguments[1])>-1},os}var tb=jw()?String.prototype.contains:eb(),go=xc,Fu=Pw,Sc=Kw,kc=Qw,hr=tb,nb=Ec.exports=function(r,s){var o,a,u,f,p;return arguments.length<2||typeof r!="string"?(f=s,s=r,r=null):f=arguments[2],go(r)?(o=hr.call(r,"c"),a=hr.call(r,"e"),u=hr.call(r,"w")):(o=u=!0,a=!1),p={value:s,configurable:o,enumerable:a,writable:u},f?Sc(kc(f),p):p};nb.gs=function(r,s,o){var a,u,f,p;return typeof r!="string"?(f=o,o=s,s=r,r=null):f=arguments[3],go(s)?Fu(s)?go(o)?Fu(o)||(f=o,o=void 0):o=void 0:(f=s,s=o=void 0):s=void 0,go(r)?(a=hr.call(r,"c"),u=hr.call(r,"e")):(a=!0,u=!1),p={get:s,set:o,configurable:a,enumerable:u},f?Sc(kc(f),p):p};var rb=Ec.exports,ob=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r};(function(r,s){var o=rb,a=ob,u=Function.prototype.apply,f=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,_=Object.prototype.hasOwnProperty,S={configurable:!0,enumerable:!1,writable:!0},C,k,T,E,w,I,B;C=function(P,A){var F;return a(A),_.call(this,"__ee__")?F=this.__ee__:(F=S.value=p(null),m(this,"__ee__",S),S.value=null),F[P]?typeof F[P]=="object"?F[P].push(A):F[P]=[F[P],A]:F[P]=A,this},k=function(P,A){var F,G;return a(A),G=this,C.call(this,P,F=function(){T.call(G,P,F),u.call(A,this,arguments)}),F.__eeOnceListener__=A,this},T=function(P,A){var F,G,X,D;if(a(A),!_.call(this,"__ee__"))return this;if(F=this.__ee__,!F[P])return this;if(G=F[P],typeof G=="object")for(D=0;X=G[D];++D)(X===A||X.__eeOnceListener__===A)&&(G.length===2?F[P]=G[D?0:1]:G.splice(D,1));else(G===A||G.__eeOnceListener__===A)&&delete F[P];return this},E=function(P){var A,F,G,X,D;if(_.call(this,"__ee__")&&(X=this.__ee__[P],!!X))if(typeof X=="object"){for(F=arguments.length,D=new Array(F-1),A=1;A<F;++A)D[A-1]=arguments[A];for(X=X.slice(),A=0;G=X[A];++A)u.call(G,this,D)}else switch(arguments.length){case 1:f.call(X,this);break;case 2:f.call(X,this,arguments[1]);break;case 3:f.call(X,this,arguments[1],arguments[2]);break;default:for(F=arguments.length,D=new Array(F-1),A=1;A<F;++A)D[A-1]=arguments[A];u.call(X,this,D)}},w={on:C,once:k,off:T,emit:E},I={on:o(C),once:o(k),off:o(T),emit:o(E)},B=g({},I),r.exports=s=function(P){return P==null?p(B):g(Object(P),I)},s.methods=w})(hs,hs.exports);var ib=hs.exports;const sb=lc(ib),He=sb(),ab={class:"w-100 d-flex flex-row align-items-center"},Hn=n.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(r,{expose:s,emit:o}){const a=r,u=n.ref(),f=n.ref(),p=n.ref(),{position:m}=ks(f,{initialValue:a.initialValue}),{style:g}=Ns(u,m);function _(E){m.value=E}s({setPosition:_}),n.onMounted(()=>{He.on(Be.VIEW_CLICK,S),document.addEventListener("keydown",T)}),n.onUnmounted(()=>{He.off(Be.VIEW_CLICK,S),document.removeEventListener("keydown",T)});function S(E){C(E)&&k()}function C(E){const w=E.target;return!(!u.value||!p.value||p.value.contains(w)||u.value.contains(w))}function k(){o("update:visible",!1),o("close")}function T(E){E.code==="Escape"&&k()}return(E,w)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",{ref_key:"referenceRef",ref:p,onMousedown:w[0]||(w[0]=n.withModifiers(()=>{},["prevent"]))},[n.renderSlot(E.$slots,"reference")],544),(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.withDirectives(n.createElementVNode("div",{ref_key:"boxRef",ref:u,class:"demotestname card shadow brag-box user-select-none z-2",style:n.normalizeStyle([{position:"fixed"},n.unref(g)]),onMousedown:w[1]||(w[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",ab,[n.createElementVNode("div",{ref_key:"dragRef",ref:f,class:"w-100",style:{height:"40px",cursor:"move"}},null,512),n.createElementVNode("span",{onClick:k,class:"btn iconfont icon-close fs-5"})]),n.renderSlot(E.$slots,"default")],36),[[n.vShow,E.visible]])]))],64))}}),lb={install(r){r.component("BarButton",Ke),r.component("BarInput",xs),r.component("BarPopover",Q0),r.component("BarSearch",Cs),r.component("BarWrapper",bc),r.component("BarWrapperItem",Ew),r.component("BarWrapperGroup",Bn),r.component("DragBox",Hn)}};function ub(r){return r.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function cb(r,s){return s?`<audio src="${r.src}">${s}</audio>`:`<audio src="${r.src}"/>`}function fb(r){return r.time?`<break time="${r.time}"/>`:r.strength?`<break strength="${r.strength}"/>`:"<break/>"}function db(r,s){return r.level?`<emphasis level="${r.level}">${s}</emphasis>`:`<emphasis>${s}</emphasis>`}function pb(r,s){if(!r.style)return s;const o=r.role?` role="${r.role}"`:"",a=r.styledegree?` styledegree="${r.styledegree}"`:"";return`<mstts:express-as style="${r.style}"${o}${a}>${s}</mstts:express-as>`}function hb(r){if(!r.src)return"";const s=r.volume?` volume="${r.volume}"`:"",o=r.fadein?` fadein="${r.fadein}"`:"",a=r.fadeout?` fadeout="${r.fadeout}"`:"";return`<mstts:backgroundaudio src="${r.src}"${s}${o}${a}/>`}function mb(r){return!r.attrType||!r.value?"":`<mstts:silence type="${r.attrType}" value="${r.value}"/>`}function vb(r,s){return`<p>${s}</p>`}function gb(r,s){const o=r.alphabet?`alphabet="${r.alphabet}"`:"";return`<phoneme ph="${r.ph}"${o}>${s}</phoneme>`}function _b(r,s){if(!r.contour&&!r.pitch&&!r.range&&!r.rate&&!r.volume)return s;const o=r.contour?` contour="${r.contour}"`:"",a=r.pitch?` pitch="${r.pitch}"`:"",u=r.range?` range="${r.range}"`:"",f=r.volume?` volume="${r.volume}"`:"",p=r.rate?` rate="${r.rate}"`:"";return`<prosody${o}${a}${u}${f}${p}>${s}</prosody>`}function yb(r,s){const o=r.interpretAs?` interpret-as="${r.interpretAs}"`:"",a=r.format?` format="${r.format}"`:"",u=r.detail?` detail="${r.detail}"`:"";return`<say-as${o}${a}${u}>${s}</say-as>`}function wb(r,s){return`<s>${s}</s>`}function bb(r,s){return`<sub alias="${r.alias}">${s}</sub>`}function Eb(r,s){const o=r.effect?` effect="${r.effect}"`:"";return`<voice name="${r.name}${o}">${s}</voice>`}function xb(r,s){return`<speak version="${r.version}" xml:lang="${r.xmlLang}" xmlns="${r.xmlns}" xmlns:mstts="${r["xmlns:mstts"]}" xmlns:emo="${r["xmlns:emo"]}">${s}</speak>`}function Cc(r){if(R.SlateText.isText(r))return ub(r.text.trim());if(R.SlateElement.isElement(r)){const s=r.children.map(a=>Cc(a)).join("");switch(R.DomEditor.getNodeType(r)){case"paragraph":return`<p>${s}</p>`;case"ssml-speak":return xb(r,s);case"ssml-mstts:backgroundaudio":return hb(r);case"ssml-audio":return cb(r,s);case"ssml-break":return fb(r);case"ssml-emphasis":return db(r,s);case"ssml-mstts:express-as":return pb(r,s);case"ssml-p":return vb(r,s);case"ssml-phoneme":return gb(r,s);case"ssml-prosody":return _b(r,s);case"ssml-s":return wb(r,s);case"ssml-say-as":return yb(r,s);case"ssml-sub":return bb(r,s);case"ssml-voice":return Eb(r,s);case"ssml-mstts:silence":return mb(r);default:return s}}return""}function Sb(r,s){const o={type:"ssml-voice",remark:"",name:s.name,children:[]},a=Nc(),u={type:"ssml-mstts:express-as",remark:"",style:s.style,role:s.role,children:[]},f=()=>({type:"ssml-prosody",remark:"",rate:s.rate,pitch:s.pitch,children:[]});o.children.push(...a),o.children.push(u);function p(){const g=f();u.children.push(g);function _(S){g.children.push(S)}return{prosody:g,pushNode:_}}let m;for(let g=0;g<s.children.length;g++){const _=s.children[g];if(!(R.SlateText.isText(_)&&!_.text.trim()))if(R.SlateText.isText(_)){m??(m=p()),m.pushNode(_);continue}else if(R.SlateEditor.isVoid(r,_)){m=void 0,u.children.push(_);continue}else{const S=R.DomEditor.findPath(r,_),[C]=R.SlateEditor.nodes(r,{at:S,mode:"lowest",voids:!1,match:k=>R.DomEditor.checkNodeType(k,"ssml-prosody")});if(C){m=void 0,u.children.push(_);continue}else m??(m=p()),m.pushNode(_)}}return o}function Nc(){return[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"200ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"200ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"200ms",remark:"顿号静音",children:[]}]}function kb(){const{rootVoice:r,rootExpressAs:s}=vn(),o={...r,children:[]},a=Nc(),u={...s,children:[]};o.children.push(...a),o.children.push(u);function f(p){u.children.push(p)}return{voice:o,pushNode:f}}function Uu(r){const{rootProsody:s}=vn(),o={...s,children:[]};r(o);function a(u){o.children.push(u)}return{prosody:o,pushNode:a}}function Cb(){return{type:"ssml-break",time:"200ms",children:[{text:""}],remark:"paragraphBreak"}}function Nb(r){const s=r.children.filter(o=>R.DomEditor.checkNodeType(o,"paragraph")).filter(o=>!!R.SlateNode.string(o).trim()).map((o,a,u)=>{const p=o.children;return a<u.length-1?p.concat([Cb()]):p});return[].concat(...s)}function Rb(r){const s=Nb(r),o=[];let a,u;for(let f=0;f<s.length;f++){const p=s[f];if(!(R.SlateText.isText(p)&&!p.text.trim())){if(R.DomEditor.checkNodeType(p,"custom-management")){a&&(o.push(a.voice),a=void 0,u=void 0),o.push(Sb(r,p));continue}if(a??(a=kb()),R.SlateText.isText(p)){u??(u=Uu(a.pushNode)),u.pushNode(p);continue}else if(R.SlateEditor.isVoid(r,p)){u=void 0,a.pushNode(p);continue}else{const m=R.DomEditor.findPath(r,p),[g]=R.SlateEditor.nodes(r,{at:m,mode:"lowest",voids:!1,match:_=>R.DomEditor.checkNodeType(_,"ssml-prosody")});if(g){u=void 0,a.pushNode(p);continue}else{u??(u=Uu(a.pushNode)),u.pushNode(p);continue}}}}return a&&o.push(a.voice),o}function No(){const{editor:r}=qe();if(!r)throw Error("没有找到 editor 对象");const{rootSpeak:s,rootBackgroundaudio:o}=vn(),a={...s,children:[]},u={...o};return a.children.push(u,...Rb(r)),Cc(a)}const Tb=r=>(n.pushScopeId("data-v-f485fb08"),r=r(),n.popScopeId(),r),Vb={class:"play-menu-icon d-flex justify-content-center align-items-center"},Ab={key:0,class:"fs-3 iconfont-moyin moyin-icon_play"},$b={key:2,class:"iconfont icon-pause"},Ob=Tb(()=>n.createElementVNode("div",{class:"fw-normal",style:{"font-size":"0.85rem"}},"24K高清音质",-1)),Db=n.defineComponent({__name:"play-menu",props:{disabled:{type:Boolean,default:!1}},setup(r){const s=So(),{audioPlayer:o}=s,a=o.playState,u=o.loadState,f=qe(),{globalEditConfig:p}=f;async function m(){if(a.value==="playing"){o.pause();return}try{const g=No(),_=await p.tryPlay.play(g);await o.load(_.src),o.play()}catch{o.pause()}}return(g,_)=>(n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass(["play-menu px-2 py-1",{disabled:g.disabled}]),onClick:_[0]||(_[0]=S=>!g.disabled&&m()),onMousedown:_[1]||(_[1]=n.withModifiers(()=>{},["prevent"]))},[n.createElementVNode("div",Vb,[n.unref(u)==="complete"&&n.unref(a)==="paused"?(n.openBlock(),n.createElementBlock("span",Ab)):n.unref(u)==="loading"?(n.openBlock(),n.createBlock(n.unref(j.ElIcon),{key:1,class:"is-loading"},{default:n.withCtx(()=>[n.createVNode(n.unref(pn.Loading))]),_:1})):(n.openBlock(),n.createElementBlock("span",$b))]),Ob],34))}});const Rc=Qe(Db,[["__scopeId","data-v-f485fb08"]]);class vt{constructor(s){Ce(this,"editor");this.editor=s}getValue(){const{selection:s}=this.editor;return s==null?"":R.SlateEditor.string(this.editor,s)}isDisabled(){const{selection:s}=this.editor;return s==null?(this.editor.emit(Ee.ERROR,"未选中编辑器"),!0):!1}}class Ib extends vt{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(Ee.ERROR,"请框选一个中文字符"),!0;const o=this.getValue();return o.length!=1?(this.editor.emit(Ee.ERROR,"请框选一个中文字符"),!0):/^[\u4E00-\u9FA5]$/gi.test(o)?!1:(this.editor.emit(Ee.ERROR,"请框选一个中文字符"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"sapi",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const Tc=n.defineComponent({setup(){const{globalEditConfig:r}=qe(),s=n.shallowRef(),o=n.ref([]),a=n.ref(!1);function u(){a.value||(a.value=!0)}function f(){a.value&&(a.value=!1)}async function p(m){var _;if(s.value??(s.value=new Ib(m)),(_=s.value)!=null&&_.isDisabled())return;const g=s.value.getValue();if(g?o.value=await r.pinyin.fetchData(g):o.value=[],o.value.length==0)return m.emit(Ee.ERROR,"选中的字符没有不是多音字");u()}return()=>n.createVNode(j.ElPopover,{visible:a.value,"onUpdate:visible":m=>a.value=m,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ke,{text:"多音字",icon:"speaker",onClick:p},null),default:()=>n.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-auto",style:"max-height: 300px"},[o.value.map(({label:m,value:g})=>n.createVNode("div",{key:g,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{s.value&&!s.value.isDisabled()&&s.value.exec({label:m,value:g}),f()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[m]))])})}});class Lb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要连读的词或句子"),!0):R.SlateEditor.string(this.editor,s).length<2:!0}exec(){if(this.isDisabled())return;const s=this.getValue();if(s==null)return;const o={type:"ssml-prosody",rate:"medium",remark:"连读",children:[{text:s}]};this.editor.insertNode(o)}}const Vc=n.defineComponent({setup(){const r=n.shallowRef();function s(o){r.value??(r.value=new Lb(o)),!r.value.isDisabled()&&r.value.exec()}return()=>n.createVNode(Ke,{text:"连读",icon:"continuous",onClick:s},null)}}),Bb=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],Pb={z:{pitch:"x-high",rate:void 0},t:{pitch:void 0,rate:"medium"},"z+t":{pitch:"x-high",rate:"medium"}};class Mb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return!s||s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const{pitch:a,rate:u}=Pb[s.value],f={type:"ssml-prosody",remark:s.label,pitch:a,rate:u,children:[{text:o}]};this.editor.insertNode(f)}}const Ac=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value||(s.value=!0)}function a(){s.value&&(s.value=!1)}function u(f){r.value??(r.value=new Mb(f)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":f=>s.value=f,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ke,{text:"重音",icon:"read",onClick:u},null),default:()=>n.createVNode("div",{class:"d-flex flex-column",onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[Bb.map(({label:f,value:p})=>n.createVNode("div",{key:p,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{r.value&&!r.value.isDisabled()&&r.value.exec({label:f,value:p}),a()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[f]))])})}});class Fb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(Ee.ERROR,"请框选纯数字"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(Ee.ERROR,"请框选纯数字"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-say-as",interpretAs:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const Ub=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],$c=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value=!s.value}function a(u){r.value??(r.value=new Fb(u)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":u=>s.value=u,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ke,{text:"数字符号",icon:"digital",onClick:a},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[Ub.map(({label:u,value:f})=>n.createVNode("div",{key:f,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{r.value&&!r.value.isDisabled()&&r.value.exec({label:u,value:f}),o()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[u]))])})}});class Hb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要设置别名的词或句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-sub",remark:s.value,alias:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const Oc=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(),o=n.ref(!1);function a(){o.value||(o.value=!0)}function u(){o.value&&(o.value=!1)}async function f(m){var g;r.value??(r.value=new Hb(m)),!r.value.isDisabled()&&(a(),(g=s.value)==null||g.focus())}function p(m){var g;u(),m&&((g=r.value)==null||g.exec({value:m,label:m}))}return()=>n.createVNode(j.ElPopover,{visible:o.value,"onUpdate:visible":m=>o.value=m,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>n.createVNode(Ke,{text:"别名",icon:"alias",onClick:f},null),default:()=>n.createVNode(xs,{ref:s,onSubmit:p},null)})}});class Wb extends vt{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;if(!s)return!0;if(R.SlateRange.isCollapsed(s))return this.editor.emit(Ee.ERROR,"请框选英文单词"),!0;const o=R.SlateEditor.string(this.editor,s);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(Ee.ERROR,"请框选英文单词"),!0)}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-phoneme",alphabet:"ipa",ph:s.value,remark:s.label,children:[{text:o}]};this.editor.insertNode(a)}}const Dc=n.defineComponent({setup(){const{globalEditConfig:r}=qe(),s=n.shallowRef(),o=n.ref([]),a=n.ref(!1);function u(){a.value||(a.value=!0)}function f(){a.value&&(a.value=!1)}async function p(m){if(s.value??(s.value=new Wb(m)),$y(m),s.value.isDisabled())return;const g=s.value.getValue();if(g){if(o.value=await r.english.fetchData(g),o.value.length<=0)return m.emit(Ee.ERROR,"找不到单词的音标");u()}}return()=>n.createVNode(j.ElPopover,{visible:a.value,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ke,{text:"音标",icon:"english",onClick:p},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:m,value:g})=>n.createVNode("div",{key:g,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{s.value&&!s.value.isDisabled()&&s.value.exec({label:m,value:g}),f()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[m]))])})}});class zb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要变速的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-prosody",remark:s.label,rate:s.value,children:[{text:o}]};this.editor.insertNode(a)}}function fe(r){return`${((r-1)*100).toFixed(0)}%`}const Gb=[{value:fe(.5),label:"0.5x"},{value:fe(.55),label:"0.55x"},{value:fe(.6),label:"0.6x"},{value:fe(.65),label:"0.65x"},{value:fe(.7),label:"0.7x"},{value:fe(.75),label:"0.75x"},{value:fe(.8),label:"0.8x"},{value:fe(.85),label:"0.85x"},{value:fe(.9),label:"0.9x"},{value:fe(.95),label:"0.95x"},{value:fe(1),label:"1x"},{value:fe(1.05),label:"1.05x"},{value:fe(1.1),label:"1.1x"},{value:fe(1.15),label:"1.15x"},{value:fe(1.2),label:"1.2x"},{value:fe(1.25),label:"1.25x"},{value:fe(1.3),label:"1.3x"},{value:fe(1.35),label:"1.35x"},{value:fe(1.4),label:"1.4x"},{value:fe(1.45),label:"1.45x"},{value:fe(1.5),label:"1.5x"},{value:fe(1.55),label:"1.55x"},{value:fe(1.6),label:"1.6x"},{value:fe(1.65),label:"1.65x"},{value:fe(1.7),label:"1.7x"},{value:fe(1.75),label:"1.75x"},{value:fe(1.8),label:"1.8x"},{value:fe(1.85),label:"1.85x"},{value:fe(1.9),label:"1.9x"},{value:fe(1.95),label:"1.95x"},{value:fe(2),label:"2x"}],Ic=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value||(s.value=!0)}function a(){s.value&&(s.value=!1)}async function u(f){r.value??(r.value=new zb(f)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{style:{padding:"0px"},visible:s.value,"onUpdate:visible":f=>s.value=f,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ke,{text:"局部变速",icon:"changespeed",onClick:u},null),default:()=>n.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[Gb.map(({label:f,value:p})=>n.createVNode("div",{key:p,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var m;(m=r.value)==null||m.exec({label:f,value:p}),a()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[f]))])})}});class qb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(Ee.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const Kb=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],Lc=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1);function o(){s.value||(s.value=!0)}function a(){s.value&&(s.value=!1)}function u(f){r.value??(r.value=new qb(f)),!r.value.isDisabled()&&o()}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":f=>s.value=f,trigger:"contextmenu",hideAfter:0},{reference:()=>n.createVNode(Ke,{text:"停顿调节",icon:"rhythm",onClick:u},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[Kb.map(({label:f,value:p})=>n.createVNode("div",{key:p,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{r.value&&!r.value.isDisabled()&&r.value.exec({label:f,value:p}),a()},onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[f]))])})}});class Yb extends vt{constructor(s){super(s)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(Ee.ERROR,"不能框选文字"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const a={type:"ssml-audio",src:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(a)}}const Bc=n.defineComponent({__name:"special-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:u}=qe(),{special:f}=u,p=n.ref(!1),{x:m,y:g,height:_}=vr(o),S=k=>{a.value??(a.value=new Yb(k)),!a.value.isDisabled()&&(s.value.setPosition({x:m.value-200,y:g.value+_.value}),p.value=!0)};function C(k){var T;(T=a.value)==null||T.restoreSelection(),a.value&&!a.value.isDisabled()&&a.value.exec(k),p.value=!1}return(k,T)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":T[0]||(T[0]=E=>p.value=E)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:S},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Cs),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:C},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}});class Xb extends vt{constructor(s){super(s)}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s?R.SlateRange.isExpanded(s)?(this.editor.emit(Ee.ERROR,"不能框选文本"),!0):!1:!0}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:s.value,remark:s.label,children:[{text:""}]};this.editor.insertNode(o)}}const Jb=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],Pc=n.defineComponent({setup(){const r=n.shallowRef(),s=n.ref(!1),o=n.ref();function a(){s.value||(s.value=!0)}function u(){s.value&&(s.value=!1)}function f(m){var g;r.value??(r.value=new Xb(m)),!r.value.isDisabled()&&(a(),(g=o.value)==null||g.focus())}function p(m){var g;u(),m&&((g=r.value)==null||g.exec({value:m,label:m}))}return()=>n.createVNode(j.ElPopover,{visible:s.value,"onUpdate:visible":m=>s.value=m,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>n.createVNode(Ke,{text:"插入静音",icon:"mute",onClick:f},null),default:()=>n.createVNode("div",{class:"d-flex flex-column"},[Jb.map(({value:m,label:g})=>n.createVNode("div",{key:m,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>p(m),onMousedown:n.withModifiers(()=>{},["stop","prevent"])},[g])),n.createVNode(xs,{type:"text",ref:o,onSubmit:p},null)])})}}),Mc=n.defineComponent({__name:"bgm-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),{globalEditConfig:u}=qe(),{bgm:f}=u,p=n.ref(!1),{x:m,y:g,height:_}=vr(o),S=async k=>{const T={x:m.value-300,y:g.value+_.value};a.value=k,s.value.setPosition(T),p.value=!0};function C(k){const{rootBackgroundaudio:T}=vn();T.src=k.value,T.remark=k.label,p.value=!1}return(k,T)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:p.value,"onUpdate:visible":T[0]||(T[0]=E=>p.value=E)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:S},null,512)]),default:n.withCtx(()=>[n.createVNode(n.unref(Cs),{menus:n.unref(f).menus,fetchScene:n.unref(f).fetchScene,fetchStyle:n.unref(f).fetchStyle,fetchData:n.unref(f).fetchData,onSubmit:C},null,8,["menus","fetchScene","fetchStyle","fetchData"])]),_:1},8,["visible"]))}}),Fc=n.defineComponent({__name:"sensitive-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),u=n.ref(!1),{x:f,y:p,height:m}=vr(o),g=_=>{a.value=_,s.value.setPosition({x:f.value-200,y:p.value+m.value}),u.value=!0};return(_,S)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:u.value,"onUpdate:visible":S[0]||(S[0]=C=>u.value=C)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:g},null,512)]),default:n.withCtx(()=>[n.createVNode(Fc)]),_:1},8,["visible"]))}});const Zb={class:"select-list",style:{width:"120px"}},Qb={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},jb=["onClick"],e1=n.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(r,{expose:s,emit:o}){const a=r,u=n.ref();function f(m){o("update:modelValue",m.value)}function p(){var m;if(u.value){for(let g=0;g<a.dataList.length;g++)if(a.dataList[g].value===a.modelValue){(m=u.value.children[g])==null||m.scrollIntoView({behavior:"smooth"});return}}}return s({scrollIntoViewTheItem:p}),(m,g)=>(n.openBlock(),n.createElementBlock("div",Zb,[n.createElementVNode("div",Qb,[n.renderSlot(m.$slots,"default",{},void 0,!0)]),n.createElementVNode("ul",{ref_key:"listRef",ref:u,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(m.dataList,(_,S)=>(n.openBlock(),n.createElementBlock("li",{class:n.normalizeClass(["clickable select-item py-1",{activate:_.value===m.modelValue}]),key:S,onClick:C=>f(_)},n.toDisplayString(_.label),11,jb))),128))],512)]))}});const Ln=Qe(e1,[["__scopeId","data-v-e0f0259e"]]),t1={class:"position-relative"},n1={class:"position-absolute top-0 end-0"},r1=n.createElementVNode("li",null,[n.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),o1=["onClick"],i1=n.createElementVNode("span",{class:"my-3"},"类型",-1),s1=n.createElementVNode("span",{class:"my-3"},"配音师",-1),a1=n.createElementVNode("span",{class:"my-3"},"角色",-1),l1=n.createElementVNode("span",{class:"my-3"},"风格",-1),u1=n.createElementVNode("span",{class:"my-3"},"语速",-1),c1=n.createElementVNode("span",{class:"my-3"},"语调",-1),f1={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},d1=n.defineComponent({__name:"management-content",emits:["submit"],setup(r,{emit:s}){const{globalEditConfig:o}=qe(),{tryPlay:a,management:u}=o,f=n.ref(),p=n.ref(!1),m=n.ref(""),g=gc(),{contentData:_}=rc(g),S=n.shallowRef([]),C=n.ref([]),k=n.ref([{label:"全部类型",value:""},...a.category]),T=n.ref([]),E=n.ref([]),w=n.ref([]),I=n.ref(ay()),B=n.ref(ly()),P=Co(f);n.onMounted(async()=>{_.value.category=k.value[0].value,await F(),await D()}),n.watch(P,U=>{U||(m.value="",p.value=!1)});async function A(U){_.value.category=U,await F()}async function F(){const U=await a.fetchData({...xo(),..._.value});S.value=U,T.value=U.map(K=>({label:K.displayName,value:K.name})),U.length>0&&(E.value=U[0].roles,w.value=U[0].styles,_.value.name=U[0].name),E.value.length>0&&(_.value.role=E.value[0].value),w.value.length>0&&(_.value.style=w.value[0].value)}function G(U){const K=S.value.find(ie=>ie.name===U);K&&(E.value=K.roles,w.value=K.styles,E.value.length>0&&(_.value.role=E.value[0].value),w.value.length>0&&(_.value.style=w.value[0].value))}async function X(){var Ae,ve,gn,ge;const U=((Ae=T.value.find(Se=>Se.value===_.value.name))==null?void 0:Ae.label)||"",K=((ve=E.value.find(Se=>Se.value===_.value.role))==null?void 0:ve.label)||"",ie=((gn=w.value.find(Se=>Se.value===_.value.style))==null?void 0:gn.label)||"",De=((ge=I.value.find(Se=>Se.value===_.value.speed))==null?void 0:ge.label)||"",kt={category:_.value.category,name:_.value.name,label:`${U}|${K}|${ie}|${De}`,value:_.value.name,role:_.value.role,style:_.value.style,speed:cy(Number(_.value.speed)),pitch:uy(Number(_.value.pitch))};s("submit",kt),await ue(kt)}async function D(){try{C.value=await u.fetchRecentUsage()}catch(U){He.emit(Be.ERROR,`${U}`,U)}}async function ue(U){try{const K={..._.value,label:U.label,id:""},ie=await u.recordRecentUsage(K);C.value.splice(0,0,ie),C.value=Pe.sortedUniqBy(C.value,De=>`${De.name}+${De.role}+${De.style}+${De.pitch}+${De.speed}`)}catch(K){He.emit(Be.ERROR,`${K}`,K)}}function we(U){_.value.category=U.category,_.value.name=U.name,_.value.pitch=U.pitch,_.value.role=U.role,_.value.speed=U.speed,_.value.style=U.style,X()}async function H(U){try{const K=C.value[U];await u.deleteRecentUsage(K.id),C.value.splice(U,1)}catch(K){He.emit(Be.ERROR,`${K}`,K)}}async function W(){try{await u.deleteRecentUsage(),C.value=[]}catch(U){He.emit(Be.ERROR,`${U}`,U)}}return(U,K)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(F,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{modelValue:m.value,"onUpdate:modelValue":K[0]||(K[0]=ie=>m.value=ie),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),n.createElementVNode("div",t1,[n.createElementVNode("div",n1,[n.createVNode(n.unref(j.ElButton),{size:"small",icon:n.unref(pn.More),onClick:K[1]||(K[1]=()=>p.value=!p.value)},null,8,["icon"])]),n.createElementVNode("ul",{class:n.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":p.value}])},[r1,(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(C.value,(ie,De)=>(n.openBlock(),n.createElementBlock("li",{class:"btn m-0 p-0",onClick:kt=>we(ie),key:De},[n.createVNode(n.unref(j.ElTag),{type:"info",onClose:kt=>H(De),closable:""},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(ie.label),1)]),_:2},1032,["onClose"])],8,o1))),128))],2),n.withDirectives(n.createElementVNode("div",{class:n.normalizeClass({"d-flex flex-row":!p.value})},[n.createVNode(Ln,{"onUpdate:modelValue":[A,K[2]||(K[2]=ie=>n.unref(_).category=ie)],modelValue:n.unref(_).category,dataList:k.value},{default:n.withCtx(()=>[i1]),_:1},8,["modelValue","dataList"]),n.createVNode(Ln,{"onUpdate:modelValue":[G,K[3]||(K[3]=ie=>n.unref(_).name=ie)],modelValue:n.unref(_).name,dataList:T.value},{default:n.withCtx(()=>[s1]),_:1},8,["modelValue","dataList"]),n.createVNode(Ln,{modelValue:n.unref(_).role,"onUpdate:modelValue":K[4]||(K[4]=ie=>n.unref(_).role=ie),dataList:E.value},{default:n.withCtx(()=>[a1]),_:1},8,["modelValue","dataList"]),n.createVNode(Ln,{modelValue:n.unref(_).style,"onUpdate:modelValue":K[5]||(K[5]=ie=>n.unref(_).style=ie),dataList:w.value},{default:n.withCtx(()=>[l1]),_:1},8,["modelValue","dataList"]),n.createVNode(Ln,{modelValue:n.unref(_).speed,"onUpdate:modelValue":K[6]||(K[6]=ie=>n.unref(_).speed=ie),dataList:I.value},{default:n.withCtx(()=>[u1]),_:1},8,["modelValue","dataList"]),n.createVNode(Ln,{modelValue:n.unref(_).pitch,"onUpdate:modelValue":K[7]||(K[7]=ie=>n.unref(_).pitch=ie),dataList:B.value},{default:n.withCtx(()=>[c1]),_:1},8,["modelValue","dataList"])],2),[[n.vShow,!p.value]])]),n.createElementVNode("div",f1,[n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:X,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("确定")]),_:1},512),[[n.vShow,!p.value]]),n.withDirectives(n.createVNode(n.unref(j.ElButton),{onClick:W,type:"primary"},{default:n.withCtx(()=>[n.createTextVNode("全部清空")]),_:1},512),[[n.vShow,p.value]])])],512))}});class Hu extends vt{constructor(o){super(o);Ce(this,"contentData")}isDisabled(){if(super.isDisabled())return!0;const{selection:o}=this.editor;if(o==null)return!0;if(R.DomEditor.getSelectedNodeByType(this.editor,"custom-management"))return!1;if(R.SlateRange.isCollapsed(o))return this.editor.emit(Ee.ERROR,"请框选句子"),!0;const[a]=R.SlateEditor.node(this.editor,o),u=this.editor.getParentNode(a);return!u||!R.DomEditor.checkNodeType(u,"paragraph")?(this.editor.emit(Ee.ERROR,"多人配音需要在最外层使用"),!0):!1}exec(o){if(this.editor.restoreSelection(),this.isDisabled())return;const a=this.getValue();if(a==null)return;const u=R.DomEditor.getSelectedNodeByType(this.editor,"custom-management");if(u)R.SlateTransforms.setNodes(this.editor,{custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch},{at:R.DomEditor.findPath(this.editor,u)});else{const f={type:"custom-management",custom:{contentData:this.contentData||{}},remark:o.label,name:o.value,role:o.role,style:o.style,rate:o.speed,pitch:o.pitch,children:[{text:a}]};this.editor.insertNode(f)}}}const Uc=n.defineComponent({__name:"management-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!1),u=n.shallowRef(),f=gc(),{contentData:p}=rc(f),{x:m,y:g,height:_}=vr(o);n.onMounted(()=>{He.on(Be.EDITOR_CREATED,E=>{E.on(Ee.SSML_ELEMENT_CLICK,(w,I)=>{var B;if(I.type==="custom-management"){u.value??(u.value=new Hu(w));const A=((B=I.custom)==null?void 0:B.contentData)||{};A&&(p.value.category=A.category,p.value.name=A.name,p.value.pitch=A.pitch,p.value.role=A.role,p.value.speed=A.speed,p.value.style=A.style),setTimeout(()=>{S()},200)}})})});function S(){var w;const E={x:m.value-200,y:g.value+_.value};(w=s.value)==null||w.setPosition(E),a.value=!0}function C(){a.value=!1}function k(E){u.value??(u.value=new Hu(E)),!u.value.isDisabled()&&S()}function T(E){var w;u.value&&!u.value.isDisabled()&&(u.value.contentData={...p.value},(w=u.value)==null||w.exec(E)),C()}return(E,w)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:a.value,"onUpdate:visible":w[0]||(w[0]=I=>a.value=I)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:k},null,512)]),default:n.withCtx(()=>[n.createVNode(d1,{onSubmit:T})]),_:1},8,["visible"]))}}),p1={class:"speaker-head"},h1=["src"],m1={class:"speaker-name"},v1=n.defineComponent({__name:"speaker-item",props:{label:{},value:{},avatar:{},activated:{type:Boolean}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("div",{class:"speaker-item",onClick:o[0]||(o[0]=a=>s.$emit("click",s.value||""))},[n.createElementVNode("div",p1,[n.createElementVNode("img",{src:s.avatar||n.unref(Fn)(),class:n.normalizeClass([{"border border-warning":s.activated},"rounded-circle"]),style:{height:"40px"}},null,10,h1)]),n.createElementVNode("div",m1,n.toDisplayString(s.label),1)]))}});const g1=Qe(v1,[["__scopeId","data-v-b043c1a6"]]);class _1{constructor(){Ce(this,"mediaRecorder",null);Ce(this,"isRecording",n.ref(!1))}get recorderState(){return n.computed(()=>this.isRecording.value?"recording":"paused")}async start(s){if(navigator.mediaDevices.getUserMedia){const o=[];try{const a=await navigator.mediaDevices.getUserMedia({audio:!0}),u=new MediaRecorder(a);return this.mediaRecorder=u,new Promise((f,p)=>{u.ondataavailable=m=>{s.isCancellationRequested()?(u.stop(),this.isRecording.value=!1,s.throwIfRequested()):o.push(m.data)},u.onstart=()=>{this.isRecording.value=!0},u.onpause=()=>{this.isRecording.value=!1},u.onstop=()=>{this.isRecording.value=!1;const m=new Blob(o,{type:"audio/wav"});f(m)},u.onerror=m=>{this.isRecording.value=!1,p(m)},s.throwIfRequested(),u.start()})}catch(a){throw console.error(a),new Error("授权失败！",{cause:a})}}throw Error("浏览器不支持 getUserMedia")}stop(){this.mediaRecorder&&this.mediaRecorder.stop()}}const y1={class:"d-flex flex-row justify-content-between border rounded-pill border-secondary my-3 py-1 px-2"},w1={class:"text-secondary d-flex flex-row align-items-center",style:{"font-size":"0.5rem"}},b1={key:0,class:"iconfont icon-pause"},E1={key:1,class:"iconfont icon-play"},x1=n.createElementVNode("span",{class:"iconfont icon-delete"},null,-1),S1=[x1],k1={key:1,style:{"font-size":"0.5rem"}},C1=n.createElementVNode("p",null,"选择需要转换的配音师",-1),N1={class:"speakers-container border rounded d-flex flex-row flex-wrap row-gap-1 column-gap-2 overflow-y-auto overflow-x-hidden",style:{height:"150px"}},R1=["disabled"],T1=n.defineComponent({__name:"audio-upload",emits:["submit"],setup(r,{expose:s,emit:o}){const{globalEditConfig:a}=qe(),{audioUpload:u,transfer:f,fetchSpeaker:p,timeoutMilliseconds:m}=a.conversion,g=n.ref(),_=n.ref(),S=n.ref(),C=n.ref(!0),k=n.ref([]),T=n.ref(),E=n.shallowRef(),w=n.shallowRef(),I=new vc,{playState:B}=I;let P;const A=new _1,F=new pc("audio/*"),G=new hc(60),{state:X}=G,{recorderState:D}=A,ue=Co(g),we=n.inject("reopen");n.watch(ue,ge=>{ge||H()}),n.onMounted(async()=>{k.value=await p()}),n.watch(ue,ge=>{ge||(C.value=!0,P==null||P.cancel())}),s({openInputFile:De});function H(){C.value=!0,W()}function W(){I.pause(),_.value=void 0,S.value=void 0,T.value=void 0,E.value=void 0,w.value=void 0,P==null||P.cancel()}function U(){A.stop(),G.stop()}async function K(){P=new ps(6e4),G.start();try{P.startTimeout(),E.value=await A.start(P.token)}catch(ge){He.emit(Be.ERROR,`${ge}`,ge)}finally{P.cancel(),G.stop()}}function ie(){if(B.value==="playing")I.pause();else if(E.value){const ge=window.URL.createObjectURL(E.value);I.load(ge),I.play()}else if(w.value){const ge=window.URL.createObjectURL(w.value);I.load(ge),I.play()}}async function De(){try{return w.value=await F.open(),C.value=!1,!0}catch{return!1}}async function kt(){try{if(P=new ps(m),C.value&&E.value)P.startTimeout(),_.value=await u(E.value,P.token);else if(!C.value&&w.value)P.startTimeout(),_.value=await u(w.value,P.token);else throw new Error("请选则文件或实时录音")}catch(ge){He.emit(Be.ERROR,`${ge}`,ge)}}async function Ae(ge){try{_.value?(T.value=ge,S.value=await f({audioId:_.value.id,speakerId:ge.id})):He.emit(Be.ERROR,"请先上传音频文件")}catch(Se){He.emit(Be.ERROR,`${Se}`,Se)}}function ve(){S.value&&T.value&&(o("submit",{label:T.value.displayName,value:S.value.src}),H())}function gn(){P==null||P.cancel(),we==null||we()}return(ge,Se)=>{var gr,_r;return n.openBlock(),n.createElementBlock("div",{class:"audio-upload",ref_key:"boxRef",ref:g},[n.createElementVNode("div",y1,[n.createElementVNode("div",w1,[E.value||w.value?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:ie,class:"btn btn-sm rounded-pill"},[n.unref(B)==="playing"||n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("span",b1)):(n.openBlock(),n.createElementBlock("span",E1))])):n.createCommentVNode("",!0),n.createElementVNode("span",null,n.toDisplayString(((gr=w.value)==null?void 0:gr.name)||((_r=E.value)==null?void 0:_r.name)),1)]),n.createElementVNode("div",null,[!_.value&&(E.value||w.value)?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:W,class:"btn btn-sm rounded-pill"},S1)):n.createCommentVNode("",!0),_.value?(n.openBlock(),n.createElementBlock("span",k1,"已上传")):n.createCommentVNode("",!0),C.value&&!E.value?(n.openBlock(),n.createElementBlock(n.Fragment,{key:2},[n.unref(D)==="recording"?(n.openBlock(),n.createElementBlock("button",{key:0,onClick:U,class:"btn btn-primary btn-sm rounded-pill"}," 结束录音("+n.toDisplayString(n.unref(X))+")s ",1)):(n.openBlock(),n.createElementBlock("button",{key:1,onClick:K,class:"btn btn-primary btn-sm rounded-pill"}," 开始录音 "))],64)):n.createCommentVNode("",!0),!C.value&&!w.value?(n.openBlock(),n.createElementBlock("button",{key:3,onClick:De,class:"btn btn-primary btn-sm rounded-pill"}," 选择文件 ")):n.createCommentVNode("",!0),_.value?(n.openBlock(),n.createElementBlock("button",{key:4,onClick:gn,class:"btn btn-primary btn-sm rounded-pill"}," 重传音频 ")):n.createCommentVNode("",!0),!_.value&&(w.value||E.value)?(n.openBlock(),n.createElementBlock("button",{key:5,onClick:kt,class:"btn btn-primary btn-sm rounded-pill"}," 上传音频 ")):n.createCommentVNode("",!0)])]),n.createElementVNode("div",null,[C1,n.createElementVNode("div",N1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(k.value,(_n,Ut)=>{var jt;return n.openBlock(),n.createBlock(g1,{onClick:Vs=>Ae(_n),key:Ut,label:_n.displayName,avatar:_n.avatar,activated:_n.name===((jt=T.value)==null?void 0:jt.name)},null,8,["onClick","label","avatar","activated"])}),128))])]),n.createElementVNode("button",{class:"btn btn-primary mt-1",onClick:ve,disabled:!S.value}," 完成录音并上传完成后，可选择配音师转换 ",8,R1)],512)}}}),V1={class:"fw-bold",style:{"font-size":"0.5rem"}},A1=n.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),$1={class:"border border-secondary rounded p-2 w-100",style:{height:"100px"}},O1={class:"mt-2"},D1=n.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),I1=n.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(r){const s=n.ref(),o=n.ref(),a=n.ref(!0),u=n.ref(!1),f=Co(s);n.provide("reopen",()=>{a.value=!0,u.value=!1}),n.watch(f,g=>{g||(a.value=!0,u.value=!1)});function p(){a.value=!0,u.value=!0}async function m(){var g;await((g=o.value)==null?void 0:g.openInputFile())&&(a.value=!1,u.value=!0)}return(g,_)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:s,class:"px-2 py-1",style:{width:"410px"}},[n.withDirectives(n.createElementVNode("section",V1,[A1,n.createElementVNode("div",$1,n.toDisplayString(g.text),1)],512),[[n.vShow,a.value]]),n.withDirectives(n.createElementVNode("section",O1,[n.createElementVNode("div",{class:"w-100 d-flex flex-column row-gap-1"},[n.createElementVNode("button",{onClick:p,class:"btn btn-success"},"实时录音"),n.createElementVNode("button",{onClick:m,class:"btn btn-primary"},"上传录音")]),D1],512),[[n.vShow,!u.value]]),n.withDirectives(n.createElementVNode("section",null,[n.createVNode(T1,{ref_key:"audioUploadRef",ref:o,onSubmit:_[0]||(_[0]=S=>g.$emit("submit",S))},null,512)],512),[[n.vShow,u.value]])],512))}});class L1 extends vt{constructor(s){super(s)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:s}=this.editor;return s==null?!0:R.SlateRange.isCollapsed(s)?(this.editor.emit(Ee.ERROR,"请框选要变音的句子"),!0):!1}exec(s){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const a={type:"ssml-audio",remark:s.label,src:s.value,children:[{text:o}]};this.editor.insertNode(a)}}const Hc=n.defineComponent({__name:"conversion-menu",setup(r){const s=n.ref(),o=n.ref(),a=n.shallowRef(),u=n.shallowRef(),f=n.ref(!1),p=n.ref(""),{x:m,y:g,height:_}=vr(o),S=k=>{if(u.value??(u.value=new L1(k)),u.value.isDisabled())return;p.value=u.value.getValue();const T={x:m.value-200,y:g.value+_.value};a.value=k,s.value.setPosition(T),f.value=!0};function C(k){var T;(T=u.value)==null||T.exec(k),f.value=!1}return(k,T)=>(n.openBlock(),n.createBlock(n.unref(Hn),{ref_key:"dragRef",ref:s,visible:f.value,"onUpdate:visible":T[0]||(T[0]=E=>f.value=E)},{reference:n.withCtx(()=>[n.createVNode(n.unref(Ke),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:S},null,512)]),default:n.withCtx(()=>[n.createVNode(I1,{text:p.value,onSubmit:C},null,8,["text"])]),_:1},8,["visible"]))}}),B1={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},P1={class:"position-relative"},M1=["src"],F1={key:0,class:"iconfont icon-play1"},U1={key:1,class:"iconfont icon-pause1"},H1={class:"anchor-avatar-name text-white"},W1=n.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=n.ref(),a=n.ref(),u=n.ref(0),f=n.ref(0),p=So(),{globalEditConfig:m}=qe(),{audioPlayer:g}=p,_=g.playState,{position:S}=ks(o,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(P,A)=>w(A.clientX,A.clientY)?!1:void 0}),{style:C}=Ns(o,S);function k(P){(()=>{if(w(P.clientX,P.clientY))return I(P)?B():s("update:visible",!1)})(),T()}function T(){u.value=0,f.value=0}function E(P){u.value=P.clientX,f.value=P.clientY}function w(P,A){return P>u.value-10&&P<u.value+10&&A>f.value-10&&A<f.value+10}function I(P){var F;const A=P.target;return((F=a.value)==null?void 0:F.contains(A))||!1}async function B(){if(_.value==="playing")g.pause();else try{const P=No(),A=await m.tryPlay.play(P);g.load(A.src),g.play()}catch{g.pause()}}return(P,A)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:o,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:n.normalizeStyle([n.unref(C),{position:"fixed"}]),onMousedown:E,onMouseup:k},[n.createElementVNode("div",B1,[n.createElementVNode("div",P1,[n.createElementVNode("img",{src:n.unref(p).speaker.avatar||n.unref(Fn)(),class:"rounded-circle"},null,8,M1),n.createElementVNode("button",{ref_key:"btnPlayRef",ref:a,class:"btn w-100 h-100 position-absolute top-50 start-50 translate-middle bg-black bg-opacity-50 text-white rounded-circle"},[n.unref(_)==="paused"?(n.openBlock(),n.createElementBlock("span",F1)):(n.openBlock(),n.createElementBlock("span",U1))],512)]),n.createElementVNode("div",H1,n.toDisplayString(n.unref(p).speaker.displayName),1)])],36)),[[n.vShow,P.visible]])}});const z1=Qe(W1,[["__scopeId","data-v-0f55dd94"]]),G1={key:0,class:"position-absolute top-0 start-100 translate-middle text-bg-danger text-nowrap rounded px-1",style:{"font-size":"0.5rem"}},q1=["src"],K1={class:"anchor-avatar-name text-white"},Y1=n.defineComponent({__name:"anchor-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,u,f;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=p=>{var m;return s.$emit("click",(m=s.data)==null?void 0:m.value)})},[(a=s.data)!=null&&a.isFree?n.createCommentVNode("",!0):(n.openBlock(),n.createElementBlock("span",G1,"付费")),n.createElementVNode("img",{src:((u=s.data)==null?void 0:u.src)??n.unref(Fn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"40px"}},null,10,q1),n.createElementVNode("div",K1,n.toDisplayString((f=s.data)==null?void 0:f.label),1)])}}});const Wc=Qe(Y1,[["__scopeId","data-v-845325c9"]]),X1={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},J1=n.defineComponent({__name:"anchor-list",props:{filter:{}},setup(r){const s=r,{globalEditConfig:o}=qe(),{fetchData:a}=o.tryPlay,u=So(),f=n.ref([]),p=n.shallowRef([]);n.watch(()=>s.filter,async g=>{const _=await a(n.toRaw(g));p.value=_,f.value=_.map(S=>({label:S.displayName,value:S.name}))});function m(g){const _=p.value.find(S=>S.name===g);_&&u.setSpeaker(_)}return n.onMounted(async()=>{const g=await a(n.toRaw(s.filter));p.value=g,f.value=g.map(_=>({label:_.displayName,value:_.name})),f.value.length>0&&m(f.value[0].value)}),(g,_)=>(n.openBlock(),n.createElementBlock("div",X1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(f.value,(S,C)=>(n.openBlock(),n.createElementBlock("div",{class:"m-3",key:C},[n.createVNode(Wc,{data:S,activate:S.value===n.unref(u).speaker.name,onClick:k=>m(S.value)},null,8,["data","activate","onClick"])]))),128))]))}}),is=n.defineComponent({__name:"tag-item",props:{activate:{type:Boolean},value:{}},emits:["click"],setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock("span",{class:n.normalizeClass(["tag-item d-inline-block text-white text-center text-nowrap text-truncate",{"border border-white rounded-pill":s.activate}]),onClick:o[0]||(o[0]=a=>s.$emit("click",s.value)),style:{height:"20px","min-width":"60px","max-width":"160px","font-size":"0.5rem",cursor:"pointer"}},[n.renderSlot(s.$slots,"default")],2))}}),Z1={class:"tag-list w-100"},Q1={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},j1={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},eE={style:{height:"100px"},class:"w-100 pt-2 d-flex flex-row flex-wrap align-content-start row-gap-2 overflow-y-auto overflow-x-hidden scrollbar-none"},tE=n.defineComponent({__name:"tag-list",props:{filter:{}},emits:["update:filter"],setup(r,{emit:s}){const o=r,{globalEditConfig:a}=qe(),{topFlag:u,gender:f,featchTag:p}=a.tryPlay,m=n.ref([]);n.onMounted(async()=>{m.value=await p()});function g(C){s("update:filter",{...n.toRaw(o.filter),topFlag:C})}function _(C){s("update:filter",{...n.toRaw(o.filter),gender:C})}function S(C){s("update:filter",{...n.toRaw(o.filter),tag:C})}return(C,k)=>(n.openBlock(),n.createElementBlock("div",Z1,[n.createElementVNode("div",Q1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(u),(T,E)=>(n.openBlock(),n.createBlock(is,{onClick:g,key:E,value:T.value,activate:C.filter.topFlag===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",j1,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(T,E)=>(n.openBlock(),n.createBlock(is,{onClick:_,key:E,value:T.value,activate:C.filter.gender===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))]),n.createElementVNode("div",eE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(m.value,(T,E)=>(n.openBlock(),n.createBlock(is,{onClick:S,key:E,value:T.value,activate:C.filter.tag===T.value},{default:n.withCtx(()=>[n.createTextVNode(n.toDisplayString(T.label),1)]),_:2},1032,["value","activate"]))),128))])]))}});const nE=["src"],rE={class:"anchor-avatar-name text-white",style:{"font-size":"0.5rem"}},oE=n.defineComponent({__name:"style-avatar",props:{activate:{type:Boolean},data:{}},emits:["click"],setup(r){return(s,o)=>{var a,u;return n.openBlock(),n.createElementBlock("div",{class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center position-relative",onClick:o[0]||(o[0]=f=>{var p;return s.$emit("click",(p=s.data)==null?void 0:p.value)})},[n.createElementVNode("img",{src:((a=s.data)==null?void 0:a.src)||n.unref(Fn)(),class:n.normalizeClass(["rounded-circle",{"border border-2 border-warning":s.activate}]),style:{height:"30px"}},null,10,nE),n.createElementVNode("div",rE,n.toDisplayString((u=s.data)==null?void 0:u.label),1)])}}});const iE=Qe(oE,[["__scopeId","data-v-71aedb65"]]);function sE(r){return`${(.05*r*100).toFixed(0)}%`}function aE(r){return`${((r-1)*100).toFixed(0)}%`}const Ts=r=>(n.pushScopeId("data-v-0210af00"),r=r(),n.popScopeId(),r),lE={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},uE={class:"mt-2 d-flex text-center justify-content-between align-items-center"},cE={class:"me-auto d-flex flex-row align-items-center"},fE=["src"],dE={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},pE={class:"d-flex dlex-row column-gap-2 align-items-end"},hE={class:"fs-6"},mE={style:{"font-size":"0.5rem"}},vE={class:"d-flex flex-row column-gap-2 align-items-center"},gE={key:0,class:"badge text-bg-primary px-2"},_E={class:"d-flex flex-column align-items-end"},yE=Ts(()=>n.createElementVNode("div",{class:"text-info"},"音频时长，请以生成后的为准",-1)),wE={class:"mt-1"},bE=Ts(()=>n.createElementVNode("span",null,"/",-1)),EE={class:"role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3"},xE=["onClick"],SE={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},kE=["onClick"],CE=Ts(()=>n.createElementVNode("div",{class:"my-3"},[n.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),NE={class:"slider-box"},RE={class:"slider-box"},TE={class:"d-flex flex-row gap-3 my-3"},VE=["onClick"],AE={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3",style:{"min-height":"100px"}},$E=["onClick"],OE=n.defineComponent({__name:"slider-panle",setup(r){const{globalEditConfig:s}=qe(),{rootProsody:o,rootExpressAs:a}=vn(),{fetchStar:u,category:f,fetchData:p}=s.tryPlay,m=So(),g=n.ref(m.speaker.isStar),_=n.ref(10),S=n.ref(0),C=n.ref([0,2]),k=n.ref(1),T=n.ref([-10,10]),E=n.ref(0),w=n.computed(()=>ds(_.value)),I=n.computed(()=>ds(S.value)),B=n.reactive(ic()),P=n.reactive(sc()),A=n.ref(""),F=n.ref([]);n.onMounted(async()=>{await ue(f[0].value)}),n.watch(()=>m.speaker,H=>{H.roles.length>0&&X(H.roles[0].value),H.styles.length>0&&D(H.styles[0].value)},{immediate:!0}),n.watch(E,H=>{o.pitch=sE(H)},{immediate:!0}),n.watch(k,H=>{o.rate=aE(H)},{immediate:!0});async function G(){g.value=await u(m.speaker.name,!g.value)}function X(H){a.role=H}function D(H){a.style=H}async function ue(H){A.value=H;try{F.value=await p({...xo(),category:H})}catch(W){He.emit(Be.ERROR,`${W}`,W)}}function we(H){m.setSpeaker(n.toRaw(H))}return(H,W)=>(n.openBlock(),n.createElementBlock("div",lE,[n.createElementVNode("div",uE,[n.createElementVNode("div",cE,[n.createElementVNode("img",{src:n.unref(Fn)(),class:"rounded-circle",style:{height:"50px"}},null,8,fE),n.createElementVNode("div",dE,[n.createElementVNode("div",pE,[n.createElementVNode("span",hE,n.toDisplayString(n.unref(m).speaker.displayName),1),n.createElementVNode("span",mE,n.toDisplayString(k.value)+"x",1)]),n.createElementVNode("div",vE,[n.createVNode(n.unref(j.ElIcon),{onClick:G,class:"fs-6",style:n.normalizeStyle({color:g.value?"red":"white"})},{default:n.withCtx(()=>[g.value?(n.openBlock(),n.createBlock(n.unref(pn.StarFilled),{key:0})):(n.openBlock(),n.createBlock(n.unref(pn.Star),{key:1}))]),_:1},8,["style"]),n.unref(m).speaker.isSupper24K?(n.openBlock(),n.createElementBlock("span",gE," 24K ")):n.createCommentVNode("",!0)])])]),n.createElementVNode("div",_E,[yE,n.createElementVNode("div",wE,[n.createElementVNode("span",null,n.toDisplayString(I.value),1),bE,n.createElementVNode("span",null,n.toDisplayString(w.value),1)]),n.createVNode(n.unref(j.ElSlider),{max:_.value,modelValue:S.value,"onUpdate:modelValue":W[0]||(W[0]=U=>S.value=U),size:"small"},null,8,["max","modelValue"])])]),n.createElementVNode("div",EE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(m).speaker.roles,(U,K)=>(n.openBlock(),n.createElementBlock("div",{onClick:ie=>X(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===(n.unref(a).role||"")}])},n.toDisplayString(U.label),11,xE))),128))]),n.createElementVNode("ul",SE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(m).speaker.styles,(U,K)=>(n.openBlock(),n.createElementBlock("li",{class:"mx-2",onClick:ie=>D(U.value),key:K},[n.createVNode(iE,{activate:U.value===(n.unref(a).style||""),data:U},null,8,["activate","data"])],8,kE))),128))]),CE,n.createElementVNode("div",NE,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语速："+n.toDisplayString(k.value)+"x",1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:k.value,"onUpdate:modelValue":W[1]||(W[1]=U=>k.value=U),min:C.value[0],max:C.value[1],step:.05,marks:B},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",RE,[n.createElementVNode("div",null,[n.createElementVNode("span",null,"语调："+n.toDisplayString(E.value),1)]),n.createVNode(n.unref(j.ElSlider),{modelValue:E.value,"onUpdate:modelValue":W[2]||(W[2]=U=>E.value=U),min:T.value[0],max:T.value[1],step:.2,marks:P},null,8,["modelValue","min","max","marks"])]),n.createElementVNode("div",null,[n.createElementVNode("ul",TE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(n.unref(f),(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:ie=>ue(U.value),key:K,class:n.normalizeClass(["rounded-pill px-1",{border:U.value===A.value}])},n.toDisplayString(U.label),11,VE))),128))]),n.createElementVNode("ul",AE,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(F.value,(U,K)=>(n.openBlock(),n.createElementBlock("li",{onClick:ie=>we(U),key:K},[n.createVNode(Wc,{activate:U.name===n.unref(m).speaker.name,data:{...U,label:U.displayName,value:U.name}},null,8,["activate","data"])],8,$E))),128))])])]))}});const DE=Qe(OE,[["__scopeId","data-v-0210af00"]]),IE=r=>(n.pushScopeId("data-v-b9c1f88f"),r=r(),n.popScopeId(),r),LE={class:"box ms-2"},BE={class:"try-play-header text-center d-flex flex-row justify-content-between"},PE={class:"try-play-body d-flex flex-row"},ME={class:"try-play-left w-50 border-right border-secondary"},FE={class:"pe-1"},UE=IE(()=>n.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),HE={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},WE=n.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:s}){const o=r,a=n.ref(),u=n.ref(""),f=n.ref(),p=n.ref(),m=n.ref(xo());n.onMounted(()=>{window.addEventListener("keydown",g)}),n.onUnmounted(()=>{window.addEventListener("keydown",g)}),n.watch(()=>o.visible,E=>{E&&k()});function g(E){E.code==="Escape"&&o.visible&&C()}const{position:_}=ks(p,{initialValue:{x:40,y:40}}),{style:S}=Ns(f,_);n.onMounted(()=>{_.value.x=(window.innerWidth-890)/2,_.value.y=(window.innerHeight-390)/2});function C(){s("update:visible",!1)}function k(){n.nextTick(()=>{var E,w;(w=(E=a.value)==null?void 0:E.input)==null||w.focus()})}function T(){m.value={...m.value,word:u.value}}return(E,w)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,style:n.normalizeStyle([n.unref(S),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[n.createElementVNode("div",LE,[n.createElementVNode("div",BE,[n.createElementVNode("div",{ref_key:"handleRef",ref:p,class:"col-11 try-play-move"},null,512),n.createElementVNode("div",{onClick:C,class:"col-1 try-play-menu-close"},[n.createVNode(n.unref(j.ElIcon),{color:"white"},{default:n.withCtx(()=>[n.createVNode(n.unref(pn.Minus))]),_:1})])]),n.createElementVNode("div",PE,[n.createElementVNode("div",ME,[n.createElementVNode("div",FE,[n.createVNode(n.unref(j.ElForm),{onSubmit:n.withModifiers(T,["prevent"])},{default:n.withCtx(()=>[n.createVNode(n.unref(j.ElInput),{"input-style":{color:"white"},ref_key:"searchInputRef",ref:a,modelValue:u.value,"onUpdate:modelValue":w[0]||(w[0]=I=>u.value=I),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),n.createVNode(tE,{filter:m.value,"onUpdate:filter":w[1]||(w[1]=I=>m.value=I)},null,8,["filter"]),UE,n.createVNode(J1,{filter:m.value},null,8,["filter"])]),n.createElementVNode("div",HE,[n.createVNode(DE)])])])],4)),[[n.vShow,E.visible]])}});const zE=Qe(WE,[["__scopeId","data-v-b9c1f88f"]]),zc=n.defineComponent({__name:"try-play",setup(r){const s=n.ref(!0);function o(a){a||(s.value=!0)}return(a,u)=>(n.openBlock(),n.createBlock(n.Teleport,{to:"body"},[n.createVNode(z1,{visible:s.value,"onUpdate:visible":u[0]||(u[0]=f=>s.value=f)},null,8,["visible"]),n.createVNode(zE,{visible:!s.value,"onUpdate:visible":o},null,8,["visible"])]))}});const GE={install:r=>{r.component("PlayMenu",Rc),r.component("PinyinMenu",Tc),r.component("ContinuousMenu",Vc),r.component("ReadMenu",Ac),r.component("DigitalMenu",$c),r.component("AliasMenu",Oc),r.component("EnglishMenu",Dc),r.component("ChangespeedMenu",Ic),r.component("RhythmMenu",Lc),r.component("SpecialMenu",Bc),r.component("MuteMenu",Pc),r.component("BgmMenu",Mc),r.component("SensitiveMenu",Fc),r.component("ManagementMenu",Uc),r.component("ConversionMenu",Hc),r.component("TryPlay",zc)}};var ms={exports:{}},vs={exports:{}};(function(r,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ParsingError=void 0;class o extends Error{constructor(F,G){super(F),this.cause=G}}s.ParsingError=o;let a;function u(){return g(!1)||k()||C()||S()}function f(){return w(/\s*/),g(!0)||C()||_()||m(!1)}function p(){const A=m(!0),F=[];let G,X=f();for(;X;){if(X.node.type==="Element"){if(G)throw new Error("Found multiple root nodes");G=X.node}X.excluded||F.push(X.node),X=f()}if(!G)throw new o("Failed to parse XML","Root Element not found");if(a.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:A?A.node:null,root:G,children:F}}function m(A){const F=w(A?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!F)return;const G={name:F[1],type:"ProcessingInstruction",attributes:{}};for(;!(I()||B("?>"));){const X=T();if(X)G.attributes[X.name]=X.value;else return}return w(/\?>/),{excluded:A?!1:a.options.filter(G)===!1,node:G}}function g(A){const F=w(/^<([^?!</>\s]+)\s*/);if(!F)return;const G={type:"Element",name:F[1],attributes:{},children:[]},X=A?!1:a.options.filter(G)===!1;for(;!(I()||B(">")||B("?>")||B("/>"));){const ue=T();if(ue)G.attributes[ue.name]=ue.value;else return}if(w(/^\s*\/>/))return G.children=null,{excluded:X,node:G};w(/\??>/);let D=u();for(;D;)D.excluded||G.children.push(D.node),D=u();if(a.options.strictMode){const ue=`</${G.name}>`;if(a.xml.startsWith(ue))a.xml=a.xml.slice(ue.length);else throw new o("Failed to parse XML",`Closing tag not matching "${ue}"`)}else w(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:X,node:G}}function _(){const A=w(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||w(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||w(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||w(/^<!DOCTYPE\s+\S+\s*>/);if(A){const F={type:"DocumentType",content:A[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function S(){if(a.xml.startsWith("<![CDATA[")){const A=a.xml.indexOf("]]>");if(A>-1){const F=A+3,G={type:"CDATA",content:a.xml.substring(0,F)};return a.xml=a.xml.slice(F),{excluded:a.options.filter(G)===!1,node:G}}}}function C(){const A=w(/^<!--[\s\S]*?-->/);if(A){const F={type:"Comment",content:A[0]};return{excluded:a.options.filter(F)===!1,node:F}}}function k(){const A=w(/^([^<]+)/);if(A){const F={type:"Text",content:A[1]};return{excluded:a.options.filter(F)===!1,node:F}}}function T(){const A=w(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(A)return{name:A[1].trim(),value:E(A[2].trim())}}function E(A){return A.replace(/^['"]|['"]$/g,"")}function w(A){const F=a.xml.match(A);if(F)return a.xml=a.xml.slice(F[0].length),F}function I(){return a.xml.length===0}function B(A){return a.xml.indexOf(A)===0}function P(A,F={}){A=A.trim();const G=F.filter||(()=>!0);return a={xml:A,options:Object.assign(Object.assign({},F),{filter:G,strictMode:F.strictMode===!0})},p()}r.exports=P,s.default=P})(vs,vs.exports);var qE=vs.exports;(function(r,s){var o=fn&&fn.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(s,"__esModule",{value:!0});const a=o(qE);function u(E){if(!E.options.indentation&&!E.options.lineSeparator)return;E.content+=E.options.lineSeparator;let w;for(w=0;w<E.level;w++)E.content+=E.options.indentation}function f(E){E.content=E.content.replace(/ +$/,"");let w;for(w=0;w<E.level;w++)E.content+=E.options.indentation}function p(E,w){E.content+=w}function m(E,w,I){if(typeof E.content=="string")g(E.content,w,I);else if(E.type==="Element")S(E,w,I);else if(E.type==="ProcessingInstruction")k(E,w);else throw new Error("Unknown node type: "+E.type)}function g(E,w,I){if(!I){const B=E.trim();(w.options.lineSeparator||B.length===0)&&(E=B)}E.length>0&&(!I&&w.content.length>0&&u(w),p(w,E))}function _(E,w){const I="/"+E.join("/"),B=E[E.length-1];return w.includes(B)||w.includes(I)}function S(E,w,I){if(w.path.push(E.name),!I&&w.content.length>0&&u(w),p(w,"<"+E.name),C(w,E.attributes),E.children===null||w.options.forceSelfClosingEmptyTag&&E.children.length===0){const B=w.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";p(w,B)}else if(E.children.length===0)p(w,"></"+E.name+">");else{const B=E.children;p(w,">"),w.level++;let P=E.attributes["xml:space"]==="preserve",A=!1;if(!P&&w.options.ignoredPaths&&(A=_(w.path,w.options.ignoredPaths),P=A),!P&&w.options.collapseContent){let F=!1,G=!1,X=!1;B.forEach(function(D,ue){D.type==="Text"?(D.content.includes(`
`)?(G=!0,D.content=D.content.trim()):(ue===0||ue===B.length-1)&&D.content.trim().length===0&&(D.content=""),D.content.trim().length>0&&(F=!0)):D.type==="CDATA"?F=!0:X=!0}),F&&(!X||!G)&&(P=!0)}B.forEach(function(F){m(F,w,I||P)}),w.level--,!I&&!P&&u(w),A&&f(w),p(w,"</"+E.name+">")}w.path.pop()}function C(E,w){Object.keys(w).forEach(function(I){const B=w[I].replace(/"/g,"&quot;");p(E," "+I+'="'+B+'"')})}function k(E,w){w.content.length>0&&u(w),p(w,"<?"+E.name),C(w,E.attributes),p(w,"?>")}function T(E,w={}){w.indentation="indentation"in w?w.indentation:"    ",w.collapseContent=w.collapseContent===!0,w.lineSeparator="lineSeparator"in w?w.lineSeparator:`\r
`,w.whiteSpaceAtEndOfSelfclosingTag=w.whiteSpaceAtEndOfSelfclosingTag===!0,w.throwOnFailure=w.throwOnFailure!==!1;try{const I=(0,a.default)(E,{filter:w.filter,strictMode:w.strictMode}),B={content:"",level:0,options:w,path:[]};return I.declaration&&k(I.declaration,B),I.children.forEach(function(P){m(P,B,!1)}),w.lineSeparator?B.content.replace(/\r\n/g,`
`).replace(/\n/g,w.lineSeparator):B.content}catch(I){if(w.throwOnFailure)throw I;return E}}T.minify=(E,w={})=>T(E,Object.assign(Object.assign({},w),{indentation:"",lineSeparator:""})),r.exports=T,s.default=T})(ms,ms.exports);var KE=ms.exports;const YE=lc(KE),Wn=r=>(n.pushScopeId("data-v-fb2870b0"),r=r(),n.popScopeId(),r),XE={class:"editor-title d-flex flex-row align-item-center justify-content-between"},JE={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},ZE=Wn(()=>n.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),QE={class:"author d-flex flex-row align-items-center justify-content-start"},jE=Wn(()=>n.createElementVNode("div",null,"未保存",-1)),ex=Wn(()=>n.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),tx=Wn(()=>n.createElementVNode("div",{class:"d-inline-block"},null,-1)),nx={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},rx=Wn(()=>n.createElementVNode("div",{class:"menu-divider"},null,-1)),ox=Wn(()=>n.createElementVNode("div",{class:"px-1"},null,-1)),ix={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},sx={class:"dialog-footer"},ax=n.defineComponent({__name:"editor-title",setup(r){const s=n.ref(!1),o=n.ref(""),{rootBackgroundaudio:a}=vn(),u=n.computed(()=>YE(o.value,{indentation:"    ",filter:_=>_.type!=="Comment",collapseContent:!0,lineSeparator:`
`})),f=()=>{o.value=No(),s.value=!0},p=()=>{a.src&&mn.play(a.src)},m=()=>{mn.stop(a.src),a.src="",a.remark=""};async function g(_){await navigator.clipboard.writeText(_?u.value:o.value),s.value=!1}return(_,S)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",XE,[n.createElementVNode("div",JE,[ZE,n.createElementVNode("div",QE,[jE,n.unref(a).src?(n.openBlock(),n.createBlock(n.unref(j.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:p,onClose:m},{default:n.withCtx(()=>[ex,tx,n.createElementVNode("span",null,n.toDisplayString(n.unref(a).remark),1)]),_:1})):n.createCommentVNode("",!0)])]),n.createElementVNode("div",nx,[n.createVNode(n.unref(j.ElButton),{type:"primary",icon:n.unref(pn.Share),disabled:""},{default:n.withCtx(()=>[n.createTextVNode("分享")]),_:1},8,["icon"]),rx,n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:f},{default:n.withCtx(()=>[n.createTextVNode("查看SSML")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载音频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载视频")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("下载字幕")]),_:1}),n.createVNode(n.unref(j.ElButton),{disabled:""},{default:n.withCtx(()=>[n.createTextVNode("声音转换")]),_:1}),ox])]),n.createVNode(n.unref(j.ElDialog),{modelValue:s.value,"onUpdate:modelValue":S[4]||(S[4]=C=>s.value=C),title:"查看SSML",width:"80%"},{header:n.withCtx(()=>[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:S[0]||(S[0]=C=>g(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:S[1]||(S[1]=C=>g(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})]),footer:n.withCtx(()=>[n.createElementVNode("span",sx,[n.createVNode(n.unref(j.ElButton),{type:"info",onClick:S[2]||(S[2]=C=>g(!0))},{default:n.withCtx(()=>[n.createTextVNode("复制+关闭")]),_:1}),n.createVNode(n.unref(j.ElButton),{type:"primary",onClick:S[3]||(S[3]=C=>g(!1))},{default:n.withCtx(()=>[n.createTextVNode("压缩+复制+关闭(推荐)")]),_:1})])]),default:n.withCtx(()=>[n.createElementVNode("pre",ix,n.toDisplayString(u.value),1)]),_:1},8,["modelValue"])],64))}});const lx=Qe(ax,[["__scopeId","data-v-fb2870b0"]]),ux=n.defineComponent({__name:"editor-core",emits:["created","change"],setup(r,{emit:s}){const{editor:o,setEditor:a,globalEditConfig:u}=qe(),f=n.ref(null);n.onMounted(()=>{p()}),n.onUnmounted(()=>{o==null||o.destroy()});function p(){if(!f.value)return;const m=R.createEditor({selector:f.value,mode:"simple",config:{...n.toRaw(u.editorConfig),onCreated(g){s("created",g),He.emit(Be.EDITOR_CREATED,g)},onChange(g){s("change",g)}}});a(m),m.on(Ee.ERROR,u.handleError)}return(m,g)=>(n.openBlock(),n.createElementBlock("div",{ref_key:"boxRef",ref:f,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),cx={class:"bar-view border-bottom border-1"},fx=n.defineComponent({__name:"bar-view",setup(r){return(s,o)=>(n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createElementVNode("div",cx,[n.createVNode(n.unref(bc),null,{default:n.withCtx(()=>[n.createVNode(n.unref(Bn),{divider:"green"},{default:n.withCtx(()=>[n.createVNode(n.unref(Rc))]),_:1}),n.createVNode(n.unref(Bn),{divider:"cyan"},{default:n.withCtx(()=>[n.createVNode(n.unref(Tc)),n.createVNode(n.unref(Ac)),n.createVNode(n.unref($c)),n.createVNode(n.unref(Vc)),n.createVNode(n.unref(Oc)),n.createVNode(n.unref(Dc))]),_:1}),n.createVNode(n.unref(Bn),{divider:"orange"},{default:n.withCtx(()=>[n.createVNode(n.unref(Ic)),n.createVNode(n.unref(Uc)),n.createVNode(n.unref(Hc))]),_:1}),n.createVNode(n.unref(Bn),{divider:"purple"},{default:n.withCtx(()=>[n.createVNode(n.unref(Lc)),n.createVNode(n.unref(Pc))]),_:1}),n.createVNode(n.unref(Bn),{divider:"yellow"},{default:n.withCtx(()=>[n.createVNode(n.unref(Bc)),n.createVNode(n.unref(Mc))]),_:1})]),_:1})]),n.createVNode(n.unref(zc))],64))}}),dx={class:"editor-box"},px={class:"editor-core-container shadow pt-1"},hx=n.defineComponent({__name:"editor-view",emits:["created","change"],setup(r,{emit:s}){const o=p=>{s("created",p)},a=p=>{s("change",p)};function u(p){He.emit(Be.VIEW_CLICK,p)}function f(p){He.emit(Be.VIEW_KEYDOWN,p)}return(p,m)=>(n.openBlock(),n.createElementBlock("div",{class:"editor-view",onClick:u,onKeydown:f},[n.renderSlot(p.$slots,"default",{},()=>[n.createVNode(lx)],!0),n.createElementVNode("div",dx,[n.createVNode(fx),n.createElementVNode("div",px,[n.createVNode(ux,{onChange:a,onCreated:o})])])],32))}});const Gc=Qe(hx,[["__scopeId","data-v-b5e6df8c"]]),mx={install(r){r.component("EditorView",Gc)}},vx={install(r,s){r.use(ry()),r.use(()=>{const{setGlobalEditConfig:o}=qe(),a=ys(s);o(a),He.on(Be.ERROR,a.handleError)}),r.use(K0),r.use(lb),r.use(GE),r.use(mx)}};exports.AudioPlayer=dc;exports.CancellationTokenSource=ps;exports.DOMComment=Sy;exports.DOMElement=ky;exports.DOMNode=xy;exports.DOMRange=Ny;exports.DOMSelection=Ry;exports.DOMStaticRange=Ty;exports.DOMText=Cy;exports.EMITTER_EVENT=Be;exports.EditorView=Gc;exports.FileSelector=pc;exports.Timer=hc;exports.WANGEDITOR_EVENT=Ee;exports.audioPlayer=mn;exports.createGlobalEditorConfig=ys;exports.default=vx;exports.defaultFilterSpeaker=xo;exports.defaultLabelValue=Y0;exports.defaultSpeaker=mc;exports.demoAvatar=Fn;exports.formatTime=ds;exports.genRandomStr=Ay;exports.pitch=sc;exports.serializeToSSML=No;exports.speed=ic;
