"use strict";var kn=Object.defineProperty;var Cn=(t,n,o)=>n in t?kn(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o;var we=(t,n,o)=>(Cn(t,typeof n!="symbol"?n+"":n,o),o);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),y=require("@wangeditor/editor"),N=require("element-plus"),_e=require("@element-plus/icons-vue");var Mt=!1;function xe(t,n,o){return Array.isArray(t)?(t.length=Math.max(t.length,n),t.splice(n,1,o),o):(t[n]=o,o)}function Ae(t,n){if(Array.isArray(t)){t.splice(n,1);return}delete t[n]}function $n(){return Lt().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Lt(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Tn=typeof Proxy=="function",On="devtools-plugin:setup",Rn="plugin:settings:set";let se,Le;function Dn(){var t;return se!==void 0||(typeof window<"u"&&window.performance?(se=!0,Le=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(se=!0,Le=global.perf_hooks.performance):se=!1),se}function Pn(){return Dn()?Le.now():Date.now()}class In{constructor(n,o){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=o;const r={};if(n.settings)for(const l in n.settings){const i=n.settings[l];r[l]=i.defaultValue}const s=`__vue-devtools-plugin-settings__${n.id}`;let a=Object.assign({},r);try{const l=localStorage.getItem(s),i=JSON.parse(l);Object.assign(a,i)}catch{}this.fallbacks={getSettings(){return a},setSettings(l){try{localStorage.setItem(s,JSON.stringify(l))}catch{}a=l},now(){return Pn()}},o&&o.on(Rn,(l,i)=>{l===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(l,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(l,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(f=>{this.targetQueue.push({method:i,args:c,resolve:f})})})}async setRealTarget(n){this.target=n;for(const o of this.onQueue)this.target.on[o.method](...o.args);for(const o of this.targetQueue)o.resolve(await this.target[o.method](...o.args))}}function jt(t,n){const o=t,r=Lt(),s=$n(),a=Tn&&o.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!a))s.emit(On,t,n);else{const l=a?new In(o,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:o,setupFn:n,proxy:l}),l&&n(l.proxiedTarget)}}/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let he;const ye=t=>he=t,Ft=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function re(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var J;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(J||(J={}));const De=typeof window<"u",ve=(process.env.NODE_ENV!=="production"||!1)&&process.env.NODE_ENV!=="test"&&De,st=(()=>typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:typeof globalThis=="object"?globalThis:{HTMLElement:null})();function An(t,{autoBom:n=!1}={}){return n&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}function Xe(t,n,o){const r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){zt(r.response,n,o)},r.onerror=function(){console.error("could not download file")},r.send()}function Ht(t){const n=new XMLHttpRequest;n.open("HEAD",t,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Ve(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}const Ne=typeof navigator=="object"?navigator:{userAgent:""},Ut=(()=>/Macintosh/.test(Ne.userAgent)&&/AppleWebKit/.test(Ne.userAgent)&&!/Safari/.test(Ne.userAgent))(),zt=De?typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype&&!Ut?Bn:"msSaveOrOpenBlob"in Ne?Mn:Ln:()=>{};function Bn(t,n="download",o){const r=document.createElement("a");r.download=n,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?Ht(r.href)?Xe(t,n,o):(r.target="_blank",Ve(r)):Ve(r)):(r.href=URL.createObjectURL(t),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ve(r)},0))}function Mn(t,n="download",o){if(typeof t=="string")if(Ht(t))Xe(t,n,o);else{const r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ve(r)})}else navigator.msSaveOrOpenBlob(An(t,o),n)}function Ln(t,n,o,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Xe(t,n,o);const s=t.type==="application/octet-stream",a=/constructor/i.test(String(st.HTMLElement))||"safari"in st,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a||Ut)&&typeof FileReader<"u"){const i=new FileReader;i.onloadend=function(){let c=i.result;if(typeof c!="string")throw r=null,new Error("Wrong reader.result type");c=l?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location.assign(c),r=null},i.readAsDataURL(t)}else{const i=URL.createObjectURL(t);r?r.location.assign(i):location.href=i,r=null,setTimeout(function(){URL.revokeObjectURL(i)},4e4)}}function B(t,n){const o="🍍 "+t;typeof __VUE_DEVTOOLS_TOAST__=="function"?__VUE_DEVTOOLS_TOAST__(o,n):n==="error"?console.error(o):n==="warn"?console.warn(o):console.log(o)}function Ye(t){return"_a"in t&&"install"in t}function Wt(){if(!("clipboard"in navigator))return B("Your browser doesn't support the Clipboard API","error"),!0}function Gt(t){return t instanceof Error&&t.message.toLowerCase().includes("document is not focused")?(B('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0):!1}async function jn(t){if(!Wt())try{await navigator.clipboard.writeText(JSON.stringify(t.state.value)),B("Global state copied to clipboard.")}catch(n){if(Gt(n))return;B("Failed to serialize the state. Check the console for more details.","error"),console.error(n)}}async function Fn(t){if(!Wt())try{Xt(t,JSON.parse(await navigator.clipboard.readText())),B("Global state pasted from clipboard.")}catch(n){if(Gt(n))return;B("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(n)}}async function Hn(t){try{zt(new Blob([JSON.stringify(t.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(n){B("Failed to export the state as JSON. Check the console for more details.","error"),console.error(n)}}let K;function Un(){K||(K=document.createElement("input"),K.type="file",K.accept=".json");function t(){return new Promise((n,o)=>{K.onchange=async()=>{const r=K.files;if(!r)return n(null);const s=r.item(0);return n(s?{text:await s.text(),file:s}:null)},K.oncancel=()=>n(null),K.onerror=o,K.click()})}return t}async function zn(t){try{const o=await Un()();if(!o)return;const{text:r,file:s}=o;Xt(t,JSON.parse(r)),B(`Global state imported from "${s.name}".`)}catch(n){B("Failed to import the state from JSON. Check the console for more details.","error"),console.error(n)}}function Xt(t,n){for(const o in n){const r=t.state.value[o];r&&Object.assign(r,n[o])}}function X(t){return{_custom:{display:t}}}const Yt="🍍 Pinia (root)",je="_root";function Wn(t){return Ye(t)?{id:je,label:Yt}:{id:t.$id,label:t.$id}}function Gn(t){if(Ye(t)){const o=Array.from(t._s.keys()),r=t._s;return{state:o.map(a=>({editable:!0,key:a,value:t.state.value[a]})),getters:o.filter(a=>r.get(a)._getters).map(a=>{const l=r.get(a);return{editable:!1,key:a,value:l._getters.reduce((i,c)=>(i[c]=l[c],i),{})}})}}const n={state:Object.keys(t.$state).map(o=>({editable:!0,key:o,value:t.$state[o]}))};return t._getters&&t._getters.length&&(n.getters=t._getters.map(o=>({editable:!1,key:o,value:t[o]}))),t._customProperties.size&&(n.customProperties=Array.from(t._customProperties).map(o=>({editable:!0,key:o,value:t[o]}))),n}function Xn(t){return t?Array.isArray(t)?t.reduce((n,o)=>(n.keys.push(o.key),n.operations.push(o.type),n.oldValue[o.key]=o.oldValue,n.newValue[o.key]=o.newValue,n),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:X(t.type),key:X(t.key),oldValue:t.oldValue,newValue:t.newValue}:{}}function Yn(t){switch(t){case J.direct:return"mutation";case J.patchFunction:return"$patch";case J.patchObject:return"$patch";default:return"unknown"}}let ie=!0;const Se=[],ne="pinia:mutations",j="pinia",{assign:qn}=Object,$e=t=>"🍍 "+t;function Jn(t,n){jt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Se,app:t},o=>{typeof o.now!="function"&&B("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),o.addTimelineLayer({id:ne,label:"Pinia 🍍",color:15064968}),o.addInspector({id:j,label:"Pinia 🍍",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{jn(n)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:async()=>{await Fn(n),o.sendInspectorTree(j),o.sendInspectorState(j)},tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{Hn(n)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:async()=>{await zn(n),o.sendInspectorTree(j),o.sendInspectorState(j)},tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:r=>{const s=n._s.get(r);s?typeof s.$reset!="function"?B(`Cannot reset "${r}" store because it doesn't have a "$reset" method implemented.`,"warn"):(s.$reset(),B(`Store "${r}" reset.`)):B(`Cannot reset "${r}" store because it wasn't found.`,"warn")}}]}),o.on.inspectComponent((r,s)=>{const a=r.componentInstance&&r.componentInstance.proxy;if(a&&a._pStores){const l=r.componentInstance.proxy._pStores;Object.values(l).forEach(i=>{r.instanceData.state.push({type:$e(i.$id),key:"state",editable:!0,value:i._isOptionsAPI?{_custom:{value:e.toRaw(i.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>i.$reset()}]}}:Object.keys(i.$state).reduce((c,f)=>(c[f]=i.$state[f],c),{})}),i._getters&&i._getters.length&&r.instanceData.state.push({type:$e(i.$id),key:"getters",editable:!1,value:i._getters.reduce((c,f)=>{try{c[f]=i[f]}catch(p){c[f]=p}return c},{})})})}}),o.on.getInspectorTree(r=>{if(r.app===t&&r.inspectorId===j){let s=[n];s=s.concat(Array.from(n._s.values())),r.rootNodes=(r.filter?s.filter(a=>"$id"in a?a.$id.toLowerCase().includes(r.filter.toLowerCase()):Yt.toLowerCase().includes(r.filter.toLowerCase())):s).map(Wn)}}),o.on.getInspectorState(r=>{if(r.app===t&&r.inspectorId===j){const s=r.nodeId===je?n:n._s.get(r.nodeId);if(!s)return;s&&(r.state=Gn(s))}}),o.on.editInspectorState((r,s)=>{if(r.app===t&&r.inspectorId===j){const a=r.nodeId===je?n:n._s.get(r.nodeId);if(!a)return B(`store "${r.nodeId}" not found`,"error");const{path:l}=r;Ye(a)?l.unshift("state"):(l.length!==1||!a._customProperties.has(l[0])||l[0]in a.$state)&&l.unshift("$state"),ie=!1,r.set(a,l,r.state.value),ie=!0}}),o.on.editComponentState(r=>{if(r.type.startsWith("🍍")){const s=r.type.replace(/^🍍\s*/,""),a=n._s.get(s);if(!a)return B(`store "${s}" not found`,"error");const{path:l}=r;if(l[0]!=="state")return B(`Invalid path for store "${s}":
${l}
Only state can be modified.`);l[0]="$state",ie=!1,r.set(a,l,r.state.value),ie=!0}})})}function Qn(t,n){Se.includes($e(n.$id))||Se.push($e(n.$id)),jt({id:"dev.esm.pinia",label:"Pinia 🍍",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:Se,app:t,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},o=>{const r=typeof o.now=="function"?o.now.bind(o):Date.now;n.$onAction(({after:l,onError:i,name:c,args:f})=>{const p=qt++;o.addTimelineEvent({layerId:ne,event:{time:r(),title:"🛫 "+c,subtitle:"start",data:{store:X(n.$id),action:X(c),args:f},groupId:p}}),l(m=>{ee=void 0,o.addTimelineEvent({layerId:ne,event:{time:r(),title:"🛬 "+c,subtitle:"end",data:{store:X(n.$id),action:X(c),args:f,result:m},groupId:p}})}),i(m=>{ee=void 0,o.addTimelineEvent({layerId:ne,event:{time:r(),logType:"error",title:"💥 "+c,subtitle:"end",data:{store:X(n.$id),action:X(c),args:f,error:m},groupId:p}})})},!0),n._customProperties.forEach(l=>{e.watch(()=>e.unref(n[l]),(i,c)=>{o.notifyComponentUpdate(),o.sendInspectorState(j),ie&&o.addTimelineEvent({layerId:ne,event:{time:r(),title:"Change",subtitle:l,data:{newValue:i,oldValue:c},groupId:ee}})},{deep:!0})}),n.$subscribe(({events:l,type:i},c)=>{if(o.notifyComponentUpdate(),o.sendInspectorState(j),!ie)return;const f={time:r(),title:Yn(i),data:qn({store:X(n.$id)},Xn(l)),groupId:ee};i===J.patchFunction?f.subtitle="⤵️":i===J.patchObject?f.subtitle="🧩":l&&!Array.isArray(l)&&(f.subtitle=l.type),l&&(f.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:l}}),o.addTimelineEvent({layerId:ne,event:f})},{detached:!0,flush:"sync"});const s=n._hotUpdate;n._hotUpdate=e.markRaw(l=>{s(l),o.addTimelineEvent({layerId:ne,event:{time:r(),title:"🔥 "+n.$id,subtitle:"HMR update",data:{store:X(n.$id),info:X("HMR update")}}}),o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j)});const{$dispose:a}=n;n.$dispose=()=>{a(),o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j),o.getSettings().logStoreChanges&&B(`Disposed "${n.$id}" store 🗑`)},o.notifyComponentUpdate(),o.sendInspectorTree(j),o.sendInspectorState(j),o.getSettings().logStoreChanges&&B(`"${n.$id}" store installed 🆕`)})}let qt=0,ee;function at(t,n,o){const r=n.reduce((s,a)=>(s[a]=e.toRaw(t)[a],s),{});for(const s in r)t[s]=function(){const a=qt,l=o?new Proxy(t,{get(...c){return ee=a,Reflect.get(...c)},set(...c){return ee=a,Reflect.set(...c)}}):t;ee=a;const i=r[s].apply(l,arguments);return ee=void 0,i}}function Kn({app:t,store:n,options:o}){if(n.$id.startsWith("__hot:"))return;n._isOptionsAPI=!!o.state,at(n,Object.keys(o.actions),n._isOptionsAPI);const r=n._hotUpdate;e.toRaw(n)._hotUpdate=function(s){r.apply(this,arguments),at(n,Object.keys(s._hmrPayload.actions),!!n._isOptionsAPI)},Qn(t,n)}function Zn(){const t=e.effectScope(!0),n=t.run(()=>e.ref({}));let o=[],r=[];const s=e.markRaw({install(a){ye(s),s._a=a,a.provide(Ft,s),a.config.globalProperties.$pinia=s,ve&&Jn(a,s),r.forEach(l=>o.push(l)),r=[]},use(a){return!this._a&&!Mt?r.push(a):o.push(a),this},_p:o,_a:null,_e:t,_s:new Map,state:n});return ve&&typeof Proxy<"u"&&s.use(Kn),s}function Jt(t,n){for(const o in n){const r=n[o];if(!(o in t))continue;const s=t[o];re(s)&&re(r)&&!e.isRef(r)&&!e.isReactive(r)?t[o]=Jt(s,r):t[o]=r}return t}const Qt=()=>{};function lt(t,n,o,r=Qt){t.push(n);const s=()=>{const a=t.indexOf(n);a>-1&&(t.splice(a,1),r())};return!o&&e.getCurrentScope()&&e.onScopeDispose(s),s}function ae(t,...n){t.slice().forEach(o=>{o(...n)})}const eo=t=>t();function Fe(t,n){t instanceof Map&&n instanceof Map&&n.forEach((o,r)=>t.set(r,o)),t instanceof Set&&n instanceof Set&&n.forEach(t.add,t);for(const o in n){if(!n.hasOwnProperty(o))continue;const r=n[o],s=t[o];re(s)&&re(r)&&t.hasOwnProperty(o)&&!e.isRef(r)&&!e.isReactive(r)?t[o]=Fe(s,r):t[o]=r}return t}const to=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function no(t){return!re(t)||!t.hasOwnProperty(to)}const{assign:W}=Object;function it(t){return!!(e.isRef(t)&&t.effect)}function ct(t,n,o,r){const{state:s,actions:a,getters:l}=n,i=o.state.value[t];let c;function f(){!i&&(process.env.NODE_ENV==="production"||!r)&&(o.state.value[t]=s?s():{});const p=process.env.NODE_ENV!=="production"&&r?e.toRefs(e.ref(s?s():{}).value):e.toRefs(o.state.value[t]);return W(p,a,Object.keys(l||{}).reduce((m,h)=>(process.env.NODE_ENV!=="production"&&h in p&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${h}" in store "${t}".`),m[h]=e.markRaw(e.computed(()=>{ye(o);const v=o._s.get(t);return l[h].call(v,v)})),m),{}))}return c=He(t,f,n,o,r,!0),c}function He(t,n,o={},r,s,a){let l;const i=W({actions:{}},o);if(process.env.NODE_ENV!=="production"&&!r._e.active)throw new Error("Pinia destroyed");const c={deep:!0};process.env.NODE_ENV!=="production"&&!Mt&&(c.onTrigger=V=>{f?v=V:f==!1&&!g._hotUpdating&&(Array.isArray(v)?v.push(V):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let f,p,m=[],h=[],v;const d=r.state.value[t];!a&&!d&&(process.env.NODE_ENV==="production"||!s)&&(r.state.value[t]={});const u=e.ref({});let b;function k(V){let x;f=p=!1,process.env.NODE_ENV!=="production"&&(v=[]),typeof V=="function"?(V(r.state.value[t]),x={type:J.patchFunction,storeId:t,events:v}):(Fe(r.state.value[t],V),x={type:J.patchObject,payload:V,storeId:t,events:v});const P=b=Symbol();e.nextTick().then(()=>{b===P&&(f=!0)}),p=!0,ae(m,x,r.state.value[t])}const R=a?function(){const{state:x}=o,P=x?x():{};this.$patch(T=>{W(T,P)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`🍍: Store "${t}" is built using the setup syntax and does not implement $reset().`)}:Qt;function S(){l.stop(),m=[],h=[],r._s.delete(t)}function C(V,x){return function(){ye(r);const P=Array.from(arguments),T=[],I=[];function Ie(z){T.push(z)}function Sn(z){I.push(z)}ae(h,{args:P,name:V,store:g,after:Ie,onError:Sn});let pe;try{pe=x.apply(this&&this.$id===t?this:g,P)}catch(z){throw ae(I,z),z}return pe instanceof Promise?pe.then(z=>(ae(T,z),z)).catch(z=>(ae(I,z),Promise.reject(z))):(ae(T,pe),pe)}}const $=e.markRaw({actions:{},getters:{},state:[],hotState:u}),w={_p:r,$id:t,$onAction:lt.bind(null,h),$patch:k,$reset:R,$subscribe(V,x={}){const P=lt(m,V,x.detached,()=>T()),T=l.run(()=>e.watch(()=>r.state.value[t],I=>{(x.flush==="sync"?p:f)&&V({storeId:t,type:J.direct,events:v},I)},W({},c,x)));return P},$dispose:S},g=e.reactive(process.env.NODE_ENV!=="production"||ve?W({_hmrPayload:$,_customProperties:e.markRaw(new Set)},w):w);r._s.set(t,g);const D=r._a&&r._a.runWithContext||eo,U=r._e.run(()=>(l=e.effectScope(),D(()=>l.run(n))));for(const V in U){const x=U[V];if(e.isRef(x)&&!it(x)||e.isReactive(x))process.env.NODE_ENV!=="production"&&s?xe(u.value,V,e.toRef(U,V)):a||(d&&no(x)&&(e.isRef(x)?x.value=d[V]:Fe(x,d[V])),r.state.value[t][V]=x),process.env.NODE_ENV!=="production"&&$.state.push(V);else if(typeof x=="function"){const P=process.env.NODE_ENV!=="production"&&s?x:C(V,x);U[V]=P,process.env.NODE_ENV!=="production"&&($.actions[V]=x),i.actions[V]=x}else process.env.NODE_ENV!=="production"&&it(x)&&($.getters[V]=a?o.getters[V]:x,De&&(U._getters||(U._getters=e.markRaw([]))).push(V))}if(W(g,U),W(e.toRaw(g),U),Object.defineProperty(g,"$state",{get:()=>process.env.NODE_ENV!=="production"&&s?u.value:r.state.value[t],set:V=>{if(process.env.NODE_ENV!=="production"&&s)throw new Error("cannot set hotState");k(x=>{W(x,V)})}}),process.env.NODE_ENV!=="production"&&(g._hotUpdate=e.markRaw(V=>{g._hotUpdating=!0,V._hmrPayload.state.forEach(x=>{if(x in g.$state){const P=V.$state[x],T=g.$state[x];typeof P=="object"&&re(P)&&re(T)?Jt(P,T):V.$state[x]=T}xe(g,x,e.toRef(V.$state,x))}),Object.keys(g.$state).forEach(x=>{x in V.$state||Ae(g,x)}),f=!1,p=!1,r.state.value[t]=e.toRef(V._hmrPayload,"hotState"),p=!0,e.nextTick().then(()=>{f=!0});for(const x in V._hmrPayload.actions){const P=V[x];xe(g,x,C(x,P))}for(const x in V._hmrPayload.getters){const P=V._hmrPayload.getters[x],T=a?e.computed(()=>(ye(r),P.call(g,g))):P;xe(g,x,T)}Object.keys(g._hmrPayload.getters).forEach(x=>{x in V._hmrPayload.getters||Ae(g,x)}),Object.keys(g._hmrPayload.actions).forEach(x=>{x in V._hmrPayload.actions||Ae(g,x)}),g._hmrPayload=V._hmrPayload,g._getters=V._getters,g._hotUpdating=!1})),ve){const V={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(x=>{Object.defineProperty(g,x,W({value:g[x]},V))})}return r._p.forEach(V=>{if(ve){const x=l.run(()=>V({store:g,app:r._a,pinia:r,options:i}));Object.keys(x||{}).forEach(P=>g._customProperties.add(P)),W(g,x)}else W(g,l.run(()=>V({store:g,app:r._a,pinia:r,options:i})))}),process.env.NODE_ENV!=="production"&&g.$state&&typeof g.$state=="object"&&typeof g.$state.constructor=="function"&&!g.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${g.$id}".`),d&&a&&o.hydrate&&o.hydrate(g.$state,d),f=!0,p=!0,g}function Kt(t,n,o){let r,s;const a=typeof n=="function";if(typeof t=="string")r=t,s=a?o:n;else if(s=t,r=t.id,process.env.NODE_ENV!=="production"&&typeof r!="string")throw new Error('[🍍]: "defineStore()" must be passed a store id as its first argument.');function l(i,c){const f=e.hasInjectionContext();if(i=(process.env.NODE_ENV==="test"&&he&&he._testing?null:i)||(f?e.inject(Ft,null):null),i&&ye(i),process.env.NODE_ENV!=="production"&&!he)throw new Error(`[🍍]: "getActivePinia()" was called but there was no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);i=he,i._s.has(r)||(a?He(r,n,s,i):ct(r,s,i),process.env.NODE_ENV!=="production"&&(l._pinia=i));const p=i._s.get(r);if(process.env.NODE_ENV!=="production"&&c){const m="__hot:"+r,h=a?He(m,n,s,i,!0):ct(m,W({},s),i,!0);c._hotUpdate(h),delete i.state.value[m],i._s.delete(m)}if(process.env.NODE_ENV!=="production"&&De){const m=e.getCurrentInstance();if(m&&m.proxy&&!c){const h=m.proxy,v="_pStores"in h?h._pStores:h._pStores={};v[r]=p}}return p}return l.$id=r,l}const oo=()=>({0:"0",.1:"0.1",.2:"0.2",.3:"0.3",.4:"0.4",.5:"0.5",.6:"0.6",.7:"0.7",.8:"0.8",.9:"0.9",1:"1.0",1.1:"1.1",1.2:"1.2",1.4:"1.4",1.5:"1.5",1.75:"1.75",2:"2.0"}),ro=()=>({0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10","-1":"-1","-2":"-2","-3":"-3","-4":"-4","-5":"-5","-6":"-6","-7":"-7","-8":"-8","-9":"-9","-10":"-10"}),so=()=>"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png";function Ee(){return()=>Promise.resolve([])}function qe(t){const n=(t==null?void 0:t.editorConfig)||{maxLength:5e3,placeholder:"请输入内容..."},o=(t==null?void 0:t.handleError)||(()=>{}),r=(t==null?void 0:t.fetchPinyin)||Ee(),s=(t==null?void 0:t.fetchPinyin)||Ee(),a=(t==null?void 0:t.fetchBgm)||Ee(),l=(t==null?void 0:t.fetchSpecial)||Ee();return{editorConfig:n,handleError:o,fetchPinyin:r,fetchEnglish:s,fetchBgm:a,fetchSpecial:l,speed:oo,pitch:ro,demoAvatar:so}}const Z=Kt("--editor-config",()=>{const t=e.shallowRef(),n=e.shallowRef(),o=e.computed(()=>t.value),r=e.computed(()=>{if(n.value)return n.value;throw Error("请设置GlobalEditorConfig")});return{editor:o,globalEditConfig:r,setEditor:l=>{t.value=l},setGlobalEditConfig:l=>{n.value=l??qe()}}}),ao=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-audio"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-audio"?!0:o(s),r};function ut(t,n,o,r,s){const a=n===void 0?void 0:n.key;return{sel:t,data:n,children:o,text:r,elm:s,key:a}}const dt=Array.isArray;function Be(t){return typeof t=="string"||typeof t=="number"||t instanceof String||t instanceof Number}function Zt(t,n,o){if(t.ns="http://www.w3.org/2000/svg",o!=="foreignObject"&&n!==void 0)for(let r=0;r<n.length;++r){const s=n[r];if(typeof s=="string")continue;const a=s.data;a!==void 0&&Zt(a,s.children,s.sel)}}function _(t,n,o){let r={},s,a,l;if(o!==void 0?(n!==null&&(r=n),dt(o)?s=o:Be(o)?a=o.toString():o&&o.sel&&(s=[o])):n!=null&&(dt(n)?s=n:Be(n)?a=n.toString():n&&n.sel?s=[n]:r=n),s!==void 0)for(l=0;l<s.length;++l)Be(s[l])&&(s[l]=ut(void 0,void 0,void 0,s[l],void 0));return t[0]==="s"&&t[1]==="v"&&t[2]==="g"&&(t.length===3||t[3]==="."||t[3]==="#")&&Zt(r,s,t),ut(t,r,s,a,void 0)}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function en(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tn="Expected a function",ft=0/0,lo="[object Symbol]",io=/^\s+|\s+$/g,co=/^[-+]0x[0-9a-f]+$/i,uo=/^0b[01]+$/i,fo=/^0o[0-7]+$/i,po=parseInt,mo=typeof ce=="object"&&ce&&ce.Object===Object&&ce,ho=typeof self=="object"&&self&&self.Object===Object&&self,vo=mo||ho||Function("return this")(),yo=Object.prototype,_o=yo.toString,go=Math.max,bo=Math.min,Me=function(){return vo.Date.now()};function wo(t,n,o){var r,s,a,l,i,c,f=0,p=!1,m=!1,h=!0;if(typeof t!="function")throw new TypeError(tn);n=pt(n)||0,Te(o)&&(p=!!o.leading,m="maxWait"in o,a=m?go(pt(o.maxWait)||0,n):a,h="trailing"in o?!!o.trailing:h);function v(w){var g=r,D=s;return r=s=void 0,f=w,l=t.apply(D,g),l}function d(w){return f=w,i=setTimeout(k,n),p?v(w):l}function u(w){var g=w-c,D=w-f,U=n-g;return m?bo(U,a-D):U}function b(w){var g=w-c,D=w-f;return c===void 0||g>=n||g<0||m&&D>=a}function k(){var w=Me();if(b(w))return R(w);i=setTimeout(k,u(w))}function R(w){return i=void 0,h&&r?v(w):(r=s=void 0,l)}function S(){i!==void 0&&clearTimeout(i),f=0,r=c=s=i=void 0}function C(){return i===void 0?l:R(Me())}function $(){var w=Me(),g=b(w);if(r=arguments,s=this,c=w,g){if(i===void 0)return d(c);if(m)return i=setTimeout(k,n),v(c)}return i===void 0&&(i=setTimeout(k,n)),l}return $.cancel=S,$.flush=C,$}function xo(t,n,o){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(tn);return Te(o)&&(r="leading"in o?!!o.leading:r,s="trailing"in o?!!o.trailing:s),wo(t,n,{leading:r,maxWait:n,trailing:s})}function Te(t){var n=typeof t;return!!t&&(n=="object"||n=="function")}function Eo(t){return!!t&&typeof t=="object"}function Vo(t){return typeof t=="symbol"||Eo(t)&&_o.call(t)==lo}function pt(t){if(typeof t=="number")return t;if(Vo(t))return ft;if(Te(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Te(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=t.replace(io,"");var o=uo.test(t);return o||fo.test(t)?po(t.slice(2),o?2:8):co.test(t)?ft:+t}var No=xo;const G=en(No);function mt(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Je(t,n){t===void 0&&(t={}),n===void 0&&(n={}),Object.keys(n).forEach(function(o){typeof t[o]>"u"?t[o]=n[o]:mt(n[o])&&mt(t[o])&&Object.keys(n[o]).length>0&&Je(t[o],n[o])})}var nn={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qe(){var t=typeof document<"u"?document:{};return Je(t,nn),t}var So={document:nn,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){typeof setTimeout>"u"||clearTimeout(t)}};function on(){var t=typeof window<"u"?window:{};return Je(t,So),t}function ko(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Ue(t)}function Oe(t,n){return Oe=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},Oe(t,n)}function Co(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ke(t,n,o){return Co()?ke=Reflect.construct:ke=function(s,a,l){var i=[null];i.push.apply(i,a);var c=Function.bind.apply(s,i),f=new c;return l&&Oe(f,l.prototype),f},ke.apply(null,arguments)}function $o(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function ze(t){var n=typeof Map=="function"?new Map:void 0;return ze=function(r){if(r===null||!$o(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(r))return n.get(r);n.set(r,s)}function s(){return ke(r,arguments,Ue(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Oe(s,r)},ze(t)}function To(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oo(t){var n=t.__proto__;Object.defineProperty(t,"__proto__",{get:function(){return n},set:function(r){n.__proto__=r}})}var oe=function(t){ko(n,t);function n(o){var r;return r=t.call.apply(t,[this].concat(o))||this,Oo(To(r)),r}return n}(ze(Array));function Ke(t){t===void 0&&(t=[]);var n=[];return t.forEach(function(o){Array.isArray(o)?n.push.apply(n,Ke(o)):n.push(o)}),n}function Ro(t){for(var n=[],o=0;o<t.length;o+=1)n.indexOf(t[o])===-1&&n.push(t[o]);return n}function Do(t){return t.toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()})}function Po(t,n){if(typeof t!="string")return[t];for(var o=[],r=n.querySelectorAll(t),s=0;s<r.length;s+=1)o.push(r[s]);return o}function O(t,n){var o=on(),r=Qe(),s=[];if(!n&&t instanceof oe)return t;if(!t)return new oe(s);if(typeof t=="string"){var a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");var i=r.createElement(l);i.innerHTML=a;for(var c=0;c<i.childNodes.length;c+=1)s.push(i.childNodes[c])}else s=Po(t.trim(),n||r)}else if(t.nodeType||t===o||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof oe)return t;s=t}return new oe(Ro(s))}O.fn=oe.prototype;function ht(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Ke(n.map(function(s){return s.split(" ")}));return this.forEach(function(s){var a;(a=s.classList).add.apply(a,r)}),this}function vt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=Ke(n.map(function(s){return s.split(" ")}));return this.forEach(function(s){var a;(a=s.classList).remove.apply(a,r)}),this}function yt(t,n){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(var o=0;o<this.length;o+=1)if(arguments.length===2)this[o].setAttribute(t,n);else for(var r in t)this[o][r]=t[r],this[o].setAttribute(r,t[r]);return this}function _t(){var t=this[0];if(t){var n={};if(t.dataset)for(var o in t.dataset)n[o]=t.dataset[o];else for(var r=0;r<t.attributes.length;r+=1){var s=t.attributes[r];s.name.indexOf("data-")>=0&&(n[Do(s.name.split("data-")[1])]=s.value)}for(var a in n)n[a]==="false"?n[a]=!1:n[a]==="true"?n[a]=!0:parseFloat(n[a])===n[a]*1&&(n[a]*=1);return n}}function gt(t){if(typeof t>"u"){var n=this[0];if(!n)return;if(n.multiple&&n.nodeName.toLowerCase()==="select"){for(var o=[],r=0;r<n.selectedOptions.length;r+=1)o.push(n.selectedOptions[r].value);return o}return n.value}for(var s=0;s<this.length;s+=1){var a=this[s];if(Array.isArray(t)&&a.multiple&&a.nodeName.toLowerCase()==="select")for(var l=0;l<a.options.length;l+=1)a.options[l].selected=t.indexOf(a.options[l].value)>=0;else a.value=t}return this}function bt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],s=n[1],a=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],a=n[1],l=n[2],s=void 0),l||(l=!1);function i(u){var b=u.target;if(b){var k=u.target.dom7EventData||[];if(k.indexOf(u)<0&&k.unshift(u),O(b).is(s))a.apply(b,k);else for(var R=O(b).parents(),S=0;S<R.length;S+=1)O(R[S]).is(s)&&a.apply(R[S],k)}}function c(u){var b=u&&u.target?u.target.dom7EventData||[]:[];b.indexOf(u)<0&&b.unshift(u),a.apply(this,b)}for(var f=r.split(" "),p,m=0;m<this.length;m+=1){var h=this[m];if(s)for(p=0;p<f.length;p+=1){var d=f[p];h.dom7LiveListeners||(h.dom7LiveListeners={}),h.dom7LiveListeners[d]||(h.dom7LiveListeners[d]=[]),h.dom7LiveListeners[d].push({listener:a,proxyListener:i}),h.addEventListener(d,i,l)}else for(p=0;p<f.length;p+=1){var v=f[p];h.dom7Listeners||(h.dom7Listeners={}),h.dom7Listeners[v]||(h.dom7Listeners[v]=[]),h.dom7Listeners[v].push({listener:a,proxyListener:c}),h.addEventListener(v,c,l)}}return this}function wt(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=n[0],s=n[1],a=n[2],l=n[3];typeof n[1]=="function"&&(r=n[0],a=n[1],l=n[2],s=void 0),l||(l=!1);for(var i=r.split(" "),c=0;c<i.length;c+=1)for(var f=i[c],p=0;p<this.length;p+=1){var m=this[p],h=void 0;if(!s&&m.dom7Listeners?h=m.dom7Listeners[f]:s&&m.dom7LiveListeners&&(h=m.dom7LiveListeners[f]),h&&h.length)for(var v=h.length-1;v>=0;v-=1){var d=h[v];a&&d.listener===a||a&&d.listener&&d.listener.dom7proxy&&d.listener.dom7proxy===a?(m.removeEventListener(f,d.proxyListener,l),h.splice(v,1)):a||(m.removeEventListener(f,d.proxyListener,l),h.splice(v,1))}}return this}function xt(){for(var t=0;t<this.length;t+=1)this[t].style.display="none";return this}function Et(t){return t?(this.forEach(function(n,o){t.apply(n,[n,o])}),this):this}function Vt(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(var n=0;n<this.length;n+=1)this[n].innerHTML=t;return this}function Nt(t){var n=on(),o=Qe(),r=this[0],s,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=O(t),a=0;a<s.length;a+=1)if(s[a]===r)return!0;return!1}if(t===o)return r===o;if(t===n)return r===n;if(t.nodeType||t instanceof oe){for(s=t.nodeType?[t]:t,a=0;a<s.length;a+=1)if(s[a]===r)return!0;return!1}return!1}function St(){for(var t,n=Qe(),o=0;o<arguments.length;o+=1){t=o<0||arguments.length<=o?void 0:arguments[o];for(var r=0;r<this.length;r+=1)if(typeof t=="string"){var s=n.createElement("div");for(s.innerHTML=t;s.firstChild;)this[r].appendChild(s.firstChild)}else if(t instanceof oe)for(var a=0;a<t.length;a+=1)this[r].appendChild(t[a]);else this[r].appendChild(t)}return this}function kt(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].parentNode;r;)t?O(r).is(t)&&n.push(r):n.push(r),r=r.parentNode;return O(n)}function Ct(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].querySelectorAll(t),s=0;s<r.length;s+=1)n.push(r[s]);return O(n)}function $t(t){for(var n=[],o=0;o<this.length;o+=1)for(var r=this[o].children,s=0;s<r.length;s+=1)(!t||O(r[s]).is(t))&&n.push(r[s]);return O(n)}var Io="resize scroll".split(" ");function rn(t){function n(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];if(typeof r[0]>"u"){for(var a=0;a<this.length;a+=1)Io.indexOf(t)<0&&(t in this[a]?this[a][t]():O(this[a]).trigger(t));return this}return this.on.apply(this,[t].concat(r))}return n}var Tt=rn("click"),Ot=rn("focus");xt&&(O.fn.hide=xt);St&&(O.fn.append=St);Tt&&(O.fn.click=Tt);bt&&(O.fn.on=bt);wt&&(O.fn.off=wt);Ot&&(O.fn.focus=Ot);yt&&(O.fn.attr=yt);gt&&(O.fn.val=gt);Vt&&(O.fn.html=Vt);_t&&(O.fn.dataset=_t);ht&&(O.fn.addClass=ht);vt&&(O.fn.removeClass=vt);$t&&(O.fn.children=$t);Et&&(O.fn.each=Et);Ct&&(O.fn.find=Ct);Nt&&(O.fn.is=Nt);kt&&(O.fn.parents=kt);class Ao{constructor(){we(this,"audio");we(this,"src");this.audio=null,this.src=null}removeAudioElement(){this.audio&&(document.body.removeChild(this.audio),this.audio=null,this.src=null)}play(n){this.stop(),this.audio=document.createElement("audio"),this.audio.hidden=!0,this.audio.volume=.5,this.audio.src=n,this.src=n,document.body.appendChild(this.audio),this.audio.play()}stop(n){n&&n!==this.src||this.audio&&(this.audio.pause(),this.audio.currentTime=0,this.removeAudioElement())}}const Re=new Ao;function Rt(t){const n=Math.floor(t/60),o=t%60,r=String(n).padStart(2,"0"),s=String(o).padStart(2,"0");return`${r}:${s}`}const Bo={type:"ssml-audio",renderElem:(t,n,o)=>{const{remark:r,src:s}=t;return _("span.ssml-wrapper.no-line-height",[_("span.remark.left",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-audio)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(a=>{a.preventDefault(),Re.stop(s);const l=y.DomEditor.findPath(o,t);y.SlateTransforms.delete(o,{at:l})})}}),_("span.iconfont.icon-play",{on:{click:G(a=>{a.preventDefault(),Re.play(s)})}}),_("span.data-content",{attrs:{"data-content":r}})])])}},Mo={type:"ssml-audio",elemToHtml:(t,n)=>{const{remark:o,src:r}=t;return`<span
          data-w-e-type="ssml-audio"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-src="${r}"
          data-ow-remark="${o}"
        >${n}</span>`}},Lo={selector:'span[data-w-e-type="ssml-audio"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-src")||"",r=t.getAttribute("data-ow-remark")||"";return{type:"ssml-audio",src:o,remark:r,children:n}}},jo={editorPlugin:ao,renderElems:[Bo],elemsToHtml:[Mo],parseElemHtml:[Lo]},Fo=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-break"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-break"?!0:o(s),r},Ho={type:"ssml-break",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",{props:{contentEditable:!1}},[_("span.remark",{style:{backgroundColor:"var(--ssml-break)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.delete(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"|"},style:{color:"var(--ssml-break)"}})])}},Uo={type:"ssml-break",elemToHtml:t=>{const{remark:n,time:o,strength:r}=t;return`<span
          data-w-e-type="ssml-break"
          data-w-e-is-void
          data-w-e-is-inline
          data-ow-remark="${n}"
          data-ow-time="${o}"
          data-ow-strength="${r}"
        ></span>`}},zo={selector:'span[data-w-e-type="ssml-break"]',parseElemHtml:t=>{const n=t.getAttribute("data-ow-remark")||"",o=t.getAttribute("data-ow-time")||"",r=t.getAttribute("data-ow-strength")||"";return{type:"ssml-break",remark:n,time:o,strength:r,children:[{text:""}]}}},Wo={editorPlugin:Fo,renderElems:[Ho],elemsToHtml:[Uo],parseElemHtml:[zo]},Go=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-emphasis"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-emphasis"?!1:o(s),r},Xo={type:"ssml-emphasis",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-emphasis)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-emphasis)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-emphasis)"}})])}},Yo={type:"ssml-emphasis",elemToHtml:(t,n)=>{const{remark:o,level:r}=t;return`<span
          data-w-e-type="ssml-emphasis"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-level="${r}"
        >${n}</span>`}},qo={selector:'span[data-w-e-type="ssml-emphasis"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-level")||"";return{type:"ssml-emphasis",remark:o,level:r,children:n}}},Jo={editorPlugin:Go,renderElems:[Xo],elemsToHtml:[Yo],parseElemHtml:[qo]},Qo=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-mstts:express-as"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-mstts:express-as"?!1:o(s),r},Ko={type:"ssml-mstts:express-as",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-mstts--express-as)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-mstts--express-as)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-mstts--express-as)"}})])}},Zo={type:"ssml-mstts:express-as",elemToHtml:(t,n)=>{const{remark:o,style:r,role:s,styledegree:a}=t;return`<span
          data-w-e-type="ssml-mstts:express-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-style="${r}"
          data-ow-styledegree="${a}"
          data-ow-role="${s}"
        >${n}</span>`}},er={selector:'span[data-w-e-type="ssml-mstts:express-as"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-style")||"",s=t.getAttribute("data-ow-styledegree")||"",a=t.getAttribute("data-ow-role")||"";return{type:"ssml-mstts:express-as",style:r,remark:o,styledegree:s,role:a,children:n}}},tr={editorPlugin:Qo,renderElems:[Ko],elemsToHtml:[Zo],parseElemHtml:[er]},nr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-p"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-p"?!1:o(s),r},or={type:"ssml-p",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-p)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-p)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-p)"}})])}},rr={type:"ssml-p",elemToHtml:(t,n)=>{const{remark:o}=t;return`<span
          data-w-e-type="ssml-p"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}},sr={selector:'span[data-w-e-type="ssml-p"]',parseElemHtml:(t,n)=>({type:"ssml-p",remark:t.getAttribute("data-ow-remark")||"",children:n})},ar={editorPlugin:nr,renderElems:[or],elemsToHtml:[rr],parseElemHtml:[sr]},lr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-phoneme"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-phoneme"?!1:o(s),r},ir={type:"ssml-phoneme",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-phoneme)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-phoneme)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-phoneme)"}})])}},cr={type:"ssml-phoneme",elemToHtml:(t,n)=>{const{remark:o,alphabet:r,ph:s}=t;return`<span
          data-w-e-type="ssml-phoneme"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alphabet="${r}"
          data-ow-ph="${s}"
        >${n}</span>`}},ur={selector:'span[data-w-e-type="ssml-phoneme"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-alphabet")||"",s=t.getAttribute("data-ow-ph")||"";return{type:"ssml-phoneme",remark:o,alphabet:r,ph:s,children:n}}},dr={editorPlugin:lr,renderElems:[ir],elemsToHtml:[cr],parseElemHtml:[ur]},fr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-prosody"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-prosody"?!1:o(s),r},pr={type:"ssml-prosody",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-prosody)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-prosody)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-prosody)"}})])}},mr={type:"ssml-prosody",elemToHtml:(t,n)=>{const{remark:o,contour:r,pitch:s,range:a,rate:l,volume:i}=t;return`<span
          data-w-e-type="ssml-prosody"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-contour="${r}"
          data-ow-pitch="${s}"
          data-ow-range="${a}"
          data-ow-rate="${l}"
          data-ow-volume="${i}"
        >${n}</span>`}},hr={selector:'span[data-w-e-type="ssml-prosody"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-contour")||"",s=t.getAttribute("data-ow-pitch ")||"",a=t.getAttribute("data-ow-range")||"",l=t.getAttribute("data-ow-rate")||void 0,i=t.getAttribute("data-ow-volume")||"";return{type:"ssml-prosody",remark:o,contour:r,pitch:s,range:a,rate:l,volume:i,children:n}}},vr={editorPlugin:fr,renderElems:[pr],elemsToHtml:[mr],parseElemHtml:[hr]},yr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-s"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-s"?!1:o(s),r},_r={type:"ssml-s",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-s)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-s)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-s)"}})])}},gr={type:"ssml-s",elemToHtml:(t,n)=>{const{remark:o}=t;return`<span
          data-w-e-type="ssml-s"
          data-w-e-is-inline
          data-ow-remark="${o}"
        >${n}</span>`}},br={selector:'span[data-w-e-type="ssml-s"]',parseElemHtml:(t,n)=>({type:"ssml-s",remark:t.getAttribute("data-ow-remark")||"",children:n})},wr={editorPlugin:yr,renderElems:[_r],elemsToHtml:[gr],parseElemHtml:[br]},xr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-say-as"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-say-as"?!1:o(s),r},Er={type:"ssml-say-as",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-say-as)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-say-as)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-say-as)"}})])}},Vr={type:"ssml-say-as",elemToHtml:(t,n)=>{const{remark:o,interpretAs:r,detail:s,format:a}=t;return`<span
          data-w-e-type="ssml-say-as"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-interpretAs="${r}"
          data-ow-detail="${s}"
          data-ow-format="${a}"
        >${n}</span>`}},Nr={selector:'span[data-w-e-type="ssml-say-as"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-interpretAs")||"",s=t.getAttribute("data-ow-format")||"",a=t.getAttribute("data-ow-detail")||"";return{type:"ssml-say-as",remark:o,interpretAs:r,detail:a,format:s,children:n}}},Sr={editorPlugin:xr,renderElems:[Er],elemsToHtml:[Vr],parseElemHtml:[Nr]},kr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-sub"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-sub"?!1:o(s),r},Cr={type:"ssml-sub",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-sub)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-sub)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-sub)"}})])}},$r={type:"ssml-sub",elemToHtml:(t,n)=>{const{remark:o,alias:r}=t;return`<span
          data-w-e-type="ssml-sub"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-alias="${r}"
        >${n}</span>`}},Tr={selector:'span[data-w-e-type="ssml-sub"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-alias")||"";return{type:"ssml-sub",remark:o,alias:r,children:n}}},Or={editorPlugin:kr,renderElems:[Cr],elemsToHtml:[$r],parseElemHtml:[Tr]},Rr=t=>{const{isInline:n,isVoid:o}=t,r=t;return r.isInline=s=>y.DomEditor.getNodeType(s)==="ssml-voice"?!0:n(s),r.isVoid=s=>y.DomEditor.getNodeType(s)==="ssml-voice"?!1:o(s),r},Dr={type:"ssml-voice",renderElem:(t,n,o)=>{const{remark:r}=t;return _("span.ssml-wrapper",[_("span.remark",{props:{contentEditable:!1},style:{backgroundColor:"var(--ssml-voice)"}},[_("span.iconfont.icon-roundclosefill",{on:{click:G(s=>{s.preventDefault();const a=y.DomEditor.findPath(o,t);y.SlateTransforms.unwrapNodes(o,{at:a})})}}),_("span.data-content",{attrs:{"data-content":r}})]),_("span.data-content",{attrs:{"data-content":"{{"},style:{color:"var(--ssml-voice)"}}),_("span",n),_("span.data-content",{attrs:{"data-content":"}}"},style:{color:"var(--ssml-voice)"}})])}},Pr={type:"ssml-voice",elemToHtml:(t,n)=>{const{remark:o,name:r,effect:s}=t;return`<span
          data-w-e-type="ssml-voice"
          data-w-e-is-inline
          data-ow-remark="${o}"
          data-ow-name="${r}"
          data-ow-effect="${s}"
        >${n}</span>`}},Ir={selector:'span[data-w-e-type="ssml-voice"]',parseElemHtml:(t,n)=>{const o=t.getAttribute("data-ow-remark")||"",r=t.getAttribute("data-ow-name")||"",s=t.getAttribute("data-ow-effect")||"";return{type:"ssml-voice",remark:o,name:r,effect:s,children:n}}},Ar={editorPlugin:Rr,renderElems:[Dr],elemsToHtml:[Pr],parseElemHtml:[Ir]},Br=t=>{const{deleteBackward:n,deleteForward:o,insertBreak:r,apply:s,normalizeNode:a,insertText:l,insertData:i,setFragmentData:c}=t,f=t;return f.deleteBackward=p=>{n(p)},f.deleteForward=p=>{o(p)},f.insertBreak=()=>{r()},f.normalizeNode=p=>{console.log("normalizeNode"),a(p)},f.apply=p=>{console.log("apply",JSON.stringify(p)),s(p)},f.insertData=p=>{if(p.types.includes("application/x-slate-fragment"))return i(p);l(p.getData("text/plain").trim())},f.setFragmentData=p=>{c(p);const m=p.getData("text/plain").replaceAll(/[\s]/gi,"");p.setData("text/plain",m)},f.insertText=p=>{l(p)},f};function Mr(t){return t.replaceAll(/[&]/gi,"&amp;").replaceAll(/[<]/gi,"&lt;").replaceAll(/[>]/gi,"&gt;")}function Lr(t,n){return n?`<audio src="${t.src}">${n}</audio>`:`<audio src="${t.src}"/>`}function jr(t){return t.time?`<break time="${t.time}"/>`:t.strength?`<break strength="${t.strength}"/>`:"<break/>"}function Fr(t,n){return t.level?`<emphasis level="${t.level}">${n}</emphasis>`:`<emphasis>${n}</emphasis>`}function Hr(t,n){if(!t.style)return n;const o=t.role?` role="${t.role}"`:"",r=t.styledegree?` styledegree="${t.styledegree}"`:"";return`<mstts:express-as style="${t.style}"${o}${r}>${n}</mstts:express-as>`}function Ur(t){if(!t.src)return"";const n=t.volume?` volume="${t.volume}"`:"",o=t.fadein?` fadein="${t.fadein}"`:"",r=t.fadeout?` fadeout="${t.fadeout}"`:"";return`<mstts:backgroundaudio src="${t.src}"${n}${o}${r}/>`}function zr(t){return!t.attrType||!t.value?"":`<mstts:silence type="${t.attrType}" value="${t.value}"/>`}function Wr(t,n){return`<p>${n}</p>`}function Gr(t,n){const o=t.alphabet?`alphabet="${t.alphabet}"`:"";return`<phoneme ph="${t.ph}"${o}>${n}</phoneme>`}function Xr(t,n){const o=t.contour?` contour="${t.contour}"`:"",r=t.pitch?` pitch="${t.pitch}"`:"",s=t.range?` range="${t.range}"`:"",a=t.volume?` volume="${t.volume}"`:"",l=t.rate?` rate="${t.rate}"`:"";return`<prosody${o}${r}${s}${a}${l}>${n}</prosody>`}function Yr(t,n){const o=t.interpretAs?` interpret-as="${t.interpretAs}"`:"",r=t.format?` format="${t.format}"`:"",s=t.detail?` detail="${t.detail}"`:"";return`<say-as${o}${r}${s}>${n}</say-as>`}function qr(t,n){return`<s>${n}</s>`}function Jr(t,n){return`<sub alias=${t.alias}>${n}</sub>`}function Qr(t,n){const o=t.effect?` effect="${t.effect}"`:"";return`<voice name="${t.name}${o}">${n}</voice>`}function Kr(t,n){return`<speak
  version="${t.version}"
  xml:lang="${t.xmlLang}"
  xmlns="${t.xmlns}"
  xmlns:mstts="${t["xmlns:mstts"]}"
  xmlns:emo="${t["xmlns:emo"]}"
  >${n}</speak>`}function sn(t){if(y.SlateText.isText(t))return Mr(t.text);if(y.SlateElement.isElement(t)){const n=t.children.map(r=>sn(r)).join("");switch(y.DomEditor.getNodeType(t)){case"paragraph":return`<p>${n}</p>`;case"ssml-speak":return Kr(t,n);case"ssml-mstts:backgroundaudio":return Ur(t);case"ssml-audio":return Lr(t,n);case"ssml-break":return jr(t);case"ssml-emphasis":return Fr(t,n);case"ssml-mstts:express-as":return Hr(t,n);case"ssml-p":return Wr(t,n);case"ssml-phoneme":return Gr(t,n);case"ssml-prosody":return Xr(t,n);case"ssml-s":return qr(t,n);case"ssml-say-as":return Yr(t,n);case"ssml-sub":return Jr(t,n);case"ssml-voice":return Qr(t,n);case"ssml-mstts:silence":return zr(t);default:return n}}return""}function Zr(){const{editor:t}=Z();if(!t)throw Error("没有找到 editor 对象");const{rootSpeak:n,rootVoice:o,rootExpressAs:r,rootBackgroundaudio:s}=Ze(),a={...n,children:[]},l={...s},i={...o,children:[]},c={...r,children:[]},f=[{type:"ssml-mstts:silence",attrType:"comma-exact",value:"50ms",remark:"逗号静音",children:[]},{type:"ssml-mstts:silence",attrType:"semicolon-exact",value:"100ms",remark:"分号静音",children:[]},{type:"ssml-mstts:silence",attrType:"enumerationcomma-exact",value:"150ms",remark:"顿号静音",children:[]}];return a.children.push(l),a.children.push(i),i.children.push(...f),i.children.push(c),c.children=t.children,sn(a)}const es={install(){y.Boot.registerModule(jo),y.Boot.registerModule(Wo),y.Boot.registerModule(Jo),y.Boot.registerModule(tr),y.Boot.registerModule(ar),y.Boot.registerModule(dr),y.Boot.registerModule(vr),y.Boot.registerModule(wr),y.Boot.registerModule(Sr),y.Boot.registerModule(Or),y.Boot.registerModule(Ar),y.Boot.registerPlugin(Br)}},Ze=Kt("--editor-ssml",()=>{const t=e.shallowReactive({type:"ssml-speak",version:"1.0",xmlLang:"zh-CN",xmlns:"http://www.w3.org/2001/10/synthesis","xmlns:mstts":"http://www.w3.org/2001/mstts","xmlns:emo":"http://www.w3.org/2009/10/emotionml",remark:"",children:[]}),n=e.shallowReactive({name:"zh-CN-XiaomoNeural",type:"ssml-voice",remark:"Xiaomo-晓墨",effect:"",children:[]}),o=e.shallowReactive({type:"ssml-mstts:backgroundaudio",src:"",remark:"",children:[]}),r=e.shallowReactive({type:"ssml-mstts:express-as",style:"",role:"",remark:"",children:[]});return{rootSpeak:t,rootVoice:n,rootBackgroundaudio:o,rootExpressAs:r}}),ts={class:"bar-button-icon"},ns={class:"fw-normal",style:{"font-size":"0.85rem"}},os=e.defineComponent({__name:"bar-button",props:{text:{},icon:{},disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:n}){const o=t,r=()=>{if(!o.disabled){const{editor:s}=Z();s&&n("click",s)}};return(s,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["bar-button px-2 py-1",{disabled:s.disabled}]),onClick:r,onMousedown:a[0]||(a[0]=e.withModifiers(()=>{},["prevent"]))},[e.createElementVNode("div",ts,[e.createElementVNode("span",{class:e.normalizeClass(["fs-3 iconfont-moyin",[`moyin-icon_${s.icon}`]])},null,2)]),e.createElementVNode("div",ns,e.toDisplayString(s.text),1)],34))}});const H=(t,n)=>{const o=t.__vccOpts||t;for(const[r,s]of n)o[r]=s;return o},F=H(os,[["__scopeId","data-v-7f1d5309"]]);const et=e.defineComponent({__name:"bar-input",props:{type:{}},emits:["submit"],setup(t,{expose:n,emit:o}){const r=e.ref(""),s=e.ref();function a(){s.value.focus()}function l(){o("submit",r.value),r.value=""}return n({focus:a}),(i,c)=>(e.openBlock(),e.createBlock(e.unref(N.ElForm),{onSubmit:e.withModifiers(l,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{type:i.type,ref_key:"inputRef",ref:s,modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=f=>r.value=f)},null,8,["type","modelValue"])]),_:1},8,["onSubmit"]))}});const rs=e.defineComponent({__name:"bar-popover",props:{visible:{type:Boolean},trigger:{},hideAfter:{},width:{}},emits:["update:visible"],setup(t){return(n,o)=>(e.openBlock(),e.createBlock(e.unref(N.ElPopover),{hideAfter:n.hideAfter,width:n.width,visible:n.visible,trigger:n.trigger,"onUpdate:visible":o[0]||(o[0]=r=>n.$emit("update:visible",r))},{reference:e.withCtx(()=>[e.renderSlot(n.$slots,"reference")]),default:e.withCtx(()=>[e.renderSlot(n.$slots,"default")]),_:3},8,["hideAfter","width","visible","trigger"]))}});function Pe(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function Y(t){return typeof t=="function"?t():e.unref(t)}const an=typeof window<"u",ss=t=>t!=null,Ce=()=>{};var as=Object.defineProperty,ls=Object.defineProperties,is=Object.getOwnPropertyDescriptors,Dt=Object.getOwnPropertySymbols,cs=Object.prototype.hasOwnProperty,us=Object.prototype.propertyIsEnumerable,Pt=(t,n,o)=>n in t?as(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,ds=(t,n)=>{for(var o in n||(n={}))cs.call(n,o)&&Pt(t,o,n[o]);if(Dt)for(var o of Dt(n))us.call(n,o)&&Pt(t,o,n[o]);return t},fs=(t,n)=>ls(t,is(n));function ps(t,n={}){if(!e.isRef(t))return e.toRefs(t);const o=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)o[r]=e.customRef(()=>({get(){return t.value[r]},set(s){var a;if((a=Y(n.replaceRef))!=null?a:!0)if(Array.isArray(t.value)){const i=[...t.value];i[r]=s,t.value=i}else{const i=fs(ds({},t.value),{[r]:s});Object.setPrototypeOf(i,Object.getPrototypeOf(t.value)),t.value=i}else t.value[r]=s}}));return o}function ln(t,n=!0){e.getCurrentInstance()?e.onMounted(t):n?t():e.nextTick(t)}function q(t){var n;const o=Y(t);return(n=o==null?void 0:o.$el)!=null?n:o}const te=an?window:void 0;function ue(...t){let n,o,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,r,s]=t,n=te):[n,o,r,s]=t,!n)return Ce;Array.isArray(o)||(o=[o]),Array.isArray(r)||(r=[r]);const a=[],l=()=>{a.forEach(p=>p()),a.length=0},i=(p,m,h,v)=>(p.addEventListener(m,h,v),()=>p.removeEventListener(m,h,v)),c=e.watch(()=>[q(n),Y(s)],([p,m])=>{l(),p&&a.push(...o.flatMap(h=>r.map(v=>i(p,h,v,m))))},{immediate:!0,flush:"post"}),f=()=>{c(),l()};return Pe(f),f}function ms(){const t=e.ref(!1);return e.getCurrentInstance()&&e.onMounted(()=>{t.value=!0}),t}function tt(t){const n=ms();return e.computed(()=>(n.value,!!t()))}function hs(t,n={}){const{window:o=te}=n,r=tt(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let s;const a=e.ref(!1),l=f=>{a.value=f.matches},i=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",l):s.removeListener(l))},c=e.watchEffect(()=>{r.value&&(i(),s=o.matchMedia(Y(t)),"addEventListener"in s?s.addEventListener("change",l):s.addListener(l),a.value=s.matches)});return Pe(()=>{c(),i(),s=void 0}),a}var vs=Object.defineProperty,ys=Object.defineProperties,_s=Object.getOwnPropertyDescriptors,It=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,bs=Object.prototype.propertyIsEnumerable,At=(t,n,o)=>n in t?vs(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,ws=(t,n)=>{for(var o in n||(n={}))gs.call(n,o)&&At(t,o,n[o]);if(It)for(var o of It(n))bs.call(n,o)&&At(t,o,n[o]);return t},xs=(t,n)=>ys(t,_s(n));function nt(t,n={}){var o,r;const{pointerTypes:s,preventDefault:a,stopPropagation:l,exact:i,onMove:c,onEnd:f,onStart:p,initialValue:m,axis:h="both",draggingElement:v=te,handle:d=t}=n,u=e.ref((o=Y(m))!=null?o:{x:0,y:0}),b=e.ref(),k=w=>s?s.includes(w.pointerType):!0,R=w=>{Y(a)&&w.preventDefault(),Y(l)&&w.stopPropagation()},S=w=>{if(!k(w)||Y(i)&&w.target!==Y(t))return;const g=Y(t).getBoundingClientRect(),D={x:w.clientX-g.left,y:w.clientY-g.top};(p==null?void 0:p(D,w))!==!1&&(b.value=D,R(w))},C=w=>{if(!k(w)||!b.value)return;let{x:g,y:D}=u.value;(h==="x"||h==="both")&&(g=w.clientX-b.value.x),(h==="y"||h==="both")&&(D=w.clientY-b.value.y),u.value={x:g,y:D},c==null||c(u.value,w),R(w)},$=w=>{k(w)&&b.value&&(b.value=void 0,f==null||f(u.value,w),R(w))};if(an){const w={capture:(r=n.capture)!=null?r:!0};ue(d,"pointerdown",S,w),ue(v,"pointermove",C,w),ue(v,"pointerup",$,w)}return xs(ws({},ps(u)),{position:u,isDragging:e.computed(()=>!!b.value),style:e.computed(()=>`left:${u.value.x}px;top:${u.value.y}px;`)})}var Bt=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,Vs=Object.prototype.propertyIsEnumerable,Ns=(t,n)=>{var o={};for(var r in t)Es.call(t,r)&&n.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&Bt)for(var r of Bt(t))n.indexOf(r)<0&&Vs.call(t,r)&&(o[r]=t[r]);return o};function cn(t,n,o={}){const r=o,{window:s=te}=r,a=Ns(r,["window"]);let l;const i=tt(()=>s&&"ResizeObserver"in s),c=()=>{l&&(l.disconnect(),l=void 0)},f=e.computed(()=>Array.isArray(t)?t.map(h=>q(h)):[q(t)]),p=e.watch(f,h=>{if(c(),i.value&&s){l=new ResizeObserver(n);for(const v of h)v&&l.observe(v,a)}},{immediate:!0,flush:"post",deep:!0}),m=()=>{c(),p()};return Pe(m),{isSupported:i,stop:m}}function ge(t,n={}){const{reset:o=!0,windowResize:r=!0,windowScroll:s=!0,immediate:a=!0}=n,l=e.ref(0),i=e.ref(0),c=e.ref(0),f=e.ref(0),p=e.ref(0),m=e.ref(0),h=e.ref(0),v=e.ref(0);function d(){const u=q(t);if(!u){o&&(l.value=0,i.value=0,c.value=0,f.value=0,p.value=0,m.value=0,h.value=0,v.value=0);return}const b=u.getBoundingClientRect();l.value=b.height,i.value=b.bottom,c.value=b.left,f.value=b.right,p.value=b.top,m.value=b.width,h.value=b.x,v.value=b.y}return cn(t,d),e.watch(()=>q(t),u=>!u&&d()),s&&ue("scroll",d,{capture:!0,passive:!0}),r&&ue("resize",d,{passive:!0}),ln(()=>{a&&d()}),{height:l,bottom:i,left:c,right:f,top:p,width:m,x:h,y:v,update:d}}function Ss(t,n={width:0,height:0},o={}){const{window:r=te,box:s="content-box"}=o,a=e.computed(()=>{var c,f;return(f=(c=q(t))==null?void 0:c.namespaceURI)==null?void 0:f.includes("svg")}),l=e.ref(n.width),i=e.ref(n.height);return cn(t,([c])=>{const f=s==="border-box"?c.borderBoxSize:s==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(r&&a.value){const p=q(t);if(p){const m=r.getComputedStyle(p);l.value=Number.parseFloat(m.width),i.value=Number.parseFloat(m.height)}}else if(f){const p=Array.isArray(f)?f:[f];l.value=p.reduce((m,{inlineSize:h})=>m+h,0),i.value=p.reduce((m,{blockSize:h})=>m+h,0)}else l.value=c.contentRect.width,i.value=c.contentRect.height},o),e.watch(()=>q(t),c=>{l.value=c?n.width:0,i.value=c?n.height:0}),{width:l,height:i}}function ks(t,n,o={}){const{root:r,rootMargin:s="0px",threshold:a=.1,window:l=te,immediate:i=!0}=o,c=tt(()=>l&&"IntersectionObserver"in l),f=e.computed(()=>{const d=Y(t);return(Array.isArray(d)?d:[d]).map(q).filter(ss)});let p=Ce;const m=e.ref(i),h=c.value?e.watch(()=>[f.value,q(r),m.value],([d,u])=>{if(p(),!m.value||!d.length)return;const b=new IntersectionObserver(n,{root:q(u),rootMargin:s,threshold:a});d.forEach(k=>k&&b.observe(k)),p=()=>{b.disconnect(),p=Ce}},{immediate:i,flush:"post"}):Ce,v=()=>{p(),h(),m.value=!1};return Pe(v),{isSupported:c,isActive:m,pause(){p(),m.value=!1},resume(){m.value=!0},stop:v}}function Cs(t,{window:n=te,scrollTarget:o}={}){const r=e.ref(!1);return ks(t,([{isIntersecting:s}])=>{r.value=s},{root:o,window:n}),r}function $s(t={}){const{window:n=te,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:s=!0,includeScrollbar:a=!0}=t,l=e.ref(o),i=e.ref(r),c=()=>{n&&(a?(l.value=n.innerWidth,i.value=n.innerHeight):(l.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(c(),ln(c),ue("resize",c,{passive:!0}),s){const f=hs("(orientation: portrait)");e.watch(f,()=>c())}return{width:l,height:i}}const Ts={class:"search-content w-100"},Os={class:"ps-2 w-75"},Rs={class:"menu ps-2"},Ds={class:"flex flex-row pt-1"},Ps={class:"content-list overflow-x-hidden overflow-y-auto py-2",style:{height:"250px"}},Is=["onClick"],As=e.createElementVNode("span",{class:"iconfont icon-play"},null,-1),Bs={class:"ps-2"},ot=e.defineComponent({__name:"bar-search",props:{menuItemLabel:{},scenes:{},styles:{},dataList:{},fetch:{type:Function}},emits:["submit"],setup(t,{emit:n}){const o=t,r=e.ref(),s=e.ref(""),a=e.ref(""),l=e.ref(""),i=e.ref(o.dataList||[]),c=e.ref("first"),f=Cs(r);e.watch(f,v=>{v&&setTimeout(()=>{var d;(d=r.value)==null||d.focus()},100)}),e.onMounted(async()=>{i.value.length||await p()});async function p(){i.value=await o.fetch({search:s.value,menuKey:c.value,scene:a.value,style:l.value})}function m(v){c.value=v,p()}function h(v){n("submit",v)}return(v,d)=>(e.openBlock(),e.createElementBlock("div",Ts,[e.createElementVNode("div",Os,[e.createVNode(e.unref(N.ElForm),{onSubmit:e.withModifiers(p,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{ref_key:"searchInputRef",ref:r,placeholder:"搜索",modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=u=>s.value=u),"suffix-icon":e.unref(_e.Search)},null,8,["modelValue","suffix-icon"])]),_:1},8,["onSubmit"])]),e.createElementVNode("div",Rs,[e.createVNode(e.unref(N.ElMenu),{mode:"horizontal","default-active":"first",onSelect:d[1]||(d[1]=u=>m(u))},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElMenuItem),{index:"first"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(v.menuItemLabel.first),1)]),_:1}),e.createVNode(e.unref(N.ElMenuItem),{index:"second"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(v.menuItemLabel.second),1)]),_:1}),e.createVNode(e.unref(N.ElMenuItem),{index:"last"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(v.menuItemLabel.last),1)]),_:1})]),_:1})]),e.createElementVNode("div",Ds,[e.createVNode(e.unref(N.ElSelect),{modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=u=>a.value=u),onChange:p,class:"m-1",size:"default"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.scenes,u=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e.createVNode(e.unref(N.ElSelect),{modelValue:l.value,"onUpdate:modelValue":d[3]||(d[3]=u=>l.value=u),onChange:p,class:"m-1",size:"default"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.styles,u=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{key:u.value,label:u.label,value:u.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),e.createElementVNode("ul",Ps,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,(u,b)=>(e.openBlock(),e.createElementBlock("li",{onClick:k=>h(e.toRaw(u)),class:"content-list-item clickable ps-2 py-2",key:b},[As,e.createElementVNode("span",Bs,e.toDisplayString(u.label),1)],8,Is))),128))])]))}});const Ms={},Ls={class:"content"};function js(t,n){return e.openBlock(),e.createElementBlock("div",Ls,[e.renderSlot(t.$slots,"default",{},void 0,!0)])}const un=H(Ms,[["render",js],["__scopeId","data-v-7beae5b9"]]),Fs={},Hs={class:"bar-wrapper-item"};function Us(t,n){return e.openBlock(),e.createElementBlock("div",Hs,[e.renderSlot(t.$slots,"default")])}const zs=H(Fs,[["render",Us]]),Ws={class:"bar-wrapper-group"},Gs={class:"group-items"},Xs=e.defineComponent({__name:"bar-wrapper-group",props:{divider:{}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",Ws,[e.createElementVNode("div",Gs,[e.renderSlot(n.$slots,"default",{},void 0,!0)]),e.createElementVNode("div",{class:e.normalizeClass(["divider",[n.divider]])},null,2)]))}});const le=H(Xs,[["__scopeId","data-v-3a7abad9"]]);function Ys(t,n){return`left:${t}px;top:${n}px`}function rt(t,n){const{width:o,height:r}=Ss(t),{width:s,height:a}=$s(),l=e.computed(()=>({x:s.value-o.value,y:a.value-r.value}));return{style:e.computed(()=>{const c=n.value.x,f=n.value.y,p=c<5?5:c>l.value.x?l.value.x-5:c,m=f<5?5:f>l.value.y?l.value.y-5:f;return Ys(p,m)})}}const qs={class:"w-100 d-flex flex-row align-items-center"},Js=e.defineComponent({__name:"drag-box",props:{visible:{type:Boolean},initialValue:{}},emits:["update:visible","close"],setup(t,{expose:n,emit:o}){const r=t,s=e.ref(),a=e.ref(),l=e.ref(),{position:i}=nt(a,{initialValue:r.initialValue}),{style:c}=rt(s,i);function f(d){i.value=d}n({setPosition:f}),e.onMounted(()=>{window.addEventListener("click",p),window.addEventListener("keydown",v)}),e.onUnmounted(()=>{window.addEventListener("click",p),window.addEventListener("keydown",v)});function p(d){m(d)&&h()}function m(d){const u=d.target;return!(!s.value||!l.value||l.value.contains(u)||s.value.contains(u))}function h(){o("update:visible",!1),o("close")}function v(d){d.code==="Escape"&&h()}return(d,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"referenceRef",ref:l},[e.renderSlot(d.$slots,"reference",{},void 0,!0)],512),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.withDirectives(e.createElementVNode("div",{ref_key:"boxRef",ref:s,class:"demotestname card shadow brag-box user-select-none",style:e.normalizeStyle([{position:"fixed"},e.unref(c)])},[e.createElementVNode("div",qs,[e.createElementVNode("div",{ref_key:"dragRef",ref:a,class:"w-100",style:{height:"40px"}},null,512),e.createElementVNode("span",{onClick:h,class:"btn iconfont icon-close fs-5"})]),e.renderSlot(d.$slots,"default",{},void 0,!0)],4),[[e.vShow,d.visible]])]))],64))}});const de=H(Js,[["__scopeId","data-v-15ec952a"]]),Qs={install(t){t.component("BarButton",F),t.component("BarInput",et),t.component("BarPopover",rs),t.component("BarSearch",ot),t.component("BarWrapper",un),t.component("BarWrapperItem",zs),t.component("BarWrapperGroup",le),t.component("DragBox",de)}},Ks="wangeditor-error",M={ERROR:Ks};class Q{constructor(n){we(this,"editor");this.editor=n}getValue(){const{selection:n}=this.editor;return n==null?"":y.SlateEditor.string(this.editor,n)}isDisabled(){const{selection:n}=this.editor;return n==null?(this.editor.emit(M.ERROR,"未选中编辑器"),!0):!1}}class Zs extends Q{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请选中文本"),!0;const o=this.getValue();return o.length!=1?!0:/^[\u4E00-\u9FA5]+$/gi.test(o)?!1:(this.editor.emit(M.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0)}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-phoneme",alphabet:"sapi",ph:n.value,remark:n.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const dn=e.defineComponent({setup(){const{globalEditConfig:t}=Z(),n=e.shallowRef(),o=e.ref([]),r=e.ref(!1);function s(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){var f;if(n.value??(n.value=new Zs(i)),(f=n.value)!=null&&f.isDisabled())return;const c=n.value.getValue();if(c?o.value=await t.fetchPinyin(c):o.value=[],o.value.length==0)return i.emit(M.ERROR,"选中的字符没有不是多音字");s()}return()=>e.createVNode(N.ElPopover,{visible:r.value,"onUpdate:visible":i=>r.value=i,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"多音字",icon:"speaker",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),a()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class ea extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请选择多个中文字符或者多个多个英文单词"),!0):y.SlateEditor.string(this.editor,n).length<2:!0}exec(){if(this.isDisabled())return;const n=this.getValue();if(n==null)return;const o={type:"ssml-prosody",rate:"fast",remark:"连读",children:[{text:n}]};y.SlateTransforms.insertNodes(this.editor,o)}}const fn=e.defineComponent({setup(){const t=e.shallowRef();function n(o){t.value??(t.value=new ea(o)),!t.value.isDisabled()&&t.value.exec()}return()=>e.createVNode(F,{text:"连读",icon:"continuous",onClick:n},null)}});class ta extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return!n||n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请先选择文本"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-prosody",remark:n.label,children:[{text:o}]};switch(n.value){case"z":r.rate="fast";break;case"t":r.pitch="+10%";break;case"z+t":r.rate="fast",r.pitch="+10%";break}y.SlateTransforms.insertNodes(this.editor,r)}}const na=[{label:"重音",value:"z"},{label:"拖音",value:"t"},{label:"重音+拖音",value:"z+t"}],pn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function s(a){t.value??(t.value=new ta(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"重音",icon:"read",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column",onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[na.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class oa extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请选择纯数字"),!0;const o=y.SlateEditor.string(this.editor,n);return o.length<=0?!0:Number.isNaN(Number(o))?(this.editor.emit(M.ERROR,"请选择纯数字"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-say-as",interpretAs:n.value,remark:n.label,children:[{text:o}]};y.SlateTransforms.delete(this.editor),y.SlateTransforms.insertNodes(this.editor,r)}}const ra=[{value:"cardinal",label:"读数值"},{value:"characters",label:"读数字"},{value:"telephone",label:"读手机号"}],mn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value=!n.value}function r(s){t.value??(t.value=new oa(s)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":s=>n.value=s,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"数字符号",icon:"digital",onClick:r},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[ra.map(({label:s,value:a})=>e.createVNode("div",{key:a,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:s,value:a}),o()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[s]))])})}});class sa extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"选中一个中文字符，并且有不能在其他语句之内"),!0):this.getValue().length<=0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-sub",remark:n.value,alias:n.value,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const hn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(),o=e.ref(!1);function r(){o.value||(o.value=!0)}function s(){o.value&&(o.value=!1)}async function a(i){t.value??(t.value=new sa(i)),!t.value.isDisabled()&&(r(),n.value.focus())}function l(i){var c;s(),i&&((c=t.value)==null||c.exec({value:i,label:i}))}return()=>e.createVNode(N.ElPopover,{visible:o.value,"onUpdate:visible":i=>o.value=i,trigger:"contextmenu",placement:"right-end",hideAfter:0,width:200},{reference:()=>e.createVNode(F,{text:"别名",icon:"alias",onClick:a},null),default:()=>e.createVNode(et,{ref:n,onSubmit:l},null)})}});function aa(t){const{selection:n}=t;if(n){const[o,r]=y.SlateRange.edges(n),s=y.SlateEditor.range(t,o,r),a=y.SlateEditor.string(t,s),l=a.trimEnd();if(l!==a){const i=a.length-l.length,c={...r,offset:r.offset-i},f={...n,anchor:o,focus:c};y.SlateTransforms.select(t,f)}}}class la extends Q{constructor(n){super(n)}getValue(){return super.getValue()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;if(!n)return!0;if(y.SlateRange.isCollapsed(n))return this.editor.emit(M.ERROR,"请选择英文单词"),!0;const o=y.SlateEditor.string(this.editor,n);return o.length<=0?!0:/^[A-Za-z]+$/gi.test(o)?!1:(this.editor.emit(M.ERROR,"请选择英文单词"),!0)}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-phoneme",alphabet:"ipa",ph:n.value,remark:n.label,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const vn=e.defineComponent({setup(){const{globalEditConfig:t}=Z(),n=e.shallowRef(),o=e.ref([]),r=e.ref(!1);function s(){r.value||(r.value=!0)}function a(){r.value&&(r.value=!1)}async function l(i){if(n.value??(n.value=new la(i)),aa(i),n.value.isDisabled())return;const c=n.value.getValue();if(c){if(o.value=await t.fetchEnglish(c),o.value.length<=0)return i.emit(M.ERROR,"找不到单词的音标");s()}}return()=>e.createVNode(N.ElPopover,{visible:r.value,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"音标",icon:"english",onClick:l},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[o.value.map(({label:i,value:c})=>e.createVNode("div",{key:c,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{n.value&&!n.value.isDisabled()&&n.value.exec({label:i,value:c}),a()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[i]))])})}});class ia extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n==null?!0:y.SlateRange.isCollapsed(n)?(this.editor.emit(M.ERROR,"请框选要变速的句子"),!0):!1}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o=this.getValue();if(o==null)return;const r={type:"ssml-prosody",remark:n.label,rate:n.value,children:[{text:o}]};y.SlateTransforms.insertNodes(this.editor,r)}}const ca=[{value:"0.5",label:"0.5x"},{value:"0.55",label:"0.55x"},{value:"0.6",label:"0.6x"},{value:"0.65",label:"0.65x"},{value:"0.7",label:"0.7x"},{value:"0.75",label:"0.75x"},{value:"0.8",label:"0.8x"},{value:"0.85",label:"0.85x"},{value:"0.9",label:"0.9x"},{value:"0.95",label:"0.95x"},{value:"1",label:"1x"},{value:"1.05",label:"1.05x"},{value:"1.1",label:"1.1x"},{value:"1.15",label:"1.15x"},{value:"1.2",label:"1.2x"},{value:"1.25",label:"1.25x"},{value:"1.3",label:"1.3x"},{value:"1.35",label:"1.35x"},{value:"1.4",label:"1.4x"},{value:"1.45",label:"1.45x"},{value:"1.5",label:"1.5x"},{value:"1.55",label:"1.55x"},{value:"1.6",label:"1.6x"},{value:"1.65",label:"1.65x"},{value:"1.7",label:"1.7x"},{value:"1.75",label:"1.75x"},{value:"1.8",label:"1.8x"},{value:"1.85",label:"1.85x"},{value:"1.9",label:"1.9x"},{value:"1.95",label:"1.95x"},{value:"2",label:"2x"}],yn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}async function s(a){t.value??(t.value=new ia(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{style:{padding:"0px"},visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"局部变速",icon:"changespeed",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column overflow-x-hidden overflow-y-scroll",style:"height:15rem"},[ca.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{var i;(i=t.value)==null||i.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class ua extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能选中文本"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",strength:n.value,remark:n.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,o)}}const da=[{value:"weak",label:"短"},{value:"medium",label:"中"},{value:"strong",label:"长"}],_n=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1);function o(){n.value||(n.value=!0)}function r(){n.value&&(n.value=!1)}function s(a){t.value??(t.value=new ua(a)),!t.value.isDisabled()&&o()}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":a=>n.value=a,trigger:"contextmenu",hideAfter:0},{reference:()=>e.createVNode(F,{text:"停顿调节",icon:"rhythm",onClick:s},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[da.map(({label:a,value:l})=>e.createVNode("div",{key:l,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>{t.value&&!t.value.isDisabled()&&t.value.exec({label:a,value:l}),r()},onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[a]))])})}});class fa extends Q{constructor(n){super(n)}restoreSelection(){this.editor.restoreSelection()}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能框选文字"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled()||this.getValue()==null)return;const r={type:"ssml-audio",src:n.value,remark:n.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,r)}}const gn=e.defineComponent({__name:"special-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),{globalEditConfig:s}=Z(),a=e.ref(!1),l={first:"默认音效",second:"自定义音效",last:"最近音效"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:f,y:p,height:m}=ge(o),h=d=>{r.value??(r.value=new fa(d)),!r.value.isDisabled()&&(n.value.setPosition({x:f.value-200,y:p.value+m.value}),a.value=!0)};function v(d){var u;(u=r.value)==null||u.restoreSelection(),r.value&&!r.value.isDisabled()&&r.value.exec(d),a.value=!1}return(d,u)=>(e.openBlock(),e.createBlock(e.unref(de),{ref_key:"dragRef",ref:n,visible:a.value,"onUpdate:visible":u[0]||(u[0]=b=>a.value=b)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"音效",icon:"special",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(ot),{menuItemLabel:l,scenes:i,styles:c,fetch:e.unref(s).fetchSpecial,onSubmit:v},null,8,["fetch"])]),_:1},8,["visible"]))}});class pa extends Q{constructor(n){super(n)}isDisabled(){if(super.isDisabled())return!0;const{selection:n}=this.editor;return n?y.SlateRange.isExpanded(n)?(this.editor.emit(M.ERROR,"不能选中文本"),!0):!1:!0}exec(n){if(this.editor.restoreSelection(),this.isDisabled())return;const o={type:"ssml-break",time:n.value,remark:n.label,children:[{text:""}]};y.SlateTransforms.insertNodes(this.editor,o)}}const ma=[{value:"150ms",label:"150ms"},{value:"200ms",label:"200ms"},{value:"300ms",label:"300ms"},{value:"400ms",label:"400ms"},{value:"500ms",label:"500ms"},{value:"600ms",label:"600ms"}],bn=e.defineComponent({setup(){const t=e.shallowRef(),n=e.ref(!1),o=e.ref();function r(){n.value||(n.value=!0)}function s(){n.value&&(n.value=!1)}function a(i){t.value??(t.value=new pa(i)),!t.value.isDisabled()&&(r(),o.value.focus())}function l(i){var c;s(),i&&((c=t.value)==null||c.exec({value:i,label:i}))}return()=>e.createVNode(N.ElPopover,{visible:n.value,"onUpdate:visible":i=>n.value=i,trigger:"contextmenu",hideAfter:0,width:200},{reference:()=>e.createVNode(F,{text:"插入静音",icon:"mute",onClick:a},null),default:()=>e.createVNode("div",{class:"d-flex flex-column"},[ma.map(({value:i,label:c})=>e.createVNode("div",{key:i,class:"clickable w-100 fs-6 rounded-1 px-3 py-2",onClick:()=>l(i),onMousedown:e.withModifiers(()=>{},["stop","prevent"])},[c])),e.createVNode(et,{type:"text",ref:o,onSubmit:l},null)])})}}),wn=e.defineComponent({__name:"bgm-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{globalEditConfig:a}=Z(),l={first:"默认配乐",second:"自定义配乐",last:"最近配乐"},i=[{value:"",label:"全部场景"},{value:"2",label:"场景2"},{value:"3",label:"场景3"}],c=[{value:"",label:"全部风格"},{value:"2",label:"风格2"},{value:"3",label:"风格3"}],{x:f,y:p,height:m}=ge(o),h=async d=>{const u={x:f.value-300,y:p.value+m.value};r.value=d,n.value.setPosition(u),s.value=!0};function v(d){const{rootBackgroundaudio:u}=Ze();u.src=d.value,u.remark=d.label,s.value=!1}return(d,u)=>(e.openBlock(),e.createBlock(e.unref(de),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":u[0]||(u[0]=b=>s.value=b)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"配乐",icon:"bgm",onClick:h},null,512)]),default:e.withCtx(()=>[e.createVNode(e.unref(ot),{menuItemLabel:l,scenes:i,styles:c,fetch:e.unref(a).fetchBgm,onSubmit:v},null,8,["fetch"])]),_:1},8,["visible"]))}}),xn=e.defineComponent({__name:"sensitive-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{x:a,y:l,height:i}=ge(o),c=f=>{r.value=f,n.value.setPosition({x:a.value-200,y:l.value+i.value}),s.value=!0};return(f,p)=>(e.openBlock(),e.createBlock(e.unref(de),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":p[0]||(p[0]=m=>s.value=m)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"敏感词",icon:"sensitive",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(xn)]),_:1},8,["visible"]))}});const ha={class:"select-list",style:{width:"120px"}},va={class:"text-center d-flex flex-column justify-content-center fs-6",style:{height:"60px"}},ya=["onClick"],_a=e.defineComponent({__name:"select-list",props:{modelValue:{},dataList:{}},emits:["update:modelValue"],setup(t,{expose:n,emit:o}){const r=t,s=e.ref();function a(i){o("update:modelValue",i.value)}function l(){var i;if(s.value){for(let c=0;c<r.dataList.length;c++)if(r.dataList[c].value===r.modelValue){(i=s.value.children[c])==null||i.scrollIntoView({behavior:"smooth"});return}}}return n({scrollIntoViewTheItem:l}),(i,c)=>(e.openBlock(),e.createElementBlock("div",ha,[e.createElementVNode("div",va,[e.renderSlot(i.$slots,"default",{},void 0,!0)]),e.createElementVNode("ul",{ref_key:"listRef",ref:s,class:"text-center w-100 border-start border-top border-bottom border-secondary-subtle overflow-y-auto overflow-x-hidden scrollbar-none",style:{height:"180px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.dataList,(f,p)=>(e.openBlock(),e.createElementBlock("li",{class:e.normalizeClass(["clickable select-item py-1",{activate:f.value===i.modelValue}]),key:p,onClick:m=>a(e.toRaw(f))},e.toDisplayString(f.label),11,ya))),128))],512)]))}});const me=H(_a,[["__scopeId","data-v-efb1399e"]]),ga=()=>{const t=[];for(let n=2;n<=40;n++){const o=(n*.05).toFixed(2);t.push({value:o,label:`${o}x`})}return t},ba=()=>{const t=[];for(let n=-10;n<=10;n++)t.push({value:n.toString(),label:n.toString()});return t},wa={style:{width:"600px",height:"360px"},class:"position-relative px-2 pb-2"},xa={class:"position-relative"},Ea={class:"position-absolute top-0 end-0"},Va=e.createElementVNode("li",null,[e.createElementVNode("span",{class:"text-nowrap"},"近期使用:")],-1),Na=e.createElementVNode("span",{class:"my-3"},"角色",-1),Sa=e.createElementVNode("span",{class:"my-3"},"风格",-1),ka=e.createElementVNode("span",{class:"my-3"},"语速",-1),Ca=e.createElementVNode("span",{class:"my-3"},"语调",-1),$a={class:"position-absolute bottom-0 end-0 d-flex flex-row justify-content-end me-4 mb-3"},Ta=e.defineComponent({__name:"management-content",setup(t){const n=e.ref(!1),o=e.ref(""),r=e.ref(),s=e.ref(),a=e.ref(),l=e.ref(),i=e.ref(),c=e.ref(""),f=e.ref(""),p=e.ref(""),m=e.ref(""),h=e.ref(""),v=e.ref(""),d=e.ref([]),u=e.ref([]),b=e.ref([]),k=e.ref([]),R=e.ref(ga()),S=e.ref(ba());d.value=[{label:"全部类型",value:""},{label:"常规",value:"2"},{label:"已购",value:"3"},{label:"收藏",value:"4"},{label:"我的",value:"5"},{label:"SVIP",value:"6"},{label:"付费",value:"7"}],u.value=d.value,b.value=d.value,k.value=d.value;function C(){}function $(){}function w(){p.value="",x(r)}function g(){m.value="",x(s)}function D(){h.value="1.00",v.value="0",x(a)}function U(){}function V(){}async function x(P){console.log(P)}return(P,T)=>(e.openBlock(),e.createElementBlock("div",wa,[e.createVNode(e.unref(N.ElForm),{onSubmit:e.withModifiers(C,["prevent"])},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{modelValue:o.value,"onUpdate:modelValue":T[0]||(T[0]=I=>o.value=I),placeholder:"请输入名称快速查找配音师"},null,8,["modelValue"])]),_:1},8,["onSubmit"]),e.createElementVNode("div",xa,[e.createElementVNode("div",Ea,[e.createVNode(e.unref(N.ElButton),{size:"small",icon:e.unref(_e.More),onClick:T[1]||(T[1]=()=>n.value=!n.value)},null,8,["icon"])]),e.createElementVNode("ul",{class:e.normalizeClass(["d-flex flex-row row-gap-1 column-gap-2 overflow-x-hidden",{"flex-wrap":n.value}])},[Va,e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})]),e.createElementVNode("li",null,[e.createVNode(e.unref(N.ElTag),{type:"info",closable:""},{default:e.withCtx(()=>[e.createTextVNode("魔小婉|女青年|娱乐|1x")]),_:1})])],2),e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass({"d-flex flex-row":!n.value})},[e.createVNode(me,{"onUpdate:modelValue":[w,T[3]||(T[3]=I=>f.value=I)],ref_key:"selSpeakerRef",ref:r,modelValue:f.value,dataList:u.value},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElSelect),{onChange:$,modelValue:c.value,"onUpdate:modelValue":T[2]||(T[2]=I=>c.value=I)},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(I,Ie)=>(e.openBlock(),e.createBlock(e.unref(N.ElOption),{value:I.value,label:I.label,key:Ie},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","dataList"]),e.createVNode(me,{"onUpdate:modelValue":[g,T[4]||(T[4]=I=>p.value=I)],ref_key:"selRoleRef",ref:s,modelValue:p.value,dataList:b.value},{default:e.withCtx(()=>[Na]),_:1},8,["modelValue","dataList"]),e.createVNode(me,{"onUpdate:modelValue":[D,T[5]||(T[5]=I=>m.value=I)],ref_key:"selStyleRef",ref:a,modelValue:m.value,dataList:k.value},{default:e.withCtx(()=>[Sa]),_:1},8,["modelValue","dataList"]),e.createVNode(me,{"onUpdate:modelValue":[U,T[6]||(T[6]=I=>h.value=I)],ref_key:"selSpeedRef",ref:l,modelValue:h.value,dataList:R.value},{default:e.withCtx(()=>[ka]),_:1},8,["modelValue","dataList"]),e.createVNode(me,{"onUpdate:modelValue":[V,T[7]||(T[7]=I=>v.value=I)],ref_key:"selPitchRef",ref:i,modelValue:v.value,dataList:S.value},{default:e.withCtx(()=>[Ca]),_:1},8,["modelValue","dataList"])],2),[[e.vShow,!n.value]])]),e.createElementVNode("div",$a,[e.withDirectives(e.createVNode(e.unref(N.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("确定")]),_:1},512),[[e.vShow,!n.value]]),e.withDirectives(e.createVNode(e.unref(N.ElButton),{type:"primary"},{default:e.withCtx(()=>[e.createTextVNode("全部清空")]),_:1},512),[[e.vShow,n.value]])])]))}}),En=e.defineComponent({__name:"management-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),{x:a,y:l,height:i}=ge(o),c=p=>{const m={x:a.value-200,y:l.value+i.value};r.value=p,n.value.setPosition(m),s.value=!0};function f(p){console.log(p)}return(p,m)=>(e.openBlock(),e.createBlock(e.unref(de),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":m[0]||(m[0]=h=>s.value=h)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"多人配音",icon:"management",onClick:c},null,512)]),default:e.withCtx(()=>[e.createVNode(Ta,{onSubmit:f})]),_:1},8,["visible"]))}}),Oa={class:"speaker-item"},Ra={class:"speaker-head"},Da=["src"],Pa={class:"speaker-name"},Ia=e.defineComponent({__name:"speaker-item",props:{name:{},img:{default:"https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",Oa,[e.createElementVNode("div",Ra,[e.createElementVNode("img",{src:n.img,class:"rounded-circle",style:{height:"40px"}},null,8,Da)]),e.createElementVNode("div",Pa,e.toDisplayString(n.name),1)]))}});const A=H(Ia,[["__scopeId","data-v-c961717f"]]),Aa={class:"px-2 py-1",style:{width:"410px"}},Ba=e.createElementVNode("p",{class:"text-start text-danger"},"请在安静的环境中进行录音，以需要转换的风格，读出以下文案",-1),Ma={class:"border border-secondary rounded w-100",style:{height:"100px"}},La={class:"mt-2"},ja={class:"w-100 d-flex flex-column row-gap-1"},Fa=e.createElementVNode("button",{class:"btn btn-success"},"实时录音",-1),Ha=e.createElementVNode("p",{class:"mt-2 text-secondary",style:{"font-size":"0.5rem"}}," 录音内容需要和滑选一致，音频限制60秒，滑选文案限制60个字 ",-1),Ua={class:"audio-upload"},za={class:"border rounded-pill border-secondary d-flex flex-row justify-content-between"},Wa={class:"d-flex flex-row align-items-center"},Ga=e.createElementVNode("div",null,"图标",-1),Xa=e.createElementVNode("div",null,[e.createElementVNode("div",null,"删除"),e.createElementVNode("button",null,"上传音频")],-1),Ya=e.createElementVNode("template",null,[e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击选择文件"),e.createElementVNode("button",{class:"btn btn-primary"})],-1),qa=e.createElementVNode("span",{class:"text-secondary",style:{"font-size":"0.5rem"}},"点击开始录音",-1),Ja=e.createElementVNode("p",null,"选择需要转换的配音师",-1),Qa={class:"speakers-container d-flex flex-row flex-wrap row-gap-1 column-gap-2"},Ka=e.createElementVNode("button",{class:"btn btn-primary",disabled:""},"完成录音并上传完成后，可选择配音师转换",-1),Za=e.defineComponent({__name:"conversion-content",props:{text:{}},emits:["submit"],setup(t){const n=e.ref(),o=e.ref(),r=e.ref(!1),s=e.ref(!1),a=e.shallowRef();function l(p){if(!p.target)return;const m=p.target.files[0];m&&(a.value=m,console.log("已选择文件:",m.name))}function i(){var p;(p=n.value)==null||p.click()}function c(){}function f(){}return(p,m)=>{var h;return e.openBlock(),e.createElementBlock("div",Aa,[e.createElementVNode("section",null,[Ba,e.createElementVNode("div",Ma,e.toDisplayString(p.text),1)]),e.withDirectives(e.createElementVNode("section",La,[e.createElementVNode("div",ja,[e.createElementVNode("input",{accept:"audio/*",ref_key:"inputFileRef",ref:n,onChange:l,type:"file",hidden:""},null,544),Fa,e.createElementVNode("button",{onClick:i,class:"btn btn-primary"},"上传录音")]),Ha],512),[[e.vShow,!r.value]]),e.withDirectives(e.createElementVNode("section",null,[e.createElementVNode("div",Ua,[e.createElementVNode("div",za,[s.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Wa,[Ga,e.createElementVNode("div",null,e.toDisplayString((h=o.value)==null?void 0:h.name),1)]),Xa],64)):e.createCommentVNode("",!0),Ya,e.createElementVNode("template",null,[qa,e.createElementVNode("button",{onClick:c,class:"btn btn-primary"},"开始录音"),e.createElementVNode("button",{onClick:f,class:"btn btn-primary"},"结束录音")])]),e.createElementVNode("div",null,[Ja,e.createElementVNode("div",Qa,[e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"}),e.createVNode(A,{name:"莫厚渊"})])]),Ka])],512),[[e.vShow,r.value]])])}}}),Vn=e.defineComponent({__name:"conversion-menu",setup(t){const n=e.ref(),o=e.ref(),r=e.shallowRef(),s=e.ref(!1),a=e.ref("ttttt"),{x:l,y:i,height:c}=ge(o),f=m=>{const h={x:l.value-200,y:i.value+c.value};r.value=m,n.value.setPosition(h),s.value=!0};function p(m){console.log(m)}return(m,h)=>(e.openBlock(),e.createBlock(e.unref(de),{ref_key:"dragRef",ref:n,visible:s.value,"onUpdate:visible":h[0]||(h[0]=v=>s.value=v)},{reference:e.withCtx(()=>[e.createVNode(e.unref(F),{ref_key:"menuRef",ref:o,text:"局部变音",icon:"conversion",onClick:f},null,512)]),default:e.withCtx(()=>[e.createVNode(Za,{text:a.value,onSubmit:p},null,8,["text"])]),_:1},8,["visible"]))}}),el=t=>(e.pushScopeId("data-v-d94c0954"),t=t(),e.popScopeId(),t),tl={class:"anchor-avatar d-flex flex-column justify-content-center align-items-center"},nl=["src"],ol=el(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),rl=e.defineComponent({__name:"try-play-circle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const o=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png"),r=e.ref(),s=e.ref(0),a=e.ref(0),{position:l}=nt(r,{initialValue:{x:window.innerWidth-15,y:window.innerHeight/2-15},onStart:(m,h)=>p(h.clientX,h.clientY)?!1:void 0}),{style:i}=rt(r,l);function c(m){p(m.clientX,m.clientY)&&n("update:visible",!1)}function f(m){s.value=m.clientX,a.value=m.clientY}function p(m,h){return m>s.value-10&&m<s.value+10&&h>a.value-10&&h<a.value+10}return(m,h)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:r,class:"try-play-circel user-select-none rounded-circle overflow-hidden",style:e.normalizeStyle([e.unref(i),{position:"fixed"}]),onMousedown:f,onMouseup:c},[e.createElementVNode("div",tl,[e.createElementVNode("img",{src:o.value,class:"rounded-circle"},null,8,nl),ol])],36)),[[e.vShow,m.visible]])}});const sl=H(rl,[["__scopeId","data-v-d94c0954"]]),al=t=>(e.pushScopeId("data-v-e8c67559"),t=t(),e.popScopeId(),t),ll={class:"anchor-avatar d-flex flex-column align-items-center text-center justify-content-center"},il=["src"],cl=al(()=>e.createElementVNode("div",{class:"anchor-avatar-name text-white"},"莫厚渊",-1)),ul=e.defineComponent({__name:"anchor-avatar",setup(t){const n=e.ref("https://img.sdaxia.top/upload/4314c841777e4d20901cd5d04a28e91a.png");return(o,r)=>(e.openBlock(),e.createElementBlock("div",ll,[e.createElementVNode("img",{src:n.value,class:"rounded-circle",style:{height:"40px"}},null,8,il),cl]))}});const L=H(ul,[["__scopeId","data-v-e8c67559"]]),dl={style:{height:"170px"},class:"w-100 d-flex flex-row flex-wrap justify-content-start overflow-x-hidden overflow-y-auto scrollbar-none"},fl=e.defineComponent({__name:"anchor-list",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",dl,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(100,(r,s)=>e.createElementVNode("div",{class:"m-2",key:s},[e.createVNode(L)])),64))]))}}),pl=e.defineComponent({__name:"tag-item",props:{isActivate:{type:Boolean}},setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["tag-item p-2 text-white text-center",[n.isActivate?"activate":null]])},[e.renderSlot(n.$slots,"default",{},void 0,!0)],2))}});const E=H(pl,[["__scopeId","data-v-80dc8a64"]]),ml={class:"tag-list w-100"},hl={class:"w-100 d-flex flex-row border-bottom border-secondary align-items-center",style:{height:"40px"}},vl={style:{height:"100px"},class:"w-100 d-flex flex-row flex-wrap align-items-start overflow-y-auto overflow-x-hidden scrollbar-none"},yl=e.defineComponent({__name:"tag-list",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock("div",ml,[e.createElementVNode("div",hl,[e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("男声")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("女声")]),_:1})]),e.createElementVNode("div",vl,[e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("全部")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("影视")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("情感")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("娱乐")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("快板")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("书单")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("名人")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("角色")]),_:1})])]))}});const be=t=>(e.pushScopeId("data-v-1b5a3a37"),t=t(),e.popScopeId(),t),_l={class:"slider-panle w-100 px-3 text-white",style:{"font-size":"0.5rem"}},gl={class:"mt-2 row text-center justify-content-between align-items-center"},bl={class:"col-auto me-auto d-flex flex-row align-items-center"},wl=["src"],xl={class:"ms-2 d-flex flex-column justify-content-between",style:{height:"50px"}},El=be(()=>e.createElementVNode("div",{class:"d-flex dlex-row column-gap-2 align-items-end"},[e.createElementVNode("span",{class:"fs-6"},"魔云猫"),e.createElementVNode("span",{style:{"font-size":"0.5rem"}},"0.55x")],-1)),Vl={class:"d-flex flex-row column-gap-2 align-items-center"},Nl=be(()=>e.createElementVNode("span",{class:"badge text-bg-primary px-2"},"24K",-1)),Sl={class:"col-7 d-flex flex-column align-items-end"},kl=be(()=>e.createElementVNode("div",null,"音频时长，请以生成后的为准",-1)),Cl={class:"mt-1"},$l=be(()=>e.createElementVNode("span",null,"/",-1)),Tl=e.createStaticVNode('<div class="role-list mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-2 column-gap-3" data-v-1b5a3a37><div class="rounded-pill px-1 border" data-v-1b5a3a37>女青年(默认)</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男孩儿</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男青少年</div><div class="rounded-pill px-1" data-v-1b5a3a37>男中年</div></div>',1),Ol={class:"audio-mood mt-2 d-flex flex-row flex-wrap justify-content-start align-items-center row-gap-1 column-gap-2"},Rl=be(()=>e.createElementVNode("div",{class:"my-3"},[e.createElementVNode("span",{class:"border rounded-pill p-1"},"配音师详情")],-1)),Dl={class:"slider-box"},Pl={class:"slider-box"},Il=e.createStaticVNode('<ul class="d-flex flex-row gap-3 my-3" data-v-1b5a3a37><li class="rounded-pill px-1 border" data-v-1b5a3a37>常用</li><li class="rounded-pill px-1" data-v-1b5a3a37>已购</li><li class="rounded-pill px-1" data-v-1b5a3a37>收藏</li><li class="rounded-pill px-1" data-v-1b5a3a37>我的</li></ul>',1),Al={class:"d-flex flex-row flex-wrap row-gap-2 column-gap-3 mb-3"},Bl=e.defineComponent({__name:"slider-panle",setup(t){const{globalEditConfig:n}=Z(),o=e.ref(10),r=e.ref(0),s=e.ref([0,2]),a=e.ref(0),l=e.ref([-10,10]),i=e.ref(0),c=e.computed(()=>Rt(o.value)),f=e.computed(()=>Rt(r.value)),p=e.reactive(n.speed()),m=e.reactive(n.pitch());return(h,v)=>(e.openBlock(),e.createElementBlock("div",_l,[e.createElementVNode("div",gl,[e.createElementVNode("div",bl,[e.createElementVNode("img",{src:e.unref(n).demoAvatar(),class:"rounded-circle",style:{height:"50px"}},null,8,wl),e.createElementVNode("div",xl,[El,e.createElementVNode("div",Vl,[e.createVNode(e.unref(N.ElIcon),{class:"fs-6"},{default:e.withCtx(()=>[e.createVNode(e.unref(_e.Star))]),_:1}),Nl])])]),e.createElementVNode("div",Sl,[kl,e.createElementVNode("div",Cl,[e.createElementVNode("span",null,e.toDisplayString(f.value),1),$l,e.createElementVNode("span",null,e.toDisplayString(c.value),1)]),e.createVNode(e.unref(N.ElSlider),{max:o.value,modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=d=>r.value=d),size:"small"},null,8,["max","modelValue"])])]),Tl,e.createElementVNode("ul",Ol,[e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)])]),Rl,e.createElementVNode("div",Dl,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语速："+e.toDisplayString(a.value)+"x",1)]),e.createVNode(e.unref(N.ElSlider),{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=d=>a.value=d),min:s.value[0],max:s.value[1],step:.05,marks:p},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",Pl,[e.createElementVNode("div",null,[e.createElementVNode("span",null,"语调："+e.toDisplayString(i.value),1)]),e.createVNode(e.unref(N.ElSlider),{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=d=>i.value=d),min:l.value[0],max:l.value[1],step:.2,marks:m},null,8,["modelValue","min","max","marks"])]),e.createElementVNode("div",null,[Il,e.createElementVNode("ul",Al,[e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)]),e.createElementVNode("li",null,[e.createVNode(L)])])])]))}});const Ml=H(Bl,[["__scopeId","data-v-1b5a3a37"]]),Ll=t=>(e.pushScopeId("data-v-9db29a03"),t=t(),e.popScopeId(),t),jl={class:"box ms-2"},Fl={class:"try-play-header text-center d-flex flex-row justify-content-between"},Hl={class:"try-play-body d-flex flex-row"},Ul={class:"try-play-left w-50 border-right border-secondary"},zl={class:"pe-1"},Wl={class:"type-list d-flex flex-row border-bottom border-secondary"},Gl=Ll(()=>e.createElementVNode("div",{class:"py-1 border-top border-secondary"},null,-1)),Xl={class:"try-play-right w-50 border-start rounded border-top border-secondary overflow-x-hidden overflow-y-auto scrollbar-none"},Yl=e.defineComponent({__name:"try-play-panle",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:n}){const o=t,r=e.ref(),s=e.ref(""),a=e.ref(),l=e.ref();e.onMounted(()=>{window.addEventListener("keydown",i)}),e.onUnmounted(()=>{window.addEventListener("keydown",i)}),e.watch(()=>o.visible,h=>{h&&setTimeout(()=>{m()},200)});function i(h){h.code==="Escape"&&o.visible&&p()}const{position:c}=nt(l,{initialValue:{x:100,y:100}}),{style:f}=rt(a,c);function p(){n("update:visible",!1)}function m(){var h;(h=r.value)==null||h.focus()}return(h,v)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:a,style:e.normalizeStyle([e.unref(f),{position:"fixed"}]),class:"try-play user-select-none card z-3 shadow"},[e.createElementVNode("div",jl,[e.createElementVNode("div",Fl,[e.createElementVNode("div",{ref_key:"handleRef",ref:l,class:"col-11 try-play-move"},null,512),e.createElementVNode("div",{onClick:p,class:"col-1 try-play-menu-close"},[e.createVNode(e.unref(N.ElIcon),{color:"white"},{default:e.withCtx(()=>[e.createVNode(e.unref(_e.Minus))]),_:1})])]),e.createElementVNode("div",Hl,[e.createElementVNode("div",Ul,[e.createElementVNode("div",zl,[e.createVNode(e.unref(N.ElForm),{onSubmit:v[1]||(v[1]=e.withModifiers(()=>{},["prevent"]))},{default:e.withCtx(()=>[e.createVNode(e.unref(N.ElInput),{"input-style":{},ref_key:"searchInputRef",ref:r,modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=d=>s.value=d),placeholder:"输入名称搜索"},null,8,["modelValue"])]),_:1})]),e.createElementVNode("div",Wl,[e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("热榜")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("SVIP")]),_:1}),e.createVNode(E,null,{default:e.withCtx(()=>[e.createTextVNode("付费")]),_:1})]),e.createVNode(yl),Gl,e.createVNode(fl)]),e.createElementVNode("div",Xl,[e.createVNode(Ml)])])])],4)),[[e.vShow,h.visible]])}});const ql=H(Yl,[["__scopeId","data-v-9db29a03"]]),Nn=e.defineComponent({__name:"try-play",setup(t){const n=e.ref(!0);function o(r){r||(n.value=!0)}return(r,s)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createVNode(sl,{visible:n.value,"onUpdate:visible":s[0]||(s[0]=a=>n.value=a)},null,8,["visible"]),e.createVNode(ql,{visible:!n.value,"onUpdate:visible":o},null,8,["visible"])]))}});const Jl={install:t=>{t.component("PinyinMenu",dn),t.component("ContinuousMenu",fn),t.component("ReadMenu",pn),t.component("DigitalMenu",mn),t.component("AliasMenu",hn),t.component("EnglishMenu",vn),t.component("ChangespeedMenu",yn),t.component("RhythmMenu",_n),t.component("SpecialMenu",gn),t.component("MuteMenu",bn),t.component("BgmMenu",wn),t.component("SensitiveMenu",xn),t.component("ManagementMenu",En),t.component("ConversionMenu",Vn),t.component("TryPlay",Nn)}};var We={exports:{}},Ge={exports:{}};(function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ParsingError=void 0;class o extends Error{constructor(C,$){super(C),this.cause=$}}n.ParsingError=o;let r;function s(){return c(!1)||h()||m()||p()}function a(){return u(/\s*/),c(!0)||m()||f()||i(!1)}function l(){const S=i(!0),C=[];let $,w=a();for(;w;){if(w.node.type==="Element"){if($)throw new Error("Found multiple root nodes");$=w.node}w.excluded||C.push(w.node),w=a()}if(!$)throw new o("Failed to parse XML","Root Element not found");if(r.xml.length!==0)throw new o("Failed to parse XML","Not Well-Formed XML");return{declaration:S?S.node:null,root:$,children:C}}function i(S){const C=u(S?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!C)return;const $={name:C[1],type:"ProcessingInstruction",attributes:{}};for(;!(b()||k("?>"));){const w=v();if(w)$.attributes[w.name]=w.value;else return}return u(/\?>/),{excluded:S?!1:r.options.filter($)===!1,node:$}}function c(S){const C=u(/^<([^?!</>\s]+)\s*/);if(!C)return;const $={type:"Element",name:C[1],attributes:{},children:[]},w=S?!1:r.options.filter($)===!1;for(;!(b()||k(">")||k("?>")||k("/>"));){const D=v();if(D)$.attributes[D.name]=D.value;else return}if(u(/^\s*\/>/))return $.children=null,{excluded:w,node:$};u(/\??>/);let g=s();for(;g;)g.excluded||$.children.push(g.node),g=s();if(r.options.strictMode){const D=`</${$.name}>`;if(r.xml.startsWith(D))r.xml=r.xml.slice(D.length);else throw new o("Failed to parse XML",`Closing tag not matching "${D}"`)}else u(/^<\/\s*[\w-:.\u00C0-\u00FF]+>/);return{excluded:w,node:$}}function f(){const S=u(/^<!DOCTYPE\s+\S+\s+SYSTEM[^>]*>/)||u(/^<!DOCTYPE\s+\S+\s+PUBLIC[^>]*>/)||u(/^<!DOCTYPE\s+\S+\s*\[[^\]]*]>/)||u(/^<!DOCTYPE\s+\S+\s*>/);if(S){const C={type:"DocumentType",content:S[0]};return{excluded:r.options.filter(C)===!1,node:C}}}function p(){if(r.xml.startsWith("<![CDATA[")){const S=r.xml.indexOf("]]>");if(S>-1){const C=S+3,$={type:"CDATA",content:r.xml.substring(0,C)};return r.xml=r.xml.slice(C),{excluded:r.options.filter($)===!1,node:$}}}}function m(){const S=u(/^<!--[\s\S]*?-->/);if(S){const C={type:"Comment",content:S[0]};return{excluded:r.options.filter(C)===!1,node:C}}}function h(){const S=u(/^([^<]+)/);if(S){const C={type:"Text",content:S[1]};return{excluded:r.options.filter(C)===!1,node:C}}}function v(){const S=u(/([^=]+)\s*=\s*("[^"]*"|'[^']*'|[^>\s]+)\s*/);if(S)return{name:S[1].trim(),value:d(S[2].trim())}}function d(S){return S.replace(/^['"]|['"]$/g,"")}function u(S){const C=r.xml.match(S);if(C)return r.xml=r.xml.slice(C[0].length),C}function b(){return r.xml.length===0}function k(S){return r.xml.indexOf(S)===0}function R(S,C={}){S=S.trim();const $=C.filter||(()=>!0);return r={xml:S,options:Object.assign(Object.assign({},C),{filter:$,strictMode:C.strictMode===!0})},l()}t.exports=R,n.default=R})(Ge,Ge.exports);var Ql=Ge.exports;(function(t,n){var o=ce&&ce.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0});const r=o(Ql);function s(d){if(!d.options.indentation&&!d.options.lineSeparator)return;d.content+=d.options.lineSeparator;let u;for(u=0;u<d.level;u++)d.content+=d.options.indentation}function a(d){d.content=d.content.replace(/ +$/,"");let u;for(u=0;u<d.level;u++)d.content+=d.options.indentation}function l(d,u){d.content+=u}function i(d,u,b){if(typeof d.content=="string")c(d.content,u,b);else if(d.type==="Element")p(d,u,b);else if(d.type==="ProcessingInstruction")h(d,u);else throw new Error("Unknown node type: "+d.type)}function c(d,u,b){if(!b){const k=d.trim();(u.options.lineSeparator||k.length===0)&&(d=k)}d.length>0&&(!b&&u.content.length>0&&s(u),l(u,d))}function f(d,u){const b="/"+d.join("/"),k=d[d.length-1];return u.includes(k)||u.includes(b)}function p(d,u,b){if(u.path.push(d.name),!b&&u.content.length>0&&s(u),l(u,"<"+d.name),m(u,d.attributes),d.children===null||u.options.forceSelfClosingEmptyTag&&d.children.length===0){const k=u.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";l(u,k)}else if(d.children.length===0)l(u,"></"+d.name+">");else{const k=d.children;l(u,">"),u.level++;let R=d.attributes["xml:space"]==="preserve",S=!1;if(!R&&u.options.ignoredPaths&&(S=f(u.path,u.options.ignoredPaths),R=S),!R&&u.options.collapseContent){let C=!1,$=!1,w=!1;k.forEach(function(g,D){g.type==="Text"?(g.content.includes(`
`)?($=!0,g.content=g.content.trim()):(D===0||D===k.length-1)&&g.content.trim().length===0&&(g.content=""),g.content.trim().length>0&&(C=!0)):g.type==="CDATA"?C=!0:w=!0}),C&&(!w||!$)&&(R=!0)}k.forEach(function(C){i(C,u,b||R)}),u.level--,!b&&!R&&s(u),S&&a(u),l(u,"</"+d.name+">")}u.path.pop()}function m(d,u){Object.keys(u).forEach(function(b){const k=u[b].replace(/"/g,"&quot;");l(d," "+b+'="'+k+'"')})}function h(d,u){u.content.length>0&&s(u),l(u,"<?"+d.name),m(u,d.attributes),l(u,"?>")}function v(d,u={}){u.indentation="indentation"in u?u.indentation:"    ",u.collapseContent=u.collapseContent===!0,u.lineSeparator="lineSeparator"in u?u.lineSeparator:`\r
`,u.whiteSpaceAtEndOfSelfclosingTag=u.whiteSpaceAtEndOfSelfclosingTag===!0,u.throwOnFailure=u.throwOnFailure!==!1;try{const b=(0,r.default)(d,{filter:u.filter,strictMode:u.strictMode}),k={content:"",level:0,options:u,path:[]};return b.declaration&&h(b.declaration,k),b.children.forEach(function(R){i(R,k,!1)}),u.lineSeparator?k.content.replace(/\r\n/g,`
`).replace(/\n/g,u.lineSeparator):k.content}catch(b){if(u.throwOnFailure)throw b;return d}}v.minify=(d,u={})=>v(d,Object.assign(Object.assign({},u),{indentation:"",lineSeparator:""})),t.exports=v,n.default=v})(We,We.exports);var Kl=We.exports;const Zl=en(Kl),fe=t=>(e.pushScopeId("data-v-27607a6d"),t=t(),e.popScopeId(),t),ei={class:"editor-title d-flex flex-row align-item-center justify-content-between"},ti={class:"title-wrapper d-flex flex-column justify-content-center ps-3"},ni=fe(()=>e.createElementVNode("div",{class:"title-author pb-1"},"SSML编辑器",-1)),oi={class:"author d-flex flex-row align-items-center justify-content-start"},ri=fe(()=>e.createElementVNode("div",null,"未保存",-1)),si=fe(()=>e.createElementVNode("span",{class:"iconfont icon-play font-size-12 p-1"},null,-1)),ai=fe(()=>e.createElementVNode("div",{class:"d-inline-block"},null,-1)),li={class:"operation-wrapper d-flex flex-row justify-content-center align-items-center"},ii=fe(()=>e.createElementVNode("div",{class:"menu-divider"},null,-1)),ci=fe(()=>e.createElementVNode("div",{class:"px-1"},null,-1)),ui={class:"ssml-code border border-secondary-subtle rounded-2 px-2",style:{"white-space":"pre-wrap","max-height":"50vh"}},di={class:"dialog-footer"},fi=e.defineComponent({__name:"editor-title",setup(t){const n=e.ref(!1),o=e.ref(""),{rootBackgroundaudio:r}=Ze(),s=e.computed(()=>Zl(o.value,{indentation:"    ",filter:f=>f.type!=="Comment",collapseContent:!1,lineSeparator:`
`})),a=()=>{o.value=Zr(),n.value=!0},l=()=>{r.src&&Re.play(r.src)},i=()=>{Re.stop(r.src),r.src="",r.remark=""};async function c(){await navigator.clipboard.writeText(s.value),n.value=!1}return(f,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",ei,[e.createElementVNode("div",ti,[ni,e.createElementVNode("div",oi,[ri,e.unref(r).src?(e.openBlock(),e.createBlock(e.unref(N.ElTag),{key:0,class:"bgm-txt ms-2",closable:"",size:"small",onClick:l,onClose:i},{default:e.withCtx(()=>[si,ai,e.createElementVNode("span",null,e.toDisplayString(e.unref(r).remark),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("div",li,[e.createVNode(e.unref(N.ElButton),{type:"primary",icon:e.unref(_e.Share),disabled:""},{default:e.withCtx(()=>[e.createTextVNode("分享")]),_:1},8,["icon"]),ii,e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:a},{default:e.withCtx(()=>[e.createTextVNode("查看SSML")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载音频")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载视频")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("下载字幕")]),_:1}),e.createVNode(e.unref(N.ElButton),{disabled:""},{default:e.withCtx(()=>[e.createTextVNode("声音转换")]),_:1}),ci])]),e.createVNode(e.unref(N.ElDialog),{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=m=>n.value=m),title:"查看SSML",width:"80%"},{header:e.withCtx(()=>[e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:c},{default:e.withCtx(()=>[e.createTextVNode("复制+关闭")]),_:1})]),footer:e.withCtx(()=>[e.createElementVNode("span",di,[e.createVNode(e.unref(N.ElButton),{type:"primary",onClick:c},{default:e.withCtx(()=>[e.createTextVNode("复制+关闭")]),_:1})])]),default:e.withCtx(()=>[e.createElementVNode("pre",ui,e.toDisplayString(s.value),1)]),_:1},8,["modelValue"])],64))}});const pi=H(fi,[["__scopeId","data-v-27607a6d"]]),mi=e.defineComponent({__name:"editor-core",emits:["created","change"],setup(t,{emit:n}){const{editor:o,setEditor:r,globalEditConfig:s}=Z(),a=e.ref(null);e.onMounted(()=>{l()}),e.onUnmounted(()=>{o==null||o.destroy()});function l(){if(!a.value)return;const i=y.createEditor({selector:a.value,mode:"simple",config:{...e.toRaw(s.editorConfig),onCreated(f){n("created",f),f.focus(!0)},onChange(f){n("change",f)}}});r(i),window.editor=i;const c=i.getConfig();c.hoverbarKeys=void 0,i.on(M.ERROR,s.handleError)}return(i,c)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:a,class:"edit-core",style:{height:"70vh","overflow-y":"hidden"}},null,512))}}),hi={class:"bar-view border-bottom border-1"},vi=e.defineComponent({__name:"bar-view",setup(t){return(n,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",hi,[e.createVNode(e.unref(un),null,{default:e.withCtx(()=>[e.createVNode(e.unref(le),{divider:"green"},{default:e.withCtx(()=>[e.createVNode(e.unref(F),{text:"24K高清音质",icon:"play",disabled:""})]),_:1}),e.createVNode(e.unref(le),{divider:"cyan"},{default:e.withCtx(()=>[e.createVNode(e.unref(dn)),e.createVNode(e.unref(pn)),e.createVNode(e.unref(mn)),e.createVNode(e.unref(fn)),e.createVNode(e.unref(hn)),e.createVNode(e.unref(vn))]),_:1}),e.createVNode(e.unref(le),{divider:"orange"},{default:e.withCtx(()=>[e.createVNode(e.unref(yn)),e.createVNode(e.unref(En)),e.createVNode(e.unref(Vn))]),_:1}),e.createVNode(e.unref(le),{divider:"purple"},{default:e.withCtx(()=>[e.createVNode(e.unref(_n)),e.createVNode(e.unref(bn))]),_:1}),e.createVNode(e.unref(le),{divider:"yellow"},{default:e.withCtx(()=>[e.createVNode(e.unref(gn)),e.createVNode(e.unref(wn))]),_:1})]),_:1})]),e.createVNode(e.unref(Nn))],64))}}),yi={class:"editor-view"},_i={class:"editor-box"},gi={class:"editor-core-container shadow pt-1"},bi=e.defineComponent({__name:"editor-view",emits:["onCreated","onChange"],setup(t,{emit:n}){const o=s=>{n("onCreated",s)},r=s=>{n("onChange",s)};return(s,a)=>(e.openBlock(),e.createElementBlock("div",yi,[e.createVNode(pi),e.createElementVNode("div",_i,[e.createVNode(vi),e.createElementVNode("div",gi,[e.createVNode(mi,{onChange:r,onCreated:o})])])]))}});const wi=H(bi,[["__scopeId","data-v-15ef0dbd"]]),xi={install(t){t.component("EditorView",wi)}},Ei={install(t,n){t.use(Zn()),t.use(()=>{const{setGlobalEditConfig:o}=Z();o(qe(n))}),t.use(es),t.use(Qs),t.use(Jl),t.use(xi)}};exports.WANGEDITOR_EVENT=M;exports.createGlobalEditorConfig=qe;exports.default=Ei;
